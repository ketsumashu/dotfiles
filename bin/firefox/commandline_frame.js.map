{
  "version": 3,
  "sources": ["../node_modules/nearley/lib/nearley.js", "../node_modules/semver-compare/index.js", "../node_modules/css/lib/parse/index.js", "../node_modules/css/lib/stringify/compiler.js", "../node_modules/inherits/inherits_browser.js", "../node_modules/css/lib/stringify/compress.js", "../node_modules/css/lib/stringify/identity.js", "../node_modules/source-map/lib/base64.js", "../node_modules/source-map/lib/base64-vlq.js", "../node_modules/source-map/lib/util.js", "../node_modules/source-map/lib/array-set.js", "../node_modules/source-map/lib/mapping-list.js", "../node_modules/source-map/lib/source-map-generator.js", "../node_modules/source-map/lib/binary-search.js", "../node_modules/source-map/lib/quick-sort.js", "../node_modules/source-map/lib/source-map-consumer.js", "../node_modules/source-map/lib/source-node.js", "../node_modules/source-map/source-map.js", "../node_modules/atob/browser-atob.js", "../node_modules/decode-uri-component/index.js", "../node_modules/source-map-resolve/index.js", "../node_modules/css/lib/stringify/source-map-support.js", "../node_modules/css/lib/stringify/index.js", "../node_modules/css/index.js", "../src/commandline_frame.ts", "../node_modules/fuse.js/dist/fuse.esm.js", "../src/lib/number.mod.ts", "../src/lib/itertools.ts", "../src/lib/convert.ts", "../node_modules/ramda/es/internal/_isPlaceholder.js", "../node_modules/ramda/es/internal/_curry1.js", "../node_modules/ramda/es/internal/_curry2.js", "../node_modules/ramda/es/internal/_arity.js", "../node_modules/ramda/es/internal/_curryN.js", "../node_modules/ramda/es/curryN.js", "../node_modules/ramda/es/internal/_curry3.js", "../node_modules/ramda/es/internal/_isArray.js", "../node_modules/ramda/es/internal/_isTransformer.js", "../node_modules/ramda/es/internal/_dispatchable.js", "../node_modules/ramda/es/internal/_xfBase.js", "../node_modules/ramda/es/internal/_map.js", "../node_modules/ramda/es/internal/_isString.js", "../node_modules/ramda/es/internal/_isArrayLike.js", "../node_modules/ramda/es/internal/_xwrap.js", "../node_modules/ramda/es/bind.js", "../node_modules/ramda/es/internal/_reduce.js", "../node_modules/ramda/es/internal/_xmap.js", "../node_modules/ramda/es/internal/_has.js", "../node_modules/ramda/es/internal/_isArguments.js", "../node_modules/ramda/es/keys.js", "../node_modules/ramda/es/map.js", "../node_modules/ramda/es/internal/_isInteger.js", "../node_modules/ramda/es/reduce.js", "../node_modules/ramda/es/type.js", "../node_modules/ramda/es/internal/_pipe.js", "../node_modules/ramda/es/internal/_checkForMethod.js", "../node_modules/ramda/es/slice.js", "../node_modules/ramda/es/tail.js", "../node_modules/ramda/es/pipe.js", "../node_modules/ramda/es/reverse.js", "../node_modules/ramda/es/internal/_identity.js", "../node_modules/ramda/es/identity.js", "../node_modules/ramda/es/internal/_arrayFromIterator.js", "../node_modules/ramda/es/internal/_includesWith.js", "../node_modules/ramda/es/internal/_functionName.js", "../node_modules/ramda/es/internal/_objectIs.js", "../node_modules/ramda/es/internal/_equals.js", "../node_modules/ramda/es/equals.js", "../node_modules/ramda/es/internal/_indexOf.js", "../node_modules/ramda/es/internal/_includes.js", "../node_modules/ramda/es/internal/_toISOString.js", "../node_modules/ramda/es/internal/_complement.js", "../node_modules/ramda/es/internal/_filter.js", "../node_modules/ramda/es/internal/_isObject.js", "../node_modules/ramda/es/internal/_xfilter.js", "../node_modules/ramda/es/filter.js", "../node_modules/ramda/es/reject.js", "../node_modules/ramda/es/internal/_Set.js", "../node_modules/ramda/es/internal/_xuniqBy.js", "../node_modules/ramda/es/uniqBy.js", "../node_modules/ramda/es/uniq.js", "../node_modules/ramda/es/internal/_objectAssign.js", "../node_modules/ramda/es/is.js", "../node_modules/ramda/es/mergeLeft.js", "../node_modules/ramda/es/mergeRight.js", "../node_modules/ramda/es/pick.js", "../node_modules/ramda/es/trim.js", "../node_modules/ramda/es/when.js", "../src/lib/nearley_utils.ts", "../src/grammars/.bracketexpr.generated.ts", "../src/lib/keyseq.ts", "../src/lib/binding.ts", "../src/lib/platform.ts", "../src/lib/config.ts", "../src/lib/aliases.ts", "../src/lib/patience.ts", "../src/completions.ts", "../compiler/types/AnyType.ts", "../compiler/types/BooleanType.ts", "../compiler/types/FunctionType.ts", "../compiler/types/NumberType.ts", "../compiler/types/ObjectType.ts", "../compiler/types/StringType.ts", "../compiler/types/TypeReferenceType.ts", "../compiler/types/VoidType.ts", "../compiler/types/ArrayType.ts", "../compiler/types/LiteralTypeType.ts", "../compiler/types/TupleType.ts", "../compiler/types/UnionType.ts", "../compiler/metadata/SymbolMetadata.ts", "../compiler/metadata/ClassMetadata.ts", "../compiler/metadata/FileMetadata.ts", "../compiler/metadata/ProgramMetadata.ts", "../src/.metadata.generated.ts", "../src/completions/Apropos.ts", "../src/lib/browser_proxy.ts", "../src/lib/url_util.ts", "../src/lib/webext.ts", "../src/lib/logging.ts", "../src/lib/messaging.ts", "../src/completions/Autocmd.ts", "../src/completions/Bindings.ts", "../src/completions/providers.ts", "../src/completions/Bmark.ts", "../src/completions/Excmd.ts", "../src/completions/Composite.ts", "../src/lib/extension_info.ts", "../src/completions/Extensions.ts", "../src/lib/native.ts", "../src/completions/FileSystem.ts", "../src/completions/Goto.ts", "../src/lib/css_util.ts", "../src/completions/Guiset.ts", "../src/completions/Help.ts", "../src/completions/History.ts", "../src/completions/Preferences.ts", "../src/completions/Rss.ts", "../src/completions/Sessions.ts", "../src/completions/Settings.ts", "../src/perf.ts", "../src/lib/containers.ts", "../src/completions/Tab.ts", "../src/lib/tab_groups.ts", "../src/completions/TabAll.ts", "../src/completions/Theme.ts", "../src/completions/TabHistory.ts", "../src/completions/Window.ts", "../src/completions/Proxy.ts", "../src/content/state_content.ts", "../src/content/styling.ts", "../src/state.ts", "../src/lib/commandline_cmds.ts", "../src/lib/editor.ts", "../src/lib/editor_utils.ts", "../src/lib/DANGEROUS-html-tagged-template.js", "../src/lib/number.clamp.ts", "../src/parsers/genericmode.ts", "../src/completions/TabGroup.ts"],
  "sourcesContent": ["(function(root, factory) {\n    if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.nearley = factory();\n    }\n}(this, function() {\n\n    function Rule(name, symbols, postprocess) {\n        this.id = ++Rule.highestId;\n        this.name = name;\n        this.symbols = symbols;        // a list of literal | regex class | nonterminal\n        this.postprocess = postprocess;\n        return this;\n    }\n    Rule.highestId = 0;\n\n    Rule.prototype.toString = function(withCursorAt) {\n        var symbolSequence = (typeof withCursorAt === \"undefined\")\n                             ? this.symbols.map(getSymbolShortDisplay).join(' ')\n                             : (   this.symbols.slice(0, withCursorAt).map(getSymbolShortDisplay).join(' ')\n                                 + \" \u25CF \"\n                                 + this.symbols.slice(withCursorAt).map(getSymbolShortDisplay).join(' ')     );\n        return this.name + \" \u2192 \" + symbolSequence;\n    }\n\n\n    // a State is a rule at a position from a given starting point in the input stream (reference)\n    function State(rule, dot, reference, wantedBy) {\n        this.rule = rule;\n        this.dot = dot;\n        this.reference = reference;\n        this.data = [];\n        this.wantedBy = wantedBy;\n        this.isComplete = this.dot === rule.symbols.length;\n    }\n\n    State.prototype.toString = function() {\n        return \"{\" + this.rule.toString(this.dot) + \"}, from: \" + (this.reference || 0);\n    };\n\n    State.prototype.nextState = function(child) {\n        var state = new State(this.rule, this.dot + 1, this.reference, this.wantedBy);\n        state.left = this;\n        state.right = child;\n        if (state.isComplete) {\n            state.data = state.build();\n            // Having right set here will prevent the right state and its children\n            // form being garbage collected\n            state.right = undefined;\n        }\n        return state;\n    };\n\n    State.prototype.build = function() {\n        var children = [];\n        var node = this;\n        do {\n            children.push(node.right.data);\n            node = node.left;\n        } while (node.left);\n        children.reverse();\n        return children;\n    };\n\n    State.prototype.finish = function() {\n        if (this.rule.postprocess) {\n            this.data = this.rule.postprocess(this.data, this.reference, Parser.fail);\n        }\n    };\n\n\n    function Column(grammar, index) {\n        this.grammar = grammar;\n        this.index = index;\n        this.states = [];\n        this.wants = {}; // states indexed by the non-terminal they expect\n        this.scannable = []; // list of states that expect a token\n        this.completed = {}; // states that are nullable\n    }\n\n\n    Column.prototype.process = function(nextColumn) {\n        var states = this.states;\n        var wants = this.wants;\n        var completed = this.completed;\n\n        for (var w = 0; w < states.length; w++) { // nb. we push() during iteration\n            var state = states[w];\n\n            if (state.isComplete) {\n                state.finish();\n                if (state.data !== Parser.fail) {\n                    // complete\n                    var wantedBy = state.wantedBy;\n                    for (var i = wantedBy.length; i--; ) { // this line is hot\n                        var left = wantedBy[i];\n                        this.complete(left, state);\n                    }\n\n                    // special-case nullables\n                    if (state.reference === this.index) {\n                        // make sure future predictors of this rule get completed.\n                        var exp = state.rule.name;\n                        (this.completed[exp] = this.completed[exp] || []).push(state);\n                    }\n                }\n\n            } else {\n                // queue scannable states\n                var exp = state.rule.symbols[state.dot];\n                if (typeof exp !== 'string') {\n                    this.scannable.push(state);\n                    continue;\n                }\n\n                // predict\n                if (wants[exp]) {\n                    wants[exp].push(state);\n\n                    if (completed.hasOwnProperty(exp)) {\n                        var nulls = completed[exp];\n                        for (var i = 0; i < nulls.length; i++) {\n                            var right = nulls[i];\n                            this.complete(state, right);\n                        }\n                    }\n                } else {\n                    wants[exp] = [state];\n                    this.predict(exp);\n                }\n            }\n        }\n    }\n\n    Column.prototype.predict = function(exp) {\n        var rules = this.grammar.byName[exp] || [];\n\n        for (var i = 0; i < rules.length; i++) {\n            var r = rules[i];\n            var wantedBy = this.wants[exp];\n            var s = new State(r, 0, this.index, wantedBy);\n            this.states.push(s);\n        }\n    }\n\n    Column.prototype.complete = function(left, right) {\n        var copy = left.nextState(right);\n        this.states.push(copy);\n    }\n\n\n    function Grammar(rules, start) {\n        this.rules = rules;\n        this.start = start || this.rules[0].name;\n        var byName = this.byName = {};\n        this.rules.forEach(function(rule) {\n            if (!byName.hasOwnProperty(rule.name)) {\n                byName[rule.name] = [];\n            }\n            byName[rule.name].push(rule);\n        });\n    }\n\n    // So we can allow passing (rules, start) directly to Parser for backwards compatibility\n    Grammar.fromCompiled = function(rules, start) {\n        var lexer = rules.Lexer;\n        if (rules.ParserStart) {\n          start = rules.ParserStart;\n          rules = rules.ParserRules;\n        }\n        var rules = rules.map(function (r) { return (new Rule(r.name, r.symbols, r.postprocess)); });\n        var g = new Grammar(rules, start);\n        g.lexer = lexer; // nb. storing lexer on Grammar is iffy, but unavoidable\n        return g;\n    }\n\n\n    function StreamLexer() {\n      this.reset(\"\");\n    }\n\n    StreamLexer.prototype.reset = function(data, state) {\n        this.buffer = data;\n        this.index = 0;\n        this.line = state ? state.line : 1;\n        this.lastLineBreak = state ? -state.col : 0;\n    }\n\n    StreamLexer.prototype.next = function() {\n        if (this.index < this.buffer.length) {\n            var ch = this.buffer[this.index++];\n            if (ch === '\\n') {\n              this.line += 1;\n              this.lastLineBreak = this.index;\n            }\n            return {value: ch};\n        }\n    }\n\n    StreamLexer.prototype.save = function() {\n      return {\n        line: this.line,\n        col: this.index - this.lastLineBreak,\n      }\n    }\n\n    StreamLexer.prototype.formatError = function(token, message) {\n        // nb. this gets called after consuming the offending token,\n        // so the culprit is index-1\n        var buffer = this.buffer;\n        if (typeof buffer === 'string') {\n            var lines = buffer\n                .split(\"\\n\")\n                .slice(\n                    Math.max(0, this.line - 5), \n                    this.line\n                );\n\n            var nextLineBreak = buffer.indexOf('\\n', this.index);\n            if (nextLineBreak === -1) nextLineBreak = buffer.length;\n            var col = this.index - this.lastLineBreak;\n            var lastLineDigits = String(this.line).length;\n            message += \" at line \" + this.line + \" col \" + col + \":\\n\\n\";\n            message += lines\n                .map(function(line, i) {\n                    return pad(this.line - lines.length + i + 1, lastLineDigits) + \" \" + line;\n                }, this)\n                .join(\"\\n\");\n            message += \"\\n\" + pad(\"\", lastLineDigits + col) + \"^\\n\";\n            return message;\n        } else {\n            return message + \" at index \" + (this.index - 1);\n        }\n\n        function pad(n, length) {\n            var s = String(n);\n            return Array(length - s.length + 1).join(\" \") + s;\n        }\n    }\n\n    function Parser(rules, start, options) {\n        if (rules instanceof Grammar) {\n            var grammar = rules;\n            var options = start;\n        } else {\n            var grammar = Grammar.fromCompiled(rules, start);\n        }\n        this.grammar = grammar;\n\n        // Read options\n        this.options = {\n            keepHistory: false,\n            lexer: grammar.lexer || new StreamLexer,\n        };\n        for (var key in (options || {})) {\n            this.options[key] = options[key];\n        }\n\n        // Setup lexer\n        this.lexer = this.options.lexer;\n        this.lexerState = undefined;\n\n        // Setup a table\n        var column = new Column(grammar, 0);\n        var table = this.table = [column];\n\n        // I could be expecting anything.\n        column.wants[grammar.start] = [];\n        column.predict(grammar.start);\n        // TODO what if start rule is nullable?\n        column.process();\n        this.current = 0; // token index\n    }\n\n    // create a reserved token for indicating a parse fail\n    Parser.fail = {};\n\n    Parser.prototype.feed = function(chunk) {\n        var lexer = this.lexer;\n        lexer.reset(chunk, this.lexerState);\n\n        var token;\n        while (true) {\n            try {\n                token = lexer.next();\n                if (!token) {\n                    break;\n                }\n            } catch (e) {\n                // Create the next column so that the error reporter\n                // can display the correctly predicted states.\n                var nextColumn = new Column(this.grammar, this.current + 1);\n                this.table.push(nextColumn);\n                var err = new Error(this.reportLexerError(e));\n                err.offset = this.current;\n                err.token = e.token;\n                throw err;\n            }\n            // We add new states to table[current+1]\n            var column = this.table[this.current];\n\n            // GC unused states\n            if (!this.options.keepHistory) {\n                delete this.table[this.current - 1];\n            }\n\n            var n = this.current + 1;\n            var nextColumn = new Column(this.grammar, n);\n            this.table.push(nextColumn);\n\n            // Advance all tokens that expect the symbol\n            var literal = token.text !== undefined ? token.text : token.value;\n            var value = lexer.constructor === StreamLexer ? token.value : token;\n            var scannable = column.scannable;\n            for (var w = scannable.length; w--; ) {\n                var state = scannable[w];\n                var expect = state.rule.symbols[state.dot];\n                // Try to consume the token\n                // either regex or literal\n                if (expect.test ? expect.test(value) :\n                    expect.type ? expect.type === token.type\n                                : expect.literal === literal) {\n                    // Add it\n                    var next = state.nextState({data: value, token: token, isToken: true, reference: n - 1});\n                    nextColumn.states.push(next);\n                }\n            }\n\n            // Next, for each of the rules, we either\n            // (a) complete it, and try to see if the reference row expected that\n            //     rule\n            // (b) predict the next nonterminal it expects by adding that\n            //     nonterminal's start state\n            // To prevent duplication, we also keep track of rules we have already\n            // added\n\n            nextColumn.process();\n\n            // If needed, throw an error:\n            if (nextColumn.states.length === 0) {\n                // No states at all! This is not good.\n                var err = new Error(this.reportError(token));\n                err.offset = this.current;\n                err.token = token;\n                throw err;\n            }\n\n            // maybe save lexer state\n            if (this.options.keepHistory) {\n              column.lexerState = lexer.save()\n            }\n\n            this.current++;\n        }\n        if (column) {\n          this.lexerState = lexer.save()\n        }\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n\n        // Allow chaining, for whatever it's worth\n        return this;\n    };\n\n    Parser.prototype.reportLexerError = function(lexerError) {\n        var tokenDisplay, lexerMessage;\n        // Planning to add a token property to moo's thrown error\n        // even on erroring tokens to be used in error display below\n        var token = lexerError.token;\n        if (token) {\n            tokenDisplay = \"input \" + JSON.stringify(token.text[0]) + \" (lexer error)\";\n            lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        } else {\n            tokenDisplay = \"input (lexer error)\";\n            lexerMessage = lexerError.message;\n        }\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportError = function(token) {\n        var tokenDisplay = (token.type ? token.type + \" token: \" : \"\") + JSON.stringify(token.value !== undefined ? token.value : token);\n        var lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportErrorCommon = function(lexerMessage, tokenDisplay) {\n        var lines = [];\n        lines.push(lexerMessage);\n        var lastColumnIndex = this.table.length - 2;\n        var lastColumn = this.table[lastColumnIndex];\n        var expectantStates = lastColumn.states\n            .filter(function(state) {\n                var nextSymbol = state.rule.symbols[state.dot];\n                return nextSymbol && typeof nextSymbol !== \"string\";\n            });\n\n        if (expectantStates.length === 0) {\n            lines.push('Unexpected ' + tokenDisplay + '. I did not expect any more input. Here is the state of my parse table:\\n');\n            this.displayStateStack(lastColumn.states, lines);\n        } else {\n            lines.push('Unexpected ' + tokenDisplay + '. Instead, I was expecting to see one of the following:\\n');\n            // Display a \"state stack\" for each expectant state\n            // - which shows you how this state came to be, step by step.\n            // If there is more than one derivation, we only display the first one.\n            var stateStacks = expectantStates\n                .map(function(state) {\n                    return this.buildFirstStateStack(state, []) || [state];\n                }, this);\n            // Display each state that is expecting a terminal symbol next.\n            stateStacks.forEach(function(stateStack) {\n                var state = stateStack[0];\n                var nextSymbol = state.rule.symbols[state.dot];\n                var symbolDisplay = this.getSymbolDisplay(nextSymbol);\n                lines.push('A ' + symbolDisplay + ' based on:');\n                this.displayStateStack(stateStack, lines);\n            }, this);\n        }\n        lines.push(\"\");\n        return lines.join(\"\\n\");\n    }\n    \n    Parser.prototype.displayStateStack = function(stateStack, lines) {\n        var lastDisplay;\n        var sameDisplayCount = 0;\n        for (var j = 0; j < stateStack.length; j++) {\n            var state = stateStack[j];\n            var display = state.rule.toString(state.dot);\n            if (display === lastDisplay) {\n                sameDisplayCount++;\n            } else {\n                if (sameDisplayCount > 0) {\n                    lines.push('    ^ ' + sameDisplayCount + ' more lines identical to this');\n                }\n                sameDisplayCount = 0;\n                lines.push('    ' + display);\n            }\n            lastDisplay = display;\n        }\n    };\n\n    Parser.prototype.getSymbolDisplay = function(symbol) {\n        return getSymbolLongDisplay(symbol);\n    };\n\n    /*\n    Builds a the first state stack. You can think of a state stack as the call stack\n    of the recursive-descent parser which the Nearley parse algorithm simulates.\n    A state stack is represented as an array of state objects. Within a\n    state stack, the first item of the array will be the starting\n    state, with each successive item in the array going further back into history.\n\n    This function needs to be given a starting state and an empty array representing\n    the visited states, and it returns an single state stack.\n\n    */\n    Parser.prototype.buildFirstStateStack = function(state, visited) {\n        if (visited.indexOf(state) !== -1) {\n            // Found cycle, return null\n            // to eliminate this path from the results, because\n            // we don't know how to display it meaningfully\n            return null;\n        }\n        if (state.wantedBy.length === 0) {\n            return [state];\n        }\n        var prevState = state.wantedBy[0];\n        var childVisited = [state].concat(visited);\n        var childResult = this.buildFirstStateStack(prevState, childVisited);\n        if (childResult === null) {\n            return null;\n        }\n        return [state].concat(childResult);\n    };\n\n    Parser.prototype.save = function() {\n        var column = this.table[this.current];\n        column.lexerState = this.lexerState;\n        return column;\n    };\n\n    Parser.prototype.restore = function(column) {\n        var index = column.index;\n        this.current = index;\n        this.table[index] = column;\n        this.table.splice(index + 1);\n        this.lexerState = column.lexerState;\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n    };\n\n    // nb. deprecated: use save/restore instead!\n    Parser.prototype.rewind = function(index) {\n        if (!this.options.keepHistory) {\n            throw new Error('set option `keepHistory` to enable rewinding')\n        }\n        // nb. recall column (table) indicies fall between token indicies.\n        //        col 0   --   token 0   --   col 1\n        this.restore(this.table[index]);\n    };\n\n    Parser.prototype.finish = function() {\n        // Return the possible parsings\n        var considerations = [];\n        var start = this.grammar.start;\n        var column = this.table[this.table.length - 1]\n        column.states.forEach(function (t) {\n            if (t.rule.name === start\n                    && t.dot === t.rule.symbols.length\n                    && t.reference === 0\n                    && t.data !== Parser.fail) {\n                considerations.push(t);\n            }\n        });\n        return considerations.map(function(c) {return c.data; });\n    };\n\n    function getSymbolLongDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return 'character matching ' + symbol;\n            } else if (symbol.type) {\n                return symbol.type + ' token';\n            } else if (symbol.test) {\n                return 'token matching ' + String(symbol.test);\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    function getSymbolShortDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return symbol.toString();\n            } else if (symbol.type) {\n                return '%' + symbol.type;\n            } else if (symbol.test) {\n                return '<' + String(symbol.test) + '>';\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    return {\n        Parser: Parser,\n        Grammar: Grammar,\n        Rule: Rule,\n    };\n\n}));\n", "module.exports = function cmp (a, b) {\n    var pa = a.split('.');\n    var pb = b.split('.');\n    for (var i = 0; i < 3; i++) {\n        var na = Number(pa[i]);\n        var nb = Number(pb[i]);\n        if (na > nb) return 1;\n        if (nb > na) return -1;\n        if (!isNaN(na) && isNaN(nb)) return 1;\n        if (isNaN(na) && !isNaN(nb)) return -1;\n    }\n    return 0;\n};\n", "// http://www.w3.org/TR/CSS21/grammar.html\n// https://github.com/visionmedia/css-parse/pull/49#issuecomment-30088027\nvar commentre = /\\/\\*[^*]*\\*+([^/*][^*]*\\*+)*\\//g\n\nmodule.exports = function(css, options){\n  options = options || {};\n\n  /**\n   * Positional.\n   */\n\n  var lineno = 1;\n  var column = 1;\n\n  /**\n   * Update lineno and column based on `str`.\n   */\n\n  function updatePosition(str) {\n    var lines = str.match(/\\n/g);\n    if (lines) lineno += lines.length;\n    var i = str.lastIndexOf('\\n');\n    column = ~i ? str.length - i : column + str.length;\n  }\n\n  /**\n   * Mark position and patch `node.position`.\n   */\n\n  function position() {\n    var start = { line: lineno, column: column };\n    return function(node){\n      node.position = new Position(start);\n      whitespace();\n      return node;\n    };\n  }\n\n  /**\n   * Store position information for a node\n   */\n\n  function Position(start) {\n    this.start = start;\n    this.end = { line: lineno, column: column };\n    this.source = options.source;\n  }\n\n  /**\n   * Non-enumerable source string\n   */\n\n  Position.prototype.content = css;\n\n  /**\n   * Error `msg`.\n   */\n\n  var errorsList = [];\n\n  function error(msg) {\n    var err = new Error(options.source + ':' + lineno + ':' + column + ': ' + msg);\n    err.reason = msg;\n    err.filename = options.source;\n    err.line = lineno;\n    err.column = column;\n    err.source = css;\n\n    if (options.silent) {\n      errorsList.push(err);\n    } else {\n      throw err;\n    }\n  }\n\n  /**\n   * Parse stylesheet.\n   */\n\n  function stylesheet() {\n    var rulesList = rules();\n\n    return {\n      type: 'stylesheet',\n      stylesheet: {\n        source: options.source,\n        rules: rulesList,\n        parsingErrors: errorsList\n      }\n    };\n  }\n\n  /**\n   * Opening brace.\n   */\n\n  function open() {\n    return match(/^{\\s*/);\n  }\n\n  /**\n   * Closing brace.\n   */\n\n  function close() {\n    return match(/^}/);\n  }\n\n  /**\n   * Parse ruleset.\n   */\n\n  function rules() {\n    var node;\n    var rules = [];\n    whitespace();\n    comments(rules);\n    while (css.length && css.charAt(0) != '}' && (node = atrule() || rule())) {\n      if (node !== false) {\n        rules.push(node);\n        comments(rules);\n      }\n    }\n    return rules;\n  }\n\n  /**\n   * Match `re` and return captures.\n   */\n\n  function match(re) {\n    var m = re.exec(css);\n    if (!m) return;\n    var str = m[0];\n    updatePosition(str);\n    css = css.slice(str.length);\n    return m;\n  }\n\n  /**\n   * Parse whitespace.\n   */\n\n  function whitespace() {\n    match(/^\\s*/);\n  }\n\n  /**\n   * Parse comments;\n   */\n\n  function comments(rules) {\n    var c;\n    rules = rules || [];\n    while (c = comment()) {\n      if (c !== false) {\n        rules.push(c);\n      }\n    }\n    return rules;\n  }\n\n  /**\n   * Parse comment.\n   */\n\n  function comment() {\n    var pos = position();\n    if ('/' != css.charAt(0) || '*' != css.charAt(1)) return;\n\n    var i = 2;\n    while (\"\" != css.charAt(i) && ('*' != css.charAt(i) || '/' != css.charAt(i + 1))) ++i;\n    i += 2;\n\n    if (\"\" === css.charAt(i-1)) {\n      return error('End of comment missing');\n    }\n\n    var str = css.slice(2, i - 2);\n    column += 2;\n    updatePosition(str);\n    css = css.slice(i);\n    column += 2;\n\n    return pos({\n      type: 'comment',\n      comment: str\n    });\n  }\n\n  /**\n   * Parse selector.\n   */\n\n  function selector() {\n    var m = match(/^([^{]+)/);\n    if (!m) return;\n    /* @fix Remove all comments from selectors\n     * http://ostermiller.org/findcomment.html */\n    return trim(m[0])\n      .replace(/\\/\\*([^*]|[\\r\\n]|(\\*+([^*/]|[\\r\\n])))*\\*\\/+/g, '')\n      .replace(/\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'/g, function(m) {\n        return m.replace(/,/g, '\\u200C');\n      })\n      .split(/\\s*(?![^(]*\\)),\\s*/)\n      .map(function(s) {\n        return s.replace(/\\u200C/g, ',');\n      });\n  }\n\n  /**\n   * Parse declaration.\n   */\n\n  function declaration() {\n    var pos = position();\n\n    // prop\n    var prop = match(/^(\\*?[-#\\/\\*\\\\\\w]+(\\[[0-9a-z_-]+\\])?)\\s*/);\n    if (!prop) return;\n    prop = trim(prop[0]);\n\n    // :\n    if (!match(/^:\\s*/)) return error(\"property missing ':'\");\n\n    // val\n    var val = match(/^((?:'(?:\\\\'|.)*?'|\"(?:\\\\\"|.)*?\"|\\([^\\)]*?\\)|[^};])+)/);\n\n    var ret = pos({\n      type: 'declaration',\n      property: prop.replace(commentre, ''),\n      value: val ? trim(val[0]).replace(commentre, '') : ''\n    });\n\n    // ;\n    match(/^[;\\s]*/);\n\n    return ret;\n  }\n\n  /**\n   * Parse declarations.\n   */\n\n  function declarations() {\n    var decls = [];\n\n    if (!open()) return error(\"missing '{'\");\n    comments(decls);\n\n    // declarations\n    var decl;\n    while (decl = declaration()) {\n      if (decl !== false) {\n        decls.push(decl);\n        comments(decls);\n      }\n    }\n\n    if (!close()) return error(\"missing '}'\");\n    return decls;\n  }\n\n  /**\n   * Parse keyframe.\n   */\n\n  function keyframe() {\n    var m;\n    var vals = [];\n    var pos = position();\n\n    while (m = match(/^((\\d+\\.\\d+|\\.\\d+|\\d+)%?|[a-z]+)\\s*/)) {\n      vals.push(m[1]);\n      match(/^,\\s*/);\n    }\n\n    if (!vals.length) return;\n\n    return pos({\n      type: 'keyframe',\n      values: vals,\n      declarations: declarations()\n    });\n  }\n\n  /**\n   * Parse keyframes.\n   */\n\n  function atkeyframes() {\n    var pos = position();\n    var m = match(/^@([-\\w]+)?keyframes\\s*/);\n\n    if (!m) return;\n    var vendor = m[1];\n\n    // identifier\n    var m = match(/^([-\\w]+)\\s*/);\n    if (!m) return error(\"@keyframes missing name\");\n    var name = m[1];\n\n    if (!open()) return error(\"@keyframes missing '{'\");\n\n    var frame;\n    var frames = comments();\n    while (frame = keyframe()) {\n      frames.push(frame);\n      frames = frames.concat(comments());\n    }\n\n    if (!close()) return error(\"@keyframes missing '}'\");\n\n    return pos({\n      type: 'keyframes',\n      name: name,\n      vendor: vendor,\n      keyframes: frames\n    });\n  }\n\n  /**\n   * Parse supports.\n   */\n\n  function atsupports() {\n    var pos = position();\n    var m = match(/^@supports *([^{]+)/);\n\n    if (!m) return;\n    var supports = trim(m[1]);\n\n    if (!open()) return error(\"@supports missing '{'\");\n\n    var style = comments().concat(rules());\n\n    if (!close()) return error(\"@supports missing '}'\");\n\n    return pos({\n      type: 'supports',\n      supports: supports,\n      rules: style\n    });\n  }\n\n  /**\n   * Parse host.\n   */\n\n  function athost() {\n    var pos = position();\n    var m = match(/^@host\\s*/);\n\n    if (!m) return;\n\n    if (!open()) return error(\"@host missing '{'\");\n\n    var style = comments().concat(rules());\n\n    if (!close()) return error(\"@host missing '}'\");\n\n    return pos({\n      type: 'host',\n      rules: style\n    });\n  }\n\n  /**\n   * Parse media.\n   */\n\n  function atmedia() {\n    var pos = position();\n    var m = match(/^@media *([^{]+)/);\n\n    if (!m) return;\n    var media = trim(m[1]);\n\n    if (!open()) return error(\"@media missing '{'\");\n\n    var style = comments().concat(rules());\n\n    if (!close()) return error(\"@media missing '}'\");\n\n    return pos({\n      type: 'media',\n      media: media,\n      rules: style\n    });\n  }\n\n\n  /**\n   * Parse custom-media.\n   */\n\n  function atcustommedia() {\n    var pos = position();\n    var m = match(/^@custom-media\\s+(--[^\\s]+)\\s*([^{;]+);/);\n    if (!m) return;\n\n    return pos({\n      type: 'custom-media',\n      name: trim(m[1]),\n      media: trim(m[2])\n    });\n  }\n\n  /**\n   * Parse paged media.\n   */\n\n  function atpage() {\n    var pos = position();\n    var m = match(/^@page */);\n    if (!m) return;\n\n    var sel = selector() || [];\n\n    if (!open()) return error(\"@page missing '{'\");\n    var decls = comments();\n\n    // declarations\n    var decl;\n    while (decl = declaration()) {\n      decls.push(decl);\n      decls = decls.concat(comments());\n    }\n\n    if (!close()) return error(\"@page missing '}'\");\n\n    return pos({\n      type: 'page',\n      selectors: sel,\n      declarations: decls\n    });\n  }\n\n  /**\n   * Parse document.\n   */\n\n  function atdocument() {\n    var pos = position();\n    var m = match(/^@([-\\w]+)?document *([^{]+)/);\n    if (!m) return;\n\n    var vendor = trim(m[1]);\n    var doc = trim(m[2]);\n\n    if (!open()) return error(\"@document missing '{'\");\n\n    var style = comments().concat(rules());\n\n    if (!close()) return error(\"@document missing '}'\");\n\n    return pos({\n      type: 'document',\n      document: doc,\n      vendor: vendor,\n      rules: style\n    });\n  }\n\n  /**\n   * Parse font-face.\n   */\n\n  function atfontface() {\n    var pos = position();\n    var m = match(/^@font-face\\s*/);\n    if (!m) return;\n\n    if (!open()) return error(\"@font-face missing '{'\");\n    var decls = comments();\n\n    // declarations\n    var decl;\n    while (decl = declaration()) {\n      decls.push(decl);\n      decls = decls.concat(comments());\n    }\n\n    if (!close()) return error(\"@font-face missing '}'\");\n\n    return pos({\n      type: 'font-face',\n      declarations: decls\n    });\n  }\n\n  /**\n   * Parse import\n   */\n\n  var atimport = _compileAtrule('import');\n\n  /**\n   * Parse charset\n   */\n\n  var atcharset = _compileAtrule('charset');\n\n  /**\n   * Parse namespace\n   */\n\n  var atnamespace = _compileAtrule('namespace');\n\n  /**\n   * Parse non-block at-rules\n   */\n\n\n  function _compileAtrule(name) {\n    var re = new RegExp('^@' + name + '\\\\s*([^;]+);');\n    return function() {\n      var pos = position();\n      var m = match(re);\n      if (!m) return;\n      var ret = { type: name };\n      ret[name] = m[1].trim();\n      return pos(ret);\n    }\n  }\n\n  /**\n   * Parse at rule.\n   */\n\n  function atrule() {\n    if (css[0] != '@') return;\n\n    return atkeyframes()\n      || atmedia()\n      || atcustommedia()\n      || atsupports()\n      || atimport()\n      || atcharset()\n      || atnamespace()\n      || atdocument()\n      || atpage()\n      || athost()\n      || atfontface();\n  }\n\n  /**\n   * Parse rule.\n   */\n\n  function rule() {\n    var pos = position();\n    var sel = selector();\n\n    if (!sel) return error('selector missing');\n    comments();\n\n    return pos({\n      type: 'rule',\n      selectors: sel,\n      declarations: declarations()\n    });\n  }\n\n  return addParent(stylesheet());\n};\n\n/**\n * Trim `str`.\n */\n\nfunction trim(str) {\n  return str ? str.replace(/^\\s+|\\s+$/g, '') : '';\n}\n\n/**\n * Adds non-enumerable parent node reference to each node.\n */\n\nfunction addParent(obj, parent) {\n  var isNode = obj && typeof obj.type === 'string';\n  var childParent = isNode ? obj : parent;\n\n  for (var k in obj) {\n    var value = obj[k];\n    if (Array.isArray(value)) {\n      value.forEach(function(v) { addParent(v, childParent); });\n    } else if (value && typeof value === 'object') {\n      addParent(value, childParent);\n    }\n  }\n\n  if (isNode) {\n    Object.defineProperty(obj, 'parent', {\n      configurable: true,\n      writable: true,\n      enumerable: false,\n      value: parent || null\n    });\n  }\n\n  return obj;\n}\n", "\n/**\n * Expose `Compiler`.\n */\n\nmodule.exports = Compiler;\n\n/**\n * Initialize a compiler.\n *\n * @param {Type} name\n * @return {Type}\n * @api public\n */\n\nfunction Compiler(opts) {\n  this.options = opts || {};\n}\n\n/**\n * Emit `str`\n */\n\nCompiler.prototype.emit = function(str) {\n  return str;\n};\n\n/**\n * Visit `node`.\n */\n\nCompiler.prototype.visit = function(node){\n  return this[node.type](node);\n};\n\n/**\n * Map visit over array of `nodes`, optionally using a `delim`\n */\n\nCompiler.prototype.mapVisit = function(nodes, delim){\n  var buf = '';\n  delim = delim || '';\n\n  for (var i = 0, length = nodes.length; i < length; i++) {\n    buf += this.visit(nodes[i]);\n    if (delim && i < length - 1) buf += this.emit(delim);\n  }\n\n  return buf;\n};\n", "if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n", "\n/**\n * Module dependencies.\n */\n\nvar Base = require('./compiler');\nvar inherits = require('inherits');\n\n/**\n * Expose compiler.\n */\n\nmodule.exports = Compiler;\n\n/**\n * Initialize a new `Compiler`.\n */\n\nfunction Compiler(options) {\n  Base.call(this, options);\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\ninherits(Compiler, Base);\n\n/**\n * Compile `node`.\n */\n\nCompiler.prototype.compile = function(node){\n  return node.stylesheet\n    .rules.map(this.visit, this)\n    .join('');\n};\n\n/**\n * Visit comment node.\n */\n\nCompiler.prototype.comment = function(node){\n  return this.emit('', node.position);\n};\n\n/**\n * Visit import node.\n */\n\nCompiler.prototype.import = function(node){\n  return this.emit('@import ' + node.import + ';', node.position);\n};\n\n/**\n * Visit media node.\n */\n\nCompiler.prototype.media = function(node){\n  return this.emit('@media ' + node.media, node.position)\n    + this.emit('{')\n    + this.mapVisit(node.rules)\n    + this.emit('}');\n};\n\n/**\n * Visit document node.\n */\n\nCompiler.prototype.document = function(node){\n  var doc = '@' + (node.vendor || '') + 'document ' + node.document;\n\n  return this.emit(doc, node.position)\n    + this.emit('{')\n    + this.mapVisit(node.rules)\n    + this.emit('}');\n};\n\n/**\n * Visit charset node.\n */\n\nCompiler.prototype.charset = function(node){\n  return this.emit('@charset ' + node.charset + ';', node.position);\n};\n\n/**\n * Visit namespace node.\n */\n\nCompiler.prototype.namespace = function(node){\n  return this.emit('@namespace ' + node.namespace + ';', node.position);\n};\n\n/**\n * Visit supports node.\n */\n\nCompiler.prototype.supports = function(node){\n  return this.emit('@supports ' + node.supports, node.position)\n    + this.emit('{')\n    + this.mapVisit(node.rules)\n    + this.emit('}');\n};\n\n/**\n * Visit keyframes node.\n */\n\nCompiler.prototype.keyframes = function(node){\n  return this.emit('@'\n    + (node.vendor || '')\n    + 'keyframes '\n    + node.name, node.position)\n    + this.emit('{')\n    + this.mapVisit(node.keyframes)\n    + this.emit('}');\n};\n\n/**\n * Visit keyframe node.\n */\n\nCompiler.prototype.keyframe = function(node){\n  var decls = node.declarations;\n\n  return this.emit(node.values.join(','), node.position)\n    + this.emit('{')\n    + this.mapVisit(decls)\n    + this.emit('}');\n};\n\n/**\n * Visit page node.\n */\n\nCompiler.prototype.page = function(node){\n  var sel = node.selectors.length\n    ? node.selectors.join(', ')\n    : '';\n\n  return this.emit('@page ' + sel, node.position)\n    + this.emit('{')\n    + this.mapVisit(node.declarations)\n    + this.emit('}');\n};\n\n/**\n * Visit font-face node.\n */\n\nCompiler.prototype['font-face'] = function(node){\n  return this.emit('@font-face', node.position)\n    + this.emit('{')\n    + this.mapVisit(node.declarations)\n    + this.emit('}');\n};\n\n/**\n * Visit host node.\n */\n\nCompiler.prototype.host = function(node){\n  return this.emit('@host', node.position)\n    + this.emit('{')\n    + this.mapVisit(node.rules)\n    + this.emit('}');\n};\n\n/**\n * Visit custom-media node.\n */\n\nCompiler.prototype['custom-media'] = function(node){\n  return this.emit('@custom-media ' + node.name + ' ' + node.media + ';', node.position);\n};\n\n/**\n * Visit rule node.\n */\n\nCompiler.prototype.rule = function(node){\n  var decls = node.declarations;\n  if (!decls.length) return '';\n\n  return this.emit(node.selectors.join(','), node.position)\n    + this.emit('{')\n    + this.mapVisit(decls)\n    + this.emit('}');\n};\n\n/**\n * Visit declaration node.\n */\n\nCompiler.prototype.declaration = function(node){\n  return this.emit(node.property + ':' + node.value, node.position) + this.emit(';');\n};\n\n", "\n/**\n * Module dependencies.\n */\n\nvar Base = require('./compiler');\nvar inherits = require('inherits');\n\n/**\n * Expose compiler.\n */\n\nmodule.exports = Compiler;\n\n/**\n * Initialize a new `Compiler`.\n */\n\nfunction Compiler(options) {\n  options = options || {};\n  Base.call(this, options);\n  this.indentation = options.indent;\n}\n\n/**\n * Inherit from `Base.prototype`.\n */\n\ninherits(Compiler, Base);\n\n/**\n * Compile `node`.\n */\n\nCompiler.prototype.compile = function(node){\n  return this.stylesheet(node);\n};\n\n/**\n * Visit stylesheet node.\n */\n\nCompiler.prototype.stylesheet = function(node){\n  return this.mapVisit(node.stylesheet.rules, '\\n\\n');\n};\n\n/**\n * Visit comment node.\n */\n\nCompiler.prototype.comment = function(node){\n  return this.emit(this.indent() + '/*' + node.comment + '*/', node.position);\n};\n\n/**\n * Visit import node.\n */\n\nCompiler.prototype.import = function(node){\n  return this.emit('@import ' + node.import + ';', node.position);\n};\n\n/**\n * Visit media node.\n */\n\nCompiler.prototype.media = function(node){\n  return this.emit('@media ' + node.media, node.position)\n    + this.emit(\n        ' {\\n'\n        + this.indent(1))\n    + this.mapVisit(node.rules, '\\n\\n')\n    + this.emit(\n        this.indent(-1)\n        + '\\n}');\n};\n\n/**\n * Visit document node.\n */\n\nCompiler.prototype.document = function(node){\n  var doc = '@' + (node.vendor || '') + 'document ' + node.document;\n\n  return this.emit(doc, node.position)\n    + this.emit(\n        ' '\n      + ' {\\n'\n      + this.indent(1))\n    + this.mapVisit(node.rules, '\\n\\n')\n    + this.emit(\n        this.indent(-1)\n        + '\\n}');\n};\n\n/**\n * Visit charset node.\n */\n\nCompiler.prototype.charset = function(node){\n  return this.emit('@charset ' + node.charset + ';', node.position);\n};\n\n/**\n * Visit namespace node.\n */\n\nCompiler.prototype.namespace = function(node){\n  return this.emit('@namespace ' + node.namespace + ';', node.position);\n};\n\n/**\n * Visit supports node.\n */\n\nCompiler.prototype.supports = function(node){\n  return this.emit('@supports ' + node.supports, node.position)\n    + this.emit(\n      ' {\\n'\n      + this.indent(1))\n    + this.mapVisit(node.rules, '\\n\\n')\n    + this.emit(\n        this.indent(-1)\n        + '\\n}');\n};\n\n/**\n * Visit keyframes node.\n */\n\nCompiler.prototype.keyframes = function(node){\n  return this.emit('@' + (node.vendor || '') + 'keyframes ' + node.name, node.position)\n    + this.emit(\n      ' {\\n'\n      + this.indent(1))\n    + this.mapVisit(node.keyframes, '\\n')\n    + this.emit(\n        this.indent(-1)\n        + '}');\n};\n\n/**\n * Visit keyframe node.\n */\n\nCompiler.prototype.keyframe = function(node){\n  var decls = node.declarations;\n\n  return this.emit(this.indent())\n    + this.emit(node.values.join(', '), node.position)\n    + this.emit(\n      ' {\\n'\n      + this.indent(1))\n    + this.mapVisit(decls, '\\n')\n    + this.emit(\n      this.indent(-1)\n      + '\\n'\n      + this.indent() + '}\\n');\n};\n\n/**\n * Visit page node.\n */\n\nCompiler.prototype.page = function(node){\n  var sel = node.selectors.length\n    ? node.selectors.join(', ') + ' '\n    : '';\n\n  return this.emit('@page ' + sel, node.position)\n    + this.emit('{\\n')\n    + this.emit(this.indent(1))\n    + this.mapVisit(node.declarations, '\\n')\n    + this.emit(this.indent(-1))\n    + this.emit('\\n}');\n};\n\n/**\n * Visit font-face node.\n */\n\nCompiler.prototype['font-face'] = function(node){\n  return this.emit('@font-face ', node.position)\n    + this.emit('{\\n')\n    + this.emit(this.indent(1))\n    + this.mapVisit(node.declarations, '\\n')\n    + this.emit(this.indent(-1))\n    + this.emit('\\n}');\n};\n\n/**\n * Visit host node.\n */\n\nCompiler.prototype.host = function(node){\n  return this.emit('@host', node.position)\n    + this.emit(\n        ' {\\n'\n        + this.indent(1))\n    + this.mapVisit(node.rules, '\\n\\n')\n    + this.emit(\n        this.indent(-1)\n        + '\\n}');\n};\n\n/**\n * Visit custom-media node.\n */\n\nCompiler.prototype['custom-media'] = function(node){\n  return this.emit('@custom-media ' + node.name + ' ' + node.media + ';', node.position);\n};\n\n/**\n * Visit rule node.\n */\n\nCompiler.prototype.rule = function(node){\n  var indent = this.indent();\n  var decls = node.declarations;\n  if (!decls.length) return '';\n\n  return this.emit(node.selectors.map(function(s){ return indent + s }).join(',\\n'), node.position)\n    + this.emit(' {\\n')\n    + this.emit(this.indent(1))\n    + this.mapVisit(decls, '\\n')\n    + this.emit(this.indent(-1))\n    + this.emit('\\n' + this.indent() + '}');\n};\n\n/**\n * Visit declaration node.\n */\n\nCompiler.prototype.declaration = function(node){\n  return this.emit(this.indent())\n    + this.emit(node.property + ': ' + node.value, node.position)\n    + this.emit(';');\n};\n\n/**\n * Increase, decrease or return current indentation.\n */\n\nCompiler.prototype.indent = function(level) {\n  this.level = this.level || 1;\n\n  if (null != level) {\n    this.level += level;\n    return '';\n  }\n\n  return Array(this.level).join(this.indentation || '  ');\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar intToCharMap = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.split('');\n\n/**\n * Encode an integer in the range of 0 to 63 to a single base 64 digit.\n */\nexports.encode = function (number) {\n  if (0 <= number && number < intToCharMap.length) {\n    return intToCharMap[number];\n  }\n  throw new TypeError(\"Must be between 0 and 63: \" + number);\n};\n\n/**\n * Decode a single base 64 character code digit to an integer. Returns -1 on\n * failure.\n */\nexports.decode = function (charCode) {\n  var bigA = 65;     // 'A'\n  var bigZ = 90;     // 'Z'\n\n  var littleA = 97;  // 'a'\n  var littleZ = 122; // 'z'\n\n  var zero = 48;     // '0'\n  var nine = 57;     // '9'\n\n  var plus = 43;     // '+'\n  var slash = 47;    // '/'\n\n  var littleOffset = 26;\n  var numberOffset = 52;\n\n  // 0 - 25: ABCDEFGHIJKLMNOPQRSTUVWXYZ\n  if (bigA <= charCode && charCode <= bigZ) {\n    return (charCode - bigA);\n  }\n\n  // 26 - 51: abcdefghijklmnopqrstuvwxyz\n  if (littleA <= charCode && charCode <= littleZ) {\n    return (charCode - littleA + littleOffset);\n  }\n\n  // 52 - 61: 0123456789\n  if (zero <= charCode && charCode <= nine) {\n    return (charCode - zero + numberOffset);\n  }\n\n  // 62: +\n  if (charCode == plus) {\n    return 62;\n  }\n\n  // 63: /\n  if (charCode == slash) {\n    return 63;\n  }\n\n  // Invalid base64 digit.\n  return -1;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n *\n * Based on the Base 64 VLQ implementation in Closure Compiler:\n * https://code.google.com/p/closure-compiler/source/browse/trunk/src/com/google/debugging/sourcemap/Base64VLQ.java\n *\n * Copyright 2011 The Closure Compiler Authors. All rights reserved.\n * Redistribution and use in source and binary forms, with or without\n * modification, are permitted provided that the following conditions are\n * met:\n *\n *  * Redistributions of source code must retain the above copyright\n *    notice, this list of conditions and the following disclaimer.\n *  * Redistributions in binary form must reproduce the above\n *    copyright notice, this list of conditions and the following\n *    disclaimer in the documentation and/or other materials provided\n *    with the distribution.\n *  * Neither the name of Google Inc. nor the names of its\n *    contributors may be used to endorse or promote products derived\n *    from this software without specific prior written permission.\n *\n * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS\n * \"AS IS\" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT\n * LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR\n * A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT\n * OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,\n * SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT\n * LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,\n * DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY\n * THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT\n * (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\n * OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n */\n\nvar base64 = require('./base64');\n\n// A single base 64 digit can contain 6 bits of data. For the base 64 variable\n// length quantities we use in the source map spec, the first bit is the sign,\n// the next four bits are the actual value, and the 6th bit is the\n// continuation bit. The continuation bit tells us whether there are more\n// digits in this value following this digit.\n//\n//   Continuation\n//   |    Sign\n//   |    |\n//   V    V\n//   101011\n\nvar VLQ_BASE_SHIFT = 5;\n\n// binary: 100000\nvar VLQ_BASE = 1 << VLQ_BASE_SHIFT;\n\n// binary: 011111\nvar VLQ_BASE_MASK = VLQ_BASE - 1;\n\n// binary: 100000\nvar VLQ_CONTINUATION_BIT = VLQ_BASE;\n\n/**\n * Converts from a two-complement value to a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   1 becomes 2 (10 binary), -1 becomes 3 (11 binary)\n *   2 becomes 4 (100 binary), -2 becomes 5 (101 binary)\n */\nfunction toVLQSigned(aValue) {\n  return aValue < 0\n    ? ((-aValue) << 1) + 1\n    : (aValue << 1) + 0;\n}\n\n/**\n * Converts to a two-complement value from a value where the sign bit is\n * placed in the least significant bit.  For example, as decimals:\n *   2 (10 binary) becomes 1, 3 (11 binary) becomes -1\n *   4 (100 binary) becomes 2, 5 (101 binary) becomes -2\n */\nfunction fromVLQSigned(aValue) {\n  var isNegative = (aValue & 1) === 1;\n  var shifted = aValue >> 1;\n  return isNegative\n    ? -shifted\n    : shifted;\n}\n\n/**\n * Returns the base 64 VLQ encoded value.\n */\nexports.encode = function base64VLQ_encode(aValue) {\n  var encoded = \"\";\n  var digit;\n\n  var vlq = toVLQSigned(aValue);\n\n  do {\n    digit = vlq & VLQ_BASE_MASK;\n    vlq >>>= VLQ_BASE_SHIFT;\n    if (vlq > 0) {\n      // There are still more digits in this value, so we must make sure the\n      // continuation bit is marked.\n      digit |= VLQ_CONTINUATION_BIT;\n    }\n    encoded += base64.encode(digit);\n  } while (vlq > 0);\n\n  return encoded;\n};\n\n/**\n * Decodes the next base 64 VLQ value from the given string and returns the\n * value and the rest of the string via the out parameter.\n */\nexports.decode = function base64VLQ_decode(aStr, aIndex, aOutParam) {\n  var strLen = aStr.length;\n  var result = 0;\n  var shift = 0;\n  var continuation, digit;\n\n  do {\n    if (aIndex >= strLen) {\n      throw new Error(\"Expected more digits in base 64 VLQ value.\");\n    }\n\n    digit = base64.decode(aStr.charCodeAt(aIndex++));\n    if (digit === -1) {\n      throw new Error(\"Invalid base64 digit: \" + aStr.charAt(aIndex - 1));\n    }\n\n    continuation = !!(digit & VLQ_CONTINUATION_BIT);\n    digit &= VLQ_BASE_MASK;\n    result = result + (digit << shift);\n    shift += VLQ_BASE_SHIFT;\n  } while (continuation);\n\n  aOutParam.value = fromVLQSigned(result);\n  aOutParam.rest = aIndex;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n/**\n * This is a helper function for getting values from parameter/options\n * objects.\n *\n * @param args The object we are extracting values from\n * @param name The name of the property we are getting.\n * @param defaultValue An optional value to return if the property is missing\n * from the object. If this is not specified and the property is missing, an\n * error will be thrown.\n */\nfunction getArg(aArgs, aName, aDefaultValue) {\n  if (aName in aArgs) {\n    return aArgs[aName];\n  } else if (arguments.length === 3) {\n    return aDefaultValue;\n  } else {\n    throw new Error('\"' + aName + '\" is a required argument.');\n  }\n}\nexports.getArg = getArg;\n\nvar urlRegexp = /^(?:([\\w+\\-.]+):)?\\/\\/(?:(\\w+:\\w+)@)?([\\w.-]*)(?::(\\d+))?(.*)$/;\nvar dataUrlRegexp = /^data:.+\\,.+$/;\n\nfunction urlParse(aUrl) {\n  var match = aUrl.match(urlRegexp);\n  if (!match) {\n    return null;\n  }\n  return {\n    scheme: match[1],\n    auth: match[2],\n    host: match[3],\n    port: match[4],\n    path: match[5]\n  };\n}\nexports.urlParse = urlParse;\n\nfunction urlGenerate(aParsedUrl) {\n  var url = '';\n  if (aParsedUrl.scheme) {\n    url += aParsedUrl.scheme + ':';\n  }\n  url += '//';\n  if (aParsedUrl.auth) {\n    url += aParsedUrl.auth + '@';\n  }\n  if (aParsedUrl.host) {\n    url += aParsedUrl.host;\n  }\n  if (aParsedUrl.port) {\n    url += \":\" + aParsedUrl.port\n  }\n  if (aParsedUrl.path) {\n    url += aParsedUrl.path;\n  }\n  return url;\n}\nexports.urlGenerate = urlGenerate;\n\n/**\n * Normalizes a path, or the path portion of a URL:\n *\n * - Replaces consecutive slashes with one slash.\n * - Removes unnecessary '.' parts.\n * - Removes unnecessary '<dir>/..' parts.\n *\n * Based on code in the Node.js 'path' core module.\n *\n * @param aPath The path or url to normalize.\n */\nfunction normalize(aPath) {\n  var path = aPath;\n  var url = urlParse(aPath);\n  if (url) {\n    if (!url.path) {\n      return aPath;\n    }\n    path = url.path;\n  }\n  var isAbsolute = exports.isAbsolute(path);\n\n  var parts = path.split(/\\/+/);\n  for (var part, up = 0, i = parts.length - 1; i >= 0; i--) {\n    part = parts[i];\n    if (part === '.') {\n      parts.splice(i, 1);\n    } else if (part === '..') {\n      up++;\n    } else if (up > 0) {\n      if (part === '') {\n        // The first part is blank if the path is absolute. Trying to go\n        // above the root is a no-op. Therefore we can remove all '..' parts\n        // directly after the root.\n        parts.splice(i + 1, up);\n        up = 0;\n      } else {\n        parts.splice(i, 2);\n        up--;\n      }\n    }\n  }\n  path = parts.join('/');\n\n  if (path === '') {\n    path = isAbsolute ? '/' : '.';\n  }\n\n  if (url) {\n    url.path = path;\n    return urlGenerate(url);\n  }\n  return path;\n}\nexports.normalize = normalize;\n\n/**\n * Joins two paths/URLs.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be joined with the root.\n *\n * - If aPath is a URL or a data URI, aPath is returned, unless aPath is a\n *   scheme-relative URL: Then the scheme of aRoot, if any, is prepended\n *   first.\n * - Otherwise aPath is a path. If aRoot is a URL, then its path portion\n *   is updated with the result and aRoot is returned. Otherwise the result\n *   is returned.\n *   - If aPath is absolute, the result is aPath.\n *   - Otherwise the two paths are joined with a slash.\n * - Joining for example 'http://' and 'www.example.com' is also supported.\n */\nfunction join(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n  if (aPath === \"\") {\n    aPath = \".\";\n  }\n  var aPathUrl = urlParse(aPath);\n  var aRootUrl = urlParse(aRoot);\n  if (aRootUrl) {\n    aRoot = aRootUrl.path || '/';\n  }\n\n  // `join(foo, '//www.example.org')`\n  if (aPathUrl && !aPathUrl.scheme) {\n    if (aRootUrl) {\n      aPathUrl.scheme = aRootUrl.scheme;\n    }\n    return urlGenerate(aPathUrl);\n  }\n\n  if (aPathUrl || aPath.match(dataUrlRegexp)) {\n    return aPath;\n  }\n\n  // `join('http://', 'www.example.com')`\n  if (aRootUrl && !aRootUrl.host && !aRootUrl.path) {\n    aRootUrl.host = aPath;\n    return urlGenerate(aRootUrl);\n  }\n\n  var joined = aPath.charAt(0) === '/'\n    ? aPath\n    : normalize(aRoot.replace(/\\/+$/, '') + '/' + aPath);\n\n  if (aRootUrl) {\n    aRootUrl.path = joined;\n    return urlGenerate(aRootUrl);\n  }\n  return joined;\n}\nexports.join = join;\n\nexports.isAbsolute = function (aPath) {\n  return aPath.charAt(0) === '/' || urlRegexp.test(aPath);\n};\n\n/**\n * Make a path relative to a URL or another path.\n *\n * @param aRoot The root path or URL.\n * @param aPath The path or URL to be made relative to aRoot.\n */\nfunction relative(aRoot, aPath) {\n  if (aRoot === \"\") {\n    aRoot = \".\";\n  }\n\n  aRoot = aRoot.replace(/\\/$/, '');\n\n  // It is possible for the path to be above the root. In this case, simply\n  // checking whether the root is a prefix of the path won't work. Instead, we\n  // need to remove components from the root one by one, until either we find\n  // a prefix that fits, or we run out of components to remove.\n  var level = 0;\n  while (aPath.indexOf(aRoot + '/') !== 0) {\n    var index = aRoot.lastIndexOf(\"/\");\n    if (index < 0) {\n      return aPath;\n    }\n\n    // If the only part of the root that is left is the scheme (i.e. http://,\n    // file:///, etc.), one or more slashes (/), or simply nothing at all, we\n    // have exhausted all components, so the path is not relative to the root.\n    aRoot = aRoot.slice(0, index);\n    if (aRoot.match(/^([^\\/]+:\\/)?\\/*$/)) {\n      return aPath;\n    }\n\n    ++level;\n  }\n\n  // Make sure we add a \"../\" for each component we removed from the root.\n  return Array(level + 1).join(\"../\") + aPath.substr(aRoot.length + 1);\n}\nexports.relative = relative;\n\nvar supportsNullProto = (function () {\n  var obj = Object.create(null);\n  return !('__proto__' in obj);\n}());\n\nfunction identity (s) {\n  return s;\n}\n\n/**\n * Because behavior goes wacky when you set `__proto__` on objects, we\n * have to prefix all the strings in our set with an arbitrary character.\n *\n * See https://github.com/mozilla/source-map/pull/31 and\n * https://github.com/mozilla/source-map/issues/30\n *\n * @param String aStr\n */\nfunction toSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return '$' + aStr;\n  }\n\n  return aStr;\n}\nexports.toSetString = supportsNullProto ? identity : toSetString;\n\nfunction fromSetString(aStr) {\n  if (isProtoString(aStr)) {\n    return aStr.slice(1);\n  }\n\n  return aStr;\n}\nexports.fromSetString = supportsNullProto ? identity : fromSetString;\n\nfunction isProtoString(s) {\n  if (!s) {\n    return false;\n  }\n\n  var length = s.length;\n\n  if (length < 9 /* \"__proto__\".length */) {\n    return false;\n  }\n\n  if (s.charCodeAt(length - 1) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 2) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 3) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 4) !== 116 /* 't' */ ||\n      s.charCodeAt(length - 5) !== 111 /* 'o' */ ||\n      s.charCodeAt(length - 6) !== 114 /* 'r' */ ||\n      s.charCodeAt(length - 7) !== 112 /* 'p' */ ||\n      s.charCodeAt(length - 8) !== 95  /* '_' */ ||\n      s.charCodeAt(length - 9) !== 95  /* '_' */) {\n    return false;\n  }\n\n  for (var i = length - 10; i >= 0; i--) {\n    if (s.charCodeAt(i) !== 36 /* '$' */) {\n      return false;\n    }\n  }\n\n  return true;\n}\n\n/**\n * Comparator between two mappings where the original positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same original source/line/column, but different generated\n * line and column the same. Useful when searching for a mapping with a\n * stubbed out mapping.\n */\nfunction compareByOriginalPositions(mappingA, mappingB, onlyCompareOriginal) {\n  var cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0 || onlyCompareOriginal) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByOriginalPositions = compareByOriginalPositions;\n\n/**\n * Comparator between two mappings with deflated source and name indices where\n * the generated positions are compared.\n *\n * Optionally pass in `true` as `onlyCompareGenerated` to consider two\n * mappings with the same generated line and column, but different\n * source/name/original line and column the same. Useful when searching for a\n * mapping with a stubbed out mapping.\n */\nfunction compareByGeneratedPositionsDeflated(mappingA, mappingB, onlyCompareGenerated) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0 || onlyCompareGenerated) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsDeflated = compareByGeneratedPositionsDeflated;\n\nfunction strcmp(aStr1, aStr2) {\n  if (aStr1 === aStr2) {\n    return 0;\n  }\n\n  if (aStr1 === null) {\n    return 1; // aStr2 !== null\n  }\n\n  if (aStr2 === null) {\n    return -1; // aStr1 !== null\n  }\n\n  if (aStr1 > aStr2) {\n    return 1;\n  }\n\n  return -1;\n}\n\n/**\n * Comparator between two mappings with inflated source and name strings where\n * the generated positions are compared.\n */\nfunction compareByGeneratedPositionsInflated(mappingA, mappingB) {\n  var cmp = mappingA.generatedLine - mappingB.generatedLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.generatedColumn - mappingB.generatedColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = strcmp(mappingA.source, mappingB.source);\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalLine - mappingB.originalLine;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  cmp = mappingA.originalColumn - mappingB.originalColumn;\n  if (cmp !== 0) {\n    return cmp;\n  }\n\n  return strcmp(mappingA.name, mappingB.name);\n}\nexports.compareByGeneratedPositionsInflated = compareByGeneratedPositionsInflated;\n\n/**\n * Strip any JSON XSSI avoidance prefix from the string (as documented\n * in the source maps specification), and then parse the string as\n * JSON.\n */\nfunction parseSourceMapInput(str) {\n  return JSON.parse(str.replace(/^\\)]}'[^\\n]*\\n/, ''));\n}\nexports.parseSourceMapInput = parseSourceMapInput;\n\n/**\n * Compute the URL of a source given the the source root, the source's\n * URL, and the source map's URL.\n */\nfunction computeSourceURL(sourceRoot, sourceURL, sourceMapURL) {\n  sourceURL = sourceURL || '';\n\n  if (sourceRoot) {\n    // This follows what Chrome does.\n    if (sourceRoot[sourceRoot.length - 1] !== '/' && sourceURL[0] !== '/') {\n      sourceRoot += '/';\n    }\n    // The spec says:\n    //   Line 4: An optional source root, useful for relocating source\n    //   files on a server or removing repeated values in the\n    //   \u201Csources\u201D entry.  This value is prepended to the individual\n    //   entries in the \u201Csource\u201D field.\n    sourceURL = sourceRoot + sourceURL;\n  }\n\n  // Historically, SourceMapConsumer did not take the sourceMapURL as\n  // a parameter.  This mode is still somewhat supported, which is why\n  // this code block is conditional.  However, it's preferable to pass\n  // the source map URL to SourceMapConsumer, so that this function\n  // can implement the source URL resolution algorithm as outlined in\n  // the spec.  This block is basically the equivalent of:\n  //    new URL(sourceURL, sourceMapURL).toString()\n  // ... except it avoids using URL, which wasn't available in the\n  // older releases of node still supported by this library.\n  //\n  // The spec says:\n  //   If the sources are not absolute URLs after prepending of the\n  //   \u201CsourceRoot\u201D, the sources are resolved relative to the\n  //   SourceMap (like resolving script src in a html document).\n  if (sourceMapURL) {\n    var parsed = urlParse(sourceMapURL);\n    if (!parsed) {\n      throw new Error(\"sourceMapURL could not be parsed\");\n    }\n    if (parsed.path) {\n      // Strip the last path component, but keep the \"/\".\n      var index = parsed.path.lastIndexOf('/');\n      if (index >= 0) {\n        parsed.path = parsed.path.substring(0, index + 1);\n      }\n    }\n    sourceURL = join(urlGenerate(parsed), sourceURL);\n  }\n\n  return normalize(sourceURL);\n}\nexports.computeSourceURL = computeSourceURL;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar has = Object.prototype.hasOwnProperty;\nvar hasNativeMap = typeof Map !== \"undefined\";\n\n/**\n * A data structure which is a combination of an array and a set. Adding a new\n * member is O(1), testing for membership is O(1), and finding the index of an\n * element is O(1). Removing elements from the set is not supported. Only\n * strings are supported for membership.\n */\nfunction ArraySet() {\n  this._array = [];\n  this._set = hasNativeMap ? new Map() : Object.create(null);\n}\n\n/**\n * Static method for creating ArraySet instances from an existing array.\n */\nArraySet.fromArray = function ArraySet_fromArray(aArray, aAllowDuplicates) {\n  var set = new ArraySet();\n  for (var i = 0, len = aArray.length; i < len; i++) {\n    set.add(aArray[i], aAllowDuplicates);\n  }\n  return set;\n};\n\n/**\n * Return how many unique items are in this ArraySet. If duplicates have been\n * added, than those do not count towards the size.\n *\n * @returns Number\n */\nArraySet.prototype.size = function ArraySet_size() {\n  return hasNativeMap ? this._set.size : Object.getOwnPropertyNames(this._set).length;\n};\n\n/**\n * Add the given string to this set.\n *\n * @param String aStr\n */\nArraySet.prototype.add = function ArraySet_add(aStr, aAllowDuplicates) {\n  var sStr = hasNativeMap ? aStr : util.toSetString(aStr);\n  var isDuplicate = hasNativeMap ? this.has(aStr) : has.call(this._set, sStr);\n  var idx = this._array.length;\n  if (!isDuplicate || aAllowDuplicates) {\n    this._array.push(aStr);\n  }\n  if (!isDuplicate) {\n    if (hasNativeMap) {\n      this._set.set(aStr, idx);\n    } else {\n      this._set[sStr] = idx;\n    }\n  }\n};\n\n/**\n * Is the given string a member of this set?\n *\n * @param String aStr\n */\nArraySet.prototype.has = function ArraySet_has(aStr) {\n  if (hasNativeMap) {\n    return this._set.has(aStr);\n  } else {\n    var sStr = util.toSetString(aStr);\n    return has.call(this._set, sStr);\n  }\n};\n\n/**\n * What is the index of the given string in the array?\n *\n * @param String aStr\n */\nArraySet.prototype.indexOf = function ArraySet_indexOf(aStr) {\n  if (hasNativeMap) {\n    var idx = this._set.get(aStr);\n    if (idx >= 0) {\n        return idx;\n    }\n  } else {\n    var sStr = util.toSetString(aStr);\n    if (has.call(this._set, sStr)) {\n      return this._set[sStr];\n    }\n  }\n\n  throw new Error('\"' + aStr + '\" is not in the set.');\n};\n\n/**\n * What is the element at the given index?\n *\n * @param Number aIdx\n */\nArraySet.prototype.at = function ArraySet_at(aIdx) {\n  if (aIdx >= 0 && aIdx < this._array.length) {\n    return this._array[aIdx];\n  }\n  throw new Error('No element indexed by ' + aIdx);\n};\n\n/**\n * Returns the array representation of this set (which has the proper indices\n * indicated by indexOf). Note that this is a copy of the internal array used\n * for storing the members so that no one can mess with internal state.\n */\nArraySet.prototype.toArray = function ArraySet_toArray() {\n  return this._array.slice();\n};\n\nexports.ArraySet = ArraySet;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2014 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\n\n/**\n * Determine whether mappingB is after mappingA with respect to generated\n * position.\n */\nfunction generatedPositionAfter(mappingA, mappingB) {\n  // Optimized for most common case\n  var lineA = mappingA.generatedLine;\n  var lineB = mappingB.generatedLine;\n  var columnA = mappingA.generatedColumn;\n  var columnB = mappingB.generatedColumn;\n  return lineB > lineA || lineB == lineA && columnB >= columnA ||\n         util.compareByGeneratedPositionsInflated(mappingA, mappingB) <= 0;\n}\n\n/**\n * A data structure to provide a sorted view of accumulated mappings in a\n * performance conscious manner. It trades a neglibable overhead in general\n * case for a large speedup in case of mappings being added in order.\n */\nfunction MappingList() {\n  this._array = [];\n  this._sorted = true;\n  // Serves as infimum\n  this._last = {generatedLine: -1, generatedColumn: 0};\n}\n\n/**\n * Iterate through internal items. This method takes the same arguments that\n * `Array.prototype.forEach` takes.\n *\n * NOTE: The order of the mappings is NOT guaranteed.\n */\nMappingList.prototype.unsortedForEach =\n  function MappingList_forEach(aCallback, aThisArg) {\n    this._array.forEach(aCallback, aThisArg);\n  };\n\n/**\n * Add the given source mapping.\n *\n * @param Object aMapping\n */\nMappingList.prototype.add = function MappingList_add(aMapping) {\n  if (generatedPositionAfter(this._last, aMapping)) {\n    this._last = aMapping;\n    this._array.push(aMapping);\n  } else {\n    this._sorted = false;\n    this._array.push(aMapping);\n  }\n};\n\n/**\n * Returns the flat, sorted array of mappings. The mappings are sorted by\n * generated position.\n *\n * WARNING: This method returns internal data without copying, for\n * performance. The return value must NOT be mutated, and should be treated as\n * an immutable borrow. If you want to take ownership, you must make your own\n * copy.\n */\nMappingList.prototype.toArray = function MappingList_toArray() {\n  if (!this._sorted) {\n    this._array.sort(util.compareByGeneratedPositionsInflated);\n    this._sorted = true;\n  }\n  return this._array;\n};\n\nexports.MappingList = MappingList;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar base64VLQ = require('./base64-vlq');\nvar util = require('./util');\nvar ArraySet = require('./array-set').ArraySet;\nvar MappingList = require('./mapping-list').MappingList;\n\n/**\n * An instance of the SourceMapGenerator represents a source map which is\n * being built incrementally. You may pass an object with the following\n * properties:\n *\n *   - file: The filename of the generated source.\n *   - sourceRoot: A root for all relative URLs in this source map.\n */\nfunction SourceMapGenerator(aArgs) {\n  if (!aArgs) {\n    aArgs = {};\n  }\n  this._file = util.getArg(aArgs, 'file', null);\n  this._sourceRoot = util.getArg(aArgs, 'sourceRoot', null);\n  this._skipValidation = util.getArg(aArgs, 'skipValidation', false);\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n  this._mappings = new MappingList();\n  this._sourcesContents = null;\n}\n\nSourceMapGenerator.prototype._version = 3;\n\n/**\n * Creates a new SourceMapGenerator based on a SourceMapConsumer\n *\n * @param aSourceMapConsumer The SourceMap.\n */\nSourceMapGenerator.fromSourceMap =\n  function SourceMapGenerator_fromSourceMap(aSourceMapConsumer) {\n    var sourceRoot = aSourceMapConsumer.sourceRoot;\n    var generator = new SourceMapGenerator({\n      file: aSourceMapConsumer.file,\n      sourceRoot: sourceRoot\n    });\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      var newMapping = {\n        generated: {\n          line: mapping.generatedLine,\n          column: mapping.generatedColumn\n        }\n      };\n\n      if (mapping.source != null) {\n        newMapping.source = mapping.source;\n        if (sourceRoot != null) {\n          newMapping.source = util.relative(sourceRoot, newMapping.source);\n        }\n\n        newMapping.original = {\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        };\n\n        if (mapping.name != null) {\n          newMapping.name = mapping.name;\n        }\n      }\n\n      generator.addMapping(newMapping);\n    });\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var sourceRelative = sourceFile;\n      if (sourceRoot !== null) {\n        sourceRelative = util.relative(sourceRoot, sourceFile);\n      }\n\n      if (!generator._sources.has(sourceRelative)) {\n        generator._sources.add(sourceRelative);\n      }\n\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        generator.setSourceContent(sourceFile, content);\n      }\n    });\n    return generator;\n  };\n\n/**\n * Add a single mapping from original source line and column to the generated\n * source's line and column for this source map being created. The mapping\n * object should have the following properties:\n *\n *   - generated: An object with the generated line and column positions.\n *   - original: An object with the original line and column positions.\n *   - source: The original source file (relative to the sourceRoot).\n *   - name: An optional original token name for this mapping.\n */\nSourceMapGenerator.prototype.addMapping =\n  function SourceMapGenerator_addMapping(aArgs) {\n    var generated = util.getArg(aArgs, 'generated');\n    var original = util.getArg(aArgs, 'original', null);\n    var source = util.getArg(aArgs, 'source', null);\n    var name = util.getArg(aArgs, 'name', null);\n\n    if (!this._skipValidation) {\n      this._validateMapping(generated, original, source, name);\n    }\n\n    if (source != null) {\n      source = String(source);\n      if (!this._sources.has(source)) {\n        this._sources.add(source);\n      }\n    }\n\n    if (name != null) {\n      name = String(name);\n      if (!this._names.has(name)) {\n        this._names.add(name);\n      }\n    }\n\n    this._mappings.add({\n      generatedLine: generated.line,\n      generatedColumn: generated.column,\n      originalLine: original != null && original.line,\n      originalColumn: original != null && original.column,\n      source: source,\n      name: name\n    });\n  };\n\n/**\n * Set the source content for a source file.\n */\nSourceMapGenerator.prototype.setSourceContent =\n  function SourceMapGenerator_setSourceContent(aSourceFile, aSourceContent) {\n    var source = aSourceFile;\n    if (this._sourceRoot != null) {\n      source = util.relative(this._sourceRoot, source);\n    }\n\n    if (aSourceContent != null) {\n      // Add the source content to the _sourcesContents map.\n      // Create a new _sourcesContents map if the property is null.\n      if (!this._sourcesContents) {\n        this._sourcesContents = Object.create(null);\n      }\n      this._sourcesContents[util.toSetString(source)] = aSourceContent;\n    } else if (this._sourcesContents) {\n      // Remove the source file from the _sourcesContents map.\n      // If the _sourcesContents map is empty, set the property to null.\n      delete this._sourcesContents[util.toSetString(source)];\n      if (Object.keys(this._sourcesContents).length === 0) {\n        this._sourcesContents = null;\n      }\n    }\n  };\n\n/**\n * Applies the mappings of a sub-source-map for a specific source file to the\n * source map being generated. Each mapping to the supplied source file is\n * rewritten using the supplied source map. Note: The resolution for the\n * resulting mappings is the minimium of this map and the supplied map.\n *\n * @param aSourceMapConsumer The source map to be applied.\n * @param aSourceFile Optional. The filename of the source file.\n *        If omitted, SourceMapConsumer's file property will be used.\n * @param aSourceMapPath Optional. The dirname of the path to the source map\n *        to be applied. If relative, it is relative to the SourceMapConsumer.\n *        This parameter is needed when the two source maps aren't in the same\n *        directory, and the source map to be applied contains relative source\n *        paths. If so, those relative source paths need to be rewritten\n *        relative to the SourceMapGenerator.\n */\nSourceMapGenerator.prototype.applySourceMap =\n  function SourceMapGenerator_applySourceMap(aSourceMapConsumer, aSourceFile, aSourceMapPath) {\n    var sourceFile = aSourceFile;\n    // If aSourceFile is omitted, we will use the file property of the SourceMap\n    if (aSourceFile == null) {\n      if (aSourceMapConsumer.file == null) {\n        throw new Error(\n          'SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, ' +\n          'or the source map\\'s \"file\" property. Both were omitted.'\n        );\n      }\n      sourceFile = aSourceMapConsumer.file;\n    }\n    var sourceRoot = this._sourceRoot;\n    // Make \"sourceFile\" relative if an absolute Url is passed.\n    if (sourceRoot != null) {\n      sourceFile = util.relative(sourceRoot, sourceFile);\n    }\n    // Applying the SourceMap can add and remove items from the sources and\n    // the names array.\n    var newSources = new ArraySet();\n    var newNames = new ArraySet();\n\n    // Find mappings for the \"sourceFile\"\n    this._mappings.unsortedForEach(function (mapping) {\n      if (mapping.source === sourceFile && mapping.originalLine != null) {\n        // Check if it can be mapped by the source map, then update the mapping.\n        var original = aSourceMapConsumer.originalPositionFor({\n          line: mapping.originalLine,\n          column: mapping.originalColumn\n        });\n        if (original.source != null) {\n          // Copy mapping\n          mapping.source = original.source;\n          if (aSourceMapPath != null) {\n            mapping.source = util.join(aSourceMapPath, mapping.source)\n          }\n          if (sourceRoot != null) {\n            mapping.source = util.relative(sourceRoot, mapping.source);\n          }\n          mapping.originalLine = original.line;\n          mapping.originalColumn = original.column;\n          if (original.name != null) {\n            mapping.name = original.name;\n          }\n        }\n      }\n\n      var source = mapping.source;\n      if (source != null && !newSources.has(source)) {\n        newSources.add(source);\n      }\n\n      var name = mapping.name;\n      if (name != null && !newNames.has(name)) {\n        newNames.add(name);\n      }\n\n    }, this);\n    this._sources = newSources;\n    this._names = newNames;\n\n    // Copy sourcesContents of applied map.\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aSourceMapPath != null) {\n          sourceFile = util.join(aSourceMapPath, sourceFile);\n        }\n        if (sourceRoot != null) {\n          sourceFile = util.relative(sourceRoot, sourceFile);\n        }\n        this.setSourceContent(sourceFile, content);\n      }\n    }, this);\n  };\n\n/**\n * A mapping can have one of the three levels of data:\n *\n *   1. Just the generated position.\n *   2. The Generated position, original position, and original source.\n *   3. Generated and original position, original source, as well as a name\n *      token.\n *\n * To maintain consistency, we validate that any new mapping being added falls\n * in to one of these categories.\n */\nSourceMapGenerator.prototype._validateMapping =\n  function SourceMapGenerator_validateMapping(aGenerated, aOriginal, aSource,\n                                              aName) {\n    // When aOriginal is truthy but has empty values for .line and .column,\n    // it is most likely a programmer error. In this case we throw a very\n    // specific error message to try to guide them the right way.\n    // For example: https://github.com/Polymer/polymer-bundler/pull/519\n    if (aOriginal && typeof aOriginal.line !== 'number' && typeof aOriginal.column !== 'number') {\n        throw new Error(\n            'original.line and original.column are not numbers -- you probably meant to omit ' +\n            'the original mapping entirely and only map the generated position. If so, pass ' +\n            'null for the original mapping instead of an object with empty or null values.'\n        );\n    }\n\n    if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n        && aGenerated.line > 0 && aGenerated.column >= 0\n        && !aOriginal && !aSource && !aName) {\n      // Case 1.\n      return;\n    }\n    else if (aGenerated && 'line' in aGenerated && 'column' in aGenerated\n             && aOriginal && 'line' in aOriginal && 'column' in aOriginal\n             && aGenerated.line > 0 && aGenerated.column >= 0\n             && aOriginal.line > 0 && aOriginal.column >= 0\n             && aSource) {\n      // Cases 2 and 3.\n      return;\n    }\n    else {\n      throw new Error('Invalid mapping: ' + JSON.stringify({\n        generated: aGenerated,\n        source: aSource,\n        original: aOriginal,\n        name: aName\n      }));\n    }\n  };\n\n/**\n * Serialize the accumulated mappings in to the stream of base 64 VLQs\n * specified by the source map format.\n */\nSourceMapGenerator.prototype._serializeMappings =\n  function SourceMapGenerator_serializeMappings() {\n    var previousGeneratedColumn = 0;\n    var previousGeneratedLine = 1;\n    var previousOriginalColumn = 0;\n    var previousOriginalLine = 0;\n    var previousName = 0;\n    var previousSource = 0;\n    var result = '';\n    var next;\n    var mapping;\n    var nameIdx;\n    var sourceIdx;\n\n    var mappings = this._mappings.toArray();\n    for (var i = 0, len = mappings.length; i < len; i++) {\n      mapping = mappings[i];\n      next = ''\n\n      if (mapping.generatedLine !== previousGeneratedLine) {\n        previousGeneratedColumn = 0;\n        while (mapping.generatedLine !== previousGeneratedLine) {\n          next += ';';\n          previousGeneratedLine++;\n        }\n      }\n      else {\n        if (i > 0) {\n          if (!util.compareByGeneratedPositionsInflated(mapping, mappings[i - 1])) {\n            continue;\n          }\n          next += ',';\n        }\n      }\n\n      next += base64VLQ.encode(mapping.generatedColumn\n                                 - previousGeneratedColumn);\n      previousGeneratedColumn = mapping.generatedColumn;\n\n      if (mapping.source != null) {\n        sourceIdx = this._sources.indexOf(mapping.source);\n        next += base64VLQ.encode(sourceIdx - previousSource);\n        previousSource = sourceIdx;\n\n        // lines are stored 0-based in SourceMap spec version 3\n        next += base64VLQ.encode(mapping.originalLine - 1\n                                   - previousOriginalLine);\n        previousOriginalLine = mapping.originalLine - 1;\n\n        next += base64VLQ.encode(mapping.originalColumn\n                                   - previousOriginalColumn);\n        previousOriginalColumn = mapping.originalColumn;\n\n        if (mapping.name != null) {\n          nameIdx = this._names.indexOf(mapping.name);\n          next += base64VLQ.encode(nameIdx - previousName);\n          previousName = nameIdx;\n        }\n      }\n\n      result += next;\n    }\n\n    return result;\n  };\n\nSourceMapGenerator.prototype._generateSourcesContent =\n  function SourceMapGenerator_generateSourcesContent(aSources, aSourceRoot) {\n    return aSources.map(function (source) {\n      if (!this._sourcesContents) {\n        return null;\n      }\n      if (aSourceRoot != null) {\n        source = util.relative(aSourceRoot, source);\n      }\n      var key = util.toSetString(source);\n      return Object.prototype.hasOwnProperty.call(this._sourcesContents, key)\n        ? this._sourcesContents[key]\n        : null;\n    }, this);\n  };\n\n/**\n * Externalize the source map.\n */\nSourceMapGenerator.prototype.toJSON =\n  function SourceMapGenerator_toJSON() {\n    var map = {\n      version: this._version,\n      sources: this._sources.toArray(),\n      names: this._names.toArray(),\n      mappings: this._serializeMappings()\n    };\n    if (this._file != null) {\n      map.file = this._file;\n    }\n    if (this._sourceRoot != null) {\n      map.sourceRoot = this._sourceRoot;\n    }\n    if (this._sourcesContents) {\n      map.sourcesContent = this._generateSourcesContent(map.sources, map.sourceRoot);\n    }\n\n    return map;\n  };\n\n/**\n * Render the source map being generated to a string.\n */\nSourceMapGenerator.prototype.toString =\n  function SourceMapGenerator_toString() {\n    return JSON.stringify(this.toJSON());\n  };\n\nexports.SourceMapGenerator = SourceMapGenerator;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nexports.GREATEST_LOWER_BOUND = 1;\nexports.LEAST_UPPER_BOUND = 2;\n\n/**\n * Recursive implementation of binary search.\n *\n * @param aLow Indices here and lower do not contain the needle.\n * @param aHigh Indices here and higher do not contain the needle.\n * @param aNeedle The element being searched for.\n * @param aHaystack The non-empty array being searched.\n * @param aCompare Function which takes two elements and returns -1, 0, or 1.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n */\nfunction recursiveSearch(aLow, aHigh, aNeedle, aHaystack, aCompare, aBias) {\n  // This function terminates when one of the following is true:\n  //\n  //   1. We find the exact element we are looking for.\n  //\n  //   2. We did not find the exact element, but we can return the index of\n  //      the next-closest element.\n  //\n  //   3. We did not find the exact element, and there is no next-closest\n  //      element than the one we are searching for, so we return -1.\n  var mid = Math.floor((aHigh - aLow) / 2) + aLow;\n  var cmp = aCompare(aNeedle, aHaystack[mid], true);\n  if (cmp === 0) {\n    // Found the element we are looking for.\n    return mid;\n  }\n  else if (cmp > 0) {\n    // Our needle is greater than aHaystack[mid].\n    if (aHigh - mid > 1) {\n      // The element is in the upper half.\n      return recursiveSearch(mid, aHigh, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // The exact needle element was not found in this haystack. Determine if\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return aHigh < aHaystack.length ? aHigh : -1;\n    } else {\n      return mid;\n    }\n  }\n  else {\n    // Our needle is less than aHaystack[mid].\n    if (mid - aLow > 1) {\n      // The element is in the lower half.\n      return recursiveSearch(aLow, mid, aNeedle, aHaystack, aCompare, aBias);\n    }\n\n    // we are in termination case (3) or (2) and return the appropriate thing.\n    if (aBias == exports.LEAST_UPPER_BOUND) {\n      return mid;\n    } else {\n      return aLow < 0 ? -1 : aLow;\n    }\n  }\n}\n\n/**\n * This is an implementation of binary search which will always try and return\n * the index of the closest element if there is no exact hit. This is because\n * mappings between original and generated line/col pairs are single points,\n * and there is an implicit region between each of them, so a miss just means\n * that you aren't on the very start of a region.\n *\n * @param aNeedle The element you are looking for.\n * @param aHaystack The array that is being searched.\n * @param aCompare A function which takes the needle and an element in the\n *     array and returns -1, 0, or 1 depending on whether the needle is less\n *     than, equal to, or greater than the element, respectively.\n * @param aBias Either 'binarySearch.GREATEST_LOWER_BOUND' or\n *     'binarySearch.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'binarySearch.GREATEST_LOWER_BOUND'.\n */\nexports.search = function search(aNeedle, aHaystack, aCompare, aBias) {\n  if (aHaystack.length === 0) {\n    return -1;\n  }\n\n  var index = recursiveSearch(-1, aHaystack.length, aNeedle, aHaystack,\n                              aCompare, aBias || exports.GREATEST_LOWER_BOUND);\n  if (index < 0) {\n    return -1;\n  }\n\n  // We have found either the exact element, or the next-closest element than\n  // the one we are searching for. However, there may be more than one such\n  // element. Make sure we always return the smallest of these.\n  while (index - 1 >= 0) {\n    if (aCompare(aHaystack[index], aHaystack[index - 1], true) !== 0) {\n      break;\n    }\n    --index;\n  }\n\n  return index;\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\n// It turns out that some (most?) JavaScript engines don't self-host\n// `Array.prototype.sort`. This makes sense because C++ will likely remain\n// faster than JS when doing raw CPU-intensive sorting. However, when using a\n// custom comparator function, calling back and forth between the VM's C++ and\n// JIT'd JS is rather slow *and* loses JIT type information, resulting in\n// worse generated code for the comparator function than would be optimal. In\n// fact, when sorting with a comparator, these costs outweigh the benefits of\n// sorting in C++. By using our own JS-implemented Quick Sort (below), we get\n// a ~3500ms mean speed-up in `bench/bench.html`.\n\n/**\n * Swap the elements indexed by `x` and `y` in the array `ary`.\n *\n * @param {Array} ary\n *        The array.\n * @param {Number} x\n *        The index of the first item.\n * @param {Number} y\n *        The index of the second item.\n */\nfunction swap(ary, x, y) {\n  var temp = ary[x];\n  ary[x] = ary[y];\n  ary[y] = temp;\n}\n\n/**\n * Returns a random integer within the range `low .. high` inclusive.\n *\n * @param {Number} low\n *        The lower bound on the range.\n * @param {Number} high\n *        The upper bound on the range.\n */\nfunction randomIntInRange(low, high) {\n  return Math.round(low + (Math.random() * (high - low)));\n}\n\n/**\n * The Quick Sort algorithm.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n * @param {Number} p\n *        Start index of the array\n * @param {Number} r\n *        End index of the array\n */\nfunction doQuickSort(ary, comparator, p, r) {\n  // If our lower bound is less than our upper bound, we (1) partition the\n  // array into two pieces and (2) recurse on each half. If it is not, this is\n  // the empty array and our base case.\n\n  if (p < r) {\n    // (1) Partitioning.\n    //\n    // The partitioning chooses a pivot between `p` and `r` and moves all\n    // elements that are less than or equal to the pivot to the before it, and\n    // all the elements that are greater than it after it. The effect is that\n    // once partition is done, the pivot is in the exact place it will be when\n    // the array is put in sorted order, and it will not need to be moved\n    // again. This runs in O(n) time.\n\n    // Always choose a random pivot so that an input array which is reverse\n    // sorted does not cause O(n^2) running time.\n    var pivotIndex = randomIntInRange(p, r);\n    var i = p - 1;\n\n    swap(ary, pivotIndex, r);\n    var pivot = ary[r];\n\n    // Immediately after `j` is incremented in this loop, the following hold\n    // true:\n    //\n    //   * Every element in `ary[p .. i]` is less than or equal to the pivot.\n    //\n    //   * Every element in `ary[i+1 .. j-1]` is greater than the pivot.\n    for (var j = p; j < r; j++) {\n      if (comparator(ary[j], pivot) <= 0) {\n        i += 1;\n        swap(ary, i, j);\n      }\n    }\n\n    swap(ary, i + 1, j);\n    var q = i + 1;\n\n    // (2) Recurse on each half.\n\n    doQuickSort(ary, comparator, p, q - 1);\n    doQuickSort(ary, comparator, q + 1, r);\n  }\n}\n\n/**\n * Sort the given array in-place with the given comparator function.\n *\n * @param {Array} ary\n *        An array to sort.\n * @param {function} comparator\n *        Function to use to compare two items.\n */\nexports.quickSort = function (ary, comparator) {\n  doQuickSort(ary, comparator, 0, ary.length - 1);\n};\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar util = require('./util');\nvar binarySearch = require('./binary-search');\nvar ArraySet = require('./array-set').ArraySet;\nvar base64VLQ = require('./base64-vlq');\nvar quickSort = require('./quick-sort').quickSort;\n\nfunction SourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  return sourceMap.sections != null\n    ? new IndexedSourceMapConsumer(sourceMap, aSourceMapURL)\n    : new BasicSourceMapConsumer(sourceMap, aSourceMapURL);\n}\n\nSourceMapConsumer.fromSourceMap = function(aSourceMap, aSourceMapURL) {\n  return BasicSourceMapConsumer.fromSourceMap(aSourceMap, aSourceMapURL);\n}\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nSourceMapConsumer.prototype._version = 3;\n\n// `__generatedMappings` and `__originalMappings` are arrays that hold the\n// parsed mapping coordinates from the source map's \"mappings\" attribute. They\n// are lazily instantiated, accessed via the `_generatedMappings` and\n// `_originalMappings` getters respectively, and we only parse the mappings\n// and create these arrays once queried for a source location. We jump through\n// these hoops because there can be many thousands of mappings, and parsing\n// them is expensive, so we only want to do it if we must.\n//\n// Each object in the arrays is of the form:\n//\n//     {\n//       generatedLine: The line number in the generated code,\n//       generatedColumn: The column number in the generated code,\n//       source: The path to the original source file that generated this\n//               chunk of code,\n//       originalLine: The line number in the original source that\n//                     corresponds to this chunk of generated code,\n//       originalColumn: The column number in the original source that\n//                       corresponds to this chunk of generated code,\n//       name: The name of the original symbol which generated this chunk of\n//             code.\n//     }\n//\n// All properties except for `generatedLine` and `generatedColumn` can be\n// `null`.\n//\n// `_generatedMappings` is ordered by the generated positions.\n//\n// `_originalMappings` is ordered by the original positions.\n\nSourceMapConsumer.prototype.__generatedMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_generatedMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__generatedMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__generatedMappings;\n  }\n});\n\nSourceMapConsumer.prototype.__originalMappings = null;\nObject.defineProperty(SourceMapConsumer.prototype, '_originalMappings', {\n  configurable: true,\n  enumerable: true,\n  get: function () {\n    if (!this.__originalMappings) {\n      this._parseMappings(this._mappings, this.sourceRoot);\n    }\n\n    return this.__originalMappings;\n  }\n});\n\nSourceMapConsumer.prototype._charIsMappingSeparator =\n  function SourceMapConsumer_charIsMappingSeparator(aStr, index) {\n    var c = aStr.charAt(index);\n    return c === \";\" || c === \",\";\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    throw new Error(\"Subclasses must implement _parseMappings\");\n  };\n\nSourceMapConsumer.GENERATED_ORDER = 1;\nSourceMapConsumer.ORIGINAL_ORDER = 2;\n\nSourceMapConsumer.GREATEST_LOWER_BOUND = 1;\nSourceMapConsumer.LEAST_UPPER_BOUND = 2;\n\n/**\n * Iterate over each mapping between an original source/line/column and a\n * generated line/column in this source map.\n *\n * @param Function aCallback\n *        The function that is called with each mapping.\n * @param Object aContext\n *        Optional. If specified, this object will be the value of `this` every\n *        time that `aCallback` is called.\n * @param aOrder\n *        Either `SourceMapConsumer.GENERATED_ORDER` or\n *        `SourceMapConsumer.ORIGINAL_ORDER`. Specifies whether you want to\n *        iterate over the mappings sorted by the generated file's line/column\n *        order or the original's source/line/column order, respectively. Defaults to\n *        `SourceMapConsumer.GENERATED_ORDER`.\n */\nSourceMapConsumer.prototype.eachMapping =\n  function SourceMapConsumer_eachMapping(aCallback, aContext, aOrder) {\n    var context = aContext || null;\n    var order = aOrder || SourceMapConsumer.GENERATED_ORDER;\n\n    var mappings;\n    switch (order) {\n    case SourceMapConsumer.GENERATED_ORDER:\n      mappings = this._generatedMappings;\n      break;\n    case SourceMapConsumer.ORIGINAL_ORDER:\n      mappings = this._originalMappings;\n      break;\n    default:\n      throw new Error(\"Unknown order of iteration.\");\n    }\n\n    var sourceRoot = this.sourceRoot;\n    mappings.map(function (mapping) {\n      var source = mapping.source === null ? null : this._sources.at(mapping.source);\n      source = util.computeSourceURL(sourceRoot, source, this._sourceMapURL);\n      return {\n        source: source,\n        generatedLine: mapping.generatedLine,\n        generatedColumn: mapping.generatedColumn,\n        originalLine: mapping.originalLine,\n        originalColumn: mapping.originalColumn,\n        name: mapping.name === null ? null : this._names.at(mapping.name)\n      };\n    }, this).forEach(aCallback, context);\n  };\n\n/**\n * Returns all generated line and column information for the original source,\n * line, and column provided. If no column is provided, returns all mappings\n * corresponding to a either the line we are searching for or the next\n * closest line that has any mappings. Otherwise, returns all mappings\n * corresponding to the given line and either the column we are searching for\n * or the next closest column that has any offsets.\n *\n * The only argument is an object with the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number is 1-based.\n *   - column: Optional. the column number in the original source.\n *    The column number is 0-based.\n *\n * and an array of objects is returned, each with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *    line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *    The column number is 0-based.\n */\nSourceMapConsumer.prototype.allGeneratedPositionsFor =\n  function SourceMapConsumer_allGeneratedPositionsFor(aArgs) {\n    var line = util.getArg(aArgs, 'line');\n\n    // When there is no exact match, BasicSourceMapConsumer.prototype._findMapping\n    // returns the index of the closest mapping less than the needle. By\n    // setting needle.originalColumn to 0, we thus find the last mapping for\n    // the given line, provided such a mapping exists.\n    var needle = {\n      source: util.getArg(aArgs, 'source'),\n      originalLine: line,\n      originalColumn: util.getArg(aArgs, 'column', 0)\n    };\n\n    needle.source = this._findSourceIndex(needle.source);\n    if (needle.source < 0) {\n      return [];\n    }\n\n    var mappings = [];\n\n    var index = this._findMapping(needle,\n                                  this._originalMappings,\n                                  \"originalLine\",\n                                  \"originalColumn\",\n                                  util.compareByOriginalPositions,\n                                  binarySearch.LEAST_UPPER_BOUND);\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (aArgs.column === undefined) {\n        var originalLine = mapping.originalLine;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we found. Since\n        // mappings are sorted, this is guaranteed to find all mappings for\n        // the line we found.\n        while (mapping && mapping.originalLine === originalLine) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      } else {\n        var originalColumn = mapping.originalColumn;\n\n        // Iterate until either we run out of mappings, or we run into\n        // a mapping for a different line than the one we were searching for.\n        // Since mappings are sorted, this is guaranteed to find all mappings for\n        // the line we are searching for.\n        while (mapping &&\n               mapping.originalLine === line &&\n               mapping.originalColumn == originalColumn) {\n          mappings.push({\n            line: util.getArg(mapping, 'generatedLine', null),\n            column: util.getArg(mapping, 'generatedColumn', null),\n            lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n          });\n\n          mapping = this._originalMappings[++index];\n        }\n      }\n    }\n\n    return mappings;\n  };\n\nexports.SourceMapConsumer = SourceMapConsumer;\n\n/**\n * A BasicSourceMapConsumer instance represents a parsed source map which we can\n * query for information about the original file positions by giving it a file\n * position in the generated source.\n *\n * The first parameter is the raw source map (either as a JSON string, or\n * already parsed to an object). According to the spec, source maps have the\n * following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - sources: An array of URLs to the original source files.\n *   - names: An array of identifiers which can be referrenced by individual mappings.\n *   - sourceRoot: Optional. The URL root from which all sources are relative.\n *   - sourcesContent: Optional. An array of contents of the original source files.\n *   - mappings: A string of base64 VLQs which contain the actual mappings.\n *   - file: Optional. The generated file this source map is associated with.\n *\n * Here is an example source map, taken from the source map spec[0]:\n *\n *     {\n *       version : 3,\n *       file: \"out.js\",\n *       sourceRoot : \"\",\n *       sources: [\"foo.js\", \"bar.js\"],\n *       names: [\"src\", \"maps\", \"are\", \"fun\"],\n *       mappings: \"AA,AB;;ABCDE;\"\n *     }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit?pli=1#\n */\nfunction BasicSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sources = util.getArg(sourceMap, 'sources');\n  // Sass 3.3 leaves out the 'names' array, so we deviate from the spec (which\n  // requires the array) to play nice here.\n  var names = util.getArg(sourceMap, 'names', []);\n  var sourceRoot = util.getArg(sourceMap, 'sourceRoot', null);\n  var sourcesContent = util.getArg(sourceMap, 'sourcesContent', null);\n  var mappings = util.getArg(sourceMap, 'mappings');\n  var file = util.getArg(sourceMap, 'file', null);\n\n  // Once again, Sass deviates from the spec and supplies the version as a\n  // string rather than a number, so we use loose equality checking here.\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  if (sourceRoot) {\n    sourceRoot = util.normalize(sourceRoot);\n  }\n\n  sources = sources\n    .map(String)\n    // Some source maps produce relative source paths like \"./foo.js\" instead of\n    // \"foo.js\".  Normalize these first so that future comparisons will succeed.\n    // See bugzil.la/1090768.\n    .map(util.normalize)\n    // Always ensure that absolute sources are internally stored relative to\n    // the source root, if the source root is absolute. Not doing this would\n    // be particularly problematic when the source root is a prefix of the\n    // source (valid, but why??). See github issue #199 and bugzil.la/1188982.\n    .map(function (source) {\n      return sourceRoot && util.isAbsolute(sourceRoot) && util.isAbsolute(source)\n        ? util.relative(sourceRoot, source)\n        : source;\n    });\n\n  // Pass `true` below to allow duplicate names and sources. While source maps\n  // are intended to be compressed and deduplicated, the TypeScript compiler\n  // sometimes generates source maps with duplicates in them. See Github issue\n  // #72 and bugzil.la/889492.\n  this._names = ArraySet.fromArray(names.map(String), true);\n  this._sources = ArraySet.fromArray(sources, true);\n\n  this._absoluteSources = this._sources.toArray().map(function (s) {\n    return util.computeSourceURL(sourceRoot, s, aSourceMapURL);\n  });\n\n  this.sourceRoot = sourceRoot;\n  this.sourcesContent = sourcesContent;\n  this._mappings = mappings;\n  this._sourceMapURL = aSourceMapURL;\n  this.file = file;\n}\n\nBasicSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nBasicSourceMapConsumer.prototype.consumer = SourceMapConsumer;\n\n/**\n * Utility function to find the index of a source.  Returns -1 if not\n * found.\n */\nBasicSourceMapConsumer.prototype._findSourceIndex = function(aSource) {\n  var relativeSource = aSource;\n  if (this.sourceRoot != null) {\n    relativeSource = util.relative(this.sourceRoot, relativeSource);\n  }\n\n  if (this._sources.has(relativeSource)) {\n    return this._sources.indexOf(relativeSource);\n  }\n\n  // Maybe aSource is an absolute URL as returned by |sources|.  In\n  // this case we can't simply undo the transform.\n  var i;\n  for (i = 0; i < this._absoluteSources.length; ++i) {\n    if (this._absoluteSources[i] == aSource) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n\n/**\n * Create a BasicSourceMapConsumer from a SourceMapGenerator.\n *\n * @param SourceMapGenerator aSourceMap\n *        The source map that will be consumed.\n * @param String aSourceMapURL\n *        The URL at which the source map can be found (optional)\n * @returns BasicSourceMapConsumer\n */\nBasicSourceMapConsumer.fromSourceMap =\n  function SourceMapConsumer_fromSourceMap(aSourceMap, aSourceMapURL) {\n    var smc = Object.create(BasicSourceMapConsumer.prototype);\n\n    var names = smc._names = ArraySet.fromArray(aSourceMap._names.toArray(), true);\n    var sources = smc._sources = ArraySet.fromArray(aSourceMap._sources.toArray(), true);\n    smc.sourceRoot = aSourceMap._sourceRoot;\n    smc.sourcesContent = aSourceMap._generateSourcesContent(smc._sources.toArray(),\n                                                            smc.sourceRoot);\n    smc.file = aSourceMap._file;\n    smc._sourceMapURL = aSourceMapURL;\n    smc._absoluteSources = smc._sources.toArray().map(function (s) {\n      return util.computeSourceURL(smc.sourceRoot, s, aSourceMapURL);\n    });\n\n    // Because we are modifying the entries (by converting string sources and\n    // names to indices into the sources and names ArraySets), we have to make\n    // a copy of the entry or else bad things happen. Shared mutable state\n    // strikes again! See github issue #191.\n\n    var generatedMappings = aSourceMap._mappings.toArray().slice();\n    var destGeneratedMappings = smc.__generatedMappings = [];\n    var destOriginalMappings = smc.__originalMappings = [];\n\n    for (var i = 0, length = generatedMappings.length; i < length; i++) {\n      var srcMapping = generatedMappings[i];\n      var destMapping = new Mapping;\n      destMapping.generatedLine = srcMapping.generatedLine;\n      destMapping.generatedColumn = srcMapping.generatedColumn;\n\n      if (srcMapping.source) {\n        destMapping.source = sources.indexOf(srcMapping.source);\n        destMapping.originalLine = srcMapping.originalLine;\n        destMapping.originalColumn = srcMapping.originalColumn;\n\n        if (srcMapping.name) {\n          destMapping.name = names.indexOf(srcMapping.name);\n        }\n\n        destOriginalMappings.push(destMapping);\n      }\n\n      destGeneratedMappings.push(destMapping);\n    }\n\n    quickSort(smc.__originalMappings, util.compareByOriginalPositions);\n\n    return smc;\n  };\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nBasicSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(BasicSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    return this._absoluteSources.slice();\n  }\n});\n\n/**\n * Provide the JIT with a nice shape / hidden class.\n */\nfunction Mapping() {\n  this.generatedLine = 0;\n  this.generatedColumn = 0;\n  this.source = null;\n  this.originalLine = null;\n  this.originalColumn = null;\n  this.name = null;\n}\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nBasicSourceMapConsumer.prototype._parseMappings =\n  function SourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    var generatedLine = 1;\n    var previousGeneratedColumn = 0;\n    var previousOriginalLine = 0;\n    var previousOriginalColumn = 0;\n    var previousSource = 0;\n    var previousName = 0;\n    var length = aStr.length;\n    var index = 0;\n    var cachedSegments = {};\n    var temp = {};\n    var originalMappings = [];\n    var generatedMappings = [];\n    var mapping, str, segment, end, value;\n\n    while (index < length) {\n      if (aStr.charAt(index) === ';') {\n        generatedLine++;\n        index++;\n        previousGeneratedColumn = 0;\n      }\n      else if (aStr.charAt(index) === ',') {\n        index++;\n      }\n      else {\n        mapping = new Mapping();\n        mapping.generatedLine = generatedLine;\n\n        // Because each offset is encoded relative to the previous one,\n        // many segments often have the same encoding. We can exploit this\n        // fact by caching the parsed variable length fields of each segment,\n        // allowing us to avoid a second parse if we encounter the same\n        // segment again.\n        for (end = index; end < length; end++) {\n          if (this._charIsMappingSeparator(aStr, end)) {\n            break;\n          }\n        }\n        str = aStr.slice(index, end);\n\n        segment = cachedSegments[str];\n        if (segment) {\n          index += str.length;\n        } else {\n          segment = [];\n          while (index < end) {\n            base64VLQ.decode(aStr, index, temp);\n            value = temp.value;\n            index = temp.rest;\n            segment.push(value);\n          }\n\n          if (segment.length === 2) {\n            throw new Error('Found a source, but no line and column');\n          }\n\n          if (segment.length === 3) {\n            throw new Error('Found a source and line, but no column');\n          }\n\n          cachedSegments[str] = segment;\n        }\n\n        // Generated column.\n        mapping.generatedColumn = previousGeneratedColumn + segment[0];\n        previousGeneratedColumn = mapping.generatedColumn;\n\n        if (segment.length > 1) {\n          // Original source.\n          mapping.source = previousSource + segment[1];\n          previousSource += segment[1];\n\n          // Original line.\n          mapping.originalLine = previousOriginalLine + segment[2];\n          previousOriginalLine = mapping.originalLine;\n          // Lines are stored 0-based\n          mapping.originalLine += 1;\n\n          // Original column.\n          mapping.originalColumn = previousOriginalColumn + segment[3];\n          previousOriginalColumn = mapping.originalColumn;\n\n          if (segment.length > 4) {\n            // Original name.\n            mapping.name = previousName + segment[4];\n            previousName += segment[4];\n          }\n        }\n\n        generatedMappings.push(mapping);\n        if (typeof mapping.originalLine === 'number') {\n          originalMappings.push(mapping);\n        }\n      }\n    }\n\n    quickSort(generatedMappings, util.compareByGeneratedPositionsDeflated);\n    this.__generatedMappings = generatedMappings;\n\n    quickSort(originalMappings, util.compareByOriginalPositions);\n    this.__originalMappings = originalMappings;\n  };\n\n/**\n * Find the mapping that best matches the hypothetical \"needle\" mapping that\n * we are searching for in the given \"haystack\" of mappings.\n */\nBasicSourceMapConsumer.prototype._findMapping =\n  function SourceMapConsumer_findMapping(aNeedle, aMappings, aLineName,\n                                         aColumnName, aComparator, aBias) {\n    // To return the position we are searching for, we must first find the\n    // mapping for the given position and then return the opposite position it\n    // points to. Because the mappings are sorted, we can use binary search to\n    // find the best mapping.\n\n    if (aNeedle[aLineName] <= 0) {\n      throw new TypeError('Line must be greater than or equal to 1, got '\n                          + aNeedle[aLineName]);\n    }\n    if (aNeedle[aColumnName] < 0) {\n      throw new TypeError('Column must be greater than or equal to 0, got '\n                          + aNeedle[aColumnName]);\n    }\n\n    return binarySearch.search(aNeedle, aMappings, aComparator, aBias);\n  };\n\n/**\n * Compute the last column for each generated mapping. The last column is\n * inclusive.\n */\nBasicSourceMapConsumer.prototype.computeColumnSpans =\n  function SourceMapConsumer_computeColumnSpans() {\n    for (var index = 0; index < this._generatedMappings.length; ++index) {\n      var mapping = this._generatedMappings[index];\n\n      // Mappings do not contain a field for the last generated columnt. We\n      // can come up with an optimistic estimate, however, by assuming that\n      // mappings are contiguous (i.e. given two consecutive mappings, the\n      // first mapping ends where the second one starts).\n      if (index + 1 < this._generatedMappings.length) {\n        var nextMapping = this._generatedMappings[index + 1];\n\n        if (mapping.generatedLine === nextMapping.generatedLine) {\n          mapping.lastGeneratedColumn = nextMapping.generatedColumn - 1;\n          continue;\n        }\n      }\n\n      // The last mapping for each line spans the entire line.\n      mapping.lastGeneratedColumn = Infinity;\n    }\n  };\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nBasicSourceMapConsumer.prototype.originalPositionFor =\n  function SourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._generatedMappings,\n      \"generatedLine\",\n      \"generatedColumn\",\n      util.compareByGeneratedPositionsDeflated,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._generatedMappings[index];\n\n      if (mapping.generatedLine === needle.generatedLine) {\n        var source = util.getArg(mapping, 'source', null);\n        if (source !== null) {\n          source = this._sources.at(source);\n          source = util.computeSourceURL(this.sourceRoot, source, this._sourceMapURL);\n        }\n        var name = util.getArg(mapping, 'name', null);\n        if (name !== null) {\n          name = this._names.at(name);\n        }\n        return {\n          source: source,\n          line: util.getArg(mapping, 'originalLine', null),\n          column: util.getArg(mapping, 'originalColumn', null),\n          name: name\n        };\n      }\n    }\n\n    return {\n      source: null,\n      line: null,\n      column: null,\n      name: null\n    };\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nBasicSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function BasicSourceMapConsumer_hasContentsOfAllSources() {\n    if (!this.sourcesContent) {\n      return false;\n    }\n    return this.sourcesContent.length >= this._sources.size() &&\n      !this.sourcesContent.some(function (sc) { return sc == null; });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nBasicSourceMapConsumer.prototype.sourceContentFor =\n  function SourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    if (!this.sourcesContent) {\n      return null;\n    }\n\n    var index = this._findSourceIndex(aSource);\n    if (index >= 0) {\n      return this.sourcesContent[index];\n    }\n\n    var relativeSource = aSource;\n    if (this.sourceRoot != null) {\n      relativeSource = util.relative(this.sourceRoot, relativeSource);\n    }\n\n    var url;\n    if (this.sourceRoot != null\n        && (url = util.urlParse(this.sourceRoot))) {\n      // XXX: file:// URIs and absolute paths lead to unexpected behavior for\n      // many users. We can help them out when they expect file:// URIs to\n      // behave like it would if they were running a local HTTP server. See\n      // https://bugzilla.mozilla.org/show_bug.cgi?id=885597.\n      var fileUriAbsPath = relativeSource.replace(/^file:\\/\\//, \"\");\n      if (url.scheme == \"file\"\n          && this._sources.has(fileUriAbsPath)) {\n        return this.sourcesContent[this._sources.indexOf(fileUriAbsPath)]\n      }\n\n      if ((!url.path || url.path == \"/\")\n          && this._sources.has(\"/\" + relativeSource)) {\n        return this.sourcesContent[this._sources.indexOf(\"/\" + relativeSource)];\n      }\n    }\n\n    // This function is used recursively from\n    // IndexedSourceMapConsumer.prototype.sourceContentFor. In that case, we\n    // don't want to throw if we can't find the source - we just want to\n    // return null, so we provide a flag to exit gracefully.\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + relativeSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *   - bias: Either 'SourceMapConsumer.GREATEST_LOWER_BOUND' or\n *     'SourceMapConsumer.LEAST_UPPER_BOUND'. Specifies whether to return the\n *     closest element that is smaller than or greater than the one we are\n *     searching for, respectively, if the exact element cannot be found.\n *     Defaults to 'SourceMapConsumer.GREATEST_LOWER_BOUND'.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nBasicSourceMapConsumer.prototype.generatedPositionFor =\n  function SourceMapConsumer_generatedPositionFor(aArgs) {\n    var source = util.getArg(aArgs, 'source');\n    source = this._findSourceIndex(source);\n    if (source < 0) {\n      return {\n        line: null,\n        column: null,\n        lastColumn: null\n      };\n    }\n\n    var needle = {\n      source: source,\n      originalLine: util.getArg(aArgs, 'line'),\n      originalColumn: util.getArg(aArgs, 'column')\n    };\n\n    var index = this._findMapping(\n      needle,\n      this._originalMappings,\n      \"originalLine\",\n      \"originalColumn\",\n      util.compareByOriginalPositions,\n      util.getArg(aArgs, 'bias', SourceMapConsumer.GREATEST_LOWER_BOUND)\n    );\n\n    if (index >= 0) {\n      var mapping = this._originalMappings[index];\n\n      if (mapping.source === needle.source) {\n        return {\n          line: util.getArg(mapping, 'generatedLine', null),\n          column: util.getArg(mapping, 'generatedColumn', null),\n          lastColumn: util.getArg(mapping, 'lastGeneratedColumn', null)\n        };\n      }\n    }\n\n    return {\n      line: null,\n      column: null,\n      lastColumn: null\n    };\n  };\n\nexports.BasicSourceMapConsumer = BasicSourceMapConsumer;\n\n/**\n * An IndexedSourceMapConsumer instance represents a parsed source map which\n * we can query for information. It differs from BasicSourceMapConsumer in\n * that it takes \"indexed\" source maps (i.e. ones with a \"sections\" field) as\n * input.\n *\n * The first parameter is a raw source map (either as a JSON string, or already\n * parsed to an object). According to the spec for indexed source maps, they\n * have the following attributes:\n *\n *   - version: Which version of the source map spec this map is following.\n *   - file: Optional. The generated file this source map is associated with.\n *   - sections: A list of section definitions.\n *\n * Each value under the \"sections\" field has two fields:\n *   - offset: The offset into the original specified at which this section\n *       begins to apply, defined as an object with a \"line\" and \"column\"\n *       field.\n *   - map: A source map definition. This source map could also be indexed,\n *       but doesn't have to be.\n *\n * Instead of the \"map\" field, it's also possible to have a \"url\" field\n * specifying a URL to retrieve a source map from, but that's currently\n * unsupported.\n *\n * Here's an example source map, taken from the source map spec[0], but\n * modified to omit a section which uses the \"url\" field.\n *\n *  {\n *    version : 3,\n *    file: \"app.js\",\n *    sections: [{\n *      offset: {line:100, column:10},\n *      map: {\n *        version : 3,\n *        file: \"section.js\",\n *        sources: [\"foo.js\", \"bar.js\"],\n *        names: [\"src\", \"maps\", \"are\", \"fun\"],\n *        mappings: \"AAAA,E;;ABCDE;\"\n *      }\n *    }],\n *  }\n *\n * The second parameter, if given, is a string whose value is the URL\n * at which the source map was found.  This URL is used to compute the\n * sources array.\n *\n * [0]: https://docs.google.com/document/d/1U1RGAehQwRypUTovF1KRlpiOFze0b-_2gc6fAH0KY0k/edit#heading=h.535es3xeprgt\n */\nfunction IndexedSourceMapConsumer(aSourceMap, aSourceMapURL) {\n  var sourceMap = aSourceMap;\n  if (typeof aSourceMap === 'string') {\n    sourceMap = util.parseSourceMapInput(aSourceMap);\n  }\n\n  var version = util.getArg(sourceMap, 'version');\n  var sections = util.getArg(sourceMap, 'sections');\n\n  if (version != this._version) {\n    throw new Error('Unsupported version: ' + version);\n  }\n\n  this._sources = new ArraySet();\n  this._names = new ArraySet();\n\n  var lastOffset = {\n    line: -1,\n    column: 0\n  };\n  this._sections = sections.map(function (s) {\n    if (s.url) {\n      // The url field will require support for asynchronicity.\n      // See https://github.com/mozilla/source-map/issues/16\n      throw new Error('Support for url field in sections not implemented.');\n    }\n    var offset = util.getArg(s, 'offset');\n    var offsetLine = util.getArg(offset, 'line');\n    var offsetColumn = util.getArg(offset, 'column');\n\n    if (offsetLine < lastOffset.line ||\n        (offsetLine === lastOffset.line && offsetColumn < lastOffset.column)) {\n      throw new Error('Section offsets must be ordered and non-overlapping.');\n    }\n    lastOffset = offset;\n\n    return {\n      generatedOffset: {\n        // The offset fields are 0-based, but we use 1-based indices when\n        // encoding/decoding from VLQ.\n        generatedLine: offsetLine + 1,\n        generatedColumn: offsetColumn + 1\n      },\n      consumer: new SourceMapConsumer(util.getArg(s, 'map'), aSourceMapURL)\n    }\n  });\n}\n\nIndexedSourceMapConsumer.prototype = Object.create(SourceMapConsumer.prototype);\nIndexedSourceMapConsumer.prototype.constructor = SourceMapConsumer;\n\n/**\n * The version of the source mapping spec that we are consuming.\n */\nIndexedSourceMapConsumer.prototype._version = 3;\n\n/**\n * The list of original sources.\n */\nObject.defineProperty(IndexedSourceMapConsumer.prototype, 'sources', {\n  get: function () {\n    var sources = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      for (var j = 0; j < this._sections[i].consumer.sources.length; j++) {\n        sources.push(this._sections[i].consumer.sources[j]);\n      }\n    }\n    return sources;\n  }\n});\n\n/**\n * Returns the original source, line, and column information for the generated\n * source's line and column positions provided. The only argument is an object\n * with the following properties:\n *\n *   - line: The line number in the generated source.  The line number\n *     is 1-based.\n *   - column: The column number in the generated source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - source: The original source file, or null.\n *   - line: The line number in the original source, or null.  The\n *     line number is 1-based.\n *   - column: The column number in the original source, or null.  The\n *     column number is 0-based.\n *   - name: The original identifier, or null.\n */\nIndexedSourceMapConsumer.prototype.originalPositionFor =\n  function IndexedSourceMapConsumer_originalPositionFor(aArgs) {\n    var needle = {\n      generatedLine: util.getArg(aArgs, 'line'),\n      generatedColumn: util.getArg(aArgs, 'column')\n    };\n\n    // Find the section containing the generated position we're trying to map\n    // to an original position.\n    var sectionIndex = binarySearch.search(needle, this._sections,\n      function(needle, section) {\n        var cmp = needle.generatedLine - section.generatedOffset.generatedLine;\n        if (cmp) {\n          return cmp;\n        }\n\n        return (needle.generatedColumn -\n                section.generatedOffset.generatedColumn);\n      });\n    var section = this._sections[sectionIndex];\n\n    if (!section) {\n      return {\n        source: null,\n        line: null,\n        column: null,\n        name: null\n      };\n    }\n\n    return section.consumer.originalPositionFor({\n      line: needle.generatedLine -\n        (section.generatedOffset.generatedLine - 1),\n      column: needle.generatedColumn -\n        (section.generatedOffset.generatedLine === needle.generatedLine\n         ? section.generatedOffset.generatedColumn - 1\n         : 0),\n      bias: aArgs.bias\n    });\n  };\n\n/**\n * Return true if we have the source content for every source in the source\n * map, false otherwise.\n */\nIndexedSourceMapConsumer.prototype.hasContentsOfAllSources =\n  function IndexedSourceMapConsumer_hasContentsOfAllSources() {\n    return this._sections.every(function (s) {\n      return s.consumer.hasContentsOfAllSources();\n    });\n  };\n\n/**\n * Returns the original source content. The only argument is the url of the\n * original source file. Returns null if no original source content is\n * available.\n */\nIndexedSourceMapConsumer.prototype.sourceContentFor =\n  function IndexedSourceMapConsumer_sourceContentFor(aSource, nullOnMissing) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      var content = section.consumer.sourceContentFor(aSource, true);\n      if (content) {\n        return content;\n      }\n    }\n    if (nullOnMissing) {\n      return null;\n    }\n    else {\n      throw new Error('\"' + aSource + '\" is not in the SourceMap.');\n    }\n  };\n\n/**\n * Returns the generated line and column information for the original source,\n * line, and column positions provided. The only argument is an object with\n * the following properties:\n *\n *   - source: The filename of the original source.\n *   - line: The line number in the original source.  The line number\n *     is 1-based.\n *   - column: The column number in the original source.  The column\n *     number is 0-based.\n *\n * and an object is returned with the following properties:\n *\n *   - line: The line number in the generated source, or null.  The\n *     line number is 1-based. \n *   - column: The column number in the generated source, or null.\n *     The column number is 0-based.\n */\nIndexedSourceMapConsumer.prototype.generatedPositionFor =\n  function IndexedSourceMapConsumer_generatedPositionFor(aArgs) {\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n\n      // Only consider this section if the requested source is in the list of\n      // sources of the consumer.\n      if (section.consumer._findSourceIndex(util.getArg(aArgs, 'source')) === -1) {\n        continue;\n      }\n      var generatedPosition = section.consumer.generatedPositionFor(aArgs);\n      if (generatedPosition) {\n        var ret = {\n          line: generatedPosition.line +\n            (section.generatedOffset.generatedLine - 1),\n          column: generatedPosition.column +\n            (section.generatedOffset.generatedLine === generatedPosition.line\n             ? section.generatedOffset.generatedColumn - 1\n             : 0)\n        };\n        return ret;\n      }\n    }\n\n    return {\n      line: null,\n      column: null\n    };\n  };\n\n/**\n * Parse the mappings in a string in to a data structure which we can easily\n * query (the ordered arrays in the `this.__generatedMappings` and\n * `this.__originalMappings` properties).\n */\nIndexedSourceMapConsumer.prototype._parseMappings =\n  function IndexedSourceMapConsumer_parseMappings(aStr, aSourceRoot) {\n    this.__generatedMappings = [];\n    this.__originalMappings = [];\n    for (var i = 0; i < this._sections.length; i++) {\n      var section = this._sections[i];\n      var sectionMappings = section.consumer._generatedMappings;\n      for (var j = 0; j < sectionMappings.length; j++) {\n        var mapping = sectionMappings[j];\n\n        var source = section.consumer._sources.at(mapping.source);\n        source = util.computeSourceURL(section.consumer.sourceRoot, source, this._sourceMapURL);\n        this._sources.add(source);\n        source = this._sources.indexOf(source);\n\n        var name = null;\n        if (mapping.name) {\n          name = section.consumer._names.at(mapping.name);\n          this._names.add(name);\n          name = this._names.indexOf(name);\n        }\n\n        // The mappings coming from the consumer for the section have\n        // generated positions relative to the start of the section, so we\n        // need to offset them to be relative to the start of the concatenated\n        // generated file.\n        var adjustedMapping = {\n          source: source,\n          generatedLine: mapping.generatedLine +\n            (section.generatedOffset.generatedLine - 1),\n          generatedColumn: mapping.generatedColumn +\n            (section.generatedOffset.generatedLine === mapping.generatedLine\n            ? section.generatedOffset.generatedColumn - 1\n            : 0),\n          originalLine: mapping.originalLine,\n          originalColumn: mapping.originalColumn,\n          name: name\n        };\n\n        this.__generatedMappings.push(adjustedMapping);\n        if (typeof adjustedMapping.originalLine === 'number') {\n          this.__originalMappings.push(adjustedMapping);\n        }\n      }\n    }\n\n    quickSort(this.__generatedMappings, util.compareByGeneratedPositionsDeflated);\n    quickSort(this.__originalMappings, util.compareByOriginalPositions);\n  };\n\nexports.IndexedSourceMapConsumer = IndexedSourceMapConsumer;\n", "/* -*- Mode: js; js-indent-level: 2; -*- */\n/*\n * Copyright 2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\n\nvar SourceMapGenerator = require('./source-map-generator').SourceMapGenerator;\nvar util = require('./util');\n\n// Matches a Windows-style `\\r\\n` newline or a `\\n` newline used by all other\n// operating systems these days (capturing the result).\nvar REGEX_NEWLINE = /(\\r?\\n)/;\n\n// Newline character code for charCodeAt() comparisons\nvar NEWLINE_CODE = 10;\n\n// Private symbol for identifying `SourceNode`s when multiple versions of\n// the source-map library are loaded. This MUST NOT CHANGE across\n// versions!\nvar isSourceNode = \"$$$isSourceNode$$$\";\n\n/**\n * SourceNodes provide a way to abstract over interpolating/concatenating\n * snippets of generated JavaScript source code while maintaining the line and\n * column information associated with the original source code.\n *\n * @param aLine The original line number.\n * @param aColumn The original column number.\n * @param aSource The original source's filename.\n * @param aChunks Optional. An array of strings which are snippets of\n *        generated JS, or other SourceNodes.\n * @param aName The original identifier.\n */\nfunction SourceNode(aLine, aColumn, aSource, aChunks, aName) {\n  this.children = [];\n  this.sourceContents = {};\n  this.line = aLine == null ? null : aLine;\n  this.column = aColumn == null ? null : aColumn;\n  this.source = aSource == null ? null : aSource;\n  this.name = aName == null ? null : aName;\n  this[isSourceNode] = true;\n  if (aChunks != null) this.add(aChunks);\n}\n\n/**\n * Creates a SourceNode from generated code and a SourceMapConsumer.\n *\n * @param aGeneratedCode The generated code\n * @param aSourceMapConsumer The SourceMap for the generated code\n * @param aRelativePath Optional. The path that relative sources in the\n *        SourceMapConsumer should be relative to.\n */\nSourceNode.fromStringWithSourceMap =\n  function SourceNode_fromStringWithSourceMap(aGeneratedCode, aSourceMapConsumer, aRelativePath) {\n    // The SourceNode we want to fill with the generated code\n    // and the SourceMap\n    var node = new SourceNode();\n\n    // All even indices of this array are one line of the generated code,\n    // while all odd indices are the newlines between two adjacent lines\n    // (since `REGEX_NEWLINE` captures its match).\n    // Processed fragments are accessed by calling `shiftNextLine`.\n    var remainingLines = aGeneratedCode.split(REGEX_NEWLINE);\n    var remainingLinesIndex = 0;\n    var shiftNextLine = function() {\n      var lineContents = getNextLine();\n      // The last line of a file might not have a newline.\n      var newLine = getNextLine() || \"\";\n      return lineContents + newLine;\n\n      function getNextLine() {\n        return remainingLinesIndex < remainingLines.length ?\n            remainingLines[remainingLinesIndex++] : undefined;\n      }\n    };\n\n    // We need to remember the position of \"remainingLines\"\n    var lastGeneratedLine = 1, lastGeneratedColumn = 0;\n\n    // The generate SourceNodes we need a code range.\n    // To extract it current and last mapping is used.\n    // Here we store the last mapping.\n    var lastMapping = null;\n\n    aSourceMapConsumer.eachMapping(function (mapping) {\n      if (lastMapping !== null) {\n        // We add the code from \"lastMapping\" to \"mapping\":\n        // First check if there is a new line in between.\n        if (lastGeneratedLine < mapping.generatedLine) {\n          // Associate first line with \"lastMapping\"\n          addMappingWithCode(lastMapping, shiftNextLine());\n          lastGeneratedLine++;\n          lastGeneratedColumn = 0;\n          // The remaining code is added without mapping\n        } else {\n          // There is no new line in between.\n          // Associate the code between \"lastGeneratedColumn\" and\n          // \"mapping.generatedColumn\" with \"lastMapping\"\n          var nextLine = remainingLines[remainingLinesIndex] || '';\n          var code = nextLine.substr(0, mapping.generatedColumn -\n                                        lastGeneratedColumn);\n          remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn -\n                                              lastGeneratedColumn);\n          lastGeneratedColumn = mapping.generatedColumn;\n          addMappingWithCode(lastMapping, code);\n          // No more remaining code, continue\n          lastMapping = mapping;\n          return;\n        }\n      }\n      // We add the generated code until the first mapping\n      // to the SourceNode without any mapping.\n      // Each line is added as separate string.\n      while (lastGeneratedLine < mapping.generatedLine) {\n        node.add(shiftNextLine());\n        lastGeneratedLine++;\n      }\n      if (lastGeneratedColumn < mapping.generatedColumn) {\n        var nextLine = remainingLines[remainingLinesIndex] || '';\n        node.add(nextLine.substr(0, mapping.generatedColumn));\n        remainingLines[remainingLinesIndex] = nextLine.substr(mapping.generatedColumn);\n        lastGeneratedColumn = mapping.generatedColumn;\n      }\n      lastMapping = mapping;\n    }, this);\n    // We have processed all mappings.\n    if (remainingLinesIndex < remainingLines.length) {\n      if (lastMapping) {\n        // Associate the remaining code in the current line with \"lastMapping\"\n        addMappingWithCode(lastMapping, shiftNextLine());\n      }\n      // and add the remaining lines without any mapping\n      node.add(remainingLines.splice(remainingLinesIndex).join(\"\"));\n    }\n\n    // Copy sourcesContent into SourceNode\n    aSourceMapConsumer.sources.forEach(function (sourceFile) {\n      var content = aSourceMapConsumer.sourceContentFor(sourceFile);\n      if (content != null) {\n        if (aRelativePath != null) {\n          sourceFile = util.join(aRelativePath, sourceFile);\n        }\n        node.setSourceContent(sourceFile, content);\n      }\n    });\n\n    return node;\n\n    function addMappingWithCode(mapping, code) {\n      if (mapping === null || mapping.source === undefined) {\n        node.add(code);\n      } else {\n        var source = aRelativePath\n          ? util.join(aRelativePath, mapping.source)\n          : mapping.source;\n        node.add(new SourceNode(mapping.originalLine,\n                                mapping.originalColumn,\n                                source,\n                                code,\n                                mapping.name));\n      }\n    }\n  };\n\n/**\n * Add a chunk of generated JS to this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.add = function SourceNode_add(aChunk) {\n  if (Array.isArray(aChunk)) {\n    aChunk.forEach(function (chunk) {\n      this.add(chunk);\n    }, this);\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    if (aChunk) {\n      this.children.push(aChunk);\n    }\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Add a chunk of generated JS to the beginning of this source node.\n *\n * @param aChunk A string snippet of generated JS code, another instance of\n *        SourceNode, or an array where each member is one of those things.\n */\nSourceNode.prototype.prepend = function SourceNode_prepend(aChunk) {\n  if (Array.isArray(aChunk)) {\n    for (var i = aChunk.length-1; i >= 0; i--) {\n      this.prepend(aChunk[i]);\n    }\n  }\n  else if (aChunk[isSourceNode] || typeof aChunk === \"string\") {\n    this.children.unshift(aChunk);\n  }\n  else {\n    throw new TypeError(\n      \"Expected a SourceNode, string, or an array of SourceNodes and strings. Got \" + aChunk\n    );\n  }\n  return this;\n};\n\n/**\n * Walk over the tree of JS snippets in this node and its children. The\n * walking function is called once for each snippet of JS and is passed that\n * snippet and the its original associated source's line/column location.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walk = function SourceNode_walk(aFn) {\n  var chunk;\n  for (var i = 0, len = this.children.length; i < len; i++) {\n    chunk = this.children[i];\n    if (chunk[isSourceNode]) {\n      chunk.walk(aFn);\n    }\n    else {\n      if (chunk !== '') {\n        aFn(chunk, { source: this.source,\n                     line: this.line,\n                     column: this.column,\n                     name: this.name });\n      }\n    }\n  }\n};\n\n/**\n * Like `String.prototype.join` except for SourceNodes. Inserts `aStr` between\n * each of `this.children`.\n *\n * @param aSep The separator.\n */\nSourceNode.prototype.join = function SourceNode_join(aSep) {\n  var newChildren;\n  var i;\n  var len = this.children.length;\n  if (len > 0) {\n    newChildren = [];\n    for (i = 0; i < len-1; i++) {\n      newChildren.push(this.children[i]);\n      newChildren.push(aSep);\n    }\n    newChildren.push(this.children[i]);\n    this.children = newChildren;\n  }\n  return this;\n};\n\n/**\n * Call String.prototype.replace on the very right-most source snippet. Useful\n * for trimming whitespace from the end of a source node, etc.\n *\n * @param aPattern The pattern to replace.\n * @param aReplacement The thing to replace the pattern with.\n */\nSourceNode.prototype.replaceRight = function SourceNode_replaceRight(aPattern, aReplacement) {\n  var lastChild = this.children[this.children.length - 1];\n  if (lastChild[isSourceNode]) {\n    lastChild.replaceRight(aPattern, aReplacement);\n  }\n  else if (typeof lastChild === 'string') {\n    this.children[this.children.length - 1] = lastChild.replace(aPattern, aReplacement);\n  }\n  else {\n    this.children.push(''.replace(aPattern, aReplacement));\n  }\n  return this;\n};\n\n/**\n * Set the source content for a source file. This will be added to the SourceMapGenerator\n * in the sourcesContent field.\n *\n * @param aSourceFile The filename of the source file\n * @param aSourceContent The content of the source file\n */\nSourceNode.prototype.setSourceContent =\n  function SourceNode_setSourceContent(aSourceFile, aSourceContent) {\n    this.sourceContents[util.toSetString(aSourceFile)] = aSourceContent;\n  };\n\n/**\n * Walk over the tree of SourceNodes. The walking function is called for each\n * source file content and is passed the filename and source content.\n *\n * @param aFn The traversal function.\n */\nSourceNode.prototype.walkSourceContents =\n  function SourceNode_walkSourceContents(aFn) {\n    for (var i = 0, len = this.children.length; i < len; i++) {\n      if (this.children[i][isSourceNode]) {\n        this.children[i].walkSourceContents(aFn);\n      }\n    }\n\n    var sources = Object.keys(this.sourceContents);\n    for (var i = 0, len = sources.length; i < len; i++) {\n      aFn(util.fromSetString(sources[i]), this.sourceContents[sources[i]]);\n    }\n  };\n\n/**\n * Return the string representation of this source node. Walks over the tree\n * and concatenates all the various snippets together to one string.\n */\nSourceNode.prototype.toString = function SourceNode_toString() {\n  var str = \"\";\n  this.walk(function (chunk) {\n    str += chunk;\n  });\n  return str;\n};\n\n/**\n * Returns the string representation of this source node along with a source\n * map.\n */\nSourceNode.prototype.toStringWithSourceMap = function SourceNode_toStringWithSourceMap(aArgs) {\n  var generated = {\n    code: \"\",\n    line: 1,\n    column: 0\n  };\n  var map = new SourceMapGenerator(aArgs);\n  var sourceMappingActive = false;\n  var lastOriginalSource = null;\n  var lastOriginalLine = null;\n  var lastOriginalColumn = null;\n  var lastOriginalName = null;\n  this.walk(function (chunk, original) {\n    generated.code += chunk;\n    if (original.source !== null\n        && original.line !== null\n        && original.column !== null) {\n      if(lastOriginalSource !== original.source\n         || lastOriginalLine !== original.line\n         || lastOriginalColumn !== original.column\n         || lastOriginalName !== original.name) {\n        map.addMapping({\n          source: original.source,\n          original: {\n            line: original.line,\n            column: original.column\n          },\n          generated: {\n            line: generated.line,\n            column: generated.column\n          },\n          name: original.name\n        });\n      }\n      lastOriginalSource = original.source;\n      lastOriginalLine = original.line;\n      lastOriginalColumn = original.column;\n      lastOriginalName = original.name;\n      sourceMappingActive = true;\n    } else if (sourceMappingActive) {\n      map.addMapping({\n        generated: {\n          line: generated.line,\n          column: generated.column\n        }\n      });\n      lastOriginalSource = null;\n      sourceMappingActive = false;\n    }\n    for (var idx = 0, length = chunk.length; idx < length; idx++) {\n      if (chunk.charCodeAt(idx) === NEWLINE_CODE) {\n        generated.line++;\n        generated.column = 0;\n        // Mappings end at eol\n        if (idx + 1 === length) {\n          lastOriginalSource = null;\n          sourceMappingActive = false;\n        } else if (sourceMappingActive) {\n          map.addMapping({\n            source: original.source,\n            original: {\n              line: original.line,\n              column: original.column\n            },\n            generated: {\n              line: generated.line,\n              column: generated.column\n            },\n            name: original.name\n          });\n        }\n      } else {\n        generated.column++;\n      }\n    }\n  });\n  this.walkSourceContents(function (sourceFile, sourceContent) {\n    map.setSourceContent(sourceFile, sourceContent);\n  });\n\n  return { code: generated.code, map: map };\n};\n\nexports.SourceNode = SourceNode;\n", "/*\n * Copyright 2009-2011 Mozilla Foundation and contributors\n * Licensed under the New BSD license. See LICENSE.txt or:\n * http://opensource.org/licenses/BSD-3-Clause\n */\nexports.SourceMapGenerator = require('./lib/source-map-generator').SourceMapGenerator;\nexports.SourceMapConsumer = require('./lib/source-map-consumer').SourceMapConsumer;\nexports.SourceNode = require('./lib/source-node').SourceNode;\n", "(function (w) {\n  \"use strict\";\n\n  function findBest(atobNative) {\n    // normal window\n    if ('function' === typeof atobNative) { return atobNative; }\n\n\n    // browserify (web worker)\n    if ('function' === typeof Buffer) {\n      return function atobBrowserify(a) {\n        //!! Deliberately using an API that's deprecated in node.js because\n        //!! this file is for browsers and we expect them to cope with it.\n        //!! Discussion: github.com/node-browser-compat/atob/pull/9\n        return new Buffer(a, 'base64').toString('binary');\n      };\n    }\n\n    // ios web worker with base64js\n    if ('object' === typeof w.base64js) {\n      // bufferToBinaryString\n      // https://git.coolaj86.com/coolaj86/unibabel.js/blob/master/index.js#L50\n      return function atobWebWorker_iOS(a) {\n        var buf = w.base64js.b64ToByteArray(a);\n        return Array.prototype.map.call(buf, function (ch) {\n          return String.fromCharCode(ch);\n        }).join('');\n      };\n    }\n\n\t\treturn function () {\n\t\t\t// ios web worker without base64js\n\t\t\tthrow new Error(\"You're probably in an old browser or an iOS webworker.\" +\n\t\t\t\t\" It might help to include beatgammit's base64-js.\");\n    };\n  }\n\n  var atobBest = findBest(w.atob);\n  w.atob = atobBest;\n\n  if ((typeof module === 'object') && module && module.exports) {\n    module.exports = atobBest;\n  }\n}(window));\n", "'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp('(' + token + ')|([^%]+?)', 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn [decodeURIComponent(components.join(''))];\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher) || [];\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher) || [];\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n", "var atob = require(\"atob\")\nvar urlLib = require(\"url\")\nvar pathLib = require(\"path\")\nvar decodeUriComponentLib = require(\"decode-uri-component\")\n\n\n\nfunction resolveUrl(/* ...urls */) {\n  return Array.prototype.reduce.call(arguments, function(resolved, nextUrl) {\n    return urlLib.resolve(resolved, nextUrl)\n  })\n}\n\nfunction convertWindowsPath(aPath) {\n  return pathLib.sep === \"\\\\\" ? aPath.replace(/\\\\/g, \"/\").replace(/^[a-z]:\\/?/i, \"/\") : aPath\n}\n\nfunction customDecodeUriComponent(string) {\n  // `decodeUriComponentLib` turns `+` into ` `, but that's not wanted.\n  return decodeUriComponentLib(string.replace(/\\+/g, \"%2B\"))\n}\n\nfunction callbackAsync(callback, error, result) {\n  setImmediate(function() { callback(error, result) })\n}\n\nfunction parseMapToJSON(string, data) {\n  try {\n    return JSON.parse(string.replace(/^\\)\\]\\}'/, \"\"))\n  } catch (error) {\n    error.sourceMapData = data\n    throw error\n  }\n}\n\nfunction readSync(read, url, data) {\n  var readUrl = customDecodeUriComponent(url)\n  try {\n    return String(read(readUrl))\n  } catch (error) {\n    error.sourceMapData = data\n    throw error\n  }\n}\n\n\n\nvar innerRegex = /[#@] sourceMappingURL=([^\\s'\"]*)/\n\nvar sourceMappingURLRegex = RegExp(\n  \"(?:\" +\n    \"/\\\\*\" +\n    \"(?:\\\\s*\\r?\\n(?://)?)?\" +\n    \"(?:\" + innerRegex.source + \")\" +\n    \"\\\\s*\" +\n    \"\\\\*/\" +\n    \"|\" +\n    \"//(?:\" + innerRegex.source + \")\" +\n  \")\" +\n  \"\\\\s*\"\n)\n\nfunction getSourceMappingUrl(code) {\n  var match = code.match(sourceMappingURLRegex)\n  return match ? match[1] || match[2] || \"\" : null\n}\n\n\n\nfunction resolveSourceMap(code, codeUrl, read, callback) {\n  var mapData\n  try {\n    mapData = resolveSourceMapHelper(code, codeUrl)\n  } catch (error) {\n    return callbackAsync(callback, error)\n  }\n  if (!mapData || mapData.map) {\n    return callbackAsync(callback, null, mapData)\n  }\n  var readUrl = customDecodeUriComponent(mapData.url)\n  read(readUrl, function(error, result) {\n    if (error) {\n      error.sourceMapData = mapData\n      return callback(error)\n    }\n    mapData.map = String(result)\n    try {\n      mapData.map = parseMapToJSON(mapData.map, mapData)\n    } catch (error) {\n      return callback(error)\n    }\n    callback(null, mapData)\n  })\n}\n\nfunction resolveSourceMapSync(code, codeUrl, read) {\n  var mapData = resolveSourceMapHelper(code, codeUrl)\n  if (!mapData || mapData.map) {\n    return mapData\n  }\n  mapData.map = readSync(read, mapData.url, mapData)\n  mapData.map = parseMapToJSON(mapData.map, mapData)\n  return mapData\n}\n\nvar dataUriRegex = /^data:([^,;]*)(;[^,;]*)*(?:,(.*))?$/\n\n/**\n * The media type for JSON text is application/json.\n *\n * {@link https://tools.ietf.org/html/rfc8259#section-11 | IANA Considerations }\n *\n * `text/json` is non-standard media type\n */\nvar jsonMimeTypeRegex = /^(?:application|text)\\/json$/\n\n/**\n * JSON text exchanged between systems that are not part of a closed ecosystem\n * MUST be encoded using UTF-8.\n *\n * {@link https://tools.ietf.org/html/rfc8259#section-8.1 | Character Encoding}\n */\nvar jsonCharacterEncoding = \"utf-8\"\n\nfunction base64ToBuf(b64) {\n  var binStr = atob(b64)\n  var len = binStr.length\n  var arr = new Uint8Array(len)\n  for (var i = 0; i < len; i++) {\n    arr[i] = binStr.charCodeAt(i)\n  }\n  return arr\n}\n\nfunction decodeBase64String(b64) {\n  if (typeof TextDecoder === \"undefined\" || typeof Uint8Array === \"undefined\") {\n    return atob(b64)\n  }\n  var buf = base64ToBuf(b64);\n  // Note: `decoder.decode` method will throw a `DOMException` with the\n  // `\"EncodingError\"` value when an coding error is found.\n  var decoder = new TextDecoder(jsonCharacterEncoding, {fatal: true})\n  return decoder.decode(buf);\n}\n\nfunction resolveSourceMapHelper(code, codeUrl) {\n  codeUrl = convertWindowsPath(codeUrl)\n\n  var url = getSourceMappingUrl(code)\n  if (!url) {\n    return null\n  }\n\n  var dataUri = url.match(dataUriRegex)\n  if (dataUri) {\n    var mimeType = dataUri[1] || \"text/plain\"\n    var lastParameter = dataUri[2] || \"\"\n    var encoded = dataUri[3] || \"\"\n    var data = {\n      sourceMappingURL: url,\n      url: null,\n      sourcesRelativeTo: codeUrl,\n      map: encoded\n    }\n    if (!jsonMimeTypeRegex.test(mimeType)) {\n      var error = new Error(\"Unuseful data uri mime type: \" + mimeType)\n      error.sourceMapData = data\n      throw error\n    }\n    try {\n      data.map = parseMapToJSON(\n        lastParameter === \";base64\" ? decodeBase64String(encoded) : decodeURIComponent(encoded),\n        data\n      )\n    } catch (error) {\n      error.sourceMapData = data\n      throw error\n    }\n    return data\n  }\n\n  var mapUrl = resolveUrl(codeUrl, url)\n  return {\n    sourceMappingURL: url,\n    url: mapUrl,\n    sourcesRelativeTo: mapUrl,\n    map: null\n  }\n}\n\n\n\nfunction resolveSources(map, mapUrl, read, options, callback) {\n  if (typeof options === \"function\") {\n    callback = options\n    options = {}\n  }\n  var pending = map.sources ? map.sources.length : 0\n  var result = {\n    sourcesResolved: [],\n    sourcesContent:  []\n  }\n\n  if (pending === 0) {\n    callbackAsync(callback, null, result)\n    return\n  }\n\n  var done = function() {\n    pending--\n    if (pending === 0) {\n      callback(null, result)\n    }\n  }\n\n  resolveSourcesHelper(map, mapUrl, options, function(fullUrl, sourceContent, index) {\n    result.sourcesResolved[index] = fullUrl\n    if (typeof sourceContent === \"string\") {\n      result.sourcesContent[index] = sourceContent\n      callbackAsync(done, null)\n    } else {\n      var readUrl = customDecodeUriComponent(fullUrl)\n      read(readUrl, function(error, source) {\n        result.sourcesContent[index] = error ? error : String(source)\n        done()\n      })\n    }\n  })\n}\n\nfunction resolveSourcesSync(map, mapUrl, read, options) {\n  var result = {\n    sourcesResolved: [],\n    sourcesContent:  []\n  }\n\n  if (!map.sources || map.sources.length === 0) {\n    return result\n  }\n\n  resolveSourcesHelper(map, mapUrl, options, function(fullUrl, sourceContent, index) {\n    result.sourcesResolved[index] = fullUrl\n    if (read !== null) {\n      if (typeof sourceContent === \"string\") {\n        result.sourcesContent[index] = sourceContent\n      } else {\n        var readUrl = customDecodeUriComponent(fullUrl)\n        try {\n          result.sourcesContent[index] = String(read(readUrl))\n        } catch (error) {\n          result.sourcesContent[index] = error\n        }\n      }\n    }\n  })\n\n  return result\n}\n\nvar endingSlash = /\\/?$/\n\nfunction resolveSourcesHelper(map, mapUrl, options, fn) {\n  options = options || {}\n  mapUrl = convertWindowsPath(mapUrl)\n  var fullUrl\n  var sourceContent\n  var sourceRoot\n  for (var index = 0, len = map.sources.length; index < len; index++) {\n    sourceRoot = null\n    if (typeof options.sourceRoot === \"string\") {\n      sourceRoot = options.sourceRoot\n    } else if (typeof map.sourceRoot === \"string\" && options.sourceRoot !== false) {\n      sourceRoot = map.sourceRoot\n    }\n    // If the sourceRoot is the empty string, it is equivalent to not setting\n    // the property at all.\n    if (sourceRoot === null || sourceRoot === '') {\n      fullUrl = resolveUrl(mapUrl, map.sources[index])\n    } else {\n      // Make sure that the sourceRoot ends with a slash, so that `/scripts/subdir` becomes\n      // `/scripts/subdir/<source>`, not `/scripts/<source>`. Pointing to a file as source root\n      // does not make sense.\n      fullUrl = resolveUrl(mapUrl, sourceRoot.replace(endingSlash, \"/\"), map.sources[index])\n    }\n    sourceContent = (map.sourcesContent || [])[index]\n    fn(fullUrl, sourceContent, index)\n  }\n}\n\n\n\nfunction resolve(code, codeUrl, read, options, callback) {\n  if (typeof options === \"function\") {\n    callback = options\n    options = {}\n  }\n  if (code === null) {\n    var mapUrl = codeUrl\n    var data = {\n      sourceMappingURL: null,\n      url: mapUrl,\n      sourcesRelativeTo: mapUrl,\n      map: null\n    }\n    var readUrl = customDecodeUriComponent(mapUrl)\n    read(readUrl, function(error, result) {\n      if (error) {\n        error.sourceMapData = data\n        return callback(error)\n      }\n      data.map = String(result)\n      try {\n        data.map = parseMapToJSON(data.map, data)\n      } catch (error) {\n        return callback(error)\n      }\n      _resolveSources(data)\n    })\n  } else {\n    resolveSourceMap(code, codeUrl, read, function(error, mapData) {\n      if (error) {\n        return callback(error)\n      }\n      if (!mapData) {\n        return callback(null, null)\n      }\n      _resolveSources(mapData)\n    })\n  }\n\n  function _resolveSources(mapData) {\n    resolveSources(mapData.map, mapData.sourcesRelativeTo, read, options, function(error, result) {\n      if (error) {\n        return callback(error)\n      }\n      mapData.sourcesResolved = result.sourcesResolved\n      mapData.sourcesContent  = result.sourcesContent\n      callback(null, mapData)\n    })\n  }\n}\n\nfunction resolveSync(code, codeUrl, read, options) {\n  var mapData\n  if (code === null) {\n    var mapUrl = codeUrl\n    mapData = {\n      sourceMappingURL: null,\n      url: mapUrl,\n      sourcesRelativeTo: mapUrl,\n      map: null\n    }\n    mapData.map = readSync(read, mapUrl, mapData)\n    mapData.map = parseMapToJSON(mapData.map, mapData)\n  } else {\n    mapData = resolveSourceMapSync(code, codeUrl, read)\n    if (!mapData) {\n      return null\n    }\n  }\n  var result = resolveSourcesSync(mapData.map, mapData.sourcesRelativeTo, read, options)\n  mapData.sourcesResolved = result.sourcesResolved\n  mapData.sourcesContent  = result.sourcesContent\n  return mapData\n}\n\n\n\nmodule.exports = {\n  resolveSourceMap:     resolveSourceMap,\n  resolveSourceMapSync: resolveSourceMapSync,\n  resolveSources:       resolveSources,\n  resolveSourcesSync:   resolveSourcesSync,\n  resolve:              resolve,\n  resolveSync:          resolveSync,\n  parseMapToJSON:       parseMapToJSON\n}\n", "\n/**\n * Module dependencies.\n */\n\nvar SourceMap = require('source-map').SourceMapGenerator;\nvar SourceMapConsumer = require('source-map').SourceMapConsumer;\nvar sourceMapResolve = require('source-map-resolve');\nvar fs = require('fs');\nvar path = require('path');\n\n/**\n * Expose `mixin()`.\n */\n\nmodule.exports = mixin;\n\n/**\n * Ensure Windows-style paths are formatted properly\n */\n\nconst makeFriendlyPath = function(aPath) {\n  return path.sep === \"\\\\\" ? aPath.replace(/\\\\/g, \"/\").replace(/^[a-z]:\\/?/i, \"/\") : aPath;\n}\n\n/**\n * Mixin source map support into `compiler`.\n *\n * @param {Compiler} compiler\n * @api public\n */\n\nfunction mixin(compiler) {\n  compiler._comment = compiler.comment;\n  compiler.map = new SourceMap();\n  compiler.position = { line: 1, column: 1 };\n  compiler.files = {};\n  for (var k in exports) compiler[k] = exports[k];\n}\n\n/**\n * Update position.\n *\n * @param {String} str\n * @api private\n */\n\nexports.updatePosition = function(str) {\n  var lines = str.match(/\\n/g);\n  if (lines) this.position.line += lines.length;\n  var i = str.lastIndexOf('\\n');\n  this.position.column = ~i ? str.length - i : this.position.column + str.length;\n};\n\n/**\n * Emit `str`.\n *\n * @param {String} str\n * @param {Object} [pos]\n * @return {String}\n * @api private\n */\n\nexports.emit = function(str, pos) {\n  if (pos) {\n    var sourceFile = makeFriendlyPath(pos.source || 'source.css');\n\n    this.map.addMapping({\n      source: sourceFile,\n      generated: {\n        line: this.position.line,\n        column: Math.max(this.position.column - 1, 0)\n      },\n      original: {\n        line: pos.start.line,\n        column: pos.start.column - 1\n      }\n    });\n\n    this.addFile(sourceFile, pos);\n  }\n\n  this.updatePosition(str);\n\n  return str;\n};\n\n/**\n * Adds a file to the source map output if it has not already been added\n * @param {String} file\n * @param {Object} pos\n */\n\nexports.addFile = function(file, pos) {\n  if (typeof pos.content !== 'string') return;\n  if (Object.prototype.hasOwnProperty.call(this.files, file)) return;\n\n  this.files[file] = pos.content;\n};\n\n/**\n * Applies any original source maps to the output and embeds the source file\n * contents in the source map.\n */\n\nexports.applySourceMaps = function() {\n  Object.keys(this.files).forEach(function(file) {\n    var content = this.files[file];\n    this.map.setSourceContent(file, content);\n\n    if (this.options.inputSourcemaps !== false) {\n      var originalMap = sourceMapResolve.resolveSync(\n        content, file, fs.readFileSync);\n      if (originalMap) {\n        var map = new SourceMapConsumer(originalMap.map);\n        var relativeTo = originalMap.sourcesRelativeTo;\n        this.map.applySourceMap(map, file, makeFriendlyPath(path.dirname(relativeTo)));\n      }\n    }\n  }, this);\n};\n\n/**\n * Process comments, drops sourceMap comments.\n * @param {Object} node\n */\n\nexports.comment = function(node) {\n  if (/^# sourceMappingURL=/.test(node.comment))\n    return this.emit('', node.position);\n  else\n    return this._comment(node);\n};\n", "\n/**\n * Module dependencies.\n */\n\nvar Compressed = require('./compress');\nvar Identity = require('./identity');\n\n/**\n * Stringfy the given AST `node`.\n *\n * Options:\n *\n *  - `compress` space-optimized output\n *  - `sourcemap` return an object with `.code` and `.map`\n *\n * @param {Object} node\n * @param {Object} [options]\n * @return {String}\n * @api public\n */\n\nmodule.exports = function(node, options){\n  options = options || {};\n\n  var compiler = options.compress\n    ? new Compressed(options)\n    : new Identity(options);\n\n  // source maps\n  if (options.sourcemap) {\n    var sourcemaps = require('./source-map-support');\n    sourcemaps(compiler);\n\n    var code = compiler.compile(node);\n    compiler.applySourceMaps();\n\n    var map = options.sourcemap === 'generator'\n      ? compiler.map\n      : compiler.map.toJSON();\n\n    return { code: code, map: map };\n  }\n\n  var code = compiler.compile(node);\n  return code;\n};\n", "exports.parse = require('./lib/parse');\nexports.stringify = require('./lib/stringify');\n", "/** # Command line functions\n *\n * This file contains functions to interact with the command line.\n *\n * If you want to bind them to keyboard shortcuts, be sure to prefix them with \"ex.\". For example, if you want to bind control-p to `prev_completion`, use:\n *\n * ```\n * bind --mode=ex <C-p> ex.prev_completion\n * ```\n *\n * Note that you can also bind Tridactyl's [editor functions](/static/docs/modules/_src_lib_editor_.html) in the command line.\n *\n * Contrary to the main tridactyl help page, this one doesn't tell you whether a specific function is bound to something. For now, you'll have to make do with `:bind` and `:viewconfig`.\n *\n */\n/** ignore this line */\n\n/** Script used in the commandline iframe. Communicates with background. */\n\nimport * as SELF from \"@src/commandline_frame\"\nimport { CompletionSourceFuse } from \"@src/completions\"\nimport { AproposCompletionSource } from \"@src/completions/Apropos\"\nimport { AutocmdCompletionSource } from \"@src/completions/Autocmd\"\nimport { BindingsCompletionSource } from \"@src/completions/Bindings\"\nimport { BmarkCompletionSource } from \"@src/completions/Bmark\"\nimport { CompositeCompletionSource } from \"@src/completions/Composite\"\nimport { ExcmdCompletionSource } from \"@src/completions/Excmd\"\nimport { ExtensionsCompletionSource } from \"@src/completions/Extensions\"\nimport { FileSystemCompletionSource } from \"@src/completions/FileSystem\"\nimport { GotoCompletionSource } from \"@src/completions/Goto\"\nimport { GuisetCompletionSource } from \"@src/completions/Guiset\"\nimport { HelpCompletionSource } from \"@src/completions/Help\"\nimport { HistoryCompletionSource } from \"@src/completions/History\"\nimport { PreferenceCompletionSource } from \"@src/completions/Preferences\"\nimport { RssCompletionSource } from \"@src/completions/Rss\"\nimport { SessionsCompletionSource } from \"@src/completions/Sessions\"\nimport { SettingsCompletionSource } from \"@src/completions/Settings\"\nimport { BufferCompletionSource } from \"@src/completions/Tab\"\nimport { TabAllCompletionSource } from \"@src/completions/TabAll\"\nimport { ThemeCompletionSource } from \"@src/completions/Theme\"\nimport { TabHistoryCompletionSource } from \"@src/completions/TabHistory\"\nimport { WindowCompletionSource } from \"@src/completions/Window\"\nimport { ProxyCompletionSource } from \"@src/completions/Proxy\"\nimport { contentState } from \"@src/content/state_content\"\nimport { theme } from \"@src/content/styling\"\nimport { getCommandlineFns } from \"@src/lib/commandline_cmds\"\nimport * as tri_editor from \"@src/lib/editor\"\nimport \"@src/lib/DANGEROUS-html-tagged-template\"\nimport Logger from \"@src/lib/logging\"\nimport * as Messaging from \"@src/lib/messaging\"\nimport \"@src/lib/number.clamp\"\nimport * as genericParser from \"@src/parsers/genericmode\"\nimport * as perf from \"@src/perf\"\nimport state, * as State from \"@src/state\"\nimport * as R from \"ramda\"\nimport { MinimalKey, minimalKeyFromKeyboardEvent } from \"@src/lib/keyseq\"\nimport { TabGroupCompletionSource } from \"@src/completions/TabGroup\"\n\n/** @hidden **/\nconst logger = new Logger(\"cmdline\")\n\n/** @hidden **/\nconst commandline_state = {\n    activeCompletions: undefined as CompletionSourceFuse[],\n    clInput: window.document.getElementById(\n        \"tridactyl-input\",\n    ) as HTMLInputElement,\n    clear,\n    cmdline_history_position: 0,\n    completionsDiv: window.document.getElementById(\"completions\"),\n    fns: undefined as ReturnType<typeof getCommandlineFns>,\n    getCompletion,\n    history,\n    /** @hidden\n     * This is to handle Escape key which, while the cmdline is focused,\n     * ends up firing both keydown and input listeners. In the worst case\n     * hides the cmdline, shows and refocuses it and replaces its text\n     * which could be the prefix to generate a completion.\n     * tl;dr TODO: delete this and better resolve race condition\n     */\n    isVisible: false,\n    keyEvents: new Array<MinimalKey>(),\n    refresh_completions,\n    state,\n}\n\n// first theming of commandline iframe\ntheme(document.querySelector(\":root\"))\n\n/** @hidden **/\nfunction resizeArea() {\n    if (commandline_state.isVisible) {\n        Messaging.messageOwnTab(\"commandline_content\", \"show\")\n        Messaging.messageOwnTab(\"commandline_content\", \"focus\")\n        focus()\n    }\n}\n\n/** @hidden\n * This is a bit loosely defined at the moment.\n * Should work so long as there's only one completion source per prefix.\n */\nfunction getCompletion(args_only = false) {\n    if (!commandline_state.activeCompletions) return undefined\n\n    for (const comp of commandline_state.activeCompletions) {\n        if (comp.state === \"normal\" && comp.completion !== undefined) {\n            return args_only ? comp.args : comp.completion\n        }\n    }\n}\ncommandline_state.getCompletion = getCompletion\n\n/** @hidden **/\nexport function enableCompletions() {\n    if (!commandline_state.activeCompletions) {\n        commandline_state.activeCompletions = [\n            AutocmdCompletionSource,\n            // FindCompletionSource,\n            BindingsCompletionSource,\n            BmarkCompletionSource,\n            TabAllCompletionSource,\n            BufferCompletionSource,\n            ExcmdCompletionSource,\n            ThemeCompletionSource,\n            TabHistoryCompletionSource,\n            CompositeCompletionSource,\n            FileSystemCompletionSource,\n            GotoCompletionSource,\n            GuisetCompletionSource,\n            HelpCompletionSource,\n            AproposCompletionSource,\n            HistoryCompletionSource,\n            PreferenceCompletionSource,\n            RssCompletionSource,\n            SessionsCompletionSource,\n            SettingsCompletionSource,\n            TabGroupCompletionSource,\n            WindowCompletionSource,\n            ExtensionsCompletionSource,\n            ProxyCompletionSource,\n        ]\n            .map(constructorr => {\n                try {\n                    return new constructorr(commandline_state.completionsDiv)\n                } catch (e) {}\n            })\n            .filter(c => c)\n\n        const fragment = document.createDocumentFragment()\n        commandline_state.activeCompletions.forEach(comp =>\n            fragment.appendChild(comp.node),\n        )\n        commandline_state.completionsDiv.appendChild(fragment)\n        logger.debug(commandline_state.activeCompletions)\n    }\n}\n/* document.addEventListener(\"DOMContentLoaded\", enableCompletions) */\n\n/** @hidden **/\nconst noblur = () => setTimeout(() => commandline_state.clInput.focus(), 0)\n\n/** @hidden **/\nexport function focus() {\n    commandline_state.clInput.focus()\n    commandline_state.clInput.removeEventListener(\"blur\", noblur)\n    commandline_state.clInput.addEventListener(\"blur\", noblur)\n}\n\n/** @hidden **/\nlet HISTORY_SEARCH_STRING: string\n\n/** @hidden\n * Command line keybindings\n **/\nconst keyParser = keys => genericParser.parser(\"exmaps\", keys)\n/** @hidden **/\nlet history_called = false\n/** @hidden **/\nlet prev_cmd_called_history = false\n\n// Save programmer time by generating an immediately resolved promise\n// eslint-disable-next-line @typescript-eslint/no-empty-function\nconst QUEUE: Promise<any>[] = [(async () => {})()]\n\n/** @hidden **/\ncommandline_state.clInput.addEventListener(\n    \"keydown\",\n    function (keyevent: KeyboardEvent) {\n        if (!keyevent.isTrusted) return\n        commandline_state.keyEvents.push(minimalKeyFromKeyboardEvent(keyevent))\n        const response = keyParser(commandline_state.keyEvents)\n        if (response.isMatch) {\n            keyevent.preventDefault()\n            keyevent.stopImmediatePropagation()\n        } else {\n            // Ideally, all keys that aren't explicitly bound to an ex command\n            // should be bound to a \"self-insert\" command that would input the\n            // key itself. Because it's not possible to generate events as if\n            // they originated from the user, we can't do this, but we still\n            // need to simulate it, in order to have history() work.\n            prev_cmd_called_history = false\n        }\n        if (response.value) {\n            commandline_state.keyEvents = []\n            history_called = false\n\n            // If excmds start with 'ex.' they're coming back to us anyway, so skip that.\n            // This is definitely a hack. Should expand aliases with exmode, etc.\n            // but this whole thing should be scrapped soon, so whatever.\n            if (response.value.startsWith(\"ex.\")) {\n                const [funcname, ...args] = response.value.slice(3).split(/\\s+/)\n\n                QUEUE[QUEUE.length - 1].then(() => {\n                    QUEUE.push(\n                        // Abuse async to wrap non-promises in a promise\n                        // eslint-disable-next-line @typescript-eslint/require-await\n                        (async () =>\n                            commandline_state.fns[\n                                funcname as keyof typeof commandline_state.fns\n                            ](\n                                args.length === 0 ? undefined : args.join(\" \"),\n                            ))(),\n                    )\n                    prev_cmd_called_history = history_called\n                })\n            } else {\n                // Send excmds directly to our own tab, which fixes the\n                // old bug where a command would be issued in one tab but\n                // land in another because the active tab had\n                // changed. Background-mode excmds will be received by the\n                // own tab's content script and then bounced through a\n                // shim to the background, but the latency increase should\n                // be acceptable becuase the background-mode excmds tend\n                // to be a touch less latency-sensitive.\n                Messaging.messageOwnTab(\"controller_content\", \"acceptExCmd\", [\n                    response.value,\n                ]).then(_ => (prev_cmd_called_history = history_called))\n            }\n        } else {\n            commandline_state.keyEvents = response.keys\n        }\n    },\n    true,\n)\n\nexport function refresh_completions(exstr) {\n    if (!commandline_state.activeCompletions) enableCompletions()\n    return Promise.all(\n        commandline_state.activeCompletions.map(comp =>\n            comp.filter(exstr).then(() => {\n                if (comp.shouldRefresh()) {\n                    return resizeArea()\n                }\n            }),\n        ),\n    ).catch(err => {\n        console.error(err)\n        return []\n    }) // We can't use the regular logging mechanism because the user is using the command line.\n}\n\n/** @hidden **/\nlet onInputPromise: Promise<any> = Promise.resolve()\n/** @hidden **/\ncommandline_state.clInput.addEventListener(\"input\", () => {\n    const exstr = commandline_state.clInput.value\n    contentState.current_cmdline = exstr\n    contentState.cmdline_filter = \"\"\n    // Schedule completion computation. We do not start computing immediately because this would incur a slow down on quickly repeated input events (e.g. maintaining <Backspace> pressed)\n    setTimeout(async () => {\n        // Make sure the previous computation has ended\n        await onInputPromise\n        // If we're not the current completion computation anymore, stop\n        if (exstr !== commandline_state.clInput.value) {\n            contentState.cmdline_filter = exstr\n            return\n        }\n\n        onInputPromise = refresh_completions(exstr)\n        onInputPromise.then(() => {\n            contentState.cmdline_filter = exstr\n        })\n    }, 100)\n})\n\n/** @hidden **/\nlet cmdline_history_current = \"\"\n\n/** @hidden\n * Clears the command line.\n * If you intend to close the command line after this, set evlistener to true in order to enable losing focus.\n *  Otherwise, no need to pass an argument.\n */\nexport function clear(evlistener = false) {\n    if (evlistener)\n        commandline_state.clInput.removeEventListener(\"blur\", noblur)\n    commandline_state.clInput.value = \"\"\n    commandline_state.cmdline_history_position = 0\n    cmdline_history_current = \"\"\n}\ncommandline_state.clear = clear\n\n/** @hidden **/\nasync function history(n) {\n    history_called = true\n\n    if (!prev_cmd_called_history) {\n        HISTORY_SEARCH_STRING = commandline_state.clInput.value\n    }\n\n    // Check for matches in history, removing duplicates\n    const matches = R.reverse(\n        R.uniq(R.reverse(await State.getAsync(\"cmdHistory\"))),\n    ).filter(key => key.startsWith(HISTORY_SEARCH_STRING))\n    if (commandline_state.cmdline_history_position === 0) {\n        cmdline_history_current = commandline_state.clInput.value\n    }\n    let clamped_ind =\n        matches.length + n - commandline_state.cmdline_history_position\n    clamped_ind = clamped_ind.clamp(0, matches.length)\n\n    const pot_history = matches[clamped_ind]\n    commandline_state.clInput.value =\n        pot_history === undefined ? cmdline_history_current : pot_history\n\n    // if there was no clampage, update history position\n    // there's a more sensible way of doing this but that would require more programmer time\n    if (\n        clamped_ind ===\n        matches.length + n - commandline_state.cmdline_history_position\n    )\n        commandline_state.cmdline_history_position =\n            commandline_state.cmdline_history_position - n\n}\ncommandline_state.history = history\n\n/** @hidden **/\nexport function fillcmdline(\n    newcommand?: string,\n    trailspace = true,\n    ffocus = true,\n) {\n    if (trailspace) commandline_state.clInput.value = newcommand + \" \"\n    else commandline_state.clInput.value = newcommand\n    commandline_state.isVisible = true\n    let result = Promise.resolve([])\n    // Focus is lost for some reason.\n    if (ffocus) {\n        focus()\n        result = refresh_completions(commandline_state.clInput.value)\n    }\n    return result\n}\n\n/** @hidden **/\nexport function getContent() {\n    return commandline_state.clInput.value\n}\n\n/** @hidden **/\nexport function editor_function(fn_name: keyof typeof tri_editor, ...args) {\n    let result = Promise.resolve([])\n    if (tri_editor[fn_name]) {\n        tri_editor[fn_name](commandline_state.clInput, ...args)\n        result = refresh_completions(commandline_state.clInput.value)\n    } else {\n        // The user is using the command line so we can't log message there\n        // logger.error(`No editor function named ${fn_name}!`)\n        console.error(`No editor function named ${fn_name}!`)\n    }\n    return result\n}\n\nMessaging.addListener(\"commandline_frame\", Messaging.attributeCaller(SELF))\n\ncommandline_state.fns = getCommandlineFns(commandline_state)\nMessaging.addListener(\n    \"commandline_cmd\",\n    Messaging.attributeCaller(commandline_state.fns),\n)\n\n// Listen for statistics from the commandline iframe and send them to\n// the background for collection. Attach the observer to the window\n// object since there's apparently a bug that causes performance\n// observers to be GC'd even if they're still the target of a\n// callback.\n;(window as any).tri = Object.assign(window.tri || {}, {\n    perfObserver: perf.listenForCounters(),\n})\n", "/**\n * Fuse.js v6.6.2 - Lightweight fuzzy-search (http://fusejs.io)\n *\n * Copyright (c) 2022 Kiro Risk (http://kiro.me)\n * All Rights Reserved. Apache Software License 2.0\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction isArray(value) {\n  return !Array.isArray\n    ? getTag(value) === '[object Array]'\n    : Array.isArray(value)\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/baseToString.js\nconst INFINITY = 1 / 0;\nfunction baseToString(value) {\n  // Exit early for strings to avoid a performance hit in some environments.\n  if (typeof value == 'string') {\n    return value\n  }\n  let result = value + '';\n  return result == '0' && 1 / value == -INFINITY ? '-0' : result\n}\n\nfunction toString(value) {\n  return value == null ? '' : baseToString(value)\n}\n\nfunction isString(value) {\n  return typeof value === 'string'\n}\n\nfunction isNumber(value) {\n  return typeof value === 'number'\n}\n\n// Adapted from: https://github.com/lodash/lodash/blob/master/isBoolean.js\nfunction isBoolean(value) {\n  return (\n    value === true ||\n    value === false ||\n    (isObjectLike(value) && getTag(value) == '[object Boolean]')\n  )\n}\n\nfunction isObject(value) {\n  return typeof value === 'object'\n}\n\n// Checks if `value` is object-like.\nfunction isObjectLike(value) {\n  return isObject(value) && value !== null\n}\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null\n}\n\nfunction isBlank(value) {\n  return !value.trim().length\n}\n\n// Gets the `toStringTag` of `value`.\n// Adapted from: https://github.com/lodash/lodash/blob/master/.internal/getTag.js\nfunction getTag(value) {\n  return value == null\n    ? value === undefined\n      ? '[object Undefined]'\n      : '[object Null]'\n    : Object.prototype.toString.call(value)\n}\n\nconst EXTENDED_SEARCH_UNAVAILABLE = 'Extended search is not available';\n\nconst INCORRECT_INDEX_TYPE = \"Incorrect 'index' type\";\n\nconst LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY = (key) =>\n  `Invalid value for key ${key}`;\n\nconst PATTERN_LENGTH_TOO_LARGE = (max) =>\n  `Pattern length exceeds max of ${max}.`;\n\nconst MISSING_KEY_PROPERTY = (name) => `Missing ${name} property in key`;\n\nconst INVALID_KEY_WEIGHT_VALUE = (key) =>\n  `Property 'weight' in key '${key}' must be a positive integer`;\n\nconst hasOwn = Object.prototype.hasOwnProperty;\n\nclass KeyStore {\n  constructor(keys) {\n    this._keys = [];\n    this._keyMap = {};\n\n    let totalWeight = 0;\n\n    keys.forEach((key) => {\n      let obj = createKey(key);\n\n      totalWeight += obj.weight;\n\n      this._keys.push(obj);\n      this._keyMap[obj.id] = obj;\n\n      totalWeight += obj.weight;\n    });\n\n    // Normalize weights so that their sum is equal to 1\n    this._keys.forEach((key) => {\n      key.weight /= totalWeight;\n    });\n  }\n  get(keyId) {\n    return this._keyMap[keyId]\n  }\n  keys() {\n    return this._keys\n  }\n  toJSON() {\n    return JSON.stringify(this._keys)\n  }\n}\n\nfunction createKey(key) {\n  let path = null;\n  let id = null;\n  let src = null;\n  let weight = 1;\n  let getFn = null;\n\n  if (isString(key) || isArray(key)) {\n    src = key;\n    path = createKeyPath(key);\n    id = createKeyId(key);\n  } else {\n    if (!hasOwn.call(key, 'name')) {\n      throw new Error(MISSING_KEY_PROPERTY('name'))\n    }\n\n    const name = key.name;\n    src = name;\n\n    if (hasOwn.call(key, 'weight')) {\n      weight = key.weight;\n\n      if (weight <= 0) {\n        throw new Error(INVALID_KEY_WEIGHT_VALUE(name))\n      }\n    }\n\n    path = createKeyPath(name);\n    id = createKeyId(name);\n    getFn = key.getFn;\n  }\n\n  return { path, id, weight, src, getFn }\n}\n\nfunction createKeyPath(key) {\n  return isArray(key) ? key : key.split('.')\n}\n\nfunction createKeyId(key) {\n  return isArray(key) ? key.join('.') : key\n}\n\nfunction get(obj, path) {\n  let list = [];\n  let arr = false;\n\n  const deepGet = (obj, path, index) => {\n    if (!isDefined(obj)) {\n      return\n    }\n    if (!path[index]) {\n      // If there's no path left, we've arrived at the object we care about.\n      list.push(obj);\n    } else {\n      let key = path[index];\n\n      const value = obj[key];\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      // If we're at the last value in the path, and if it's a string/number/bool,\n      // add it to the list\n      if (\n        index === path.length - 1 &&\n        (isString(value) || isNumber(value) || isBoolean(value))\n      ) {\n        list.push(toString(value));\n      } else if (isArray(value)) {\n        arr = true;\n        // Search each item in the array.\n        for (let i = 0, len = value.length; i < len; i += 1) {\n          deepGet(value[i], path, index + 1);\n        }\n      } else if (path.length) {\n        // An object. Recurse further.\n        deepGet(value, path, index + 1);\n      }\n    }\n  };\n\n  // Backwards compatibility (since path used to be a string)\n  deepGet(obj, isString(path) ? path.split('.') : path, 0);\n\n  return arr ? list : list[0]\n}\n\nconst MatchOptions = {\n  // Whether the matches should be included in the result set. When `true`, each record in the result\n  // set will include the indices of the matched characters.\n  // These can consequently be used for highlighting purposes.\n  includeMatches: false,\n  // When `true`, the matching function will continue to the end of a search pattern even if\n  // a perfect match has already been located in the string.\n  findAllMatches: false,\n  // Minimum number of characters that must be matched before a result is considered a match\n  minMatchCharLength: 1\n};\n\nconst BasicOptions = {\n  // When `true`, the algorithm continues searching to the end of the input even if a perfect\n  // match is found before the end of the same input.\n  isCaseSensitive: false,\n  // When true, the matching function will continue to the end of a search pattern even if\n  includeScore: false,\n  // List of properties that will be searched. This also supports nested properties.\n  keys: [],\n  // Whether to sort the result list, by score\n  shouldSort: true,\n  // Default sort function: sort by ascending score, ascending index\n  sortFn: (a, b) =>\n    a.score === b.score ? (a.idx < b.idx ? -1 : 1) : a.score < b.score ? -1 : 1\n};\n\nconst FuzzyOptions = {\n  // Approximately where in the text is the pattern expected to be found?\n  location: 0,\n  // At what point does the match algorithm give up. A threshold of '0.0' requires a perfect match\n  // (of both letters and location), a threshold of '1.0' would match anything.\n  threshold: 0.6,\n  // Determines how close the match must be to the fuzzy location (specified above).\n  // An exact letter match which is 'distance' characters away from the fuzzy location\n  // would score as a complete mismatch. A distance of '0' requires the match be at\n  // the exact location specified, a threshold of '1000' would require a perfect match\n  // to be within 800 characters of the fuzzy location to be found using a 0.8 threshold.\n  distance: 100\n};\n\nconst AdvancedOptions = {\n  // When `true`, it enables the use of unix-like search commands\n  useExtendedSearch: false,\n  // The get function to use when fetching an object's properties.\n  // The default will search nested paths *ie foo.bar.baz*\n  getFn: get,\n  // When `true`, search will ignore `location` and `distance`, so it won't matter\n  // where in the string the pattern appears.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#fuzziness-score\n  ignoreLocation: false,\n  // When `true`, the calculation for the relevance score (used for sorting) will\n  // ignore the field-length norm.\n  // More info: https://fusejs.io/concepts/scoring-theory.html#field-length-norm\n  ignoreFieldNorm: false,\n  // The weight to determine how much field length norm effects scoring.\n  fieldNormWeight: 1\n};\n\nvar Config = {\n  ...BasicOptions,\n  ...MatchOptions,\n  ...FuzzyOptions,\n  ...AdvancedOptions\n};\n\nconst SPACE = /[^ ]+/g;\n\n// Field-length norm: the shorter the field, the higher the weight.\n// Set to 3 decimals to reduce index size.\nfunction norm(weight = 1, mantissa = 3) {\n  const cache = new Map();\n  const m = Math.pow(10, mantissa);\n\n  return {\n    get(value) {\n      const numTokens = value.match(SPACE).length;\n\n      if (cache.has(numTokens)) {\n        return cache.get(numTokens)\n      }\n\n      // Default function is 1/sqrt(x), weight makes that variable\n      const norm = 1 / Math.pow(numTokens, 0.5 * weight);\n\n      // In place of `toFixed(mantissa)`, for faster computation\n      const n = parseFloat(Math.round(norm * m) / m);\n\n      cache.set(numTokens, n);\n\n      return n\n    },\n    clear() {\n      cache.clear();\n    }\n  }\n}\n\nclass FuseIndex {\n  constructor({\n    getFn = Config.getFn,\n    fieldNormWeight = Config.fieldNormWeight\n  } = {}) {\n    this.norm = norm(fieldNormWeight, 3);\n    this.getFn = getFn;\n    this.isCreated = false;\n\n    this.setIndexRecords();\n  }\n  setSources(docs = []) {\n    this.docs = docs;\n  }\n  setIndexRecords(records = []) {\n    this.records = records;\n  }\n  setKeys(keys = []) {\n    this.keys = keys;\n    this._keysMap = {};\n    keys.forEach((key, idx) => {\n      this._keysMap[key.id] = idx;\n    });\n  }\n  create() {\n    if (this.isCreated || !this.docs.length) {\n      return\n    }\n\n    this.isCreated = true;\n\n    // List is Array<String>\n    if (isString(this.docs[0])) {\n      this.docs.forEach((doc, docIndex) => {\n        this._addString(doc, docIndex);\n      });\n    } else {\n      // List is Array<Object>\n      this.docs.forEach((doc, docIndex) => {\n        this._addObject(doc, docIndex);\n      });\n    }\n\n    this.norm.clear();\n  }\n  // Adds a doc to the end of the index\n  add(doc) {\n    const idx = this.size();\n\n    if (isString(doc)) {\n      this._addString(doc, idx);\n    } else {\n      this._addObject(doc, idx);\n    }\n  }\n  // Removes the doc at the specified index of the index\n  removeAt(idx) {\n    this.records.splice(idx, 1);\n\n    // Change ref index of every subsquent doc\n    for (let i = idx, len = this.size(); i < len; i += 1) {\n      this.records[i].i -= 1;\n    }\n  }\n  getValueForItemAtKeyId(item, keyId) {\n    return item[this._keysMap[keyId]]\n  }\n  size() {\n    return this.records.length\n  }\n  _addString(doc, docIndex) {\n    if (!isDefined(doc) || isBlank(doc)) {\n      return\n    }\n\n    let record = {\n      v: doc,\n      i: docIndex,\n      n: this.norm.get(doc)\n    };\n\n    this.records.push(record);\n  }\n  _addObject(doc, docIndex) {\n    let record = { i: docIndex, $: {} };\n\n    // Iterate over every key (i.e, path), and fetch the value at that key\n    this.keys.forEach((key, keyIndex) => {\n      let value = key.getFn ? key.getFn(doc) : this.getFn(doc, key.path);\n\n      if (!isDefined(value)) {\n        return\n      }\n\n      if (isArray(value)) {\n        let subRecords = [];\n        const stack = [{ nestedArrIndex: -1, value }];\n\n        while (stack.length) {\n          const { nestedArrIndex, value } = stack.pop();\n\n          if (!isDefined(value)) {\n            continue\n          }\n\n          if (isString(value) && !isBlank(value)) {\n            let subRecord = {\n              v: value,\n              i: nestedArrIndex,\n              n: this.norm.get(value)\n            };\n\n            subRecords.push(subRecord);\n          } else if (isArray(value)) {\n            value.forEach((item, k) => {\n              stack.push({\n                nestedArrIndex: k,\n                value: item\n              });\n            });\n          } else ;\n        }\n        record.$[keyIndex] = subRecords;\n      } else if (isString(value) && !isBlank(value)) {\n        let subRecord = {\n          v: value,\n          n: this.norm.get(value)\n        };\n\n        record.$[keyIndex] = subRecord;\n      }\n    });\n\n    this.records.push(record);\n  }\n  toJSON() {\n    return {\n      keys: this.keys,\n      records: this.records\n    }\n  }\n}\n\nfunction createIndex(\n  keys,\n  docs,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys.map(createKey));\n  myIndex.setSources(docs);\n  myIndex.create();\n  return myIndex\n}\n\nfunction parseIndex(\n  data,\n  { getFn = Config.getFn, fieldNormWeight = Config.fieldNormWeight } = {}\n) {\n  const { keys, records } = data;\n  const myIndex = new FuseIndex({ getFn, fieldNormWeight });\n  myIndex.setKeys(keys);\n  myIndex.setIndexRecords(records);\n  return myIndex\n}\n\nfunction computeScore$1(\n  pattern,\n  {\n    errors = 0,\n    currentLocation = 0,\n    expectedLocation = 0,\n    distance = Config.distance,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  const accuracy = errors / pattern.length;\n\n  if (ignoreLocation) {\n    return accuracy\n  }\n\n  const proximity = Math.abs(expectedLocation - currentLocation);\n\n  if (!distance) {\n    // Dodge divide by zero error.\n    return proximity ? 1.0 : accuracy\n  }\n\n  return accuracy + proximity / distance\n}\n\nfunction convertMaskToIndices(\n  matchmask = [],\n  minMatchCharLength = Config.minMatchCharLength\n) {\n  let indices = [];\n  let start = -1;\n  let end = -1;\n  let i = 0;\n\n  for (let len = matchmask.length; i < len; i += 1) {\n    let match = matchmask[i];\n    if (match && start === -1) {\n      start = i;\n    } else if (!match && start !== -1) {\n      end = i - 1;\n      if (end - start + 1 >= minMatchCharLength) {\n        indices.push([start, end]);\n      }\n      start = -1;\n    }\n  }\n\n  // (i-1 - start) + 1 => i - start\n  if (matchmask[i - 1] && i - start >= minMatchCharLength) {\n    indices.push([start, i - 1]);\n  }\n\n  return indices\n}\n\n// Machine word size\nconst MAX_BITS = 32;\n\nfunction search(\n  text,\n  pattern,\n  patternAlphabet,\n  {\n    location = Config.location,\n    distance = Config.distance,\n    threshold = Config.threshold,\n    findAllMatches = Config.findAllMatches,\n    minMatchCharLength = Config.minMatchCharLength,\n    includeMatches = Config.includeMatches,\n    ignoreLocation = Config.ignoreLocation\n  } = {}\n) {\n  if (pattern.length > MAX_BITS) {\n    throw new Error(PATTERN_LENGTH_TOO_LARGE(MAX_BITS))\n  }\n\n  const patternLen = pattern.length;\n  // Set starting location at beginning text and initialize the alphabet.\n  const textLen = text.length;\n  // Handle the case when location > text.length\n  const expectedLocation = Math.max(0, Math.min(location, textLen));\n  // Highest score beyond which we give up.\n  let currentThreshold = threshold;\n  // Is there a nearby exact match? (speedup)\n  let bestLocation = expectedLocation;\n\n  // Performance: only computer matches when the minMatchCharLength > 1\n  // OR if `includeMatches` is true.\n  const computeMatches = minMatchCharLength > 1 || includeMatches;\n  // A mask of the matches, used for building the indices\n  const matchMask = computeMatches ? Array(textLen) : [];\n\n  let index;\n\n  // Get all exact matches, here for speed up\n  while ((index = text.indexOf(pattern, bestLocation)) > -1) {\n    let score = computeScore$1(pattern, {\n      currentLocation: index,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    currentThreshold = Math.min(score, currentThreshold);\n    bestLocation = index + patternLen;\n\n    if (computeMatches) {\n      let i = 0;\n      while (i < patternLen) {\n        matchMask[index + i] = 1;\n        i += 1;\n      }\n    }\n  }\n\n  // Reset the best location\n  bestLocation = -1;\n\n  let lastBitArr = [];\n  let finalScore = 1;\n  let binMax = patternLen + textLen;\n\n  const mask = 1 << (patternLen - 1);\n\n  for (let i = 0; i < patternLen; i += 1) {\n    // Scan for the best match; each iteration allows for one more error.\n    // Run a binary search to determine how far from the match location we can stray\n    // at this error level.\n    let binMin = 0;\n    let binMid = binMax;\n\n    while (binMin < binMid) {\n      const score = computeScore$1(pattern, {\n        errors: i,\n        currentLocation: expectedLocation + binMid,\n        expectedLocation,\n        distance,\n        ignoreLocation\n      });\n\n      if (score <= currentThreshold) {\n        binMin = binMid;\n      } else {\n        binMax = binMid;\n      }\n\n      binMid = Math.floor((binMax - binMin) / 2 + binMin);\n    }\n\n    // Use the result from this iteration as the maximum for the next.\n    binMax = binMid;\n\n    let start = Math.max(1, expectedLocation - binMid + 1);\n    let finish = findAllMatches\n      ? textLen\n      : Math.min(expectedLocation + binMid, textLen) + patternLen;\n\n    // Initialize the bit array\n    let bitArr = Array(finish + 2);\n\n    bitArr[finish + 1] = (1 << i) - 1;\n\n    for (let j = finish; j >= start; j -= 1) {\n      let currentLocation = j - 1;\n      let charMatch = patternAlphabet[text.charAt(currentLocation)];\n\n      if (computeMatches) {\n        // Speed up: quick bool to int conversion (i.e, `charMatch ? 1 : 0`)\n        matchMask[currentLocation] = +!!charMatch;\n      }\n\n      // First pass: exact match\n      bitArr[j] = ((bitArr[j + 1] << 1) | 1) & charMatch;\n\n      // Subsequent passes: fuzzy match\n      if (i) {\n        bitArr[j] |=\n          ((lastBitArr[j + 1] | lastBitArr[j]) << 1) | 1 | lastBitArr[j + 1];\n      }\n\n      if (bitArr[j] & mask) {\n        finalScore = computeScore$1(pattern, {\n          errors: i,\n          currentLocation,\n          expectedLocation,\n          distance,\n          ignoreLocation\n        });\n\n        // This match will almost certainly be better than any existing match.\n        // But check anyway.\n        if (finalScore <= currentThreshold) {\n          // Indeed it is\n          currentThreshold = finalScore;\n          bestLocation = currentLocation;\n\n          // Already passed `loc`, downhill from here on in.\n          if (bestLocation <= expectedLocation) {\n            break\n          }\n\n          // When passing `bestLocation`, don't exceed our current distance from `expectedLocation`.\n          start = Math.max(1, 2 * expectedLocation - bestLocation);\n        }\n      }\n    }\n\n    // No hope for a (better) match at greater error levels.\n    const score = computeScore$1(pattern, {\n      errors: i + 1,\n      currentLocation: expectedLocation,\n      expectedLocation,\n      distance,\n      ignoreLocation\n    });\n\n    if (score > currentThreshold) {\n      break\n    }\n\n    lastBitArr = bitArr;\n  }\n\n  const result = {\n    isMatch: bestLocation >= 0,\n    // Count exact matches (those with a score of 0) to be \"almost\" exact\n    score: Math.max(0.001, finalScore)\n  };\n\n  if (computeMatches) {\n    const indices = convertMaskToIndices(matchMask, minMatchCharLength);\n    if (!indices.length) {\n      result.isMatch = false;\n    } else if (includeMatches) {\n      result.indices = indices;\n    }\n  }\n\n  return result\n}\n\nfunction createPatternAlphabet(pattern) {\n  let mask = {};\n\n  for (let i = 0, len = pattern.length; i < len; i += 1) {\n    const char = pattern.charAt(i);\n    mask[char] = (mask[char] || 0) | (1 << (len - i - 1));\n  }\n\n  return mask\n}\n\nclass BitapSearch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    this.options = {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n\n    this.chunks = [];\n\n    if (!this.pattern.length) {\n      return\n    }\n\n    const addChunk = (pattern, startIndex) => {\n      this.chunks.push({\n        pattern,\n        alphabet: createPatternAlphabet(pattern),\n        startIndex\n      });\n    };\n\n    const len = this.pattern.length;\n\n    if (len > MAX_BITS) {\n      let i = 0;\n      const remainder = len % MAX_BITS;\n      const end = len - remainder;\n\n      while (i < end) {\n        addChunk(this.pattern.substr(i, MAX_BITS), i);\n        i += MAX_BITS;\n      }\n\n      if (remainder) {\n        const startIndex = len - MAX_BITS;\n        addChunk(this.pattern.substr(startIndex), startIndex);\n      }\n    } else {\n      addChunk(this.pattern, 0);\n    }\n  }\n\n  searchIn(text) {\n    const { isCaseSensitive, includeMatches } = this.options;\n\n    if (!isCaseSensitive) {\n      text = text.toLowerCase();\n    }\n\n    // Exact match\n    if (this.pattern === text) {\n      let result = {\n        isMatch: true,\n        score: 0\n      };\n\n      if (includeMatches) {\n        result.indices = [[0, text.length - 1]];\n      }\n\n      return result\n    }\n\n    // Otherwise, use Bitap algorithm\n    const {\n      location,\n      distance,\n      threshold,\n      findAllMatches,\n      minMatchCharLength,\n      ignoreLocation\n    } = this.options;\n\n    let allIndices = [];\n    let totalScore = 0;\n    let hasMatches = false;\n\n    this.chunks.forEach(({ pattern, alphabet, startIndex }) => {\n      const { isMatch, score, indices } = search(text, pattern, alphabet, {\n        location: location + startIndex,\n        distance,\n        threshold,\n        findAllMatches,\n        minMatchCharLength,\n        includeMatches,\n        ignoreLocation\n      });\n\n      if (isMatch) {\n        hasMatches = true;\n      }\n\n      totalScore += score;\n\n      if (isMatch && indices) {\n        allIndices = [...allIndices, ...indices];\n      }\n    });\n\n    let result = {\n      isMatch: hasMatches,\n      score: hasMatches ? totalScore / this.chunks.length : 1\n    };\n\n    if (hasMatches && includeMatches) {\n      result.indices = allIndices;\n    }\n\n    return result\n  }\n}\n\nclass BaseMatch {\n  constructor(pattern) {\n    this.pattern = pattern;\n  }\n  static isMultiMatch(pattern) {\n    return getMatch(pattern, this.multiRegex)\n  }\n  static isSingleMatch(pattern) {\n    return getMatch(pattern, this.singleRegex)\n  }\n  search(/*text*/) {}\n}\n\nfunction getMatch(pattern, exp) {\n  const matches = pattern.match(exp);\n  return matches ? matches[1] : null\n}\n\n// Token: 'file\n\nclass ExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'exact'\n  }\n  static get multiRegex() {\n    return /^=\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^=(.*)$/\n  }\n  search(text) {\n    const isMatch = text === this.pattern;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !fire\n\nclass InverseExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!(.*)$/\n  }\n  search(text) {\n    const index = text.indexOf(this.pattern);\n    const isMatch = index === -1;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: ^file\n\nclass PrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'prefix-exact'\n  }\n  static get multiRegex() {\n    return /^\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, this.pattern.length - 1]\n    }\n  }\n}\n\n// Token: !^fire\n\nclass InversePrefixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-prefix-exact'\n  }\n  static get multiRegex() {\n    return /^!\\^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^!\\^(.*)$/\n  }\n  search(text) {\n    const isMatch = !text.startsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\n// Token: .file$\n\nclass SuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'suffix-exact'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = text.endsWith(this.pattern);\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [text.length - this.pattern.length, text.length - 1]\n    }\n  }\n}\n\n// Token: !.file$\n\nclass InverseSuffixExactMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'inverse-suffix-exact'\n  }\n  static get multiRegex() {\n    return /^!\"(.*)\"\\$$/\n  }\n  static get singleRegex() {\n    return /^!(.*)\\$$/\n  }\n  search(text) {\n    const isMatch = !text.endsWith(this.pattern);\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices: [0, text.length - 1]\n    }\n  }\n}\n\nclass FuzzyMatch extends BaseMatch {\n  constructor(\n    pattern,\n    {\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance,\n      includeMatches = Config.includeMatches,\n      findAllMatches = Config.findAllMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      isCaseSensitive = Config.isCaseSensitive,\n      ignoreLocation = Config.ignoreLocation\n    } = {}\n  ) {\n    super(pattern);\n    this._bitapSearch = new BitapSearch(pattern, {\n      location,\n      threshold,\n      distance,\n      includeMatches,\n      findAllMatches,\n      minMatchCharLength,\n      isCaseSensitive,\n      ignoreLocation\n    });\n  }\n  static get type() {\n    return 'fuzzy'\n  }\n  static get multiRegex() {\n    return /^\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^(.*)$/\n  }\n  search(text) {\n    return this._bitapSearch.searchIn(text)\n  }\n}\n\n// Token: 'file\n\nclass IncludeMatch extends BaseMatch {\n  constructor(pattern) {\n    super(pattern);\n  }\n  static get type() {\n    return 'include'\n  }\n  static get multiRegex() {\n    return /^'\"(.*)\"$/\n  }\n  static get singleRegex() {\n    return /^'(.*)$/\n  }\n  search(text) {\n    let location = 0;\n    let index;\n\n    const indices = [];\n    const patternLen = this.pattern.length;\n\n    // Get all exact matches\n    while ((index = text.indexOf(this.pattern, location)) > -1) {\n      location = index + patternLen;\n      indices.push([index, location - 1]);\n    }\n\n    const isMatch = !!indices.length;\n\n    return {\n      isMatch,\n      score: isMatch ? 0 : 1,\n      indices\n    }\n  }\n}\n\n// \u2757Order is important. DO NOT CHANGE.\nconst searchers = [\n  ExactMatch,\n  IncludeMatch,\n  PrefixExactMatch,\n  InversePrefixExactMatch,\n  InverseSuffixExactMatch,\n  SuffixExactMatch,\n  InverseExactMatch,\n  FuzzyMatch\n];\n\nconst searchersLen = searchers.length;\n\n// Regex to split by spaces, but keep anything in quotes together\nconst SPACE_RE = / +(?=(?:[^\\\"]*\\\"[^\\\"]*\\\")*[^\\\"]*$)/;\nconst OR_TOKEN = '|';\n\n// Return a 2D array representation of the query, for simpler parsing.\n// Example:\n// \"^core go$ | rb$ | py$ xy$\" => [[\"^core\", \"go$\"], [\"rb$\"], [\"py$\", \"xy$\"]]\nfunction parseQuery(pattern, options = {}) {\n  return pattern.split(OR_TOKEN).map((item) => {\n    let query = item\n      .trim()\n      .split(SPACE_RE)\n      .filter((item) => item && !!item.trim());\n\n    let results = [];\n    for (let i = 0, len = query.length; i < len; i += 1) {\n      const queryItem = query[i];\n\n      // 1. Handle multiple query match (i.e, once that are quoted, like `\"hello world\"`)\n      let found = false;\n      let idx = -1;\n      while (!found && ++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isMultiMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          found = true;\n        }\n      }\n\n      if (found) {\n        continue\n      }\n\n      // 2. Handle single query matches (i.e, once that are *not* quoted)\n      idx = -1;\n      while (++idx < searchersLen) {\n        const searcher = searchers[idx];\n        let token = searcher.isSingleMatch(queryItem);\n        if (token) {\n          results.push(new searcher(token, options));\n          break\n        }\n      }\n    }\n\n    return results\n  })\n}\n\n// These extended matchers can return an array of matches, as opposed\n// to a singl match\nconst MultiMatchSet = new Set([FuzzyMatch.type, IncludeMatch.type]);\n\n/**\n * Command-like searching\n * ======================\n *\n * Given multiple search terms delimited by spaces.e.g. `^jscript .python$ ruby !java`,\n * search in a given text.\n *\n * Search syntax:\n *\n * | Token       | Match type                 | Description                            |\n * | ----------- | -------------------------- | -------------------------------------- |\n * | `jscript`   | fuzzy-match                | Items that fuzzy match `jscript`       |\n * | `=scheme`   | exact-match                | Items that are `scheme`                |\n * | `'python`   | include-match              | Items that include `python`            |\n * | `!ruby`     | inverse-exact-match        | Items that do not include `ruby`       |\n * | `^java`     | prefix-exact-match         | Items that start with `java`           |\n * | `!^earlang` | inverse-prefix-exact-match | Items that do not start with `earlang` |\n * | `.js$`      | suffix-exact-match         | Items that end with `.js`              |\n * | `!.go$`     | inverse-suffix-exact-match | Items that do not end with `.go`       |\n *\n * A single pipe character acts as an OR operator. For example, the following\n * query matches entries that start with `core` and end with either`go`, `rb`,\n * or`py`.\n *\n * ```\n * ^core go$ | rb$ | py$\n * ```\n */\nclass ExtendedSearch {\n  constructor(\n    pattern,\n    {\n      isCaseSensitive = Config.isCaseSensitive,\n      includeMatches = Config.includeMatches,\n      minMatchCharLength = Config.minMatchCharLength,\n      ignoreLocation = Config.ignoreLocation,\n      findAllMatches = Config.findAllMatches,\n      location = Config.location,\n      threshold = Config.threshold,\n      distance = Config.distance\n    } = {}\n  ) {\n    this.query = null;\n    this.options = {\n      isCaseSensitive,\n      includeMatches,\n      minMatchCharLength,\n      findAllMatches,\n      ignoreLocation,\n      location,\n      threshold,\n      distance\n    };\n\n    this.pattern = isCaseSensitive ? pattern : pattern.toLowerCase();\n    this.query = parseQuery(this.pattern, this.options);\n  }\n\n  static condition(_, options) {\n    return options.useExtendedSearch\n  }\n\n  searchIn(text) {\n    const query = this.query;\n\n    if (!query) {\n      return {\n        isMatch: false,\n        score: 1\n      }\n    }\n\n    const { includeMatches, isCaseSensitive } = this.options;\n\n    text = isCaseSensitive ? text : text.toLowerCase();\n\n    let numMatches = 0;\n    let allIndices = [];\n    let totalScore = 0;\n\n    // ORs\n    for (let i = 0, qLen = query.length; i < qLen; i += 1) {\n      const searchers = query[i];\n\n      // Reset indices\n      allIndices.length = 0;\n      numMatches = 0;\n\n      // ANDs\n      for (let j = 0, pLen = searchers.length; j < pLen; j += 1) {\n        const searcher = searchers[j];\n        const { isMatch, indices, score } = searcher.search(text);\n\n        if (isMatch) {\n          numMatches += 1;\n          totalScore += score;\n          if (includeMatches) {\n            const type = searcher.constructor.type;\n            if (MultiMatchSet.has(type)) {\n              allIndices = [...allIndices, ...indices];\n            } else {\n              allIndices.push(indices);\n            }\n          }\n        } else {\n          totalScore = 0;\n          numMatches = 0;\n          allIndices.length = 0;\n          break\n        }\n      }\n\n      // OR condition, so if TRUE, return\n      if (numMatches) {\n        let result = {\n          isMatch: true,\n          score: totalScore / numMatches\n        };\n\n        if (includeMatches) {\n          result.indices = allIndices;\n        }\n\n        return result\n      }\n    }\n\n    // Nothing was matched\n    return {\n      isMatch: false,\n      score: 1\n    }\n  }\n}\n\nconst registeredSearchers = [];\n\nfunction register(...args) {\n  registeredSearchers.push(...args);\n}\n\nfunction createSearcher(pattern, options) {\n  for (let i = 0, len = registeredSearchers.length; i < len; i += 1) {\n    let searcherClass = registeredSearchers[i];\n    if (searcherClass.condition(pattern, options)) {\n      return new searcherClass(pattern, options)\n    }\n  }\n\n  return new BitapSearch(pattern, options)\n}\n\nconst LogicalOperator = {\n  AND: '$and',\n  OR: '$or'\n};\n\nconst KeyType = {\n  PATH: '$path',\n  PATTERN: '$val'\n};\n\nconst isExpression = (query) =>\n  !!(query[LogicalOperator.AND] || query[LogicalOperator.OR]);\n\nconst isPath = (query) => !!query[KeyType.PATH];\n\nconst isLeaf = (query) =>\n  !isArray(query) && isObject(query) && !isExpression(query);\n\nconst convertToExplicit = (query) => ({\n  [LogicalOperator.AND]: Object.keys(query).map((key) => ({\n    [key]: query[key]\n  }))\n});\n\n// When `auto` is `true`, the parse function will infer and initialize and add\n// the appropriate `Searcher` instance\nfunction parse(query, options, { auto = true } = {}) {\n  const next = (query) => {\n    let keys = Object.keys(query);\n\n    const isQueryPath = isPath(query);\n\n    if (!isQueryPath && keys.length > 1 && !isExpression(query)) {\n      return next(convertToExplicit(query))\n    }\n\n    if (isLeaf(query)) {\n      const key = isQueryPath ? query[KeyType.PATH] : keys[0];\n\n      const pattern = isQueryPath ? query[KeyType.PATTERN] : query[key];\n\n      if (!isString(pattern)) {\n        throw new Error(LOGICAL_SEARCH_INVALID_QUERY_FOR_KEY(key))\n      }\n\n      const obj = {\n        keyId: createKeyId(key),\n        pattern\n      };\n\n      if (auto) {\n        obj.searcher = createSearcher(pattern, options);\n      }\n\n      return obj\n    }\n\n    let node = {\n      children: [],\n      operator: keys[0]\n    };\n\n    keys.forEach((key) => {\n      const value = query[key];\n\n      if (isArray(value)) {\n        value.forEach((item) => {\n          node.children.push(next(item));\n        });\n      }\n    });\n\n    return node\n  };\n\n  if (!isExpression(query)) {\n    query = convertToExplicit(query);\n  }\n\n  return next(query)\n}\n\n// Practical scoring function\nfunction computeScore(\n  results,\n  { ignoreFieldNorm = Config.ignoreFieldNorm }\n) {\n  results.forEach((result) => {\n    let totalScore = 1;\n\n    result.matches.forEach(({ key, norm, score }) => {\n      const weight = key ? key.weight : null;\n\n      totalScore *= Math.pow(\n        score === 0 && weight ? Number.EPSILON : score,\n        (weight || 1) * (ignoreFieldNorm ? 1 : norm)\n      );\n    });\n\n    result.score = totalScore;\n  });\n}\n\nfunction transformMatches(result, data) {\n  const matches = result.matches;\n  data.matches = [];\n\n  if (!isDefined(matches)) {\n    return\n  }\n\n  matches.forEach((match) => {\n    if (!isDefined(match.indices) || !match.indices.length) {\n      return\n    }\n\n    const { indices, value } = match;\n\n    let obj = {\n      indices,\n      value\n    };\n\n    if (match.key) {\n      obj.key = match.key.src;\n    }\n\n    if (match.idx > -1) {\n      obj.refIndex = match.idx;\n    }\n\n    data.matches.push(obj);\n  });\n}\n\nfunction transformScore(result, data) {\n  data.score = result.score;\n}\n\nfunction format(\n  results,\n  docs,\n  {\n    includeMatches = Config.includeMatches,\n    includeScore = Config.includeScore\n  } = {}\n) {\n  const transformers = [];\n\n  if (includeMatches) transformers.push(transformMatches);\n  if (includeScore) transformers.push(transformScore);\n\n  return results.map((result) => {\n    const { idx } = result;\n\n    const data = {\n      item: docs[idx],\n      refIndex: idx\n    };\n\n    if (transformers.length) {\n      transformers.forEach((transformer) => {\n        transformer(result, data);\n      });\n    }\n\n    return data\n  })\n}\n\nclass Fuse {\n  constructor(docs, options = {}, index) {\n    this.options = { ...Config, ...options };\n\n    if (\n      this.options.useExtendedSearch &&\n      !true\n    ) {\n      throw new Error(EXTENDED_SEARCH_UNAVAILABLE)\n    }\n\n    this._keyStore = new KeyStore(this.options.keys);\n\n    this.setCollection(docs, index);\n  }\n\n  setCollection(docs, index) {\n    this._docs = docs;\n\n    if (index && !(index instanceof FuseIndex)) {\n      throw new Error(INCORRECT_INDEX_TYPE)\n    }\n\n    this._myIndex =\n      index ||\n      createIndex(this.options.keys, this._docs, {\n        getFn: this.options.getFn,\n        fieldNormWeight: this.options.fieldNormWeight\n      });\n  }\n\n  add(doc) {\n    if (!isDefined(doc)) {\n      return\n    }\n\n    this._docs.push(doc);\n    this._myIndex.add(doc);\n  }\n\n  remove(predicate = (/* doc, idx */) => false) {\n    const results = [];\n\n    for (let i = 0, len = this._docs.length; i < len; i += 1) {\n      const doc = this._docs[i];\n      if (predicate(doc, i)) {\n        this.removeAt(i);\n        i -= 1;\n        len -= 1;\n\n        results.push(doc);\n      }\n    }\n\n    return results\n  }\n\n  removeAt(idx) {\n    this._docs.splice(idx, 1);\n    this._myIndex.removeAt(idx);\n  }\n\n  getIndex() {\n    return this._myIndex\n  }\n\n  search(query, { limit = -1 } = {}) {\n    const {\n      includeMatches,\n      includeScore,\n      shouldSort,\n      sortFn,\n      ignoreFieldNorm\n    } = this.options;\n\n    let results = isString(query)\n      ? isString(this._docs[0])\n        ? this._searchStringList(query)\n        : this._searchObjectList(query)\n      : this._searchLogical(query);\n\n    computeScore(results, { ignoreFieldNorm });\n\n    if (shouldSort) {\n      results.sort(sortFn);\n    }\n\n    if (isNumber(limit) && limit > -1) {\n      results = results.slice(0, limit);\n    }\n\n    return format(results, this._docs, {\n      includeMatches,\n      includeScore\n    })\n  }\n\n  _searchStringList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { records } = this._myIndex;\n    const results = [];\n\n    // Iterate over every string in the index\n    records.forEach(({ v: text, i: idx, n: norm }) => {\n      if (!isDefined(text)) {\n        return\n      }\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        results.push({\n          item: text,\n          idx,\n          matches: [{ score, value: text, norm, indices }]\n        });\n      }\n    });\n\n    return results\n  }\n\n  _searchLogical(query) {\n\n    const expression = parse(query, this.options);\n\n    const evaluate = (node, item, idx) => {\n      if (!node.children) {\n        const { keyId, searcher } = node;\n\n        const matches = this._findMatches({\n          key: this._keyStore.get(keyId),\n          value: this._myIndex.getValueForItemAtKeyId(item, keyId),\n          searcher\n        });\n\n        if (matches && matches.length) {\n          return [\n            {\n              idx,\n              item,\n              matches\n            }\n          ]\n        }\n\n        return []\n      }\n\n      const res = [];\n      for (let i = 0, len = node.children.length; i < len; i += 1) {\n        const child = node.children[i];\n        const result = evaluate(child, item, idx);\n        if (result.length) {\n          res.push(...result);\n        } else if (node.operator === LogicalOperator.AND) {\n          return []\n        }\n      }\n      return res\n    };\n\n    const records = this._myIndex.records;\n    const resultMap = {};\n    const results = [];\n\n    records.forEach(({ $: item, i: idx }) => {\n      if (isDefined(item)) {\n        let expResults = evaluate(expression, item, idx);\n\n        if (expResults.length) {\n          // Dedupe when adding\n          if (!resultMap[idx]) {\n            resultMap[idx] = { idx, item, matches: [] };\n            results.push(resultMap[idx]);\n          }\n          expResults.forEach(({ matches }) => {\n            resultMap[idx].matches.push(...matches);\n          });\n        }\n      }\n    });\n\n    return results\n  }\n\n  _searchObjectList(query) {\n    const searcher = createSearcher(query, this.options);\n    const { keys, records } = this._myIndex;\n    const results = [];\n\n    // List is Array<Object>\n    records.forEach(({ $: item, i: idx }) => {\n      if (!isDefined(item)) {\n        return\n      }\n\n      let matches = [];\n\n      // Iterate over every key (i.e, path), and fetch the value at that key\n      keys.forEach((key, keyIndex) => {\n        matches.push(\n          ...this._findMatches({\n            key,\n            value: item[keyIndex],\n            searcher\n          })\n        );\n      });\n\n      if (matches.length) {\n        results.push({\n          idx,\n          item,\n          matches\n        });\n      }\n    });\n\n    return results\n  }\n  _findMatches({ key, value, searcher }) {\n    if (!isDefined(value)) {\n      return []\n    }\n\n    let matches = [];\n\n    if (isArray(value)) {\n      value.forEach(({ v: text, i: idx, n: norm }) => {\n        if (!isDefined(text)) {\n          return\n        }\n\n        const { isMatch, score, indices } = searcher.searchIn(text);\n\n        if (isMatch) {\n          matches.push({\n            score,\n            key,\n            value: text,\n            idx,\n            norm,\n            indices\n          });\n        }\n      });\n    } else {\n      const { v: text, n: norm } = value;\n\n      const { isMatch, score, indices } = searcher.searchIn(text);\n\n      if (isMatch) {\n        matches.push({ score, key, value: text, norm, indices });\n      }\n    }\n\n    return matches\n  }\n}\n\nFuse.version = '6.6.2';\nFuse.createIndex = createIndex;\nFuse.parseIndex = parseIndex;\nFuse.config = Config;\n\n{\n  Fuse.parseQuery = parse;\n}\n\n{\n  register(ExtendedSearch);\n}\n\nexport { Fuse as default };\n", "/** Number theory-friendly modulo implementation\n\n    If divisor is positive, return value will be too.\n*/\nNumber.prototype.mod = function (this: number, n: number): number {\n    return knuth_mod(this, n)\n}\n\n/** Takes sign of divisor -- incl. returning -0 */\nexport function knuth_mod(dividend: number, divisor: number) {\n    return dividend - divisor * Math.floor(dividend / divisor)\n}\n\n/** Equivalent to knuth_mod but doesn't return -0 */\nexport function my_mod(dividend: number, divisor: number) {\n    return ((dividend % divisor) + divisor) % divisor\n}\n\n/** Always gives a positive result.\n\n    Equivalent to knuth_mod when divisor is +ve\n    Equivalent to % when dividend is +ve\n*/\nexport function euclid_mod(dividend: number, divisor: number) {\n    const abs_divisor = Math.abs(divisor)\n    const quotient = Math.floor(dividend / abs_divisor)\n    return dividend - abs_divisor * quotient\n}\n\nexport {}\n", "import \"@src/lib/number.mod\"\n\nexport function head<T>(iterable: Iterable<T>) {\n    const iterator = iterable[Symbol.iterator]()\n    const result = iterator.next()\n    if (result.done) throw RangeError(\"Empty iterator has no head/tail\")\n    else return result.value\n}\n\n/** Get the last item of an array or iterable */\nexport function tail<T>(iter: Iterable<T>) {\n    if (Array.isArray(iter)) {\n        if (iter.length < 1) throw RangeError(\"Empty iterator has no head/tail\")\n        return iter[iter.length - 1]\n    } else {\n        // Re-use error handling in head()\n        let last = head(iter)\n        for (last of iter);\n        return last\n    }\n}\n\nexport function* filter<T>(iter: Iterable<T>, predicate: (item: T) => boolean) {\n    for (const v of iter) {\n        if (predicate(v)) yield v\n    }\n}\n\nexport function find<T>(iter: Iterable<T>, predicate: (item: T) => boolean) {\n    return head(filter(iter, predicate))\n}\n\n/** Zip some arrays together\n\n    If you need variable length args, you need izip for now.\n\n*/\nexport function zip(...arrays) {\n    // Make an array of length values\n    // TODO: Explain how this works\n    return [...Array(arrays[0].length)].map((_, i) => arrays.map(a => a[i]))\n}\n\nexport function* range(length) {\n    if (length < 0) return\n    for (let index = 0; index < length; index++) {\n        yield index\n    }\n}\n\nexport function* enumerate(iterable) {\n    let index = 0\n    for (const element of iterable) {\n        yield [index, element]\n        index++\n    }\n}\n\n/* Zip arbitrary iterators together */\nexport function* izip(...arrays) {\n    const iterators = arrays.map(e => e[Symbol.iterator]())\n    const box = Array(arrays.length)\n    for (let v of iterators[0]) {\n        box[0] = v\n        let i\n        try {\n            for ([i, v] of enumerate(iterators.slice(1))) {\n                box[i + 1] = head(v)\n            }\n            yield [...box]\n        } catch (e) {\n            return\n        }\n    }\n}\n\n/* Test if two iterables are equal */\nexport function iterEq(...arrays) {\n    for (const a of zip(...arrays)) {\n        if (!a.reduce((x, y) => x === y)) return false\n    }\n    return true\n}\n\nexport function zeros(n) {\n    return new Array(n).fill(0)\n}\n\n/** islice(iter, stop) = Give the first `stop` elements\n    islice(iter, start, stop)\n        skip `start` elements, then give `stop - start` elements,\n        unless `stop` is null, then emit indefinitely\n\n    If the iterator runs out early so will this.\n*/\nexport function* islice(iterable, start: number, stop?: number) {\n    const iter = iterable[Symbol.iterator]()\n\n    // If stop is not defined then they're using the two argument variant\n    if (stop === undefined) {\n        stop = start\n        start = 0\n    }\n\n    // Skip elements until start\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const _ of range(start)) {\n        const res = iter.next()\n        if (res.done) return\n    }\n\n    // Emit elements\n    if (stop === null) {\n        yield* iter\n    } else {\n        for (let i = start; i < stop; i++) {\n            const res = iter.next()\n            if (res.done) return\n            else yield res.value\n        }\n    }\n}\n\nexport function* chain(...iterables) {\n    for (const iter of iterables) {\n        yield* iter[Symbol.iterator]()\n    }\n}\n\n/** All permutations of n items from array */\nexport function* permutationsWithReplacement(arr, n) {\n    const len = arr.length\n    const counters = zeros(n)\n    let index = 1\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const _ of range(Math.pow(len, n))) {\n        yield counters.map(i => arr[i])\n        for (const i of range(counters.length)) {\n            if (index.mod(Math.pow(len, counters.length - 1 - i)) === 0)\n                counters[i] = (counters[i] + 1).mod(len)\n        }\n        index++\n    }\n}\n\nexport function* map(arr, func) {\n    for (const v of arr) yield func(v)\n}\n\n// Returns an array of unique elements.\nexport function unique(arr) {\n    return arr.reduce((acc, cur) => {\n        if (!acc.includes(cur)) acc.push(cur)\n        return acc\n    }, [])\n}\n\n/** Yield values that are unique under hasher(value) */\nexport function* uniqueBy(arr, hasher) {\n    const hashes = new Set()\n    for (const e of arr) {\n        const hash = hasher(e)\n        if (!hashes.has(hash)) {\n            yield e\n            hashes.add(hash)\n        }\n    }\n}\n\n/** Drop from iterable until predicate is false */\nexport function* dropwhile(iterable, predicate) {\n    let allmatched = true\n    for (const elem of iterable) {\n        if (!(allmatched && predicate(elem))) {\n            allmatched = false\n            yield elem\n        }\n    }\n}\n\n/** Take from iterable until predicate is false */\nexport function* takewhile(iterable, predicate) {\n    for (const elem of iterable) {\n        if (predicate(elem)) {\n            yield elem\n        } else {\n            return\n        }\n    }\n}\n", "export function toBoolean(s: string) {\n    if (s === \"true\") return true\n    else if (s === \"false\") return false\n    else throw new Error(\"Not a boolean\")\n}\n\nexport function toNumber(s: string) {\n    const n = Number(s)\n    if (isNaN(n)) throw new Error(\"Not a number! \" + s)\n    else return n\n}\n", "export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}", "import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}", "import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}", "export default function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}", "import _arity from \"./_arity.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n\n      combined[combinedIdx] = result;\n\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n\n      combinedIdx += 1;\n    }\n\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n}", "import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _curryN from \"./internal/_curryN.js\";\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curryN =\n/*#__PURE__*/\n_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n\n  return _arity(length, _curryN(length, [], fn));\n});\n\nexport default curryN;", "import _curry1 from \"./_curry1.js\";\nimport _curry2 from \"./_curry2.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}", "/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};", "export default function _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}", "import _isArray from \"./_isArray.js\";\nimport _isTransformer from \"./_isTransformer.js\";\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer created by [transducerCreator] to return a new transformer\n * (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} transducerCreator transducer factory if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\n\nexport default function _dispatchable(methodNames, transducerCreator, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[arguments.length - 1];\n\n    if (!_isArray(obj)) {\n      var idx = 0;\n\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, Array.prototype.slice.call(arguments, 0, -1));\n        }\n\n        idx += 1;\n      }\n\n      if (_isTransformer(obj)) {\n        var transducer = transducerCreator.apply(null, Array.prototype.slice.call(arguments, 0, -1));\n        return transducer(obj);\n      }\n    }\n\n    return fn.apply(this, arguments);\n  };\n}", "export default {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};", "export default function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n\n  return result;\n}", "export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}", "import _curry1 from \"./_curry1.js\";\nimport _isArray from \"./_isArray.js\";\nimport _isString from \"./_isString.js\";\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @private\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      _isArrayLike([]); //=> true\n *      _isArrayLike(true); //=> false\n *      _isArrayLike({}); //=> false\n *      _isArrayLike({length: 10}); //=> false\n *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n *      _isArrayLike({nodeType: 1, length: 1}) // => false\n */\n\nvar _isArrayLike =\n/*#__PURE__*/\n_curry1(function isArrayLike(x) {\n  if (_isArray(x)) {\n    return true;\n  }\n\n  if (!x) {\n    return false;\n  }\n\n  if (typeof x !== 'object') {\n    return false;\n  }\n\n  if (_isString(x)) {\n    return false;\n  }\n\n  if (x.length === 0) {\n    return true;\n  }\n\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n\n  return false;\n});\n\nexport default _isArrayLike;", "var XWrap =\n/*#__PURE__*/\nfunction () {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n\n  XWrap.prototype['@@transducer/init'] = function () {\n    throw new Error('init not implemented on XWrap');\n  };\n\n  XWrap.prototype['@@transducer/result'] = function (acc) {\n    return acc;\n  };\n\n  XWrap.prototype['@@transducer/step'] = function (acc, x) {\n    return this.f(acc, x);\n  };\n\n  return XWrap;\n}();\n\nexport default function _xwrap(fn) {\n  return new XWrap(fn);\n}", "import _arity from \"./internal/_arity.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n * @see R.partial\n * @example\n *\n *      const log = R.bind(console.log, console);\n *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n *      // logs {a: 2}\n * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n */\n\nvar bind =\n/*#__PURE__*/\n_curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function () {\n    return fn.apply(thisObj, arguments);\n  });\n});\n\nexport default bind;", "import _isArrayLike from \"./_isArrayLike.js\";\nimport _xwrap from \"./_xwrap.js\";\nimport bind from \"../bind.js\";\n\nfunction _arrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    idx += 1;\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _iterableReduce(xf, acc, iter) {\n  var step = iter.next();\n\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    step = iter.next();\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _methodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\n\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\nexport default function _reduce(fn, acc, list) {\n  if (typeof fn === 'function') {\n    fn = _xwrap(fn);\n  }\n\n  if (_isArrayLike(list)) {\n    return _arrayReduce(fn, acc, list);\n  }\n\n  if (typeof list['fantasy-land/reduce'] === 'function') {\n    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n  }\n\n  if (list[symIterator] != null) {\n    return _iterableReduce(fn, acc, list[symIterator]());\n  }\n\n  if (typeof list.next === 'function') {\n    return _iterableReduce(fn, acc, list);\n  }\n\n  if (typeof list.reduce === 'function') {\n    return _methodReduce(fn, acc, list, 'reduce');\n  }\n\n  throw new TypeError('reduce: list must be array or iterable');\n}", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XMap =\n/*#__PURE__*/\nfunction () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return XMap;\n}();\n\nvar _xmap =\n/*#__PURE__*/\n_curry2(function _xmap(f, xf) {\n  return new XMap(f, xf);\n});\n\nexport default _xmap;", "export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}", "import _has from \"./_has.js\";\nvar toString = Object.prototype.toString;\n\nvar _isArguments =\n/*#__PURE__*/\nfunction () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nexport default _isArguments;", "import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport _isArguments from \"./internal/_isArguments.js\"; // cover IE < 9 keys issues\n\nvar hasEnumBug = !\n/*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug =\n/*#__PURE__*/\nfunction () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) :\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n\n  var prop, nIdx;\n  var ks = [];\n\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n\n      nIdx -= 1;\n    }\n  }\n\n  return ks;\n});\nexport default keys;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _map from \"./internal/_map.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xmap from \"./internal/_xmap.js\";\nimport curryN from \"./curryN.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex, R.pluck, R.project\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\n\nvar map =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n\n    case '[object Object]':\n      return _reduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n\n    default:\n      return _map(fn, functor);\n  }\n}));\n\nexport default map;", "/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nexport default Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};", "import _curry3 from \"./internal/_curry3.js\";\nimport _reduce from \"./internal/_reduce.js\";\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to shortcut the iteration.\n *\n * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function\n * is *(value, acc)*.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduce` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n *\n * Dispatches to the `reduce` method of the third argument, if present. When\n * doing so, it is up to the user to handle the [`R.reduced`](#reduced)\n * shortcuting, as this is not implemented by `reduce`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduced, R.addIndex, R.reduceRight\n * @example\n *\n *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10\n *      //          -               -10\n *      //         / \\              / \\\n *      //        -   4           -6   4\n *      //       / \\              / \\\n *      //      -   3   ==>     -3   3\n *      //     / \\              / \\\n *      //    -   2           -1   2\n *      //   / \\              / \\\n *      //  0   1            0   1\n *\n * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)\n */\n\nvar reduce =\n/*#__PURE__*/\n_curry3(_reduce);\n\nexport default reduce;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nexport default type;", "export default function _pipe(f, g) {\n  return function () {\n    return g.call(this, f.apply(this, arguments));\n  };\n}", "import _isArray from \"./_isArray.js\";\n/**\n * This checks whether a function has a [methodname] function. If it isn't an\n * array it will execute that function otherwise it will default to the ramda\n * implementation.\n *\n * @private\n * @param {Function} fn ramda implementation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\n\nexport default function _checkForMethod(methodname, fn) {\n  return function () {\n    var length = arguments.length;\n\n    if (length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[length - 1];\n    return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, Array.prototype.slice.call(arguments, 0, length - 1));\n  };\n}", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry3 from \"./internal/_curry3.js\";\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\n\nvar slice =\n/*#__PURE__*/\n_curry3(\n/*#__PURE__*/\n_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\n\nexport default slice;", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.head, R.init, R.last\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\n\nvar tail =\n/*#__PURE__*/\n_curry1(\n/*#__PURE__*/\n_checkForMethod('tail',\n/*#__PURE__*/\nslice(1, Infinity)));\n\nexport default tail;", "import _arity from \"./internal/_arity.js\";\nimport _pipe from \"./internal/_pipe.js\";\nimport reduce from \"./reduce.js\";\nimport tail from \"./tail.js\";\n/**\n * Performs left-to-right function composition. The first argument may have\n * any arity; the remaining arguments must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * **Note:** The result of pipe is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      const f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n * @symb R.pipe(f, g, h)(a, b) = h(g(f(a, b)))\n * @symb R.pipe(f, g, h)(a)(b) = h(g(f(a)))(b)\n */\n\nexport default function pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n\n  return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _isString from \"./internal/_isString.js\";\n/**\n * Returns a new list or string with the elements or characters in reverse\n * order.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {Array|String} list\n * @return {Array|String}\n * @example\n *\n *      R.reverse([1, 2, 3]);  //=> [3, 2, 1]\n *      R.reverse([1, 2]);     //=> [2, 1]\n *      R.reverse([1]);        //=> [1]\n *      R.reverse([]);         //=> []\n *\n *      R.reverse('abc');      //=> 'cba'\n *      R.reverse('ab');       //=> 'ba'\n *      R.reverse('a');        //=> 'a'\n *      R.reverse('');         //=> ''\n */\n\nvar reverse =\n/*#__PURE__*/\n_curry1(function reverse(list) {\n  return _isString(list) ? list.split('').reverse().join('') : Array.prototype.slice.call(list, 0).reverse();\n});\n\nexport default reverse;", "export default function _identity(x) {\n  return x;\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _identity from \"./internal/_identity.js\";\n/**\n * A function that does nothing but return the parameter supplied to it. Good\n * as a default or placeholder function.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> a\n * @param {*} x The value to return.\n * @return {*} The input value, `x`.\n * @example\n *\n *      R.identity(1); //=> 1\n *\n *      const obj = {};\n *      R.identity(obj) === obj; //=> true\n * @symb R.identity(a) = a\n */\n\nvar identity =\n/*#__PURE__*/\n_curry1(_identity);\n\nexport default identity;", "export default function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n\n  return list;\n}", "export default function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}", "export default function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}", "// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\n\nexport default typeof Object.is === 'function' ? Object.is : _objectIs;", "import _arrayFromIterator from \"./_arrayFromIterator.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _functionName from \"./_functionName.js\";\nimport _has from \"./_has.js\";\nimport _objectIs from \"./_objectIs.js\";\nimport keys from \"../keys.js\";\nimport type from \"../type.js\";\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n\n  var b = _arrayFromIterator(bIterator);\n\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\n\nexport default function _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n\n  var typeA = type(a);\n\n  if (typeA !== type(b)) {\n    return false;\n  }\n\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n\n      break;\n\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n\n      break;\n\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n\n      break;\n\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n\n      break;\n  }\n\n  var idx = stackA.length - 1;\n\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n\n    idx -= 1;\n  }\n\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n\n  while (idx >= 0) {\n    var key = keysA[idx];\n\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n\n    idx -= 1;\n  }\n\n  return true;\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _equals from \"./internal/_equals.js\";\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\nvar equals =\n/*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\nexport default equals;", "import equals from \"../equals.js\";\nexport default function _indexOf(list, a, idx) {\n  var inf, item; // Array.prototype.indexOf doesn't exist below IE9\n\n  if (typeof list.indexOf === 'function') {\n    switch (typeof a) {\n      case 'number':\n        if (a === 0) {\n          // manually crawl the list to distinguish between +0 and -0\n          inf = 1 / a;\n\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (item === 0 && 1 / item === inf) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } else if (a !== a) {\n          // NaN\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (typeof item === 'number' && item !== item) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } // non-zero numbers can utilise Set\n\n\n        return list.indexOf(a, idx);\n      // all these types can utilise Set\n\n      case 'string':\n      case 'boolean':\n      case 'function':\n      case 'undefined':\n        return list.indexOf(a, idx);\n\n      case 'object':\n        if (a === null) {\n          // null can utilise Set\n          return list.indexOf(a, idx);\n        }\n\n    }\n  } // anything else not covered above, defer to R.equals\n\n\n  while (idx < list.length) {\n    if (equals(list[idx], a)) {\n      return idx;\n    }\n\n    idx += 1;\n  }\n\n  return -1;\n}", "import _indexOf from \"./_indexOf.js\";\nexport default function _includes(a, list) {\n  return _indexOf(list, a, 0) >= 0;\n}", "/**\n * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.\n */\nvar pad = function pad(n) {\n  return (n < 10 ? '0' : '') + n;\n};\n\nvar _toISOString = typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {\n  return d.toISOString();\n} : function _toISOString(d) {\n  return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n};\n\nexport default _toISOString;", "export default function _complement(f) {\n  return function () {\n    return !f.apply(this, arguments);\n  };\n}", "export default function _filter(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      result[result.length] = list[idx];\n    }\n\n    idx += 1;\n  }\n\n  return result;\n}", "export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFilter =\n/*#__PURE__*/\nfunction () {\n  function XFilter(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XFilter.prototype['@@transducer/init'] = _xfBase.init;\n  XFilter.prototype['@@transducer/result'] = _xfBase.result;\n\n  XFilter.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n\n  return XFilter;\n}();\n\nvar _xfilter =\n/*#__PURE__*/\n_curry2(function _xfilter(f, xf) {\n  return new XFilter(f, xf);\n});\n\nexport default _xfilter;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _filter from \"./internal/_filter.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xfilter from \"./internal/_xfilter.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a predicate and a `Filterable`, and returns a new filterable of the\n * same type containing the members of the given filterable which satisfy the\n * given predicate. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * Dispatches to the `filter` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array} Filterable\n * @see R.reject, R.transduce, R.addIndex\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *\n *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar filter =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/filter', 'filter'], _xfilter, function (pred, filterable) {\n  return _isObject(filterable) ? _reduce(function (acc, key) {\n    if (pred(filterable[key])) {\n      acc[key] = filterable[key];\n    }\n\n    return acc;\n  }, {}, keys(filterable)) : // else\n  _filter(pred, filterable);\n}));\n\nexport default filter;", "import _complement from \"./internal/_complement.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport filter from \"./filter.js\";\n/**\n * The complement of [`filter`](#filter).\n *\n * Acts as a transducer if a transformer is given in list position. Filterable\n * objects include plain objects or any object that has a filter method such\n * as `Array`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array}\n * @see R.filter, R.transduce, R.addIndex\n * @example\n *\n *      const isOdd = (n) => n % 2 !== 0;\n *\n *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.reject(isOdd, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar reject =\n/*#__PURE__*/\n_curry2(function reject(pred, filterable) {\n  return filter(_complement(pred), filterable);\n});\n\nexport default reject;", "import _includes from \"./_includes.js\";\n\nvar _Set =\n/*#__PURE__*/\nfunction () {\n  function _Set() {\n    /* globals Set */\n    this._nativeSet = typeof Set === 'function' ? new Set() : null;\n    this._items = {};\n  }\n\n  // until we figure out why jsdoc chokes on this\n  // @param item The item to add to the Set\n  // @returns {boolean} true if the item did not exist prior, otherwise false\n  //\n  _Set.prototype.add = function (item) {\n    return !hasOrAdd(item, true, this);\n  }; //\n  // @param item The item to check for existence in the Set\n  // @returns {boolean} true if the item exists in the Set, otherwise false\n  //\n\n\n  _Set.prototype.has = function (item) {\n    return hasOrAdd(item, false, this);\n  }; //\n  // Combines the logic for checking whether an item is a member of the set and\n  // for adding a new item to the set.\n  //\n  // @param item       The item to check or add to the Set instance.\n  // @param shouldAdd  If true, the item will be added to the set if it doesn't\n  //                   already exist.\n  // @param set        The set instance to check or add to.\n  // @return {boolean} true if the item already existed, otherwise false.\n  //\n\n\n  return _Set;\n}();\n\nfunction hasOrAdd(item, shouldAdd, set) {\n  var type = typeof item;\n  var prevSize, newSize;\n\n  switch (type) {\n    case 'string':\n    case 'number':\n      // distinguish between +0 and -0\n      if (item === 0 && 1 / item === -Infinity) {\n        if (set._items['-0']) {\n          return true;\n        } else {\n          if (shouldAdd) {\n            set._items['-0'] = true;\n          }\n\n          return false;\n        }\n      } // these types can all utilise the native Set\n\n\n      if (set._nativeSet !== null) {\n        if (shouldAdd) {\n          prevSize = set._nativeSet.size;\n\n          set._nativeSet.add(item);\n\n          newSize = set._nativeSet.size;\n          return newSize === prevSize;\n        } else {\n          return set._nativeSet.has(item);\n        }\n      } else {\n        if (!(type in set._items)) {\n          if (shouldAdd) {\n            set._items[type] = {};\n            set._items[type][item] = true;\n          }\n\n          return false;\n        } else if (item in set._items[type]) {\n          return true;\n        } else {\n          if (shouldAdd) {\n            set._items[type][item] = true;\n          }\n\n          return false;\n        }\n      }\n\n    case 'boolean':\n      // set._items['boolean'] holds a two element array\n      // representing [ falseExists, trueExists ]\n      if (type in set._items) {\n        var bIdx = item ? 1 : 0;\n\n        if (set._items[type][bIdx]) {\n          return true;\n        } else {\n          if (shouldAdd) {\n            set._items[type][bIdx] = true;\n          }\n\n          return false;\n        }\n      } else {\n        if (shouldAdd) {\n          set._items[type] = item ? [false, true] : [true, false];\n        }\n\n        return false;\n      }\n\n    case 'function':\n      // compare functions for reference equality\n      if (set._nativeSet !== null) {\n        if (shouldAdd) {\n          prevSize = set._nativeSet.size;\n\n          set._nativeSet.add(item);\n\n          newSize = set._nativeSet.size;\n          return newSize === prevSize;\n        } else {\n          return set._nativeSet.has(item);\n        }\n      } else {\n        if (!(type in set._items)) {\n          if (shouldAdd) {\n            set._items[type] = [item];\n          }\n\n          return false;\n        }\n\n        if (!_includes(item, set._items[type])) {\n          if (shouldAdd) {\n            set._items[type].push(item);\n          }\n\n          return false;\n        }\n\n        return true;\n      }\n\n    case 'undefined':\n      if (set._items[type]) {\n        return true;\n      } else {\n        if (shouldAdd) {\n          set._items[type] = true;\n        }\n\n        return false;\n      }\n\n    case 'object':\n      if (item === null) {\n        if (!set._items['null']) {\n          if (shouldAdd) {\n            set._items['null'] = true;\n          }\n\n          return false;\n        }\n\n        return true;\n      }\n\n    /* falls through */\n\n    default:\n      // reduce the search size of heterogeneous sets by creating buckets\n      // for each type.\n      type = Object.prototype.toString.call(item);\n\n      if (!(type in set._items)) {\n        if (shouldAdd) {\n          set._items[type] = [item];\n        }\n\n        return false;\n      } // scan through all previously applied items\n\n\n      if (!_includes(item, set._items[type])) {\n        if (shouldAdd) {\n          set._items[type].push(item);\n        }\n\n        return false;\n      }\n\n      return true;\n  }\n} // A simple Set type that honours R.equals semantics\n\n\nexport default _Set;", "import _curry2 from \"./_curry2.js\";\nimport _Set from \"./_Set.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XUniqBy =\n/*#__PURE__*/\nfunction () {\n  function XUniqBy(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.set = new _Set();\n  }\n\n  XUniqBy.prototype['@@transducer/init'] = _xfBase.init;\n  XUniqBy.prototype['@@transducer/result'] = _xfBase.result;\n\n  XUniqBy.prototype['@@transducer/step'] = function (result, input) {\n    return this.set.add(this.f(input)) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n\n  return XUniqBy;\n}();\n\nvar _xuniqBy =\n/*#__PURE__*/\n_curry2(function _xuniqBy(f, xf) {\n  return new XUniqBy(f, xf);\n});\n\nexport default _xuniqBy;", "import _Set from \"./internal/_Set.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xuniqBy from \"./internal/_xuniqBy.js\";\n/**\n * Returns a new list containing only one copy of each element in the original\n * list, based upon the value returned by applying the supplied function to\n * each list element. Prefers the first item if the supplied function produces\n * the same value on two items. [`R.equals`](#equals) is used for comparison.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category List\n * @sig (a -> b) -> [a] -> [a]\n * @param {Function} fn A function used to produce a value to use during comparisons.\n * @param {Array} list The array to consider.\n * @return {Array} The list of unique items.\n * @example\n *\n *      R.uniqBy(Math.abs, [-1, -5, 2, 10, 1, 2]); //=> [-1, -5, 2, 10]\n */\n\nvar uniqBy =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xuniqBy, function (fn, list) {\n  var set = new _Set();\n  var result = [];\n  var idx = 0;\n  var appliedItem, item;\n\n  while (idx < list.length) {\n    item = list[idx];\n    appliedItem = fn(item);\n\n    if (set.add(appliedItem)) {\n      result.push(item);\n    }\n\n    idx += 1;\n  }\n\n  return result;\n}));\n\nexport default uniqBy;", "import identity from \"./identity.js\";\nimport uniqBy from \"./uniqBy.js\";\n/**\n * Returns a new list containing only one copy of each element in the original\n * list. [`R.equals`](#equals) is used to determine equality.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @param {Array} list The array to consider.\n * @return {Array} The list of unique items.\n * @example\n *\n *      R.uniq([1, 1, 2, 1]); //=> [1, 2]\n *      R.uniq([1, '1']);     //=> [1, '1']\n *      R.uniq([[42], [42]]); //=> [[42]]\n */\n\nvar uniq =\n/*#__PURE__*/\nuniqBy(identity);\nexport default uniq;", "import _has from \"./_has.js\"; // Based on https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\nfunction _objectAssign(target) {\n  if (target == null) {\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n\n  var output = Object(target);\n  var idx = 1;\n  var length = arguments.length;\n\n  while (idx < length) {\n    var source = arguments[idx];\n\n    if (source != null) {\n      for (var nextKey in source) {\n        if (_has(nextKey, source)) {\n          output[nextKey] = source[nextKey];\n        }\n      }\n    }\n\n    idx += 1;\n  }\n\n  return output;\n}\n\nexport default typeof Object.assign === 'function' ? Object.assign : _objectAssign;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * See if an object (i.e. `val`) is an instance of the supplied constructor. This\n * function will check up the inheritance chain, if any.\n * If `val` was created using `Object.create`, `R.is(Object, val) === true`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Type\n * @sig (* -> {*}) -> a -> Boolean\n * @param {Object} ctor A constructor\n * @param {*} val The value to test\n * @return {Boolean}\n * @example\n *\n *      R.is(Object, {}); //=> true\n *      R.is(Number, 1); //=> true\n *      R.is(Object, 1); //=> false\n *      R.is(String, 's'); //=> true\n *      R.is(String, new String('')); //=> true\n *      R.is(Object, new String('')); //=> true\n *      R.is(Object, 's'); //=> false\n *      R.is(Number, {}); //=> false\n */\n\nvar is =\n/*#__PURE__*/\n_curry2(function is(Ctor, val) {\n  return val instanceof Ctor || val != null && (val.constructor === Ctor || Ctor.name === 'Object' && typeof val === 'object');\n});\n\nexport default is;", "import _objectAssign from \"./internal/_objectAssign.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Create a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects,\n * the value from the first object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Object\n * @sig {k: v} -> {k: v} -> {k: v}\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeRight, R.mergeDeepLeft, R.mergeWith, R.mergeWithKey\n * @example\n *\n *      R.mergeLeft({ 'age': 40 }, { 'name': 'fred', 'age': 10 });\n *      //=> { 'name': 'fred', 'age': 40 }\n *\n *      const resetToDefault = R.mergeLeft({x: 0});\n *      resetToDefault({x: 5, y: 2}); //=> {x: 0, y: 2}\n * @symb R.mergeLeft(a, b) = {...b, ...a}\n */\n\nvar mergeLeft =\n/*#__PURE__*/\n_curry2(function mergeLeft(l, r) {\n  return _objectAssign({}, r, l);\n});\n\nexport default mergeLeft;", "import _objectAssign from \"./internal/_objectAssign.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Create a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects,\n * the value from the second object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Object\n * @sig {k: v} -> {k: v} -> {k: v}\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeLeft, R.mergeDeepRight, R.mergeWith, R.mergeWithKey\n * @example\n *\n *      R.mergeRight({ 'name': 'fred', 'age': 10 }, { 'age': 40 });\n *      //=> { 'name': 'fred', 'age': 40 }\n *\n *      const withDefaults = R.mergeRight({x: 0, y: 0});\n *      withDefaults({y: 2}); //=> {x: 0, y: 2}\n * @symb R.mergeRight(a, b) = {...a, ...b}\n */\n\nvar mergeRight =\n/*#__PURE__*/\n_curry2(function mergeRight(l, r) {\n  return _objectAssign({}, l, r);\n});\n\nexport default mergeRight;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a partial copy of an object containing only the keys specified. If\n * the key does not exist, the property is ignored.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [k] -> {k: v} -> {k: v}\n * @param {Array} names an array of String property names to copy onto a new object\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties from `names` on it.\n * @see R.omit, R.props\n * @example\n *\n *      R.pick(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}\n *      R.pick(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1}\n */\n\nvar pick =\n/*#__PURE__*/\n_curry2(function pick(names, obj) {\n  var result = {};\n  var idx = 0;\n\n  while (idx < names.length) {\n    if (names[idx] in obj) {\n      result[names[idx]] = obj[names[idx]];\n    }\n\n    idx += 1;\n  }\n\n  return result;\n});\n\nexport default pick;", "import _curry1 from \"./internal/_curry1.js\";\nvar ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003' + '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' + '\\u2029\\uFEFF';\nvar zeroWidth = '\\u200b';\nvar hasProtoTrim = typeof String.prototype.trim === 'function';\n/**\n * Removes (strips) whitespace from both ends of the string.\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category String\n * @sig String -> String\n * @param {String} str The string to trim.\n * @return {String} Trimmed version of `str`.\n * @example\n *\n *      R.trim('   xyz  '); //=> 'xyz'\n *      R.map(R.trim, R.split(',', 'x, y, z')); //=> ['x', 'y', 'z']\n */\n\nvar trim = !hasProtoTrim ||\n/*#__PURE__*/\nws.trim() || !\n/*#__PURE__*/\nzeroWidth.trim() ?\n/*#__PURE__*/\n_curry1(function trim(str) {\n  var beginRx = new RegExp('^[' + ws + '][' + ws + ']*');\n  var endRx = new RegExp('[' + ws + '][' + ws + ']*$');\n  return str.replace(beginRx, '').replace(endRx, '');\n}) :\n/*#__PURE__*/\n_curry1(function trim(str) {\n  return str.trim();\n});\nexport default trim;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Tests the final argument by passing it to the given predicate function. If\n * the predicate is satisfied, the function will return the result of calling\n * the `whenTrueFn` function with the same argument. If the predicate is not\n * satisfied, the argument is returned as is.\n *\n * @func\n * @memberOf R\n * @since v0.18.0\n * @category Logic\n * @sig (a -> Boolean) -> (a -> b) -> a -> a | b\n * @param {Function} pred       A predicate function\n * @param {Function} whenTrueFn A function to invoke when the `condition`\n *                              evaluates to a truthy value.\n * @param {*}        x          An object to test with the `pred` function and\n *                              pass to `whenTrueFn` if necessary.\n * @return {*} Either `x` or the result of applying `x` to `whenTrueFn`.\n * @see R.ifElse, R.unless, R.cond\n * @example\n *\n *      // truncate :: String -> String\n *      const truncate = R.when(\n *        R.propSatisfies(R.gt(R.__, 10), 'length'),\n *        R.pipe(R.take(10), R.append('\u2026'), R.join(''))\n *      );\n *      truncate('12345');         //=> '12345'\n *      truncate('0123456789ABC'); //=> '0123456789\u2026'\n */\n\nvar when =\n/*#__PURE__*/\n_curry3(function when(pred, whenTrueFn, x) {\n  return pred(x) ? whenTrueFn(x) : x;\n});\n\nexport default when;", "import * as nearley from \"nearley\"\n\n/** Friendlier interface around nearley parsers */\nexport class Parser {\n    private parser\n    private initial_state\n    /* public results */\n\n    constructor(grammar) {\n        this.parser = new nearley.Parser(nearley.Grammar.fromCompiled(grammar))\n        this.initial_state = this.parser.save()\n        /* this.results = this.parser.results */\n    }\n\n    feedUntilError(input) {\n        let lastResult\n        let consumedIndex = 0\n        try {\n            for (const val of input) {\n                this.parser.feed(val)\n                lastResult = this.parser.results[0]\n                consumedIndex++\n            }\n        } finally {\n            this.reset()\n            if (lastResult === undefined) {\n                throw new Error(\"Error: no result!\")\n            } else {\n                return [lastResult, input.slice(consumedIndex)]\n            }\n        }\n    }\n\n    private reset() {\n        this.parser.restore(this.initial_state)\n    }\n\n    /* feed(input) { */\n    /*     return this.parser.feed(input) */\n    /* } */\n}\n", "// Generated automatically by nearley, version 2.20.1\n// http://github.com/Hardmath123/nearley\n// Bypasses TS6133. Allow declared but unused functions.\n// @ts-ignore\nfunction id(d: any[]): any { return d[0]; }\n\ninterface NearleyToken {\n  value: any;\n  [key: string]: any;\n};\n\ninterface NearleyLexer {\n  reset: (chunk: string, info: any) => void;\n  next: () => NearleyToken | undefined;\n  save: () => any;\n  formatError: (token: never) => string;\n  has: (tokenType: string) => boolean;\n};\n\ninterface NearleyRule {\n  name: string;\n  symbols: NearleySymbol[];\n  postprocess?: (d: any[], loc?: number, reject?: {}) => any;\n};\n\ntype NearleySymbol = string | { literal: any } | { test: (token: any) => boolean };\n\ninterface Grammar {\n  Lexer: NearleyLexer | undefined;\n  ParserRules: NearleyRule[];\n  ParserStart: string;\n};\n\nconst grammar: Grammar = {\n  Lexer: undefined,\n  ParserRules: [\n    {\"name\": \"BracketExpr\", \"symbols\": [{\"literal\":\"<\"}, \"Modifier\", \"ModKey\", {\"literal\":\">\"}], \"postprocess\": bexpr=>bexpr.slice(1,-1)},\n    {\"name\": \"BracketExpr\", \"symbols\": [{\"literal\":\"<\"}, \"Key\", {\"literal\":\">\"}], \"postprocess\": bexpr=>[{}].concat(bexpr.slice(1,-1))},\n    {\"name\": \"Modifier$ebnf$1\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier$ebnf$2\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$2\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier$ebnf$3\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$3\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier$ebnf$4\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$4\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier\", \"symbols\": [\"Modifier$ebnf$1\", \"Modifier$ebnf$2\", \"Modifier$ebnf$3\", \"Modifier$ebnf$4\", {\"literal\":\"-\"}], \"postprocess\": \n        /** For each modifier present,\n            add its long name as an attribute set to true to an object */\n        (mods, _, reject) => {\n            const longNames = new Map([\n                [\"A\", \"altKey\"],\n                [\"C\", \"ctrlKey\"],\n                [\"M\", \"metaKey\"],\n                [\"S\", \"shiftKey\"],\n            ])\n        \n            let modifiersObj = {}\n            for (let mod of mods) {\n                if (mod === null || mod === \"-\") continue\n                let longName = longNames.get(mod.toUpperCase())\n                if (longName) {\n                    // Reject if the same name is used twice.\n                    if (longName in modifiersObj) return reject\n                    else modifiersObj[longName] = true\n                }\n            }\n            return modifiersObj\n        }\n        },\n    {\"name\": \"ModKey\", \"symbols\": [{\"literal\":\"<\"}], \"postprocess\": id},\n    {\"name\": \"ModKey\", \"symbols\": [{\"literal\":\">\"}], \"postprocess\": id},\n    {\"name\": \"ModKey\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"ModKey\", \"symbols\": [\"Key\"], \"postprocess\": id},\n    {\"name\": \"Key$ebnf$1\", \"symbols\": [/[^\\s<>-]/]},\n    {\"name\": \"Key$ebnf$1\", \"symbols\": [\"Key$ebnf$1\", /[^\\s<>-]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"Key\", \"symbols\": [\"Key$ebnf$1\"], \"postprocess\": (key)=>key[0].join(\"\")}\n  ],\n  ParserStart: \"BracketExpr\",\n};\n\nexport default grammar;\n", "/** Key-sequence parser\n\n    If `map` is a Map of `MinimalKey[]` to objects (exstrs or callbacks)\n    and `keyseq` is an array of [[MinimalKey]] compatible objects...\n\n     - `parse(keyseq, map)` returns the mapped object and a count OR a prefix\n       of `MinimalKey[]` (possibly empty) that, if more keys are pressed, could\n       map to an object.\n     - `completions(keyseq, map)` returns the fragment of `map` that keyseq is\n       a valid prefix of.\n     - `mapstrToKeySeq` generates KeySequences for the rest of the API.\n\n    No key sequence in a `map` may be a prefix of another key sequence in that\n    map. This is a point of difference from Vim that removes any time-dependence\n    in the parser. Vimperator, Pentadactyl, saka-key, etc, all share this\n    limitation.\n\n    If a key is represented by a single character then the shift modifier state\n    is ignored unless other modifiers are also present.\n\n*/\n\n/** */\nimport { filter, find, izip } from \"@src/lib/itertools\"\nimport { Parser } from \"@src/lib/nearley_utils\"\nimport * as config from \"@src/lib/config\"\nimport * as R from \"ramda\"\nimport grammar from \"@src/grammars/.bracketexpr.generated\"\nconst bracketexpr_grammar = grammar\nconst bracketexpr_parser = new Parser(bracketexpr_grammar)\n\nlet KEYCODETRANSLATEMAP = {}\n\n// {{{ General types\n\nexport interface KeyModifiers {\n    altKey?: boolean\n    ctrlKey?: boolean\n    metaKey?: boolean\n    shiftKey?: boolean\n}\n\n// Format modifiers\nconst modifiers = new Map([\n    [\"A\", \"altKey\"],\n    [\"C\", \"ctrlKey\"],\n    [\"M\", \"metaKey\"],\n    [\"S\", \"shiftKey\"],\n])\nexport class MinimalKey {\n    readonly altKey = false\n    readonly ctrlKey = false\n    readonly metaKey = false\n    readonly shiftKey = false\n    translated = false\n    constructor(readonly key: string, modifiers?: KeyModifiers) {\n        if (modifiers !== undefined) {\n            for (const mod of Object.keys(modifiers)) {\n                if (\n                    this.key.length === 1 &&\n                    this.key !== \" \" &&\n                    mod === \"shiftKey\"\n                )\n                    continue\n                this[mod] = modifiers[mod]\n            }\n        }\n    }\n\n    /** Does this key match another MinimalKey */\n    public match(keyevent: MinimalKey) {\n        if (this.key !== keyevent.key) return false\n        for (const [_, attr] of modifiers.entries()) {\n            if (this[attr] !== keyevent[attr]) return false\n        }\n        return true\n    }\n\n    public translate(keytranslatemap: { [inkey: string]: string }): MinimalKey {\n        let newkey = keytranslatemap[this.key]\n        if (newkey === undefined || this.translated) newkey = this.key\n        const result = new MinimalKey(newkey, {\n            altKey: this.altKey,\n            ctrlKey: this.ctrlKey,\n            metaKey: this.metaKey,\n            shiftKey: this.shiftKey,\n        })\n        result.translated = true\n        return result\n    }\n\n    public toMapstr() {\n        let str = \"\"\n        let needsBrackets = this.key.length > 1\n\n        for (const [letter, attr] of modifiers.entries()) {\n            if (this[attr]) {\n                str += letter\n                needsBrackets = true\n            }\n        }\n        if (str) {\n            str += \"-\"\n        }\n\n        let key = this.key\n        if (key === \" \") {\n            key = \"Space\"\n            needsBrackets = true\n        }\n\n        // Format the rest\n        str += key\n        if (needsBrackets) {\n            str = \"<\" + str + \">\"\n        }\n\n        return str\n    }\n    public isPrintable() {\n        return this.key.length === 1\n    }\n}\n\nexport type KeyEventLike = MinimalKey | KeyboardEvent\n\n// }}}\n\n// {{{ parser and completions\n\ntype MapTarget = string | ((...args: any[]) => any)\ntype KeyMap = Map<MinimalKey[], MapTarget>\n\nexport interface ParserResponse {\n    keys?: MinimalKey[]\n    value?: string\n    exstr?: string\n    isMatch?: boolean\n    numericPrefix?: number\n}\n\nfunction splitNumericPrefix(\n    keyseq: MinimalKey[],\n): [MinimalKey[], MinimalKey[]] {\n    // If the first key is in 1:9, partition all numbers until you reach a non-number.\n    if (\n        !hasModifiers(keyseq[0]) &&\n        [1, 2, 3, 4, 5, 6, 7, 8, 9].includes(Number(keyseq[0].key))\n    ) {\n        const prefix = [keyseq[0]]\n        for (const ke of keyseq.slice(1)) {\n            if (\n                !hasModifiers(ke) &&\n                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].includes(Number(ke.key))\n            )\n                prefix.push(ke)\n            else break\n        }\n        const rest = keyseq.slice(prefix.length)\n        return [prefix, rest]\n    } else {\n        return [[], keyseq]\n    }\n}\n\nexport function stripOnlyModifiers(keyseq) {\n    return keyseq.filter(\n        key =>\n            ![\"Control\", \"Shift\", \"Alt\", \"AltGraph\", \"Meta\"].includes(key.key),\n    )\n}\n\nexport function parse(keyseq: MinimalKey[], map: KeyMap): ParserResponse {\n    // Remove bare modifiers\n    keyseq = stripOnlyModifiers(keyseq)\n\n    // If the keyseq is now empty, abort.\n    if (keyseq.length === 0) return { keys: [], isMatch: false }\n\n    // Split into numeric prefix and non-numeric suffix\n    let numericPrefix: MinimalKey[]\n    ;[numericPrefix, keyseq] = splitNumericPrefix(keyseq)\n\n    // If keyseq is a prefix of a key in map, proceed, else try dropping keys\n    // from keyseq until it is empty or is a prefix.\n    let possibleMappings = completions(keyseq, map)\n    while (possibleMappings.size === 0 && keyseq.length > 0) {\n        keyseq.shift()\n        numericPrefix = []\n        possibleMappings = completions(keyseq, map)\n    }\n\n    if (possibleMappings.size > 0) {\n        // Check if any of the mappings is a perfect match (this will only\n        // happen if some sequences in the KeyMap are prefixes of other seqs).\n        try {\n            const perfect = find(\n                possibleMappings,\n                ([k, _v]) => k.length === keyseq.length,\n            )\n            return {\n                value: perfect[1],\n                exstr: perfect[1] + numericPrefixToExstrSuffix(numericPrefix),\n                isMatch: true,\n                numericPrefix: numericPrefix.length\n                    ? Number(numericPrefix.map(ke => ke.key).join(\"\"))\n                    : undefined,\n                keys: [],\n            }\n        } catch (e) {\n            if (!(e instanceof RangeError)) throw e\n        }\n    }\n\n    // keyseq is the longest suffix of keyseq that is the prefix of a\n    // command, numericPrefix is a numeric prefix of that. We want to\n    // preserve that whole thing, so concat them back together before\n    // returning.\n    return { keys: numericPrefix.concat(keyseq), isMatch: keyseq.length > 0 }\n}\n\n/** True if seq1 is a prefix or equal to seq2 */\nfunction prefixes(seq1: MinimalKey[], seq2: MinimalKey[]) {\n    if (seq1.length > seq2.length) {\n        return false\n    } else {\n        for (const [key1, key2] of izip(seq1, seq2)) {\n            if (!key2.match(key1)) return false\n        }\n        return true\n    }\n}\n\n/** returns the fragment of `map` that keyseq is a valid prefix of. */\nexport function completions(keyseq: MinimalKey[], map: KeyMap): KeyMap {\n    return new Map(\n        filter(map.entries(), ([ks, _maptarget]) => prefixes(keyseq, ks)),\n    )\n}\n\n// }}}\n\n// {{{ mapStrToKeySeq stuff\n\n/** Expand special key aliases that Vim provides to canonical values\n\n    Vim aliases are case insensitive.\n*/\nfunction expandAliases(key: string) {\n    // Vim compatibility aliases\n    const aliases = {\n        cr: \"Enter\",\n        esc: \"Escape\",\n        return: \"Enter\",\n        enter: \"Enter\",\n        space: \" \",\n        bar: \"|\",\n        del: \"Delete\",\n        bs: \"Backspace\",\n        lt: \"<\",\n    }\n    if (key.toLowerCase() in aliases) return aliases[key.toLowerCase()]\n    else return key\n}\n\n/** String starting with a `<` to MinimalKey and remainder.\n\n    Bracket expressions generally start with a `<` contain no angle brackets or\n    whitespace and end with a `>.` These special-cased expressions are also\n    permitted: `<{modifier}<>`, `<{modifier}>>`, and `<{modifier}->`.\n\n    If the string passed does not match this definition, it is treated as a\n    literal `<.`\n\n    Backus Naur approximation:\n\n    ```\n        - bracketexpr ::= '<' modifier? key '>'\n        - modifier ::= 'm'|'s'|'a'|'c' '-'\n        - key ::= '<'|'>'|/[^\\s<>-]+/\n    ```\n\n    See `src/grammars/bracketExpr.ne` for the canonical definition.\n\n    Modifiers are case insensitive.\n\n    Some case insensitive vim compatibility aliases are also defined, see\n    [[expandAliases]].\n\n    Compatibility breaks:\n\n    Shift + key must use the correct capitalisation of key:\n        `<S-j> != J, <S-J> == J`.\n\n    In Vim `<A-x> == <M-x>` on most systems. Not so here: we can't detect\n    platform, so just have to use what the browser gives us.\n\n    Vim has a predefined list of special key sequences, we don't: there are too\n    many (and they're non-standard) [1].\n\n    In the future, we may just use the names as defined in keyNameList.h [2].\n\n    In Vim, you're still allowed to use `<lt>` within angled brackets:\n        `<M-<> == <M-lt> == <M-<lt>>`\n    Here only the first two will work.\n\n    Restrictions:\n\n    It is not possible to map to a keyevent that actually sends the key value\n    of any of the aliases or to any multi-character sequence containing a space\n    or `>.` It is unlikely that browsers will ever do either of those things.\n\n    [1]: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\n    [2]: https://searchfox.org/mozilla-central/source/dom/events/KeyNameList.h\n\n*/\nexport function bracketexprToKey(inputStr) {\n    if (inputStr.indexOf(\">\") > 0) {\n        try {\n            const [[modifiers, key], remainder] =\n                bracketexpr_parser.feedUntilError(inputStr)\n            return [new MinimalKey(expandAliases(key), modifiers), remainder]\n        } catch (e) {\n            // No valid bracketExpr\n            return [new MinimalKey(\"<\"), inputStr.slice(1)]\n        }\n    } else {\n        // No end bracket to match == no valid bracketExpr\n        return [new MinimalKey(\"<\"), inputStr.slice(1)]\n    }\n}\n\n/** Generate KeySequences for the rest of the API.\n\n    A map expression is something like:\n\n    ```\n    j scrollline 10\n    <C-f> scrollpage 0.5\n    <C-d> scrollpage 0.5\n    <C-/><C-n> mode normal\n    ```\n\n    A mapstr is the bit before the space.\n\n    mapstrToKeyseq turns a mapstr into a keySequence that looks like this:\n\n    ```\n    [MinimalKey {key: 'j'}]\n    [MinimalKey {key: 'f', ctrlKey: true}]\n    [MinimalKey {key: 'd', ctrlKey: true}]\n    [MinimalKey {key: '/', ctrlKey: true}, MinimalKey {key: 'n', ctrlKey: true}]\n    ```\n\n    (All four {modifier}Key flags are actually provided on all MinimalKeys)\n*/\nexport function mapstrToKeyseq(mapstr: string): MinimalKey[] {\n    const keyseq: MinimalKey[] = []\n    let key: MinimalKey\n    // Reduce mapstr by one character or one bracket expression per iteration\n    while (mapstr.length) {\n        if (mapstr[0] === \"<\") {\n            ;[key, mapstr] = bracketexprToKey(mapstr)\n            keyseq.push(key)\n        } else {\n            keyseq.push(new MinimalKey(mapstr[0]))\n            mapstr = mapstr.slice(1)\n        }\n    }\n    return keyseq\n}\n\nexport function canonicaliseMapstr(mapstr: string): string {\n    return mapstrToKeyseq(mapstr)\n        .map(k => k.toMapstr())\n        .join(\"\")\n}\n\nexport const commandKey2jsKey = {\n    Comma: \",\",\n    Period: \".\",\n    Up: \"ArrowUp\",\n    Down: \"ArrowDown\",\n    Left: \"ArrowLeft\",\n    Right: \"ArrowRight\",\n    Space: \" \",\n}\n\n/*\n * Convert a Commands API shortcut string to a MinimalKey. NB: no error checking done, media keys probably unsupported.\n */\nexport function mozMapToMinimalKey(mozmap: string): MinimalKey {\n    const arr = mozmap.split(\"+\")\n    const modifiers = {\n        altKey: arr.includes(\"Alt\"),\n        ctrlKey: arr.includes(\"MacCtrl\"), // MacCtrl gives us _actual_ ctrl on all platforms rather than splat on Mac and Ctrl everywhere else\n        shiftKey: arr.includes(\"Shift\"),\n        metaKey: arr.includes(\"Command\"),\n    }\n    let key = arr[arr.length - 1]\n    key = R.propOr(key.toLowerCase(), key, commandKey2jsKey)\n    // TODO: support mediakeys: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands#Media_keys\n\n    return new MinimalKey(key, modifiers)\n}\n\n/*\n * Convert a minimal key to a Commands API compatible bind. NB: no error checking done.\n *\n * Ctrl-key behaviour on Mac may be surprising.\n */\nexport function minimalKeyToMozMap(key: MinimalKey): string {\n    const mozMap: string[] = []\n    key.altKey && mozMap.push(\"Alt\")\n    key.ctrlKey && mozMap.push(\"MacCtrl\")\n    key.shiftKey && mozMap.push(\"Shift\")\n    key.metaKey && mozMap.push(\"Command\")\n    const jsKey2commandKey = Object.fromEntries(\n        Object.entries(commandKey2jsKey).map(([key, value]) => [value, key]),\n    )\n    mozMap.push(R.propOr(key.key.toUpperCase(), key.key, jsKey2commandKey))\n    return mozMap.join(\"+\")\n}\n\n/** Convert a map of mapstrs (e.g. from config) to a KeyMap */\nexport function mapstrMapToKeyMap(mapstrMap: Map<string, MapTarget>): KeyMap {\n    const newKeyMap = new Map()\n    for (const [mapstr, target] of mapstrMap.entries()) {\n        newKeyMap.set(mapstrToKeyseq(mapstr), target)\n    }\n    return newKeyMap\n}\n\nlet KEYMAP_CACHE = {}\n\n/**\n * Return a \"*maps\" config converted into sequences of minimalkeys (e.g. \"nmaps\")\n */\nexport function keyMap(conf): KeyMap {\n    if (KEYMAP_CACHE[conf]) return KEYMAP_CACHE[conf]\n\n    // Fail silently and pass keys through to page if Tridactyl hasn't loaded yet\n    if (!config.INITIALISED) return new Map()\n\n    const mapobj: { [keyseq: string]: string } = config.get(conf)\n    if (mapobj === undefined)\n        throw new Error(\n            \"No binds defined for this mode. Reload page with <C-r> and add binds, e.g. :bind --mode=[mode] <Esc> mode normal\",\n        )\n\n    // Convert to KeyMap\n    const maps = new Map(Object.entries(mapobj))\n    KEYMAP_CACHE[conf] = mapstrMapToKeyMap(maps)\n    return KEYMAP_CACHE[conf]\n}\n\n// }}}\n\n// {{{ Utility functions for dealing with KeyboardEvents\n\nexport function hasModifiers(keyEvent: MinimalKey) {\n    return (\n        keyEvent.ctrlKey ||\n        keyEvent.altKey ||\n        keyEvent.metaKey ||\n        keyEvent.shiftKey\n    )\n}\n\n/** shiftKey is true for any capital letter, most numbers, etc. Generally care about other modifiers. */\nexport function hasNonShiftModifiers(keyEvent: MinimalKey) {\n    return keyEvent.ctrlKey || keyEvent.altKey || keyEvent.metaKey\n}\n\nfunction numericPrefixToExstrSuffix(numericPrefix: MinimalKey[]) {\n    if (numericPrefix.length > 0) {\n        return \" \" + numericPrefix.map(k => k.key).join(\"\")\n    } else {\n        return \"\"\n    }\n}\n\n/**\n * Convert keyboardEvent to internal type MinimalKey\n * for further use. Key is obtained through layout-independent\n * code if config says so.\n */\nexport function minimalKeyFromKeyboardEvent(\n    keyEvent: KeyboardEvent,\n): MinimalKey {\n    const modifiers = {\n        altKey: keyEvent.altKey,\n        ctrlKey: keyEvent.ctrlKey,\n        metaKey: keyEvent.metaKey,\n        shiftKey: keyEvent.shiftKey,\n    }\n    if (config.get(\"keyboardlayoutforce\") === \"true\") {\n        Object.keys(KEYCODETRANSLATEMAP).length === 0 && updateBaseLayout()\n        let newkey = keyEvent.key\n        const translation = KEYCODETRANSLATEMAP[keyEvent.code]\n        if (translation) newkey = translation[+keyEvent.shiftKey]\n        return new MinimalKey(newkey, modifiers)\n    }\n\n    const result = new MinimalKey(keyEvent.key, modifiers)\n    if (config.get(\"usekeytranslatemap\") === \"true\") {\n        const translationmap = config.get(\"keytranslatemap\")\n        return result.translate(translationmap)\n    }\n    return result\n}\n\n// }}}\n\nbrowser.storage.onChanged.addListener(changes => {\n    if (\"userconfig\" in changes) {\n        KEYMAP_CACHE = {}\n    }\n})\n\n// ideally this would get called via a config.addChangeListener but they are not fired for mysterious reasons\nfunction updateBaseLayout() {\n    KEYCODETRANSLATEMAP = R.mergeRight(\n        config.keyboardlayouts[config.get(\"keyboardlayoutbase\")],\n        config.get(\"keyboardlayoutoverrides\"),\n    )\n}\n", "/** # Binding Functions\n *\n */\n\nimport { canonicaliseMapstr } from \"@src/lib/keyseq\"\n\nexport const mode2maps = new Map([\n    [\"normal\", \"nmaps\"],\n    [\"ignore\", \"ignoremaps\"],\n    [\"insert\", \"imaps\"],\n    [\"input\", \"inputmaps\"],\n    [\"ex\", \"exmaps\"],\n    [\"hint\", \"hintmaps\"],\n    [\"visual\", \"vmaps\"],\n    [\"browser\", \"browsermaps\"],\n])\n\nexport const maps2mode = new Map(\n    Array.from(mode2maps.keys()).map(k => [mode2maps.get(k), k]),\n)\n\nexport const modes = Array.from(mode2maps.keys())\nexport const modeMaps = Array.from(maps2mode.keys())\n\ninterface bind_args {\n    mode: string\n    configName: string\n    key: string\n    excmd: string\n}\n\nexport function parse_bind_args(...args: string[]): bind_args {\n    if (args.length === 0) throw new Error(\"Invalid bind/unbind arguments.\")\n\n    const result = {} as bind_args\n    result.mode = \"normal\"\n\n    if (args[0].startsWith(\"--mode=\")) {\n        result.mode = args.shift().replace(\"--mode=\", \"\")\n    }\n    if (!mode2maps.has(result.mode)) {\n        result.configName = result.mode + \"maps\"\n    } else {\n        result.configName = mode2maps.get(result.mode)\n    }\n\n    const key = args.shift()\n    // Convert key to internal representation\n    result.key = canonicaliseMapstr(key)\n\n    result.excmd = args.join(\" \")\n\n    return result\n}\n", "import * as R from \"ramda\"\n\n// Synchronous version of runtime.getPlatformInfo()\n// Not as exhaustive as the real thing\n// Will return undefined if it can't work it out\nexport function getPlatformOs(): browser.runtime.PlatformOs {\n    const platform = navigator.platform\n    const mapping = {\n        win: \"Win\",\n        openbsd: \"BSD\",\n        mac: \"Mac\",\n        linux: \"Linux\",\n    }\n    return R.keys(\n        R.filter(x => platform.includes(x), mapping),\n    )[0] as keyof typeof mapping\n}\n", "// Sketch\n//\n// Need an easy way of getting and setting settings\n// If a setting is not set, the default should probably be returned.\n// That probably means that binds etc. should be per-key?\n//\n// We should probably store all settings in memory, and only load from storage on startup and when we set it\n//\n// Really, we'd like a way of just letting things use the variables\n//\n\n/** # Tridactyl Configuration\n *\n * We very strongly recommend that you pretty much ignore this page and instead follow the link below DEFAULTS that will take you to our own source code which is formatted in a marginally more sane fashion.\n *\n * Intrepid Tridactyl users: this page is how Tridactyl arranges and manages its settings internally. To view your own settings, use `:viewconfig` and `:viewconfig --user`. To understand how to set settings, see `:help set`.\n *\n */\nimport * as R from \"ramda\"\nimport * as binding from \"@src/lib/binding\"\nimport * as platform from \"@src/lib/platform\"\nimport { DeepPartial } from \"tsdef\"\n\n/* Remove all nulls from objects recursively\n * NB: also applies to arrays\n */\nconst removeNull = R.when(\n    R.is(Object),\n    R.pipe(\n        // Ramda gives an error here without the any\n        R.reject(val => val === null) as any,\n        R.map(a => removeNull(a)),\n    ),\n)\n\n/** @hidden */\nconst CONFIGNAME = \"userconfig\"\n/** @hidden */\nconst WAITERS = []\n/** @hidden */\nexport let INITIALISED = false\n\n/** @hidden */\n// make a naked object\nexport function o(object) {\n    return Object.assign(Object.create(null), object)\n}\n\n/** @hidden */\n// \"Import\" is a reserved word so this will have to do\nfunction schlepp(settings) {\n    Object.assign(USERCONFIG, settings)\n}\n\n/** @hidden */\nexport let USERCONFIG = o({})\n\n/** @hidden\n * Ideally, LoggingLevel should be in logging.ts and imported from there. However this would cause a circular dependency, which webpack can't deal with\n */\nexport type LoggingLevel = \"never\" | \"error\" | \"warning\" | \"info\" | \"debug\"\n\n/**\n * This is the default configuration that Tridactyl comes with.\n *\n * You can change anything here using `set key1.key2.key3 value` or specific things any of the various helper commands such as `bind` or `command`. You can also jump to the help section of a setting using `:help $settingname`. Some of the settings have an input field containing their current value. You can modify these values and save them by pressing `<Enter>` but using `:set $setting $value` is a good habit to take as it doesn't force you to leave the page you're visiting to change your settings.\n *\n * If the setting you are changing has a dot or period character (.) in it, it cannot be set with `:set` directly. You must either use a helper command for that specific setting - e.g. `:seturl` or `:autocontain`, or you must use Tridactyl's JavaScript API with `:js tri.config.set(\"path\", \"to\", \"key\", \"value\")` to set `{path: {to: {key: value}}}`.\n *\n */\nexport class default_config {\n    /**\n     * Internal version number Tridactyl uses to know whether it needs to update from old versions of the configuration.\n     *\n     * Changing this might do weird stuff.\n     */\n    configversion = \"0.0\"\n\n    /**\n     * Internal field to handle site-specific configs. Use :seturl/:unseturl to change these values.\n     */\n    subconfigs: { [key: string]: DeepPartial<default_config> } = {\n        \"www.google.com\": {\n            followpagepatterns: {\n                next: \"Next\",\n                prev: \"Previous\",\n            },\n        },\n        \"^https://web.whatsapp.com\": {\n            nmaps: {\n                f: \"hint -c [tabindex]:not(.two)>div,a\",\n                F: \"hint -bc [tabindex]:not(.two)>div,a\",\n            },\n        },\n    }\n\n    /**\n     * Internal field to handle mode-specific configs. Use :setmode/:unsetmode to change these values.\n     *\n     * Changing this might do weird stuff.\n     */\n    modesubconfigs: { [key: string]: DeepPartial<default_config> } = {\n        normal: {},\n        insert: {},\n        input: {},\n        ignore: {},\n        ex: {},\n        hint: {},\n        visual: {},\n    }\n\n    /**\n     * Internal field to handle site-specific config priorities. Use :seturl/:unseturl to change this value.\n     */\n    priority = 0\n\n    // Note to developers: When creating new <modifier-letter> maps, make sure to make the modifier uppercase (e.g. <C-a> instead of <c-a>) otherwise some commands might not be able to find them (e.g. `bind <c-a>`)\n\n    /**\n     * exmaps contains all of the bindings for the command line.\n     * You can of course bind regular ex commands but also [editor functions](/static/docs/modules/_src_lib_editor_.html) and [commandline-specific functions](/static/docs/modules/_src_commandline_frame_.html).\n     */\n    exmaps = {\n        \"<Enter>\": \"ex.accept_line\",\n        \"<C-Enter>\": \"ex.execute_ex_on_completion\",\n        \"<C-j>\": \"ex.accept_line\",\n        \"<C-m>\": \"ex.accept_line\",\n        \"<Escape>\": \"ex.hide_and_clear\",\n        \"<C-[>\": \"ex.hide_and_clear\",\n        \"<ArrowUp>\": \"ex.prev_history\",\n        \"<ArrowDown>\": \"ex.next_history\",\n        \"<S-Delete>\": \"ex.execute_ex_on_completion_args tabclose\",\n\n        \"<A-b>\": \"text.backward_word\",\n        \"<A-f>\": \"text.forward_word\",\n        \"<C-e>\": \"text.end_of_line\",\n        \"<A-d>\": \"text.kill_word\",\n        \"<S-Backspace>\": \"text.backward_kill_word\",\n        \"<C-u>\": \"text.backward_kill_line\",\n        \"<C-k>\": \"text.kill_line\",\n\n        \"<C-f>\": \"ex.complete\",\n        \"<Tab>\": \"ex.next_completion\",\n        \"<S-Tab>\": \"ex.prev_completion\",\n        \"<Space>\": \"ex.insert_space_or_completion\",\n        \"<C-Space>\": \"ex.insert_space\",\n\n        \"<C-o>yy\": \"ex.execute_ex_on_completion_args clipboard yank\",\n        \"<C-o>t\": \"ex.execute_ex_on_completion_args tabopen -b\",\n        \"<C-o>w\": \"ex.execute_ex_on_completion_args winopen\",\n    }\n\n    /**\n     * ignoremaps contain all of the bindings for \"ignore mode\".\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    ignoremaps = {\n        \"<S-Insert>\": \"mode normal\",\n        \"<AC-Escape>\": \"mode normal\",\n        \"<AC-`>\": \"mode normal\",\n        \"<S-Escape>\": \"mode normal\",\n        \"<C-o>\": \"nmode normal 1 mode ignore\",\n    }\n\n    /**\n     * imaps contain all of the bindings for \"insert mode\".\n     *\n     * On top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in insert mode.\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    imaps = {\n        \"<Escape>\": \"composite unfocus | mode normal\",\n        \"<C-[>\": \"composite unfocus | mode normal\",\n        \"<C-i>\": \"editor\",\n        \"<AC-Escape>\": \"mode normal\",\n        \"<AC-`>\": \"mode normal\",\n        \"<S-Escape>\": \"mode ignore\",\n    }\n\n    /**\n     * inputmaps contain all of the bindings for \"input mode\".\n     *\n     * On top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in input mode.\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    inputmaps = {\n        \"<Tab>\": \"focusinput -n\",\n        \"<S-Tab>\": \"focusinput -N\",\n        /**\n         * Config objects with this key inherit their keys from the object specified.\n         *\n         * Only supports \"root\" objects. Subconfigs (`seturl`) work as expected.\n         *\n         * Here, this means that input mode is the same as insert mode except it has added binds for tab and shift-tab.\n         */\n        \"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\": \"imaps\",\n    }\n\n    /**\n     * Disable Tridactyl almost completely within a page, e.g. `seturl ^https?://mail.google.com disable true`. Only takes affect on page reload.\n     *\n     * You are usually better off using `blacklistadd` and `seturl [url] noiframe true` as you can then still use some Tridactyl binds, e.g. `shift-insert` for exiting ignore mode.\n     *\n     * NB: you should only use this with `seturl`. If you get trapped with Tridactyl disabled everywhere just run `tri unset superignore` in the Firefox address bar. If that still doesn't fix things, you can totally reset Tridactyl by running `tri help superignore` in the Firefox address bar, scrolling to the bottom of that page and then clicking \"Reset Tridactyl config\".\n     */\n    superignore: \"true\" | \"false\" = \"false\"\n\n    /**\n     * nmaps contain all of the bindings for \"normal mode\".\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    nmaps = {\n        \"<A-p>\": \"pin\",\n        \"<A-m>\": \"mute toggle\",\n        \"<F1>\": \"help\",\n        o: \"fillcmdline open\",\n        O: \"current_url open\",\n        w: \"fillcmdline winopen\",\n        W: \"current_url winopen\",\n        t: \"fillcmdline tabopen\",\n        \"]]\": \"followpage next\",\n        \"[[\": \"followpage prev\",\n        \"[c\": \"urlincrement -1\",\n        \"]c\": \"urlincrement 1\",\n        \"<C-x>\": \"urlincrement -1\",\n        \"<C-a>\": \"urlincrement 1\",\n        T: \"current_url tabopen\",\n        yy: \"clipboard yank\",\n        ys: \"clipboard yankshort\",\n        yq: \"text2qr --timeout 5\",\n        yc: \"clipboard yankcanon\",\n        ym: \"clipboard yankmd\",\n        yo: \"clipboard yankorg\",\n        yt: \"clipboard yanktitle\",\n        gh: \"home\",\n        gH: \"home true\",\n        p: \"clipboard open\",\n        P: \"clipboard tabopen\",\n        j: \"scrollline 10\",\n        \"<C-e>\": \"scrollline 10\",\n        k: \"scrollline -10\",\n        \"<C-y>\": \"scrollline -10\",\n        h: \"scrollpx -50\",\n        l: \"scrollpx 50\",\n        G: \"scrollto 100\",\n        gg: \"scrollto 0\",\n        \"<C-u>\": \"scrollpage -0.5\",\n        \"<C-d>\": \"scrollpage 0.5\",\n        \"<C-f>\": \"scrollpage 1\",\n        \"<C-b>\": \"scrollpage -1\",\n        \"<C-v>\": \"nmode ignore 1 mode normal\", // Is this a terrible idea? Pentadactyl did it http://bug.5digits.org/help/pentadactyl/browsing.xhtml#send-key\n        $: \"scrollto 100 x\",\n        // \"0\": \"scrollto 0 x\", // will get interpreted as a count\n        \"^\": \"scrollto 0 x\",\n        H: \"back\",\n        L: \"forward\",\n        \"<C-o>\": \"jumpprev\",\n        \"<C-i>\": \"jumpnext\",\n        d: \"tabclose\",\n        D: \"composite tabprev; tabclose #\",\n        gx0: \"tabclosealltoleft\",\n        gx$: \"tabclosealltoright\",\n        \"<<\": \"tabmove -1\",\n        \">>\": \"tabmove +1\",\n        u: \"undo\",\n        U: \"undo window\",\n        r: \"reload\",\n        R: \"reloadhard\",\n        x: \"stop\",\n        gi: \"focusinput -l\",\n        \"g?\": \"rot13\",\n        \"g!\": \"jumble\",\n        \"g;\": \"changelistjump -1\",\n        J: \"tabprev\",\n        K: \"tabnext\",\n        gt: \"tabnext_gt\",\n        gT: \"tabprev\",\n        // \"<c-n>\": \"tabnext_gt\", // c-n is reserved for new window\n        // \"<c-p>\": \"tabprev\",\n        \"g^\": \"tabfirst\",\n        g0: \"tabfirst\",\n        g$: \"tablast\",\n        ga: \"tabaudio\",\n        gr: \"reader --old\",\n        gu: \"urlparent\",\n        gU: \"urlroot\",\n        gf: \"viewsource\",\n        \":\": \"fillcmdline_notrail\",\n        s: \"fillcmdline open search\",\n        S: \"fillcmdline tabopen search\",\n        // find mode not suitable for general consumption yet.\n        // \"/\": \"fillcmdline find\",\n        // \"?\": \"fillcmdline find -?\",\n        // n: \"findnext 1\",\n        // N: \"findnext -1\",\n        // \",<Space>\": \"nohlsearch\",\n        M: \"gobble 1 quickmark\",\n        B: \"fillcmdline taball\",\n        b: \"fillcmdline tab\",\n        ZZ: \"qall\",\n        f: \"hint\",\n        F: \"hint -b\",\n        gF: \"hint -qb\",\n        \";i\": \"hint -i\",\n        \";b\": \"hint -b\",\n        \";o\": \"hint\",\n        \";I\": \"hint -I\",\n        \";k\": \"hint -k\",\n        \";K\": \"hint -K\",\n        \";y\": \"hint -y\",\n        \";Y\": \"hint -cF img i => tri.excmds.yankimage(tri.urlutils.getAbsoluteURL(i.src))\",\n        \";p\": \"hint -p\",\n        \";h\": \"hint -h\",\n        v: \"hint -h\", // Easiest way of entering visual mode for now. Expect this bind to change\n        \";P\": \"hint -P\",\n        \";r\": \"hint -r\",\n        \";s\": \"hint -s\",\n        \";S\": \"hint -S\",\n        \";a\": \"hint -a\",\n        \";A\": \"hint -A\",\n        \";;\": \"hint -; *\",\n        \";#\": \"hint -#\",\n        \";v\": \"hint -W mpvsafe\",\n        \";V\": \"hint -V\",\n        \";w\": \"hint -w\",\n        \";t\": \"hint -W tabopen\",\n        \";O\": \"hint -W fillcmdline_notrail open \",\n        \";W\": \"hint -W fillcmdline_notrail winopen \",\n        \";T\": \"hint -W fillcmdline_notrail tabopen \",\n        \";d\": \"hint -W tabopen --discard\",\n        \";gd\": \"hint -qW tabopen --discard\",\n        \";z\": \"hint -z\",\n        \";m\": \"hint -JFc img i => tri.excmds.open('https://lens.google.com/uploadbyurl?url='+i.src)\",\n        \";M\": \"hint -JFc img i => tri.excmds.tabopen('https://lens.google.com/uploadbyurl?url='+i.src)\",\n        \";gi\": \"hint -qi\",\n        \";gI\": \"hint -qI\",\n        \";gk\": \"hint -qk\",\n        \";gy\": \"hint -qy\",\n        \";gp\": \"hint -qp\",\n        \";gP\": \"hint -qP\",\n        \";gr\": \"hint -qr\",\n        \";gs\": \"hint -qs\",\n        \";gS\": \"hint -qS\",\n        \";ga\": \"hint -qa\",\n        \";gA\": \"hint -qA\",\n        \";g;\": \"hint -q;\",\n        \";g#\": \"hint -q#\",\n        \";gv\": \"hint -qW mpvsafe\",\n        \";gw\": \"hint -qw\",\n        \";gb\": \"hint -qb\",\n        // These two don't strictly follow the \"bind is ;g[flag]\" rule but they make sense\n        \";gF\": \"hint -qb\",\n        \";gf\": \"hint -q\",\n\n        \"<S-Insert>\": \"mode ignore\",\n        \"<AC-Escape>\": \"mode ignore\",\n        \"<AC-`>\": \"mode ignore\",\n        \"<S-Escape>\": \"mode ignore\",\n        \"<Escape>\": \"composite mode normal ; hidecmdline\",\n        \"<C-[>\": \"composite mode normal ; hidecmdline\",\n        a: \"current_url bmark\",\n        A: \"bmark\",\n        zi: \"zoom 0.1 true\",\n        zo: \"zoom -0.1 true\",\n        zm: \"zoom 0.5 true\",\n        zr: \"zoom -0.5 true\",\n        zM: \"zoom 0.5 true\",\n        zR: \"zoom -0.5 true\",\n        zz: \"zoom 1\",\n        zI: \"zoom 3\",\n        zO: \"zoom 0.3\",\n        \".\": \"repeat\",\n        \"<AS-ArrowUp><AS-ArrowUp><AS-ArrowDown><AS-ArrowDown><AS-ArrowLeft><AS-ArrowRight><AS-ArrowLeft><AS-ArrowRight>ba\":\n            \"open https://www.youtube.com/watch?v=M3iOROuTuMA\",\n        m: \"gobble 1 markadd\",\n        \"`\": \"gobble 1 markjump\",\n    }\n\n    vmaps = {\n        \"<Escape>\":\n            \"composite js document.getSelection().empty(); mode normal; hidecmdline\",\n        \"<C-[>\":\n            \"composite js document.getSelection().empty(); mode normal ; hidecmdline\",\n        y: \"composite js document.getSelection().toString() | clipboard yank\",\n        s: \"composite js document.getSelection().toString() | fillcmdline open search\",\n        S: \"composite js document.getSelection().toString() | fillcmdline tabopen search\",\n        l: 'js document.getSelection().modify(\"extend\",\"forward\",\"character\")',\n        h: 'js document.getSelection().modify(\"extend\",\"backward\",\"character\")',\n        e: 'js document.getSelection().modify(\"extend\",\"forward\",\"word\")',\n        w: 'js document.getSelection().modify(\"extend\",\"forward\",\"word\"); document.getSelection().modify(\"extend\",\"forward\",\"word\"); document.getSelection().modify(\"extend\",\"backward\",\"word\"); document.getSelection().modify(\"extend\",\"forward\",\"character\")',\n        b: 'js document.getSelection().modify(\"extend\",\"backward\",\"character\"); document.getSelection().modify(\"extend\",\"backward\",\"word\"); document.getSelection().modify(\"extend\",\"forward\",\"character\")',\n        j: 'js document.getSelection().modify(\"extend\",\"forward\",\"line\")',\n        q: \"composite js document.getSelection().toString() | text2qr --timeout 5\",\n        // \"j\": 'js document.getSelection().modify(\"extend\",\"forward\",\"paragraph\")', // not implemented in Firefox\n        k: 'js document.getSelection().modify(\"extend\",\"backward\",\"line\")',\n        $: 'js document.getSelection().modify(\"extend\",\"forward\",\"lineboundary\")',\n        \"0\": 'js document.getSelection().modify(\"extend\",\"backward\",\"lineboundary\")',\n        \"=\": \"js let n = document.getSelection().anchorNode.parentNode; let s = window.getSelection(); let r = document.createRange(); s.removeAllRanges(); r.selectNodeContents(n); s.addRange(r)\",\n        o: \"js tri.visual.reverseSelection(document.getSelection())\",\n        \"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\": \"nmaps\",\n    }\n\n    hintmaps = {\n        \"<Backspace>\": \"hint.popKey\",\n        \"<Escape>\": \"hint.reset\",\n        \"<C-[>\": \"hint.reset\",\n        \"<Tab>\": \"hint.focusNextHint\",\n        \"<S-Tab>\": \"hint.focusPreviousHint\",\n        \"<ArrowUp>\": \"hint.focusTopHint\",\n        \"<ArrowDown>\": \"hint.focusBottomHint\",\n        \"<ArrowLeft>\": \"hint.focusLeftHint\",\n        \"<ArrowRight>\": \"hint.focusRightHint\",\n        \"<Enter>\": \"hint.selectFocusedHint\",\n        \"<Space>\": \"hint.selectFocusedHint\",\n    }\n\n    /**\n     * Browser-wide binds accessible in all modes and on pages where Tridactyl \"cannot run\".\n     * <!-- Note to developers: binds here need to also be listed in manifest.json -->\n     */\n    browsermaps = {\n        \"<C-,>\": \"escapehatch\",\n        \"<C-6>\": \"tab #\",\n        // \"<CS-6>\": \"tab #\", // banned by e2e tests\n    }\n\n    /**\n     * Whether to allow pages (not necessarily github) to override `/`, which is a default Firefox binding.\n     */\n    leavegithubalone: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Which keys to protect from pages that try to override them. Requires [[leavegithubalone]] to be set to false.\n     */\n    blacklistkeys: string[] = [\"/\"]\n\n    /**\n     * Autocommands that run when certain events happen, and other conditions are met.\n     *\n     * Related ex command: `autocmd`.\n     */\n    autocmds = {\n        /**\n         * Commands that will be run as soon as Tridactyl loads into a page.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        DocStart: {\n            // \"addons.mozilla.org\": \"mode ignore\",\n        },\n\n        /**\n         * Commands that will be run when pages are loaded.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        DocLoad: {\n            \"^https://github.com/tridactyl/tridactyl/issues/new$\": \"issue\",\n        },\n\n        /**\n         * Commands that will be run when pages are unloaded.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        DocEnd: {\n            // \"emacs.org\": \"sanitise history\",\n        },\n\n        /**\n         * Commands that will be run when Tridactyl first runs each time you start your browser.\n         *\n         * Each key corresponds to a javascript regex that matches the hostname of the computer Firefox is running on. Note that fetching the hostname could be a little slow, if you want to execute something unconditionally, use \".*\" as Tridactyl special-cases this pattern to avoid hostname lookups.\n         */\n        TriStart: {\n            \".*\": \"source_quiet\",\n        },\n\n        /**\n         * Commands that will be run when you enter a tab.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        TabEnter: {\n            // \"gmail.com\": \"mode ignore\",\n        },\n\n        /**\n         * Commands that will be run when you leave a tab.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        TabLeft: {\n            // Actually, this doesn't work because tabclose closes the current tab\n            // Too bad :/\n            // \"emacs.org\": \"tabclose\",\n        },\n\n        /**\n         * Commands that will be run when fullscreen state changes.\n         */\n        FullscreenChange: {},\n\n        /**\n         * Commands that will be run when fullscreen state is entered.\n         */\n        FullscreenEnter: {},\n\n        /**\n         * Commands that will be run when fullscreen state is left.\n         */\n        FullscreenLeft: {},\n    }\n\n    /**\n     * @deprecated Map for translating keys directly into other keys in normal-ish modes.\n     * For example, if you have an entry in this config option mapping `\u043F` to `g`,\n     * then you could type `\u043F\u043F` instead of `gg` or `\u043Fi` instead of `gi` or `;\u043F` instead\n     * of `;g`.\n     *\n     * This was primarily useful for international users, but now you can `set\n     * keyboardlayoutforce true`, which will make everything layout-independent(and work like qwerty by default),\n     * and use [[keyboardlayoutoverrides]] setting to change the desired layout.\n     *\n     *\n     * For example, you may want to map 'a' to 'q` on azerty\n     * or 'r' to 'p' if you use dvorak.\n     *\n     * Note that the current implementation does not allow you to \"chain\" keys, for example, \"a\"=>\"b\" and \"b\"=>\"c\" for \"a\"=>\"c\". You can, however, swap or rotate keys, so \"a\"=>\"b\" and \"b\"=>\"a\" will work the way you'd expect, as will \"a\"=>\"b\" and \"b\"=>\"c\" and \"c\"=>\"a\".\n     */\n    keytranslatemap = {\n        // Examples (I think >_>):\n        // \"\u0434\": \"l\", // Russian language\n        // \"\u00E9\" : \"w\", // B\u00C9PO\n        // \"h\": \"j\", // Dvorak\n        // \"n\": \"j\", // Colemak\n        // etc\n    }\n\n    /**\n     * @deprecated Whether to use the keytranslatemap.\n     * Legacy option to map one keyboard character to another, was used to emulate\n     * layout-independence. Now deprecated since you can set your layout once with [[keyboardlayoutforce]]\n     * and [[keyboardlayoutoverrides]].\n     */\n    usekeytranslatemap: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Instead of fetching actual character which depends on selected layout,\n     * use machine code of a key and convert to character according to keyboardlayoutoverrides. The default layout mapping\n     * is US `qwerty`, but can be changed with [[keyboardlayoutbase]].\n     *\n     * There is a much more detailed help page towards the end of `:tutor` under the title \"Non-QWERTY layouts\".\n     *\n     * Recommended for everyone with multiple or/and non-latin keyboard layouts. Make sure [[usekeytranslatemap]] is false\n     * if you have previously used `keymap`.\n     */\n    keyboardlayoutforce: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Base keyboard layout to use when [[keyboardlayoutforce]] is enabled. At the time of writing, the following layouts are supported: `qwerty, azerty, german, dvorak, uk, ca, bepo`. Requires page reload to take effect.\n     *\n     * If your layout is missing, you can contribute it with the help of https://gistpreview.github.io/?324119c773fac31651f6422087b36804 - please just open an `:issue` with your layout and we'll add it.\n     *\n     * You can manually override individual keys for a layout with [[keyboardlayoutoverrides]].\n     */\n    keyboardlayoutbase: keyof typeof keyboardlayouts = \"qwerty\"\n\n    /**\n     * Override individual keys for a layout when [[keyboardlayoutforce]] is enabled. Changes take effect only after a page reload.\n     *\n     * Key codes for printable keys for [[keyboardlayoutforce]], lower and upper register. See https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values for the names of each key.\n     *\n     * NB: due to a Tridactyl bug, you cannot set this using array notation as you can for, e.g. [[homepage]].\n     * You must instead set the lower and upper registers using a string with no spaces in it, for example\n     * `:set keyboardlayoutoverrides Digit2: 2\"` for the British English layout.\n     */\n    keyboardlayoutoverrides = {}\n\n    /**\n     * Automatically place these sites in the named container.\n     *\n     * Each key corresponds to a URL fragment which, if contained within the page URL, the site will be opened in a container tab instead.\n     */\n    autocontain = o({\n        // \"github.com\": \"microsoft\",\n        // \"youtube.com\": \"google\",\n    })\n\n    /**\n     * Default proxy to use for all URLs. Has to be the name of a proxy. To add a proxy, see `:help proxyadd`. NB: usage with `:seturl` is buggy, use `:autocontain -s [regex to match URL] none [proxy]` instead\n     */\n    proxy = \"\"\n\n    /**\n     * Definitions of proxies.\n     *\n     * You can add a new proxy with `proxyadd proxyname proxyurl`\n     */\n    proxies = o({\n        // \"socksName\": \"socks://hostname:port\",\n        // \"socks4\": \"socks4://hostname:port\",\n        // \"https\": \"https://username:password@hostname:port\"\n    })\n\n    /**\n     * Whether to use proxy settings.\n     *\n     * If set to `true`, all proxy settings will be ignored.\n     */\n    noproxy: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Strict mode will always ensure a domain is open in the correct container, replacing the current tab if necessary.\n     *\n     * Relaxed mode is less aggressive and instead treats container domains as a default when opening a new tab.\n     */\n    autocontainmode: \"strict\" | \"relaxed\" = \"strict\"\n\n    /**\n     * Aliases for the commandline.\n     *\n     * You can make a new one with `command alias ex-command`.\n     */\n    exaliases = {\n        alias: \"command\",\n        au: \"autocmd\",\n        aucon: \"autocontain\",\n        audel: \"autocmddelete\",\n        audelete: \"autocmddelete\",\n        blacklistremove: \"autocmddelete DocStart\",\n        b: \"tab\",\n        clsh: \"clearsearchhighlight\",\n        nohlsearch: \"clearsearchhighlight\",\n        noh: \"clearsearchhighlight\",\n        o: \"open\",\n        w: \"winopen\",\n        t: \"tabopen\",\n        tabgroupabort: \"tgroupabort\",\n        tabgroupclose: \"tgroupclose\",\n        tabgroupcreate: \"tgroupcreate\",\n        tabgrouplast: \"tgrouplast\",\n        tabgroupmove: \"tgroupmove\",\n        tabgrouprename: \"tgrouprename\",\n        tabgroupswitch: \"tgroupswitch\",\n        tabnew: \"tabopen\",\n        tabm: \"tabmove\",\n        tabo: \"tabonly\",\n        tn: \"tabnext_gt\",\n        bn: \"tabnext_gt\",\n        tnext: \"tabnext_gt\",\n        bnext: \"tabnext_gt\",\n        tp: \"tabprev\",\n        tN: \"tabprev\",\n        bp: \"tabprev\",\n        bN: \"tabprev\",\n        tprev: \"tabprev\",\n        bprev: \"tabprev\",\n        tabfirst: \"tab 1\",\n        tablast: \"tab 0\",\n        bfirst: \"tabfirst\",\n        blast: \"tablast\",\n        tfirst: \"tabfirst\",\n        tlast: \"tablast\",\n        buffer: \"tab\",\n        bufferall: \"taball\",\n        bd: \"tabclose\",\n        bdelete: \"tabclose\",\n        quit: \"tabclose\",\n        q: \"tabclose\",\n        qa: \"qall\",\n        sanitize: \"sanitise\",\n        \"saveas!\": \"saveas --cleanup --overwrite\",\n        tutorial: \"tutor\",\n        h: \"help\",\n        unmute: \"mute unmute\",\n        authors: \"credits\",\n        openwith: \"hint -W\",\n        \"!\": \"exclaim\",\n        \"!s\": \"exclaim_quiet\",\n        containerremove: \"containerdelete\",\n        colours: \"colourscheme\",\n        colorscheme: \"colourscheme\",\n        colors: \"colourscheme\",\n        man: \"help\",\n        \"!js\": \"fillcmdline_tmp 3000 !js is deprecated. Please use js instead\",\n        \"!jsb\": \"fillcmdline_tmp 3000 !jsb is deprecated. Please use jsb instead\",\n        get_current_url: \"js document.location.href\",\n        current_url: \"composite get_current_url | fillcmdline_notrail \",\n        stop: \"js window.stop()\",\n        zo: \"zoom\",\n        installnative: \"nativeinstall\",\n        nativeupdate: \"updatenative\",\n        mkt: \"mktridactylrc\",\n        \"mkt!\": \"mktridactylrc -f\",\n        \"mktridactylrc!\": \"mktridactylrc -f\",\n        mpvsafe:\n            \"js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('mpv --no-terminal ' + url))\",\n        drawingstop: \"mouse_mode\",\n        exto: \"extoptions\",\n        extpreferences: \"extoptions\",\n        extp: \"extpreferences\",\n        prefset: \"setpref\",\n        prefremove: \"removepref\",\n        tabclosealltoright: \"tabcloseallto right\",\n        tabclosealltoleft: \"tabcloseallto left\",\n        reibadailty: \"jumble\",\n    }\n\n    /**\n     * Used by `]]` and `[[` to look for links containing these words.\n     *\n     * Edit these if you want to add, e.g. other language support.\n     */\n    followpagepatterns = {\n        next: \"^(next|newer)\\\\b|\u00BB|>>|more\",\n        prev: \"^(prev(ious)?|older)\\\\b|\u00AB|<<\",\n    }\n\n    /**\n     * The default search engine used by `open search`. If empty string, your browser's default search engine will be used. If set to something, Tridactyl will first look at your [[searchurls]] and then at the search engines for which you have defined a keyword on `about:preferences#search`.\n     */\n    searchengine = \"\"\n\n    /**\n     * Definitions of search engines for use via `open [keyword]`.\n     *\n     * `%s` will be replaced with your whole query and `%s1`, `%s2`, ..., `%sn` will be replaced with the first, second and nth word of your query. Also supports array slicing, e.g. `%s[2:4]`, `%s[5:]`. If there are none of these patterns in your search urls, your query will simply be appended to the searchurl.\n     *\n     * Aliases are supported - for example, if you have a `google` searchurl, you can run `:set searchurls.g google` in which case `g` will act as if it was the `google` searchurl.\n     *\n     * Examples:\n     * - When running `open gi cute puppies`, with a `gi` searchurl defined with `set searchurls.gi https://www.google.com/search?q=%s&tbm=isch`, tridactyl will navigate to `https://www.google.com/search?q=cute puppies&tbm=isch`.\n     * - When running `tabopen translate en ja Tridactyl`, with a `translate` searchurl defined with `set searchurls.translate https://translate.google.com/#view=home&op=translate&sl=%s1&tl=%s2&text=%s3`, tridactyl will navigate to `https://translate.google.com/#view=home&op=translate&sl=en&tl=ja&text=Tridactyl`.\n     *\n     * [[setnull]] can be used to \"delete\" the default search engines. E.g. `setnull searchurls.google`.\n     */\n    searchurls = {\n        google: \"https://www.google.com/search?q=\",\n        googlelucky: \"https://www.google.com/search?btnI=I'm+Feeling+Lucky&q=\",\n        scholar: \"https://scholar.google.com/scholar?q=\",\n        googleuk: \"https://www.google.co.uk/search?q=\",\n        bing: \"https://www.bing.com/search?q=\",\n        duckduckgo: \"https://duckduckgo.com/?q=\",\n        yahoo: \"https://search.yahoo.com/search?p=\",\n        twitter: \"https://twitter.com/search?q=\",\n        wikipedia: \"https://en.wikipedia.org/wiki/Special:Search/\",\n        youtube: \"https://www.youtube.com/results?search_query=\",\n        amazon: \"https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=\",\n        amazonuk:\n            \"https://www.amazon.co.uk/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=\",\n        startpage:\n            \"https://startpage.com/do/search?language=english&cat=web&query=\",\n        github: \"https://github.com/search?utf8=\u2713&q=\",\n        searx: \"https://searx.me/?category_general=on&q=\",\n        cnrtl: \"http://www.cnrtl.fr/lexicographie/\",\n        osm: \"https://www.openstreetmap.org/search?query=\",\n        mdn: \"https://developer.mozilla.org/en-US/search?q=\",\n        gentoo_wiki:\n            \"https://wiki.gentoo.org/index.php?title=Special%3ASearch&profile=default&fulltext=Search&search=\",\n        qwant: \"https://www.qwant.com/?q=\",\n    }\n\n    /**\n     * Like [[searchurls]] but must be a Javascript function that takes one argument (a single string with the remainder of the command line including spaces) and maps it to a valid href (or a promise that resolves to a valid href) that will be followed, e.g. `set jsurls.googleloud query => \"https://google.com/search?q=\" + query.toUpperCase()`\n     *\n     * NB: the href must be valid, i.e. it must include the protocol (e.g. \"http://\") and not just be e.g. \"www.\".\n     */\n    jsurls = {}\n\n    /**\n     * URL the newtab will redirect to.\n     *\n     * All usual rules about things you can open with `open` apply, with the caveat that you'll get interesting results if you try to use something that needs `nativeopen`: so don't try `about:newtab` or a `file:///` URI. You should instead use a data URI - https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs - or host a local webserver (e.g. Caddy).\n     */\n    newtab = \"\"\n\n    /**\n     * Whether `:viewsource` will use our own page that you can use Tridactyl binds on, or Firefox's default viewer, which you cannot use Tridactyl on.\n     */\n    viewsource: \"tridactyl\" | \"default\" = \"tridactyl\"\n\n    /**\n     * Pages opened with `gH`. In order to set this value, use `:set homepages [\"example.org\", \"example.net\", \"example.com\"]` and so on.\n     */\n    homepages: string[] = []\n\n    /**\n     * Characters to use in hint mode.\n     *\n     * They are used preferentially from left to right.\n     */\n    hintchars = \"hjklasdfgyuiopqwertnmzxcvb\"\n\n    /**\n     * The type of hinting to use. `vimperator` will allow you to filter links based on their names by typing non-hint chars. It is recommended that you use this in conjuction with the [[hintchars]] setting, which you should probably set to e.g, `5432167890`. \u00B4vimperator-reflow\u00B4 additionally updates the hint labels after filtering.\n     */\n    hintfiltermode: \"simple\" | \"vimperator\" | \"vimperator-reflow\" = \"simple\"\n\n    /**\n     * Whether to optimise for the shortest possible names for each hint, or to use a simple numerical ordering. If set to `numeric`, overrides `hintchars` setting.\n     */\n    hintnames: \"short\" | \"numeric\" | \"uniform\" = \"short\"\n\n    /**\n     * Whether to display the names for hints in uppercase.\n     */\n    hintuppercase: \"true\" | \"false\" = \"true\"\n\n    /**\n     * The delay in milliseconds in `vimperator` style hint modes after selecting a hint before you are returned to normal mode.\n     *\n     * The point of this is to prevent accidental execution of normal mode binds due to people typing more than is necessary to choose a hint.\n     */\n    hintdelay = 300\n\n    /**\n     * Controls whether hints should be shifted in quick-hints mode.\n     *\n     * Here's what it means: let's say you have hints from a to z but are only\n     * interested in every second hint. You first press `a`, then `c`.\n     * Tridactyl will realize that you skipped over `b`, and so that the next\n     * hint you're going to trigger is probably `e`. Tridactyl will shift all\n     * hint names so that `e` becomes `c`, `d` becomes `b`, `c` becomes `a` and\n     * so on.\n     * This means that once you pressed `c`, you can keep on pressing `c` to\n     * trigger every second hint. Only makes sense with hintnames = short.\n     */\n    hintshift: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Controls whether hints should be followed automatically.\n     *\n     * If set to `false`, hints will only be followed upon confirmation. This applies to cases when there is only a single match or only one link on the page.\n     */\n    hintautoselect: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Controls whether the page can focus elements for you via js\n     *\n     * NB: will break fancy editors such as CodeMirror on Jupyter. Simply use `seturl` to whitelist pages you need it on.\n     *\n     * Best used in conjunction with browser.autofocus in `about:config`\n     */\n    allowautofocus: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Uses a loop to prevent focus until you interact with a page. Only recommended for use via `seturl` for problematic sites as it can be a little heavy on CPU if running on all tabs. Should be used in conjuction with [[allowautofocus]]\n     */\n    preventautofocusjackhammer: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Whether to use Tridactyl's (bad) smooth scrolling.\n     */\n    smoothscroll: \"true\" | \"false\" = \"false\"\n\n    /**\n     * How viscous you want smooth scrolling to feel.\n     */\n    scrollduration = 100\n\n    /**\n     * Where to open tabs opened with `tabopen` - to the right of the current tab, or at the end of the tabs.\n     */\n    tabopenpos: \"next\" | \"last\" | \"related\" = \"next\"\n\n    /**\n     * When enabled (the default), running tabclose will close the tabs whether they are pinned or not. When disabled, tabclose will fail with an error if a tab is pinned.\n     */\n    tabclosepinned: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Controls which tab order to use when numbering tabs. Either mru = sort by most recent tab or default = by tab index\n     *\n     * Applies to all places where Tridactyl numbers tabs including `:tab`, `:tabnext_gt` etc. (so, for example, with `:set tabsort mru` `2gt` would take you to the second most recently used tab, not the second tab in the tab bar).\n     */\n    tabsort: \"mru\" | \"default\" = \"default\"\n\n    /**\n     * Where to open tabs opened with hinting - as if it had been middle clicked, to the right of the current tab, or at the end of the tabs.\n     */\n    relatedopenpos: \"related\" | \"next\" | \"last\" = \"related\"\n    /**\n     * The name of the voice to use for text-to-speech. You can get the list of installed voices by running the following snippet: `js alert(window.speechSynthesis.getVoices().reduce((a, b) => a + \" \" + b.name))`\n     */\n    ttsvoice = \"default\" // chosen from the listvoices list or \"default\"\n    /**\n     * Controls text-to-speech volume. Has to be a number between 0 and 1.\n     */\n    ttsvolume = 1\n    /**\n     * Controls text-to-speech speed. Has to be a number between 0.1 and 10.\n     */\n    ttsrate = 1\n    /**\n     * Controls text-to-speech pitch. Has to be between 0 and 2.\n     */\n    ttspitch = 1\n\n    /**\n     * When set to \"nextinput\", pressing `<Tab>` after gi selects the next input.\n     *\n     * When set to \"firefox\", `<Tab>` behaves like normal, focusing the next tab-indexed element regardless of type.\n     */\n    gimode: \"nextinput\" | \"firefox\" = \"nextinput\"\n\n    /**\n     * Decides where to place the cursor when selecting non-empty input fields\n     */\n    cursorpos: \"beginning\" | \"end\" = \"end\"\n\n    /**\n     * The theme to use.\n     *\n     * Permitted values: run `:composite js tri.styling.THEMES | fillcmdline` to find out.\n     */\n    theme = \"default\"\n\n    /**\n     * Storage for custom themes\n     *\n     * Maps theme names to CSS. Predominantly used automatically by [[colourscheme]] to store themes read from disk, as documented by [[colourscheme]]. Setting this manually is untested but might work provided that [[colourscheme]] is then used to change the theme to the right theme name.\n     */\n    customthemes = {}\n\n    /**\n     * Whether to display the mode indicator or not.\n     */\n    modeindicator: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to display the mode indicator in various modes. Ignored if modeindicator set to false.\n     */\n    modeindicatormodes: { [key: string]: \"true\" | \"false\" } = {\n        normal: \"true\",\n        insert: \"true\",\n        input: \"true\",\n        ignore: \"true\",\n        ex: \"true\",\n        hint: \"true\",\n        visual: \"true\",\n    }\n\n    /**\n     * Milliseconds before registering a scroll in the jumplist\n     */\n    jumpdelay = 3000\n\n    /**\n     * Logging levels. Unless you're debugging Tridactyl, it's unlikely you'll ever need to change these.\n     */\n    logging: { [key: string]: LoggingLevel } = {\n        cmdline: \"warning\",\n        containers: \"warning\",\n        controller: \"warning\",\n        excmd: \"error\",\n        hinting: \"warning\",\n        messaging: \"warning\",\n        native: \"warning\",\n        performance: \"warning\",\n        state: \"warning\",\n        styling: \"warning\",\n        autocmds: \"warning\",\n    }\n\n    /**\n     * Disables the commandline iframe. Dangerous setting, use [[seturl]] to set it. If you ever set this setting to \"true\" globally and then want to set it to false again, you can do this by opening Tridactyl's preferences page from about:addons.\n     */\n    noiframe: \"true\" | \"false\" = \"false\"\n\n    /**\n     * @deprecated A list of URLs on which to not load the iframe. Use `seturl [URL] noiframe true` instead, as shown in [[noiframe]].\n     */\n    noiframeon: string[] = []\n\n    /**\n     * Insert / input mode edit-in-$EDITOR command to run\n     * This has to be a command that stays in the foreground for the whole editing session\n     * \"auto\" will attempt to find a sane editor in your path.\n     * Please send your requests to have your favourite terminal moved further up the list to /dev/null.\n     *          (but we are probably happy to add your terminal to the list if it isn't already there.)\n     *\n     * Example values:\n     * - linux: `xterm -e vim`\n     * - windows: `start cmd.exe /c \\\"vim\\\"`.\n     *\n     * Also see [:editor](/static/docs/modules/_src_excmds_.html#editor).\n     */\n    editorcmd = \"auto\"\n\n    /**\n     * Command that should be run by the [[rssexec]] ex command. Has the\n     * following format:\n     * - %u: url\n     * - %t: title\n     * - %y: type (rss, atom, xml...)\n     * Warning: This is a very large footgun. %u will be inserted without any\n     * kind of escaping, hence you must obey the following rules if you care\n     * about security:\n     * - Do not use a composite command. If you need a composite command,\n     * create an alias.\n     * - Do not use `js` or `jsb`. If you need to use them, create an alias.\n     * - Do not insert any %u, %t or %y in shell commands run by the native\n     * messenger. Use pipes instead.\n     *\n     * Here's an example of how to save an rss url in a file on your disk\n     * safely:\n     * `alias save_rss jsb -p tri.native.run(\"cat >> ~/.config.newsboat/urls\", JS_ARG)`\n     * `set rsscmd save_rss %u`\n     * This is safe because the url is passed to jsb as an argument rather than\n     * being expanded inside of the string it will execute and because it is\n     * piped to the shell command rather than being expanded inside of it.\n     */\n    rsscmd = \"yank %u\"\n\n    /**\n     * The browser executable to look for in commands such as `restart`. Not as mad as it seems if you have multiple versions of Firefox...\n     */\n    browser = \"firefox\"\n\n    /**\n     * Which clipboard to store items in. Requires the native messenger to be installed.\n     */\n    yankto: \"clipboard\" | \"selection\" | \"both\" = \"clipboard\"\n\n    /**\n     * Which clipboard to retrieve items from. Requires the native messenger to be installed.\n     *\n     * Permitted values: `clipboard`, or `selection`.\n     */\n    putfrom: \"clipboard\" | \"selection\" = \"clipboard\"\n\n    /**\n     * Clipboard command to try to get the selection from (e.g. `xsel` or `xclip`)\n     */\n    externalclipboardcmd = \"auto\"\n\n    /**\n     * Whether downloads (e.g. via ;s hint modes) appear in your download history.\n     *\n     * NB: will cause downloads to fail silently if Tridactyl is not allowed to run in private windows (regardless of whether you are trying to call it in a private window).\n     */\n    downloadsskiphistory: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Set of characters that are to be considered illegal as download filenames.\n     */\n    downloadforbiddenchars = \"/\\0\"\n\n    /**\n     * Value that will be used to replace the illegal character(s), if found, in the download filename.\n     */\n    downloadforbiddenreplacement = \"_\"\n\n    /**\n     * Comma-separated list of whole filenames which, if match\n     * with the download filename, will be suffixed with the\n     * \"downloadforbiddenreplacement\" value.\n     */\n    downloadforbiddennames = \"\"\n\n    /**\n     * Set this to something weird if you want to have fun every time Tridactyl tries to update its native messenger.\n     *\n     * %TAG will be replaced with your version of Tridactyl for stable builds, or \"master\" for beta builds\n     *\n     * NB: Windows has its own platform-specific default.\n     */\n    nativeinstallcmd =\n        \"curl -fsSl https://raw.githubusercontent.com/tridactyl/native_messenger/master/installers/install.sh -o /tmp/trinativeinstall.sh && sh /tmp/trinativeinstall.sh %TAG\"\n\n    /**\n     * Used by :updatecheck and related built-in functionality to automatically check for updates and prompt users to upgrade.\n     */\n    update = {\n        /**\n         * Whether Tridactyl should check for available updates at startup.\n         */\n        nag: true,\n\n        /**\n         * How many days to wait after an update is first available until telling people.\n         */\n        nagwait: 7,\n\n        /**\n         * The version we last nagged you about. We only nag you once per version.\n         */\n        lastnaggedversion: \"1.14.0\",\n\n        /**\n         * Time we last checked for an update, milliseconds since unix epoch.\n         */\n        lastchecktime: 0,\n\n        /**\n         * Minimum interval between automatic update checks, in seconds.\n         */\n        checkintervalsecs: 60 * 60 * 24,\n    }\n\n    /**\n     * Profile directory to use with native messenger with e.g, `guiset`.\n     */\n    profiledir = \"auto\"\n\n    // Container settings\n\n    /**\n     * If enabled, tabopen opens a new tab in the currently active tab's container.\n     */\n    tabopencontaineraware: \"true\" | \"false\" = \"false\"\n\n    /**\n     * If moodeindicator is enabled, containerindicator will color the border of the mode indicator with the container color.\n     */\n    containerindicator: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Autocontain directives create a container if it doesn't exist already.\n     */\n    auconcreatecontainer: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Initial urls to navigate to when creating a new tab for a new tab group.\n     */\n    tabgroupnewtaburls = {}\n\n    /**\n     * Whether :tab shows completions for hidden tabs (e.g. tabs in other tab groups).\n     */\n    tabshowhidden: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Number of most recent results to ask Firefox for. We display the top 20 or so most frequently visited ones.\n     */\n    historyresults = 50\n\n    /**\n     * When displaying bookmarks in history completions, how many page views to pretend they have.\n     */\n    bmarkweight = 100\n\n    /**\n     * When displaying searchurls in history completions, how many page views to pretend they have.\n     */\n    searchurlweight = 150\n\n    /**\n     * Default selector for :goto command.\n     */\n    gotoselector = \"h1, h2, h3, h4, h5, h6\"\n\n    /**\n     * General completions options - NB: options are set according to our internal completion source name - see - `src/completions/[name].ts` in the Tridactyl source.\n     */\n    completions = {\n        Goto: {\n            autoselect: \"true\",\n        },\n        Tab: {\n            /**\n             * Whether to automatically select the closest matching completion\n             */\n            autoselect: \"true\",\n            /**\n             * Whether to use unicode symbols to display tab statuses\n             */\n            statusstylepretty: \"false\",\n        },\n        TabAll: {\n            autoselect: \"true\",\n        },\n        Rss: {\n            autoselect: \"true\",\n        },\n        Bmark: {\n            autoselect: \"true\",\n        },\n        Sessions: {\n            autoselect: \"true\",\n        },\n    }\n\n    /**\n     * Number of results that should be shown in completions. -1 for unlimited\n     */\n    findresults = -1\n\n    /**\n     * Number of characters to use as context for the matches shown in completions\n     */\n    findcontextlen = 100\n\n    /**\n     * Whether find should be case-sensitive\n     */\n    findcase: \"smart\" | \"sensitive\" | \"insensitive\" = \"smart\"\n\n    /**\n     * How long find highlights should persist in milliseconds. `<= 0` means they persist until cleared\n     */\n    findhighlighttimeout = 0\n\n    /**\n     * Whether Tridactyl should jump to the first match when using `:find`\n     */\n    incsearch: \"true\" | \"false\" = \"false\"\n\n    /**\n     * How many characters should be typed before triggering incsearch/completions\n     */\n    minincsearchlen = 3\n\n    /**\n     * Deprecated.\n     * Change this to \"clobber\" to ruin the \"Content Security Policy\" of all sites a bit and make Tridactyl run a bit better on some of them, e.g. raw.github*\n     */\n    csp: \"untouched\" | \"clobber\" = \"untouched\"\n\n    /**\n     * JavaScript RegExp used to recognize words in text.* functions (e.g. text.transpose_words). Should match any character belonging to a word.\n     */\n    wordpattern = \"[^\\\\s]+\"\n\n    /**\n     * Activate tridactyl's performance counters. These have a\n     * measurable performance impact, since every sample is a few\n     * hundred bytes and we sample tridactyl densely, but they're good\n     * when you're trying to optimize things.\n     */\n    perfcounters: \"true\" | \"false\" = \"false\"\n\n    /**\n     * How many samples to store from the perf counters.\n     *\n     * Each performance entry is two numbers (16 bytes), an entryType\n     * of either \"mark\" or \"measure\" (js strings are utf-16 ad we have\n     * two marks for each measure, so amortize to about 10 bytes per\n     * entry), and a string name that for Tridactyl object will be\n     * about 40 (utf-16) characters (80 bytes), plus object overhead\n     * roughly proportional to the string-length of the name of the\n     * constructor (in this case something like 30 bytes), for a total\n     * of what we'll call 128 bytes for ease of math.\n     *\n     * We want to store, by default, about 1MB of performance\n     * statistics, so somewhere around 10k samples.\n     *\n     */\n    perfsamples = \"10000\"\n\n    /**\n     * Show (partial) command in the mode indicator.\n     * Corresponds to 'showcmd' option of vi.\n     */\n    modeindicatorshowkeys: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Whether a trailing slash is appended when we get the parent of a url with\n     * gu (or other means).\n     */\n    urlparenttrailingslash: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to enter visual mode when text is selected. Visual mode can always be entered with `:mode visual`.\n     */\n    visualenterauto: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to return to normal mode when text is deselected.\n     */\n    visualexitauto: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to open and close the sidebar quickly to get focus back to the page when <C-,> is pressed.\n     *\n     * Disable if the fact that it closes TreeStyleTabs gets on your nerves too much : )\n     *\n     * NB: when disabled, <C-,> can't get focus back from the address bar, but it can still get it back from lots of other places (e.g. Flash-style video players)\n     */\n    escapehatchsidebarhack: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Threshold for fuzzy matching on completions. Lower => stricter matching. Range between 0 and 1: 0 corresponds to perfect matches only. 1 will match anything.\n     *\n     * https://fusejs.io/api/options.html#threshold\n     */\n    completionfuzziness = 0.3\n\n    /**\n     * Whether to show article url in the document.title of Reader View.\n     */\n    readerurlintitle: \"true\" | \"false\" = \"false\"\n}\n\nconst platform_defaults = {\n    win: {\n        browsermaps: {\n            \"<C-6>\": null,\n            \"<A-6>\": \"buffer #\",\n        } as unknown, // typescript doesn't like me adding new binds like this\n        nmaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n        imaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n        inputmaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n        ignoremaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n\n        nativeinstallcmd: `powershell -ExecutionPolicy Bypass -NoProfile -Command \"\\\n[Net.ServicePointManager]::SecurityProtocol = [Net.ServicePointManager]::SecurityProtocol -bor [Net.SecurityProtocolType]::Tls12;\\\n(New-Object System.Net.WebClient).DownloadFile('https://raw.githubusercontent.com/tridactyl/native_messenger/master/installers/windows.ps1', '%TEMP%/tridactyl_installnative.ps1');\\\n& '%TEMP%/tridactyl_installnative.ps1' -Tag %TAG;\\\nRemove-Item '%TEMP%/tridactyl_installnative.ps1'\"`,\n        downloadforbiddenchars: \"#%&{}\\\\<>*?/$!'\\\":@+`|=\",\n        downloadforbiddennames:\n            \"CON, PRN, AUX, NUL, COM1, COM2,\" +\n            \"COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1,\" +\n            \"LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9,\",\n    },\n    linux: {\n        nmaps: {\n            \";x\": 'hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet(\"xdotool mousemove --sync \" + window.devicePixelRatio * pos.x + \" \" + window.devicePixelRatio * pos.y + \"; xdotool click 1\")}',\n            \";X\": 'hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet(\"xdotool mousemove --sync \" + window.devicePixelRatio * pos.x + \" \" + window.devicePixelRatio * pos.y + \"; xdotool keydown ctrl+shift; xdotool click 1; xdotool keyup ctrl+shift\")}',\n        } as unknown,\n    },\n} as Record<browser.runtime.PlatformOs, default_config>\n\n/**\n * Key codes for printable keys for [[keyboardlayoutforce]], lower and upper register.\n * See https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values\n * These maps are assigned via `:set keyboardlayoutbase`\n * but keyboardlayoutoverrides can also be changed manually with `:set`.\n *\n * If your layout is missing here, you can contribute it with the help of [this](https://gistpreview.github.io/?324119c773fac31651f6422087b36804)\n * tool.\n */\nexport const keyboardlayouts = {\n    qwerty: {\n        KeyA: [\"a\", \"A\"],\n        KeyB: [\"b\", \"B\"],\n        KeyC: [\"c\", \"C\"],\n        KeyD: [\"d\", \"D\"],\n        KeyE: [\"e\", \"E\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyI: [\"i\", \"I\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        KeyM: [\"m\", \"M\"],\n        KeyN: [\"n\", \"N\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyR: [\"r\", \"R\"],\n        KeyS: [\"s\", \"S\"],\n        KeyT: [\"t\", \"T\"],\n        KeyU: [\"u\", \"U\"],\n        KeyV: [\"v\", \"V\"],\n        KeyW: [\"w\", \"W\"],\n        KeyX: [\"x\", \"X\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyZ: [\"z\", \"Z\"],\n        Digit0: [\"0\", \")\"],\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", \"@\"],\n        Digit3: [\"3\", \"#\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"^\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Equal: [\"=\", \"+\"],\n        Backquote: [\"`\", \"~\"],\n        Backslash: [\"\\\\\", \"|\"],\n        Period: [\".\", \">\"],\n        Comma: [\",\", \"<\"],\n        Semicolon: [\";\", \":\"],\n        Slash: [\"/\", \"?\"],\n        BracketLeft: [\"[\", \"{\"],\n        BracketRight: [\"]\", \"}\"],\n        Quote: [\"'\", '\"'],\n        Minus: [\"-\", \"_\"],\n    },\n    azerty: {\n        Backquote: [\"\u00B2\", \"\u00B2\"],\n        Digit1: [\"&\", \"1\"],\n        Digit2: [\"\u00E9\", \"2\"],\n        Digit3: ['\"', \"3\"],\n        Digit4: [\"'\", \"4\"],\n        Digit5: [\"(\", \"5\"],\n        Digit6: [\"-\", \"6\"],\n        Digit7: [\"\u00E8\", \"7\"],\n        Digit8: [\"_\", \"8\"],\n        Digit9: [\"\u00E7\", \"9\"],\n        Digit0: [\"\u00E0\", \"0\"],\n        Minus: [\")\", \"\u00B0\"],\n        Equal: [\"=\", \"+\"],\n        KeyQ: [\"a\", \"A\"],\n        KeyW: [\"z\", \"Z\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        BracketRight: [\"$\", \"\u00A3\"],\n        Backslash: [\"*\", \"\u00B5\"],\n        KeyA: [\"q\", \"Q\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        Semicolon: [\"m\", \"M\"],\n        Quote: [\"\u00F9\", \"%\"],\n        KeyZ: [\"w\", \"W\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\",\", \"?\"],\n        Comma: [\";\", \".\"],\n        Period: [\":\", \"/\"],\n        Slash: [\"!\", \"\u00A7\"],\n    },\n    german: {\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", '\"'],\n        Digit3: [\"3\", \"\u00A7\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"&\"],\n        Digit7: [\"7\", \"/\"],\n        Digit8: [\"8\", \"(\"],\n        Digit9: [\"9\", \")\"],\n        Digit0: [\"0\", \"=\"],\n        Minus: [\"\u00DF\", \"?\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyW: [\"w\", \"W\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"z\", \"Z\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        BracketLeft: [\"\u00FC\", \"\u00DC\"],\n        BracketRight: [\"+\", \"*\"],\n        Backslash: [\"#\", \"'\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        Semicolon: [\"\u00F6\", \"\u00D6\"],\n        Quote: [\"\u00E4\", \"\u00C4\"],\n        KeyZ: [\"y\", \"Y\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\"m\", \"M\"],\n        Comma: [\",\", \";\"],\n        Period: [\".\", \":\"],\n        Slash: [\"-\", \"_\"],\n        Backquote: [\"\", \"\u00B0\"],\n    },\n    dvorak: {\n        Backquote: [\"`\", \"~\"],\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", \"@\"],\n        Digit3: [\"3\", \"#\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"^\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Digit0: [\"0\", \")\"],\n        Minus: [\"[\", \"{\"],\n        Equal: [\"]\", \"}\"],\n        KeyQ: [\"'\", '\"'],\n        KeyW: [\",\", \"<\"],\n        KeyE: [\".\", \">\"],\n        KeyR: [\"p\", \"P\"],\n        KeyT: [\"y\", \"Y\"],\n        KeyY: [\"f\", \"F\"],\n        KeyU: [\"g\", \"G\"],\n        KeyI: [\"c\", \"C\"],\n        KeyO: [\"r\", \"R\"],\n        KeyP: [\"l\", \"L\"],\n        BracketLeft: [\"/\", \"?\"],\n        BracketRight: [\"=\", \"+\"],\n        Backslash: [\"\\\\\", \"|\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"o\", \"O\"],\n        KeyD: [\"e\", \"E\"],\n        KeyF: [\"u\", \"U\"],\n        KeyG: [\"i\", \"I\"],\n        KeyH: [\"d\", \"D\"],\n        KeyJ: [\"h\", \"H\"],\n        KeyK: [\"t\", \"T\"],\n        KeyL: [\"n\", \"N\"],\n        Semicolon: [\"s\", \"S\"],\n        Quote: [\"-\", \"_\"],\n        KeyZ: [\";\", \":\"],\n        KeyX: [\"q\", \"Q\"],\n        KeyC: [\"j\", \"J\"],\n        KeyV: [\"k\", \"K\"],\n        KeyB: [\"x\", \"X\"],\n        KeyN: [\"b\", \"B\"],\n        KeyM: [\"m\", \"M\"],\n        Comma: [\"w\", \"W\"],\n        Period: [\"v\", \"V\"],\n        Slash: [\"z\", \"Z\"],\n    },\n    uk: {\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", '\"'],\n        Digit3: [\"3\", \"\u00A3\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"^\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Digit0: [\"0\", \")\"],\n        Minus: [\"-\", \"_\"],\n        Equal: [\"=\", \"+\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyW: [\"w\", \"W\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        BracketLeft: [\"[\", \"{\"],\n        KeyK: [\"k\", \"K\"],\n        BracketRight: [\"]\", \"}\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        Semicolon: [\";\", \":\"],\n        Quote: [\"'\", \"@\"],\n        Backslash: [\"#\", \"~\"],\n        IntlBackslash: [\"\\\\\", \"|\"],\n        KeyZ: [\"z\", \"Z\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\"m\", \"M\"],\n        Period: [\".\", \">\"],\n        Slash: [\"/\", \"?\"],\n        Backquote: [\"`\", \"\u00AC\"],\n        KeyL: [\"l\", \"L\"],\n        Comma: [\",\", \"<\"],\n    },\n    ca: {\n        Backquote: [\"#\", \"|\"],\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", '\"'],\n        Digit3: [\"3\", \"/\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"?\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Digit0: [\"0\", \")\"],\n        Minus: [\"-\", \"_\"],\n        Equal: [\"=\", \"+\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyW: [\"w\", \"W\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        Semicolon: [\";\", \":\"],\n        Backslash: [\"<\", \">\"],\n        IntlBackslash: [\"\u00AB\", \"\u00BB\"],\n        KeyZ: [\"z\", \"Z\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\"m\", \"M\"],\n        Comma: [\",\", \"'\"],\n        Period: [\".\", \".\"],\n        Slash: [\"\u00E9\", \"\u00C9\"],\n    },\n    bepo: {\n        Backquote: [\"$\", \"#\"],\n        Digit1: ['\"', \"1\"],\n        Digit2: [\"\u00AB\", \"2\"],\n        Digit3: [\"\u00BB\", \"3\"],\n        Digit4: [\"(\", \"4\"],\n        Digit5: [\")\", \"5\"],\n        Digit6: [\"@\", \"6\"],\n        Digit7: [\"+\", \"7\"],\n        Digit8: [\"-\", \"8\"],\n        Digit9: [\"/\", \"9\"],\n        Digit0: [\"*\", \"0\"],\n        Minus: [\"=\", \"\u00B0\"],\n        Equal: [\"%\", \"`\"],\n        KeyQ: [\"b\", \"B\"],\n        KeyW: [\"\u00E9\", \"\u00C9\"],\n        KeyE: [\"p\", \"P\"],\n        KeyR: [\"o\", \"O\"],\n        KeyT: [\"\u00E8\", \"\u00C8\"],\n        KeyU: [\"v\", \"V\"],\n        KeyI: [\"d\", \"D\"],\n        KeyO: [\"l\", \"L\"],\n        KeyP: [\"j\", \"J\"],\n        BracketLeft: [\"z\", \"Z\"],\n        BracketRight: [\"w\", \"W\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"u\", \"U\"],\n        KeyD: [\"i\", \"I\"],\n        KeyF: [\"e\", \"E\"],\n        KeyG: [\",\", \";\"],\n        KeyH: [\"c\", \"C\"],\n        KeyJ: [\"t\", \"T\"],\n        KeyK: [\"s\", \"S\"],\n        KeyL: [\"r\", \"R\"],\n        Semicolon: [\"n\", \"N\"],\n        Quote: [\"m\", \"M\"],\n        Backslash: [\"\u00E7\", \"\u00C7\"],\n        IntlBackslash: [\"\u00EA\", \"\u00CA\"],\n        KeyZ: [\"\u00E0\", \"\u00C0\"],\n        KeyX: [\"y\", \"Y\"],\n        KeyC: [\"x\", \"X\"],\n        KeyV: [\".\", \":\"],\n        KeyB: [\"k\", \"K\"],\n        KeyN: [\"'\", \"?\"],\n        KeyM: [\"q\", \"Q\"],\n        Comma: [\"g\", \"G\"],\n        Period: [\"h\", \"H\"],\n        Slash: [\"f\", \"F\"],\n        KeyY: [\"\", \"!\"],\n    },\n}\n\n/** @hidden\n * Merges two objects and removes all keys with null values at all levels\n */\nexport const mergeDeepCull = R.pipe(mergeDeep, removeNull)\n\n/** @hidden */\nexport const DEFAULTS = mergeDeepCull(\n    o(new default_config()),\n    platform_defaults[platform.getPlatformOs()],\n)\n\n/** Given an object and a target, extract the target if it exists, else return undefined\n\n    @param target path of properties as an array\n    @hidden\n */\nexport function getDeepProperty(obj, target: string[]) {\n    if (obj !== undefined && obj !== null && target.length) {\n        if (obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"] === undefined) {\n            return getDeepProperty(obj[target[0]], target.slice(1))\n        } else {\n            return getDeepProperty(\n                mergeDeepCull(get(obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"]), obj)[target[0]],\n                target.slice(1),\n            )\n        }\n    } else {\n        if (obj === undefined || obj === null) return obj\n        if (obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"] !== undefined) {\n            return mergeDeepCull(get(obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"]), obj)\n        } else {\n            return obj\n        }\n    }\n}\n\n/** Create the key path target if it doesn't exist and set the final property to value.\n\n    If the path is an empty array, replace the obj.\n\n    @param target path of properties as an array\n    @hidden\n */\nfunction setDeepProperty(obj, value, target) {\n    if (target.length > 1) {\n        // If necessary antecedent objects don't exist, create them.\n        if (obj[target[0]] === undefined) {\n            obj[target[0]] = o({})\n        }\n        return setDeepProperty(obj[target[0]], value, target.slice(1))\n    } else {\n        obj[target[0]] = value\n    }\n}\n\n/** @hidden\n * Merges two objects and any child objects they may have\n */\nexport function mergeDeep(o1, o2) {\n    if (o1 === null) return Object.assign({}, o2)\n    const r = Array.isArray(o1) ? o1.slice() : Object.create(o1)\n    Object.assign(r, o1, o2)\n    if (o2 === undefined) return r\n    Object.keys(o1)\n        .filter(\n            key => typeof o1[key] === \"object\" && typeof o2[key] === \"object\",\n        )\n        .forEach(key =>\n            r[key] == null\n                ? null\n                : Object.assign(r[key], mergeDeep(o1[key], o2[key])),\n        )\n    return r\n}\n\n/** @hidden\n * Gets a site-specific setting.\n */\nexport function getURL(url: string, target: string[]) {\n    function _getURL(conf, url, target) {\n        if (!conf.subconfigs) return undefined\n        // For each key\n        return (\n            Object.keys(conf.subconfigs)\n                // Keep only the ones that have a match\n                .filter(\n                    k =>\n                        url.match(k) &&\n                        getDeepProperty(conf.subconfigs[k], target) !==\n                            undefined,\n                )\n                // Sort them from lowest to highest priority, default to a priority of 10\n                .sort(\n                    (k1, k2) =>\n                        (conf.subconfigs[k1].priority || 10) -\n                        (conf.subconfigs[k2].priority || 10),\n                )\n                // Merge their corresponding value if they're objects, otherwise return the last value\n                .reduce((acc, curKey) => {\n                    const curVal = getDeepProperty(\n                        conf.subconfigs[curKey],\n                        target,\n                    )\n                    if (acc instanceof Object && curVal instanceof Object)\n                        return mergeDeep(acc, curVal)\n                    return curVal\n                }, undefined as any)\n        )\n    }\n    const user = _getURL(USERCONFIG, url, target)\n    const deflt = _getURL(DEFAULTS, url, target)\n    if (user === undefined || user === null) return deflt\n    if (typeof user !== \"object\" || typeof deflt !== \"object\") return user\n    return mergeDeepCull(deflt, user)\n}\n\n/** Get the value of the key target.\n\n    If the user has not specified a key, use the corresponding key from\n    defaults, if one exists, else undefined.\n    @hidden\n */\nexport function get(target_typed?: keyof default_config, ...target: string[]) {\n    if (target_typed === undefined) {\n        target = []\n    } else {\n        target = [target_typed as string].concat(target)\n    }\n    // Window.tri might not be defined when called from the untrusted page context\n    let loc = window.location\n    if ((window as any).tri && (window as any).tri.contentLocation)\n        loc = (window as any).tri.contentLocation\n    // If there's a site-specifing setting, it overrides global settings\n    const site = getURL(loc.href, target)\n    const user = getDeepProperty(USERCONFIG, target)\n    const defult = getDeepProperty(DEFAULTS, target)\n\n    // Merge results if there's a default value and it's not an Array or primitive.\n    if (typeof defult === \"object\") {\n        return mergeDeepCull(mergeDeepCull(defult, user), site)\n    } else {\n        if (site !== undefined) {\n            return site\n        } else if (user !== undefined) {\n            return user\n        } else {\n            return defult\n        }\n    }\n}\n\n/** Get the value of the key target.\n\n    Please only use this with targets that will be used at runtime - it skips static checks. Prefer [[get]].\n */\nexport function getDynamic(...target: string[]) {\n    return get(target[0] as keyof default_config, ...target.slice(1))\n}\n\n/** Get the value of the key target.\n\n    Please only use this with targets that will be used at runtime - it skips static checks. Prefer [[getAsync]].\n */\nexport async function getAsyncDynamic(...target: string[]) {\n    return getAsync(target[0] as keyof default_config, ...target.slice(1))\n}\n\n/** Get the value of the key target, but wait for config to be loaded from the\n    database first if it has not been at least once before.\n\n    This is useful if you are a content script and you've just been loaded.\n    @hidden\n */\nexport async function getAsync(\n    target_typed?: keyof default_config,\n    ...target: string[]\n) {\n    if (INITIALISED) {\n        // TODO: consider storing keys directly\n        const browserconfig = await browser.storage.local.get(CONFIGNAME)\n        USERCONFIG = browserconfig[CONFIGNAME] || o({})\n\n        return get(target_typed, ...target)\n    } else {\n        return new Promise(resolve =>\n            WAITERS.push(() => resolve(get(target_typed, ...target))),\n        )\n    }\n}\n\n/*\n * Replaces the configuration in your sync storage with your current configuration. Does not merge: it overwrites.\n *\n * Does not synchronise custom themes due to storage constraints.\n */\nexport async function push() {\n    const local_conf = await browser.storage.local.get(CONFIGNAME)\n    // eslint-disable-next-line @typescript-eslint/dot-notation\n    delete local_conf[CONFIGNAME][\"customthemes\"]\n    return browser.storage.sync.set(local_conf)\n}\n\n/*\n * Replaces the local configuration with the configuration from your sync storage. Does not merge: it overwrites.\n */\nexport async function pull() {\n    return browser.storage.local.set(await browser.storage.sync.get(CONFIGNAME))\n}\n\n/** @hidden\n * Like set(), but for a specific pattern.\n */\nexport function setURL(pattern, ...args) {\n    try {\n        new RegExp(pattern)\n        return set(\"subconfigs\", pattern, ...args)\n    } catch (err) {\n        if (err instanceof SyntaxError)\n            throw new SyntaxError(`invalid pattern: ${err.message}`)\n        throw err\n    }\n}\n/** Full target specification, then value\n\n    e.g.\n        set(\"nmaps\", \"o\", \"open\")\n        set(\"search\", \"default\", \"google\")\n        set(\"aucmd\", \"BufRead\", \"memrise.com\", \"open memrise.com\")\n\n    @hidden\n */\nexport async function set(...args) {\n    if (args.length < 2) {\n        throw new Error(\"You must provide at least two arguments!\")\n    }\n\n    const target = args.slice(0, args.length - 1)\n    const value = args[args.length - 1]\n\n    if (INITIALISED) {\n        // wait for storage to settle, otherwise we could clobber a previous incomplete set()\n        setDeepProperty(USERCONFIG, value, target)\n\n        return save()\n    } else {\n        setDeepProperty(USERCONFIG, value, target)\n    }\n}\n\n/** @hidden\n * Delete the key at USERCONFIG[pattern][target]\n */\nexport function unsetURL(pattern, ...target) {\n    return unset(\"subconfigs\", pattern, ...target)\n}\n\n/** Delete the key at target in USERCONFIG if it exists\n * @hidden */\nexport function unset(...target) {\n    const parent = getDeepProperty(USERCONFIG, target.slice(0, -1))\n    if (parent !== undefined) delete parent[target[target.length - 1]]\n    return save()\n}\n\n/** Save the config back to storage API.\n\n    Config is not synchronised between different instances of this module until\n    sometime after this happens.\n\n    @hidden\n */\nexport async function save() {\n    const settingsobj = o({})\n    settingsobj[CONFIGNAME] = USERCONFIG\n    return browser.storage.local.set(settingsobj)\n}\n\n/** Updates the config to the latest version.\n    Proposed semantic for config versionning:\n     - x.y -> x+1.0 : major architectural changes\n     - x.y -> x.y+1 : renaming settings/changing their types\n    There's no need for an updater if you're only adding a new setting/changing\n    a default setting\n\n    When adding updaters, don't forget to set(\"configversion\", newversionnumber)!\n    @hidden\n */\nexport async function update() {\n    // Updates a value both in the main config and in sub (=site specific) configs\n    const updateAll = (setting: string[], fn: (any) => any) => {\n        const val = getDeepProperty(USERCONFIG, setting)\n        if (val) {\n            set(...setting, fn(val))\n        }\n        const subconfigs = getDeepProperty(USERCONFIG, [\"subconfigs\"])\n        if (subconfigs) {\n            Object.keys(subconfigs)\n                .map(pattern => [pattern, getURL(pattern, setting)])\n                .filter(([_pattern, value]) => value)\n                .forEach(([pattern, value]) =>\n                    setURL(pattern, ...setting, fn(value)),\n                )\n        }\n    }\n\n    if (!get(\"configversion\")) set(\"configversion\", \"0.0\")\n\n    let updated = false\n    switch (get(\"configversion\")) {\n        case \"0.0\": {\n            try {\n                // Before we had a config system, we had nmaps, and we put them in the\n                // root namespace because we were young and bold.\n                const legacy_nmaps = await browser.storage.sync.get(\"nmaps\")\n                if (Object.keys(legacy_nmaps).length > 0) {\n                    USERCONFIG.nmaps = Object.assign(\n                        legacy_nmaps.nmaps,\n                        USERCONFIG.nmaps,\n                    )\n                }\n            } finally {\n                set(\"configversion\", \"1.0\")\n            }\n        }\n        case \"1.0\": {\n            const vimiumgi = getDeepProperty(USERCONFIG, [\"vimium-gi\"])\n            if (vimiumgi === true || vimiumgi === \"true\")\n                set(\"gimode\", \"nextinput\")\n            else if (vimiumgi === false || vimiumgi === \"false\")\n                set(\"gimode\", \"firefox\")\n            unset(\"vimium-gi\")\n            set(\"configversion\", \"1.1\")\n        }\n        case \"1.1\": {\n            const leveltostr: { [key: number]: LoggingLevel } = {\n                0: \"never\",\n                1: \"error\",\n                2: \"warning\",\n                3: \"info\",\n                4: \"debug\",\n            }\n            const logging = getDeepProperty(USERCONFIG, [\"logging\"])\n            // logging is not necessarily defined if the user didn't change default values\n            if (logging)\n                Object.keys(logging).forEach(l =>\n                    set(\"logging\", l, leveltostr[logging[l]]),\n                )\n            set(\"configversion\", \"1.2\")\n        }\n        case \"1.2\": {\n            ;[\"ignoremaps\", \"inputmaps\", \"imaps\", \"nmaps\"]\n                .map(mapname => [\n                    mapname,\n                    getDeepProperty(USERCONFIG, [mapname]),\n                ])\n                // mapobj is undefined if the user didn't define any bindings\n                .filter(([_mapname, mapobj]) => mapobj)\n                .forEach(([mapname, mapobj]) => {\n                    // For each mapping\n                    Object.keys(mapobj)\n                        // Keep only the ones with im_* functions\n                        .filter(\n                            key =>\n                                mapobj[key]?.search(\n                                    \"^im_|([^a-zA-Z0-9_-])im_\",\n                                ) >= 0,\n                        )\n                        // Replace the prefix\n                        .forEach(key =>\n                            setDeepProperty(\n                                USERCONFIG,\n                                mapobj[key].replace(\n                                    new RegExp(\"^im_|([^a-zA-Z0-9_-])im_\"),\n                                    \"$1text.\",\n                                ),\n                                [mapname, key],\n                            ),\n                        )\n                })\n            set(\"configversion\", \"1.3\")\n        }\n        case \"1.3\": {\n            ;[\n                \"priority\",\n                \"hintdelay\",\n                \"scrollduration\",\n                \"ttsvolume\",\n                \"ttsrate\",\n                \"ttspitch\",\n                \"jumpdelay\",\n                \"historyresults\",\n            ].forEach(setting => updateAll([setting], parseInt))\n            set(\"configversion\", \"1.4\")\n        }\n        case \"1.4\": {\n            ;(getDeepProperty(USERCONFIG, [\"noiframeon\"]) || []).forEach(\n                site => {\n                    setURL(site, \"noiframe\", \"true\")\n                },\n            )\n            set(\"configversion\", \"1.5\")\n        }\n        case \"1.5\": {\n            unset(\"exaliases\", \"tab\")\n            set(\"configversion\", \"1.6\")\n        }\n        case \"1.6\": {\n            const updateSetting = mapObj => {\n                if (!mapObj) return mapObj\n                if (mapObj[\" \"] !== undefined) {\n                    mapObj[\"<Space>\"] = mapObj[\" \"]\n                    delete mapObj[\" \"]\n                }\n                ;[\n                    \"<A- >\",\n                    \"<C- >\",\n                    \"<M- >\",\n                    \"<S- >\",\n                    \"<AC- >\",\n                    \"<AM- >\",\n                    \"<AS- >\",\n                    \"<CM- >\",\n                    \"<CS- >\",\n                    \"<MS- >\",\n                ].forEach(binding => {\n                    if (mapObj[binding] !== undefined) {\n                        const key = binding.replace(\" \", \"Space\")\n                        mapObj[key] = mapObj[binding]\n                        delete mapObj[binding]\n                    }\n                })\n                return mapObj\n            }\n            ;[\"nmaps\", \"exmaps\", \"imaps\", \"inputmaps\", \"ignoremaps\"].forEach(\n                settingName => updateAll([settingName], updateSetting),\n            )\n            set(\"configversion\", \"1.7\")\n        }\n        case \"1.7\": {\n            const autocontain = getDeepProperty(USERCONFIG, [\"autocontain\"])\n            unset(\"autocontain\")\n            if (autocontain !== undefined) {\n                Object.entries(autocontain).forEach(([domain, container]) => {\n                    set(\n                        \"autocontain\",\n                        `^https?://([^/]*\\\\.|)*${domain}/`,\n                        container,\n                    )\n                })\n            }\n            set(\"configversion\", \"1.8\")\n        }\n        case \"1.8\": {\n            const updateSetting = mapObj => {\n                if (!mapObj) return mapObj\n                return R.map(val => {\n                    if (val === \"\") return null\n                    return val\n                }, mapObj)\n            }\n            ;[\n                \"nmaps\",\n                \"exmaps\",\n                \"imaps\",\n                \"inputmaps\",\n                \"ignoremaps\",\n                \"hintmaps\",\n                \"vmaps\",\n            ].forEach(settingName => updateAll([settingName], updateSetting))\n            set(\"configversion\", \"1.9\")\n        }\n        case \"1.9\": {\n            const local = (await browser.storage.local.get(CONFIGNAME))[\n                CONFIGNAME\n            ] as { storageloc?: \"local\" | \"sync\" }\n            const sync = (await browser.storage.sync.get(CONFIGNAME))[\n                CONFIGNAME\n            ] as { storageloc?: \"local\" | \"sync\" }\n            // Possible combinations:\n            // storage:storageloc_setting => winning storageloc setting\n            // l:l, s:* => l\n            // l:undefined, s:l =>  l\n            // l:undefined, s:s => s\n            // l: undefined, s:undefined => s\n            // l:s, s:* =>  s\n            const current_storageloc =\n                local?.storageloc !== undefined\n                    ? local.storageloc\n                    : sync?.storageloc !== undefined\n                    ? sync.storageloc\n                    : \"sync\"\n            if (current_storageloc == \"sync\") {\n                await pull()\n            } else if (current_storageloc != \"local\") {\n                throw new Error(\n                    \"storageloc was set to something weird: \" +\n                        current_storageloc +\n                        \", automatic migration of settings was not possible.\",\n                )\n            }\n            set(\"configversion\", \"2.0\")\n            updated = true // NB: when adding a new updater, move this line to the end of it\n        }\n    }\n    return updated\n}\n\n/** Read all user configuration from storage API then notify any waiting asynchronous calls\n\n    asynchronous calls generated by getAsync.\n    @hidden\n */\nasync function init() {\n    const localConfig = await browser.storage.local.get(CONFIGNAME)\n    schlepp(localConfig[CONFIGNAME])\n\n    INITIALISED = true\n    for (const waiter of WAITERS) {\n        waiter()\n    }\n}\n\n/** @hidden */\nconst changeListeners = new Map()\n\n/** @hidden\n * @param name The name of a \"toplevel\" config setting (i.e. \"nmaps\", not \"nmaps.j\")\n * @param listener A function to call when the value of $name is modified in the config. Takes the previous and new value as parameters.\n */\nexport function addChangeListener<P extends keyof default_config>(\n    name: P,\n    listener: (old: default_config[P], neww: default_config[P]) => void,\n) {\n    let arr = changeListeners.get(name)\n    if (!arr) {\n        arr = []\n        changeListeners.set(name, arr)\n    }\n    arr.push(listener)\n}\n\n/** @hidden\n * Removes event listeners set with addChangeListener\n */\nexport function removeChangeListener<P extends keyof default_config>(\n    name: P,\n    listener: (old: default_config[P], neww: default_config[P]) => void,\n) {\n    const arr = changeListeners.get(name)\n    if (!arr) return\n    const i = arr.indexOf(listener)\n    if (i >= 0) arr.splice(i, 1)\n}\n\n/** Parse the config into a string representation of a .tridactylrc config file.\n    Tries to parse the config into sectionable chunks based on keywords.\n    Binds, aliases, autocmds and logging settings each have their own section while the rest are dumped into \"General Settings\".\n\n    @returns string The parsed config file.\n\n */\nexport function parseConfig(): string {\n    let p = {\n        conf: [],\n        binds: [],\n        aliases: [],\n        subconfigs: [],\n        aucmds: [],\n        aucons: [],\n        logging: [],\n        nulls: [],\n    }\n\n    p = parseConfigHelper(USERCONFIG, p)\n\n    const s = {\n        general: ``,\n        binds: ``,\n        aliases: ``,\n        aucmds: ``,\n        aucons: ``,\n        subconfigs: ``,\n        logging: ``,\n        nulls: ``,\n    }\n\n    if (p.conf.length > 0)\n        s.general = `\" General Settings\\n${p.conf.join(\"\\n\")}\\n\\n`\n    if (p.binds.length > 0) s.binds = `\" Binds\\n${p.binds.join(\"\\n\")}\\n\\n`\n    if (p.aliases.length > 0)\n        s.aliases = `\" Aliases\\n${p.aliases.join(\"\\n\")}\\n\\n`\n    if (p.aucmds.length > 0) s.aucmds = `\" Autocmds\\n${p.aucmds.join(\"\\n\")}\\n\\n`\n    if (p.aucons.length > 0)\n        s.aucons = `\" Autocontainers\\n${p.aucons.join(\"\\n\")}\\n\\n`\n    if (p.subconfigs.length > 0)\n        s.subconfigs = `\" Subconfig Settings\\n${p.subconfigs.join(\"\\n\")}\\n\\n`\n    if (p.logging.length > 0)\n        s.logging = `\" Logging\\n${p.logging.join(\"\\n\")}\\n\\n`\n    if (p.nulls.length > 0)\n        s.nulls = `\" Removed settings\\n${p.nulls.join(\"\\n\")}\\n\\n`\n\n    const ftdetect = `\" For syntax highlighting see https://github.com/tridactyl/vim-tridactyl\\n\" vim: set filetype=tridactyl`\n\n    return `${s.general}${s.binds}${s.subconfigs}${s.aliases}${s.aucmds}${s.aucons}${s.logging}${s.nulls}${ftdetect}`\n}\n\nconst parseConfigHelper = (pconf, parseobj, prefix = []) => {\n    for (const i of Object.keys(pconf)) {\n        if (typeof pconf[i] !== \"object\") {\n            if (prefix[0] === \"subconfigs\") {\n                const pattern = prefix[1]\n                const subconf = [...prefix.slice(2), i].join(\".\")\n                parseobj.subconfigs.push(\n                    `seturl ${pattern} ${subconf} ${pconf[i]}`,\n                )\n            } else {\n                parseobj.conf.push(\n                    `set ${[...prefix, i].join(\".\")} ${pconf[i]}`,\n                )\n            }\n        } else if (pconf[i] === null) {\n            parseobj.nulls.push(`setnull ${[...prefix, i].join(\".\")}`)\n        } else {\n            for (const e of Object.keys(pconf[i])) {\n                if (binding.modeMaps.includes(i)) {\n                    let cmd = \"bind\"\n                    if (prefix[0] === \"subconfigs\")\n                        cmd = cmd + \"url \" + prefix[1]\n\n                    if (i !== \"nmaps\") {\n                        const mode = binding.maps2mode.get(i)\n                        cmd += ` --mode=${mode}`\n                    }\n\n                    if (pconf[i][e] === null) {\n                        parseobj.binds.push(`un${cmd} ${e}`)\n                        continue\n                    }\n\n                    if (pconf[i][e].length > 0) {\n                        parseobj.binds.push(`${cmd} ${e} ${pconf[i][e]}`)\n                    } else {\n                        parseobj.binds.push(`un${cmd} ${e}`)\n                    }\n                } else if (pconf[i][e] === null) {\n                    parseobj.nulls.push(`setnull ${i}.${e}`)\n                } else if (i === \"exaliases\") {\n                    // Only really useful if mapping the entire config and not just pconf.\n                    if (e === \"alias\") {\n                        parseobj.aliases.push(`command ${e} ${pconf[i][e]}`)\n                    } else {\n                        parseobj.aliases.push(`alias ${e} ${pconf[i][e]}`)\n                    }\n                } else if (i === \"autocmds\") {\n                    for (const a of Object.keys(pconf[i][e])) {\n                        parseobj.aucmds.push(\n                            `autocmd ${e} ${a} ${pconf[i][e][a]}`,\n                        )\n                    }\n                } else if (i === \"autocontain\") {\n                    parseobj.aucons.push(`autocontain ${e} ${pconf[i][e]}`)\n                } else if (i === \"logging\") {\n                    // Map the int values in e to a log level\n                    let level\n                    if (pconf[i][e] === 0) level = \"never\"\n                    if (pconf[i][e] === 1) level = \"error\"\n                    if (pconf[i][e] === 2) level = \"warning\"\n                    if (pconf[i][e] === 3) level = \"info\"\n                    if (pconf[i][e] === 4) level = \"debug\"\n                    parseobj.logging.push(`set logging.${e} ${level}`)\n                } else if (i === \"customthemes\") {\n                    // Skip custom themes for now because writing their CSS is hard\n                    // parseobj.themes.push(`colourscheme ${e}`) // TODO: check if userconfig.theme == e and write this, otherwise don't.\n                } else {\n                    parseConfigHelper(pconf[i], parseobj, [...prefix, i])\n                    break\n                }\n            }\n        }\n    }\n    return parseobj\n}\n\n// Listen for changes to the storage and update the USERCONFIG if appropriate.\n// TODO: BUG! Sync and local storage are merged at startup, but not by this thing.\nbrowser.storage.onChanged.addListener((changes, areaname) => {\n    if (CONFIGNAME in changes) {\n        const { newValue, oldValue } = changes[CONFIGNAME]\n        const old = oldValue || {}\n\n        function triggerChangeListeners(key, value = newValue[key]) {\n            const arr = changeListeners.get(key)\n            if (arr) {\n                const v = old[key] === undefined ? DEFAULTS[key] : old[key]\n                arr.forEach(f => f(v, value))\n            }\n        }\n\n        if (areaname === \"sync\") {\n            // Probably do something here with push/pull?\n        } else if (newValue !== undefined) {\n            // A key has been :unset if it exists in USERCONFIG and doesn't in changes and if its value in USERCONFIG is different from the one it has in default_config\n            const unsetKeys = Object.keys(old).filter(\n                k =>\n                    newValue[k] === undefined &&\n                    JSON.stringify(old[k]) !== JSON.stringify(DEFAULTS[k]),\n            )\n\n            // A key has changed if it is defined in USERCONFIG and its value in USERCONFIG is different from the one in `changes` or if the value in defaultConf is different from the one in `changes`\n            const changedKeys = Object.keys(newValue).filter(\n                k =>\n                    JSON.stringify(\n                        old[k] !== undefined ? old[k] : DEFAULTS[k],\n                    ) !== JSON.stringify(newValue[k]),\n            )\n\n            // TODO: this should be a deep comparison but this is better than nothing\n            changedKeys.forEach(key => (USERCONFIG[key] = newValue[key]))\n            unsetKeys.forEach(key => delete USERCONFIG[key])\n\n            // Trigger listeners\n            unsetKeys.forEach(key => triggerChangeListeners(key, DEFAULTS[key]))\n\n            changedKeys.forEach(key => triggerChangeListeners(key))\n        } else {\n            // newValue is undefined when calling browser.storage.AREANAME.clear()\n            // If newValue is undefined and AREANAME is the same value as STORAGELOC, the user wants to clean their config\n            USERCONFIG = o({})\n\n            Object.keys(old)\n                .filter(key => old[key] !== DEFAULTS[key])\n                .forEach(key => triggerChangeListeners(key))\n        }\n    }\n})\n\ninit()\n", "import * as config from \"@src/lib/config\"\n\n/**\n * Expands the alias in the provided exstr recursively. Does nothing if\n * the command is not aliased, including when the command is invalid.\n *\n * @param exstr :exstr typed by the user on the commantd line\n */\nexport function expandExstr(\n    exstr: string,\n    aliases = config.get(\"exaliases\"),\n    prevExpansions: string[] = [],\n): string {\n    // Split on whitespace\n    const [command] = exstr.trim().split(/\\s+/)\n\n    // Base case: alias not found; return original command\n    if (aliases[command] === undefined) {\n        return exstr\n    }\n\n    // Infinite loop detected\n    if (prevExpansions.includes(command)) {\n        throw new Error(\n            `Infinite loop detected while expanding aliases. Stack: ${prevExpansions}.`,\n        )\n    }\n\n    // Add command to expansions used so far\n    prevExpansions.push(command)\n\n    // Alias exists; expand it recursively\n    return expandExstr(\n        exstr.replace(command, aliases[command]),\n        aliases,\n        prevExpansions,\n    )\n}\n\n/**\n * Get all aliases for all commands.\n *\n * @param aliases An object mapping aliases to commands\n * @return commands An object mapping commands to an array of aliases\n */\nexport function getCmdAliasMapping(\n    aliases = config.get(\"exaliases\"),\n): { [str: string]: string[] } {\n    const commands = {}\n    // aliases look like this: {alias: command} but what we really need is this: {command: [alias1, alias2...]}\n    // This is what this loop builds\n    for (const alias of Object.keys(aliases)) {\n        const cmd = expandExstr(alias, aliases).trim()\n        if (!commands[cmd]) commands[cmd] = []\n        commands[cmd].push(alias.trim())\n    }\n    return commands\n}\n", "// Borrowed from\n// https://tech.mybuilder.com/handling-retries-and-back-off-attempts-with-javascript-promises/\nexport const sleep = (duration: number) =>\n    new Promise(res => setTimeout(res, duration))\n\nexport const backoff = (\n    fn: (...args: any[]) => Promise<any>,\n    retries = 5,\n    delay = 50,\n) =>\n    fn().catch(err => {\n        retries > 1\n            ? sleep(delay).then(() => backoff(fn, retries - 1, delay * 2))\n            : Promise.reject(err)\n    })\n", "/*\n\nHave an array of all completion sources. Completion sources display nothing if the filter doesn't match for them.\n\nOn each input event, call updateCompletions on the array. That will mutate the array and update the display as required.\n\nHow to handle cached e.g. buffer information going out of date?\n\nConcrete completion classes have been moved to src/completions/.\n\n*/\n\nimport Fuse from \"fuse.js\"\nimport { enumerate } from \"@src/lib/itertools\"\nimport { toNumber } from \"@src/lib/convert\"\nimport * as aliases from \"@src/lib/aliases\"\nimport { backoff } from \"@src/lib/patience\"\nimport * as config from \"@src/lib/config\"\n\nexport const DEFAULT_FAVICON = browser.runtime.getURL(\n    \"static/defaultFavicon.svg\",\n)\n\n// {{{ INTERFACES\n\ntype OptionState = \"focused\" | \"hidden\" | \"normal\"\n\nexport abstract class CompletionOption {\n    /** What to fill into cmdline */\n    value: string\n    /** Control presentation of the option */\n    abstract state: OptionState\n}\n\nexport abstract class CompletionSource {\n    readonly options: CompletionOption[]\n    node: HTMLElement\n    public completion: string\n    public args: string\n    protected prefixes: string[] = []\n    protected lastFocused: CompletionOption\n    private _state: OptionState\n    private _prevState: OptionState\n\n    constructor(prefixes) {\n        const commands = aliases.getCmdAliasMapping()\n\n        // Now, for each prefix given as argument, add it to the completionsource's prefix list and also add any alias it has\n        prefixes\n            .map(p => p.trim())\n            .forEach(p => {\n                this.prefixes.push(p)\n                if (commands[p])\n                    this.prefixes = this.prefixes.concat(commands[p])\n            })\n\n        // Not sure this is necessary but every completion source has it\n        this.prefixes = this.prefixes.map(p => p + \" \")\n    }\n\n    /** Control presentation of Source */\n    set state(newstate: OptionState) {\n        switch (newstate) {\n            case \"normal\":\n                this.node.classList.remove(\"hidden\")\n                this.completion = undefined\n                break\n            case \"hidden\":\n                this.node.classList.add(\"hidden\")\n                break\n        }\n        this._prevState = this._state\n        this._state = newstate\n    }\n\n    get state() {\n        return this._state\n    }\n\n    shouldRefresh() {\n        // A completion source should be refreshed if it is not hidden or if it just became hidden\n        return this._state !== \"hidden\" || this.state !== this._prevState\n    }\n\n    prev(inc = 1): Promise<boolean> {\n        return this.next(-1 * inc)\n    }\n\n    deselect() {\n        this.completion = undefined\n        if (this.lastFocused !== undefined) this.lastFocused.state = \"normal\"\n    }\n\n    /** Update [[node]] to display completions relevant to exstr */\n    public abstract filter(exstr: string): Promise<void>\n\n    abstract next(inc?: number): Promise<boolean>\n}\n\n// Default classes\n\nexport abstract class CompletionOptionHTML extends CompletionOption {\n    public html: HTMLElement\n    public value\n\n    private _state: OptionState = \"hidden\"\n\n    /** Control presentation of element */\n    set state(newstate: OptionState) {\n        // console.log(\"state from to\", this._state, newstate)\n        switch (newstate) {\n            case \"focused\":\n                this.html.classList.add(\"focused\")\n                this.html.classList.remove(\"hidden\")\n                const myRect = this.html.getClientRects()[0]\n                if (myRect) {\n                    const container = document.getElementById(\"completions\")\n                    const boxRect = container.getClientRects()[0]\n                    if (myRect.bottom > boxRect.bottom)\n                        this.html.scrollIntoView()\n                    else if (myRect.top < boxRect.top)\n                        this.html.scrollIntoView(false)\n                }\n                break\n            case \"normal\":\n                this.html.classList.remove(\"focused\")\n                this.html.classList.remove(\"hidden\")\n                break\n            case \"hidden\":\n                this.html.classList.remove(\"focused\")\n                this.html.classList.add(\"hidden\")\n                break\n        }\n        this._state = newstate\n    }\n\n    get state() {\n        return this._state\n    }\n}\n\nexport interface CompletionOptionFuse extends CompletionOptionHTML {\n    // For fuzzy matching\n    fuseKeys: any[]\n}\n\nexport interface ScoredOption {\n    index: number\n    option: CompletionOptionFuse\n    score: number\n}\n\nexport abstract class CompletionSourceFuse extends CompletionSource {\n    public node\n    public options: CompletionOptionFuse[]\n\n    fuseOptions = {\n        keys: [\"fuseKeys\"],\n        shouldSort: true,\n        includeScore: true,\n        findAllMatches: true,\n        ignoreLocation: true,\n        ignoreFieldNorm: true,\n        threshold: config.get(\"completionfuzziness\"),\n        minMatchCharLength: 1,\n    }\n\n    // PERF: Could be expensive not to cache Fuse()\n    // yeah, it was.\n    fuse = undefined\n\n    protected lastExstr: string\n    protected sortScoredOptions = false\n\n    protected optionContainer = html`<table class=\"optionContainer\"></table>`\n\n    constructor(prefixes, className: string, title?: string) {\n        super(prefixes)\n        this.node = html`<div class=\"${className} hidden\">\n            <div class=\"sectionHeader\">${title || className}</div>\n        </div>`\n        this.node.appendChild(this.optionContainer)\n        this.state = \"hidden\"\n    }\n\n    // Helpful default implementations\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        await this.onInput(exstr)\n        return this.updateChain()\n    }\n\n    updateChain(exstr = this.lastExstr, options = this.options) {\n        if (options === undefined) {\n            this.state = \"hidden\"\n            return\n        }\n\n        const [prefix, query] = this.splitOnPrefix(exstr)\n\n        // console.log(prefix, query, options)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        // Filter by query if query is not empty\n        if (query) {\n            this.setStateFromScore(this.scoredOptions(query))\n            // Else show all options\n        } else {\n            options.forEach(option => (option.state = \"normal\"))\n        }\n\n        // Call concrete class\n        this.updateDisplay()\n    }\n\n    select(option: CompletionOption) {\n        if (this.lastExstr !== undefined && option !== undefined) {\n            const [prefix] = this.splitOnPrefix(this.lastExstr)\n            this.completion = [prefix, option.value].join(\" \")\n            this.args = option.value\n            option.state = \"focused\"\n            this.lastFocused = option\n        } else {\n            throw new Error(\"lastExstr and option must be defined!\")\n        }\n    }\n\n    splitOnPrefix(exstr: string) {\n        for (const prefix of this.prefixes) {\n            if (exstr.startsWith(prefix)) {\n                const query = exstr.replace(prefix, \"\")\n                return [prefix.trim(), query]\n            }\n        }\n        return [undefined, undefined]\n    }\n\n    /** Rtn sorted array of {option, score} */\n    scoredOptions(query: string): ScoredOption[] {\n        const searchThis = this.options.map((elem, index) => ({\n            index,\n            fuseKeys: elem.fuseKeys,\n        }))\n        this.fuse = new Fuse(searchThis, this.fuseOptions)\n        return this.fuse.search(query).map(result => {\n            // console.log(result, result.item, query)\n            const index = toNumber(result.item.index)\n            return {\n                index,\n                option: this.options[index],\n                score: result.score as number,\n            }\n        })\n    }\n\n    /** Set option state by score\n\n        For now just displays all scored elements (see threshold in fuse) and\n        focus the best match.\n    */\n    setStateFromScore(scoredOpts: ScoredOption[], autoselect = false) {\n        const matches = scoredOpts.map(res => res.index)\n\n        const hidden_options = []\n        for (const [index, option] of enumerate(this.options)) {\n            if (matches.includes(index)) option.state = \"normal\"\n            else {\n                option.state = \"hidden\"\n                hidden_options.push(option)\n            }\n        }\n\n        // ideally, this would not deselect anything unless it fell off the list of matches\n        if (matches.length && autoselect) {\n            this.select(this.options[matches[0]])\n        } else {\n            this.deselect()\n        }\n\n        // sort this.options by score\n        if (this.sortScoredOptions) {\n            const sorted_options = matches.map(index => this.options[index])\n            this.options = sorted_options.concat(hidden_options)\n        }\n    }\n\n    /** Call to replace the current display */\n    updateDisplay() {\n        const newContainer = this.optionContainer.cloneNode(\n            false,\n        ) as HTMLElement\n\n        for (const option of this.options) {\n            if (option.state !== \"hidden\")\n                // This is probably slow: `.html` means the HTML parser will be invoked\n                newContainer.appendChild(option.html)\n        }\n        this.optionContainer.replaceWith(newContainer)\n        this.optionContainer = newContainer\n        this.next(0)\n    }\n\n    async next(inc = 1) {\n        if (this.state !== \"hidden\") {\n            // We're abusing `async` here to help us to catch errors in backoff\n            // and to make it easier to return consistent types\n            /* eslint-disable-next-line @typescript-eslint/require-await */\n            return backoff(async () => {\n                const visopts = this.options.filter(o => o.state !== \"hidden\")\n                const currind = visopts.findIndex(o => o.state === \"focused\")\n                this.deselect()\n                // visopts.length + 1 because we want an empty completion at the end\n                const max = visopts.length + 1\n                const opt = visopts[(currind + inc + max) % max]\n                if (opt) this.select(opt)\n                return true\n            })\n        } else return false\n    }\n\n    /* abstract onUpdate(query: string, prefix: string, options: CompletionOptionFuse[]) */\n\n    // Lots of methods don't need this but some do\n    // eslint-disable-next-line @typescript-eslint/no-empty-function, @typescript-eslint/no-unused-vars-experimental\n    async onInput(exstr: string) {}\n}\n\n// }}}\n", "import { Type } from \"./Type\"\n\nexport class AnyType implements Type {\n    public kind = \"any\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new AnyType(${!this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        return argument\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class BooleanType implements Type {\n    public kind = \"boolean\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new BooleanType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        if (argument === \"true\") {\n            return true\n        } else if (argument === \"false\") {\n            return false\n        }\n        throw new Error(\"Can't convert ${argument} to boolean\")\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class FunctionType implements Type {\n    public kind = \"function\"\n\n    constructor(public args: Type[], public ret: Type, public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new FunctionType([` +\n            // Convert every argument type to its string constructor representation\n            this.args.map(cur => cur.toConstructor()) +\n            `], ${this.ret.toConstructor()}, ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return `(${this.args.map(a => a.toString()).join(\", \")}) => ${this.ret.toString()}`\n    }\n\n    public convert(argument) {\n        // Possible strategies:\n        // - eval()\n        // - window[argument]\n        // - tri.excmds[argument]\n        throw new Error(`Conversion to function not implemented: ${argument}`)\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class NumberType implements Type {\n    public kind = \"number\"\n\n    public constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new NumberType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        const n = parseFloat(argument)\n        if (!Number.isNaN(n)) {\n            return n\n        }\n        throw new Error(`Can't convert to number: ${argument}`)\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class ObjectType implements Type {\n    public kind = \"object\"\n\n    // Note: a map that has an empty key (\"\") uses the corresponding type as default type\n    constructor(public members: Map<string, Type> = new Map<string, Type>(), public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new ObjectType(new Map<string, Type>([` +\n            Array.from(this.members.entries()).map(([n, m]) => `[${JSON.stringify(n)}, ${m.toConstructor()}]`)\n            .join(\", \") +\n        `]), ${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convertMember(memberName: string[], memberValue: string) {\n        let type = this.members.get(memberName[0])\n        if (!type) {\n            // No type, try to get the default type\n            type = this.members.get(\"\")\n            if (!type) {\n                // No info for this member and no default type, anything goes\n                return memberValue\n            }\n        }\n        if (type.kind === \"object\") {\n            return (type as ObjectType).convertMember(memberName.slice(1), memberValue)\n        }\n        return type.convert(memberValue)\n    }\n\n    public convert(argument) {\n        try {\n            return JSON.parse(argument)\n        } catch (e) {\n            throw new Error(`Can't convert to object: ${argument}`)\n        }\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class StringType implements Type {\n    public kind = \"string\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new StringType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        if (typeof argument === \"string\") {\n            return argument\n        }\n        throw new Error(`Can't convert to string: ${argument}`)\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class TypeReferenceType implements Type {\n    public constructor(public kind: string, public args: Type[], public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new TypeReferenceType(${JSON.stringify(this.kind)}, [` +\n            // Turn every type argument into its constructor representation\n            this.args.map(cur => cur.toConstructor()).join(\",\\n\") +\n            `], ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return `${this.kind}<${this.args.map(a => a.toString()).join(\", \")}>`\n    }\n\n    public convert(argument) {\n        throw new Error(\"Conversion of simple type references not implemented.\")\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class VoidType implements Type {\n    public kind = \"void\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new VoidType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        return null\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class ArrayType implements Type {\n    public kind = \"array\"\n\n    constructor(public elemType: Type, public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new ArrayType(${this.elemType.toConstructor()}, ${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return `${this.elemType.toString()}[]`\n    }\n\n    public convert(argument) {\n        if (!Array.isArray(argument)) {\n            try {\n                argument = JSON.parse(argument)\n            } catch (e) {\n                throw new Error(`Can't convert ${argument} to array:`)\n            }\n            if (!Array.isArray(argument)) {\n                throw new Error(`Can't convert ${argument} to array:`)\n            }\n        }\n        return argument.map(v => this.elemType.convert(v))\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class LiteralTypeType implements Type {\n    public kind = \"LiteralType\"\n\n    constructor(public value: string, public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new LiteralTypeType(${JSON.stringify(this.value)}, ${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return JSON.stringify(this.value)\n    }\n\n    public convert(argument) {\n        if (argument === this.value) {\n            return argument\n        }\n        throw new Error(\n            `Argument does not match expected value (${\n                this.value\n            }): ${argument}`,\n        )\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class TupleType implements Type {\n    public kind = \"tuple\"\n\n    constructor(public elemTypes: Type[], public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new TupleType([` +\n            // Convert every element type to its constructor representation\n            this.elemTypes.map(cur => cur.toConstructor()).join(\",\\n\") +\n            `], ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return `[${this.elemTypes.map(e => e.toString()).join(\", \")}]`\n    }\n\n    public convert(argument) {\n        if (!Array.isArray(argument)) {\n            try {\n                argument = JSON.parse(argument)\n            } catch (e) {\n                throw new Error(`Can't convert to tuple: ${argument}`)\n            }\n            if (!Array.isArray(argument)) {\n                throw new Error(`Can't convert to tuple: ${argument}`)\n            }\n        }\n        if (argument.length !== this.elemTypes.length) {\n            throw new Error(\n                `Error converting tuple: number of elements and type mismatch ${argument}`,\n            )\n        }\n        return argument.map((v, i) => this.elemTypes[i].convert(v))\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class UnionType implements Type {\n    public kind = \"union\"\n\n    constructor(public types: Type[], public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new UnionType([` +\n            // Convert every type to its string constructor representation\n            this.types.map(cur => cur.toConstructor()).join(\",\\n\") +\n            `], ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return this.types.map(t => t.toString()).join(\" | \")\n    }\n\n    public convert(argument) {\n        for (const t of this.types) {\n            try {\n                return t.convert(argument)\n            } catch (e) {}\n        }\n        throw new Error(`Can't convert \"${argument}\" to any of: ${this.types}`)\n    }\n}\n", "import { Type } from \"../types/AllTypes\"\n\nexport class SymbolMetadata {\n    constructor(public doc: string, public type: Type, public hidden = false) {}\n\n    public toConstructor() {\n        return `new SymbolMetadata(${JSON.stringify(\n            this.doc,\n        )}, ${this.type.toConstructor()}, ${this.hidden})`\n    }\n}\n", "\nimport { SymbolMetadata } from \"./SymbolMetadata\"\n\nexport class ClassMetadata {\n    constructor(\n        public members: Map<string, SymbolMetadata> = new Map<\n            string,\n            SymbolMetadata\n        >(),\n    ) {}\n\n    public setMember(name: string, s: SymbolMetadata) {\n        this.members.set(name, s)\n    }\n\n    public getMember(name: string) {\n        return this.members.get(name)\n    }\n\n    public getMembers() {\n        return this.members.keys()\n    }\n\n    public toConstructor() {\n        return (\n            `new ClassMetadata(new Map<string, SymbolMetadata>([` +\n            Array.from(this.members.entries())\n                .map(([n, m]) => `[${JSON.stringify(n)}, ${m.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]))`\n        )\n    }\n}\n", "import { ClassMetadata } from \"./ClassMetadata\"\nimport { SymbolMetadata } from \"./SymbolMetadata\"\n\nexport class FileMetadata {\n    constructor(\n        public classes: Map<string, ClassMetadata> = new Map<\n            string,\n            ClassMetadata\n        >(),\n        public functions: Map<string, SymbolMetadata> = new Map<\n            string,\n            SymbolMetadata\n        >(),\n    ) {}\n\n    public setClass(name: string, c: ClassMetadata) {\n        this.classes.set(name, c)\n    }\n\n    public getClass(name: string) {\n        return this.classes.get(name)\n    }\n\n    public getClasses() {\n        return Array.from(this.classes.keys())\n    }\n\n    public setFunction(name: string, f: SymbolMetadata) {\n        this.functions.set(name, f)\n    }\n\n    public getFunction(name: string) {\n        return this.functions.get(name)\n    }\n\n    public getFunctions() {\n        return Array.from(this.functions.entries())\n    }\n\n    public getFunctionNames() {\n        return Array.from(this.functions.keys())\n    }\n\n    public toConstructor() {\n        return (\n            `new FileMetadata(new Map<string, ClassMetadata>([` +\n            Array.from(this.classes.entries())\n                .map(([n, c]) => `[${JSON.stringify(n)}, ${c.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]), new Map<string, SymbolMetadata>([` +\n            Array.from(this.functions.entries())\n                .map(([n, f]) => `[${JSON.stringify(n)}, ${f.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]))`\n        )\n    }\n}\n", "import { FileMetadata } from \"./FileMetadata\"\n\nexport class ProgramMetadata {\n    constructor(\n        public files: Map<string, FileMetadata> = new Map<\n            string,\n            FileMetadata\n        >(),\n    ) {}\n\n    public setFile(name: string, file: FileMetadata) {\n        this.files.set(name, file)\n    }\n\n    public getFile(name: string) {\n        return this.files.get(name)\n    }\n\n    public toConstructor() {\n        return (\n            `new ProgramMetadata(new Map<string, FileMetadata>([` +\n            Array.from(this.files.entries())\n                .map(([n, f]) => `[${JSON.stringify(n)}, ${f.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]))`\n        )\n    }\n}\n", "import { Type } from \"../compiler/types/AllTypes\"\nimport {AnyType, BooleanType, FunctionType, NumberType, ObjectType, StringType, TypeReferenceType, VoidType, ArrayType, LiteralTypeType, TupleType, UnionType} from \"../compiler/types/AllTypes\"\nimport {SymbolMetadata, ClassMetadata, FileMetadata, ProgramMetadata} from \"../compiler/metadata/AllMetadata\"\n\nexport let everything = new ProgramMetadata(new Map<string, FileMetadata>([[\"src/excmds.ts\", new FileMetadata(new Map<string, ClassMetadata>([]), new Map<string, SymbolMetadata>([[\"getNativeVersion\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), true)],\n[\"getRssLinks\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new ArrayType(new ObjectType(new Map<string, Type>([]), false, false), false, false)], false, false), false, false), true)],\n[\"rssexec\", new SymbolMetadata(\"Execute [[rsscmd]] for an rss link.\\n\\nIf `url` is undefined, Tridactyl will look for rss links in the current\\npage. If it doesn't find any, it will display an error message. If it finds\\nmultiple urls, it will offer completions in order for you to select the link\\nyou're interested in. If a single rss feed is found, it will automatically\\nbe selected.\", new FunctionType([new StringType(false, false),new StringType(false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"fillinput\", new SymbolMetadata(\"Fills the element matched by `selector` with content and falls back to the last used input if the element can't be found. You probably don't want this; it used to be used internally for [[editor]].\\n\\nThat said, `bind gs fillinput null [Tridactyl](https://addons.mozilla.org/en-US/firefox/addon/tridactyl-vim/) is my favourite add-on` could probably come in handy.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"getInput\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"HTMLElement\", [], false, false)], new StringType(false, false), false, false), true)],\n[\"getinput\", new SymbolMetadata(\"\", new FunctionType([], new StringType(false, false), false, false), true)],\n[\"getInputSelector\", new SymbolMetadata(\"\", new FunctionType([], new AnyType(true, false), false, false), true)],\n[\"addTridactylEditorClass\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"removeTridactylEditorClass\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"editor\", new SymbolMetadata(\"Opens your favourite editor (which is currently gVim) and fills the last used input with whatever you write into that file.\\n**Requires that the native messenger is installed, see [[native]] and [[nativeinstall]]**.\\n\\nUses the `editorcmd` config option, default = `auto` looks through a list defined in lib/native.ts try find a sensible combination. If it's a bit slow, or chooses the wrong editor, or gives up completely, set editorcmd to something you want. The command must stay in the foreground until the editor exits.\\n\\nThe editorcmd needs to accept a filename, stay in the foreground while it's edited, save the file and exit. By default the filename is added to the end of editorcmd, if you require control over the position of that argument, the first occurrence of %f in editorcmd is replaced with the filename. %l, if it exists, is replaced with the line number of the cursor and %c with the column number. For example:\\n```\\nset editorcmd terminator -u -e \\\"vim %f '+normal!%lGzv%c|'\\\"\\n```\\n\\nYou're probably better off using the default insert mode bind of `<C-i>` (Ctrl-i) to access this.\\n\\nThis function returns a tuple containing the path to the file that was opened by the editor and its content. This enables creating commands such as the following one, which deletes the temporary file created by the editor:\\n```\\nalias editor_rm composite editor | jsb -p tri.native.run(`rm -f '${JS_ARG[0]}'`)\\nbind --mode=insert <C-i> editor_rm\\nbind --mode=input <C-i> editor_rm\\n```\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"guiset_quiet\", new SymbolMetadata(\"Like [[guiset]] but quieter.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"guiset\", new SymbolMetadata(\"Change which parts of the Firefox user interface are shown. **NB: This feature is experimental and might break stuff.**\\n\\nMight mangle your userChrome. Requires native messenger, and you must restart Firefox each time to see any changes (this can be done using [[restart]]). <!-- (unless you enable addon debugging and refresh using the browser toolbox) -->\\n\\nAlso flips the preference `toolkit.legacyUserProfileCustomizations.stylesheets` to true so that FF will read your userChrome.\\n\\nView available rules and options [here](/static/docs/modules/_src_lib_css_util_.html#potentialrules) and [here](/static/docs/modules/_src_lib_css_util_.html#metarules).\\n\\nExample usage: `guiset gui none`, `guiset gui full`, `guiset tabs autohide`.\\n\\nSome of the available options:\\n\\n- gui\\n      - full\\n      - none\\n\\n- tabs\\n      - always\\n      - autohide\\n\\n- navbar\\n      - always\\n      - autohide\\n      - none\\n\\n- hoverlink (the little link that appears when you hover over a link)\\n      - none\\n      - left\\n      - right\\n      - top-left\\n      - top-right\\n\\n- statuspanel (hoverlink + the indicator that appears when a website is loading)\\n      - none\\n      - left\\n      - right\\n      - top-left\\n      - top-right\\n\\nIf you want to use guiset in your tridactylrc, you might want to use [[guiset_quiet]] instead.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"cssparse\", new SymbolMetadata(\"\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), true)],\n[\"loadtheme\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"unloadtheme\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"colourscheme\", new SymbolMetadata(\"Changes the current theme.\\n\\nIf THEMENAME is any of the themes that can be found in the [Tridactyl repo](https://github.com/tridactyl/tridactyl/tree/master/src/static/themes) (e.g. 'dark'), the theme will be loaded from Tridactyl's internal storage.\\n\\nIf THEMENAME is set to any other value except `--url`, Tridactyl will attempt to use its native binary (see [[native]]) in order to load a CSS file named THEMENAME from disk. The CSS file has to be in a directory named \\\"themes\\\" and this directory has to be in the same directory as your tridactylrc. If this fails, Tridactyl will attempt to load the theme from its internal storage.\\n\\nLastly, themes can be loaded from URLs with `:colourscheme --url [url] [themename]`. They are stored internally - if you want to update the theme run the whole command again.\\n\\nNote that the theme name should NOT contain any dot.\\n\\nExample: `:colourscheme mysupertheme`\\nOn linux, this will load ~/.config/tridactyl/themes/mysupertheme.css\\n\\n__NB__: due to Tridactyl's architecture, the theme will take a small amount of time to apply as each page is loaded. If this annoys you, you may use [userContent.css](http://kb.mozillazine.org/index.php?title=UserContent.css&printable=yes) to make changes to Tridactyl earlier. For example, users using the dark theme may like to put\\n\\n```\\n:root {\\n     --tridactyl-bg: black !important;\\n     --tridactyl-fg: white !important;\\n}\\n```\\n\\nin their `userContent.css`. Follow [issue #2510](https://github.com/tridactyl/tridactyl/issues/2510) if you would like to find out when we have made a more user-friendly solution.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"setpref\", new SymbolMetadata(\"Write a setting to your user.js file. Requires a [[restart]] after running to take effect.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"removepref\", new SymbolMetadata(\"Remove a setting from your user.js file.\", new FunctionType([new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"fixamo_quiet\", new SymbolMetadata(\"Like [[fixamo]] but quieter.\\n\\nNow purely a placebo as [[fixamo]] has been removed.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"fixamo\", new SymbolMetadata(\"Used to simply set\\n```js\\n  \\\"privacy.resistFingerprinting.block_mozAddonManager\\\":true\\n  \\\"extensions.webextensions.restrictedDomains\\\":\\\"\\\"\\n```\\nin about:config via user.js so that Tridactyl (and other extensions!) can be used on addons.mozilla.org and other sites.\\n\\nRemoved at the request of the Firefox Security team. Replacements exist in our exemplar RC file.\\n\\nRequires `native` and a `restart`.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"nativeopen\", new SymbolMetadata(\"Uses the native messenger to open URLs.\\n\\n**Be *seriously* careful with this:**\\n\\n1. the implementation basically execs `firefox --new-tab <your shell escaped string here>`\\n2. you can use it to open any URL you can open in the Firefox address bar,\\n    including ones that might cause side effects (firefox does not guarantee\\n    that about: pages ignore query strings).\\n\\nYou've been warned.\\n\\nThis uses the [[browser]] setting to know which binary to call. If you need to pass additional arguments to firefox (e.g. '--new-window'), make sure they appear before the url.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"exclaim\", new SymbolMetadata(\"Run command in /bin/sh (unless you're on Windows), and print the output in the command line. Non-zero exit codes and stderr are ignored, currently.\\n\\nRequires the native messenger, obviously.\\n\\nIf you're using `exclaim` with arguments coming from a pipe, consider using [[shellescape]] to properly escape arguments and to prevent unsafe commands.\\n\\nIf you want to use a different shell, just prepend your command with whatever the invocation is and keep in mind that most shells require quotes around the command to be executed, e.g. `:exclaim xonsh -c \\\"1+2\\\"`.\\n\\nAliased to `!` but the exclamation mark **must be followed with a space**.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"exclaim_quiet\", new SymbolMetadata(\"Like exclaim, but without any output to the command line.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"native\", new SymbolMetadata(\"Tells you if the native messenger is installed and its version.\\n\\nFor snap, flatpak, and other sandboxed installations, additional setup is required \u2013 see https://github.com/tridactyl/tridactyl#extra-features-through-native-messaging.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"nativeinstall\", new SymbolMetadata(\"Copies the installation command for the native messenger to the clipboard and asks the user to run it in their shell.\\n\\nThe native messenger's source code may be found here: https://github.com/tridactyl/native_messenger/blob/master/src/native_main.nim\\n\\nIf your corporate IT policy disallows execution of binaries which have not been whitelisted but allows Python scripts, you may instead use the old native messenger by running `install.sh` or `win_install.ps1` from https://github.com/tridactyl/tridactyl/tree/master/native - the main downside is that it is significantly slower.\\n\\nFor snap, flatpak, and other sandboxed installations, additional setup is required \u2013 see https://github.com/tridactyl/tridactyl#extra-features-through-native-messaging.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"mktridactylrc\", new SymbolMetadata(\"Writes current config to a file.\\n\\nNB: an RC file is not required for your settings to persist: all settings are stored in a local Firefox storage database by default as soon as you set them.\\n\\nWith no arguments supplied the excmd will try to find an appropriate\\nconfig path and write the rc file to there. Any argument given to the\\nexcmd excluding the `-f` flag will be treated as a path to write the rc\\nfile to relative to the native messenger's location (`~/.local/share/tridactyl/`). By default, it silently refuses to overwrite existing files.\\n\\nThe RC file will be split into sections that will be created if a config\\nproperty is discovered within one of them:\\n- General settings\\n- Binds\\n- Aliases\\n- Autocmds\\n- Autocontainers\\n- Logging\\n\\nNote:\\n- Subconfig paths fall back to using `js tri.config.set(key: obj)` notation.\\n- This method is also used as a fallback mechanism for objects that didn't hit\\n  any of the heuristics.\\n\\nAvailable flags:\\n- `-f` will overwrite the config file if it exists.\\n- `--clipboard` write config to clipboard - no [[native]] required\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"source\", new SymbolMetadata(\"Runs an RC file from disk or a URL\\n\\nThis function accepts a flag: `--url` to load a RC from a URL.\\n\\nIf no argument given, it will try to open ~/.tridactylrc, ~/.config/tridactyl/tridactylrc or $XDG_CONFIG_HOME/tridactyl/tridactylrc in reverse order. You may use a `_` in place of a leading `.` if you wish, e.g, if you use Windows.\\n\\nIf no url is specified with the `--url` flag, the current page's URL is used to locate the RC file. Ensure the URL you pass (or page you are on) is a \\\"raw\\\" RC file, e.g. https://raw.githubusercontent.com/tridactyl/tridactyl/master/.tridactylrc and not https://github.com/tridactyl/tridactyl/blob/master/.tridactylrc.\\n\\nTridactyl won't run on many raw pages due to a Firefox bug with Content Security Policy, so you may need to use the `source --url [URL]` form.\\n\\nOn Windows, the `~` expands to `%USERPROFILE%`.\\n\\nThe RC file is just a bunch of Tridactyl excmds (i.e, the stuff on this help page). Settings persist in local storage. There's an [example file](https://raw.githubusercontent.com/tridactyl/tridactyl/master/.tridactylrc) if you want it.\\n\\nThere is a [bug](https://github.com/tridactyl/tridactyl/issues/1409) where not all lines of the RC file are executed if you use `sanitise` at the top of it. We instead recommend you put `:bind ZZ composite sanitise tridactyllocal; qall` in your RC file and use `ZZ` to exit Firefox.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"source_quiet\", new SymbolMetadata(\"Same as [[source]] but suppresses all errors\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"updatenative\", new SymbolMetadata(\"Updates the native messenger if it is installed, using our GitHub repo. This is run every time Tridactyl is updated.\\n\\nIf you want to disable this, or point it to your own native messenger, edit the `nativeinstallcmd` setting.\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"restart\", new SymbolMetadata(\"Restarts firefox with the same commandline arguments.\\n\\nWarning: This can kill your tabs, especially if you :restart several times\\nin a row\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"saveas\", new SymbolMetadata(\"Download the current document.\\n\\nIf you have the native messenger v>=0.1.9 installed, the function accepts an optional argument, filename, which can be:\\n- An absolute path\\n- A path starting with ~, which will be expanded to your home directory\\n- A relative path, relative to the native messenger executable (e.g. ~/.local/share/tridactyl on linux).\\nIf filename is not given, a download dialogue will be opened. If filename is a directory, the file will be saved inside of it, its name being inferred from the URL. If the directories mentioned in the path do not exist or if a file already exists at this path, the file will be kept in your downloads folder and an error message will be given.\\n\\n**NB**: if a non-default save location is chosen, Firefox's download manager will say the file is missing. It is not - it is where you asked it to be saved.\\n\\nFlags:\\n- `--overwrite`: overwrite the destination file.\\n- `--cleanup`: removes the downloaded source file e.g. `$HOME/Downlods/downloaded.doc` if moving it to the desired directory fails.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tabSetActive\", new SymbolMetadata(\"\", new FunctionType([new NumberType(false, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"getJumpPageId\", new SymbolMetadata(\"This is used as an ID for the current page in the jumplist.\\nIt has a potentially confusing behavior: if you visit site A, then site B, then visit site A again, the jumplist that was created for your first visit on A will be re-used for your second visit.\\nAn ideal solution would be to have a counter that is incremented every time a new page is visited within the tab and use that as the return value for getJumpPageId but this doesn't seem to be trivial to implement.\", new FunctionType([], new StringType(false, false), false, false), true)],\n[\"saveJumps\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"saveTabHistory\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"curTabHistory\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"curJumps\", new SymbolMetadata(\"Returns a promise for an object containing the jumplist of all pages accessed in the current tab.\\nThe keys of the object currently are the page's URL, however this might change some day. Use [[getJumpPageId]] to access the jumplist of a specific page.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"jumpnext\", new SymbolMetadata(\"Calls [[jumpprev]](-n)\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"jumpprev\", new SymbolMetadata(\"Similar to Pentadactyl or vim's jump list.\\n\\nWhen you scroll on a page, either by using the mouse or Tridactyl's key bindings, your position in the page will be saved after jumpdelay milliseconds (`:get jumpdelay` to know how many milliseconds that is). If you scroll again, you'll be able to go back to your previous position by using `:jumpprev 1`. If you need to go forward in the jumplist, use `:jumpprev -1`.\\n\\nKnown bug: Tridactyl will use the same jumplist for multiple visits to a same website in the same tab, see [github issue 834](https://github.com/tridactyl/tridactyl/issues/834).\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markjump\", new SymbolMetadata(\"Jumps to a local mark, a global mark, or the location before the last mark jump.\\n[a-z] are local marks, [A-Z] are global marks and '`' is the location before the last mark jump.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"markjumplocal\", new SymbolMetadata(\"Jumps to a local mark.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markjumpglobal\", new SymbolMetadata(\"Jumps to a global mark. If the tab with the mark no longer exists or its url differs from the mark's url,\\njumps to another tab with the mark's url or creates it first if such tab does not exist.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"markjumpbefore\", new SymbolMetadata(\"Jumps to a location saved before the last mark jump as long as the tab it's located in exists and its url didn't change.\\nOverwrites the location before the last mark jump - repeating this method will jump back and forth between two locations.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"scrolltab\", new SymbolMetadata(\"Scrolls to a given position in a tab identified by tabId and prints a message in it.\", new FunctionType([new NumberType(false, false),new NumberType(false, false),new NumberType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markadd\", new SymbolMetadata(\"Adds a global or a local mark. In case of a local mark, it will be assigned to the current page url.\\nIf a mark is already assigned, it is overwritten.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markaddlocal\", new SymbolMetadata(\"Assigns a local mark to the current url and the given key. If a mark is already assigned, it is overwritten.\\nTwo urls are considered the same if they're identical ignoring anchors.\\nLocal marks are not persisted between browser restarts.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markaddglobal\", new SymbolMetadata(\"Assigns a global mark to the given key. If a mark is already assigned, it is overwritten.\\nGlobal marks are persisted between browser restarts.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"addJump\", new SymbolMetadata(\"Called on 'scroll' events.\\nIf you want to have a function that moves within the page but doesn't add a\\nlocation to the jumplist, make sure to set JUMPED to true before moving\\naround.\\nThe setTimeout call is required because sometimes a user wants to move\\nsomewhere by pressing 'j' multiple times and we don't want to add the\\nin-between locations to the jump list\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"addTabHistory\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"unfocus\", new SymbolMetadata(\"Blur (unfocus) the active element and enter normal mode\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"scrollpx\", new SymbolMetadata(\"Scrolls the window or any scrollable child element by a pixels on the horizontal axis and b pixels on the vertical axis.\", new FunctionType([new NumberType(false, false),new NumberType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"scrollto\", new SymbolMetadata(\"If two numbers are given, treat as x and y values to give to window.scrollTo\\nIf one number is given, scroll to that percentage along a chosen axis, defaulting to the y-axis. If the number has 'c' appended to it, it will be interpreted in radians.\\n\\nNote that if `a` is 0 or 100 and if the document is not scrollable in the given direction, Tridactyl will attempt to scroll the first scrollable element until it reaches the very bottom of that element.\\n\\nExamples:\\n\\n- `scrollto 50` -> scroll halfway down the page.\\n- `scrollto 3.14c` -> scroll approximately 49.97465213% of the way down the page.\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, false),new UnionType([new NumberType(false, false),\nnew LiteralTypeType(\"x\", false, false),\nnew LiteralTypeType(\"y\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"scrollline\", new SymbolMetadata(\"Scrolls the document of its first scrollable child element by n lines.\\n\\nThe height of a line is defined by the site's CSS. If Tridactyl can't get it, it'll default to 22 pixels.\", new FunctionType([new NumberType(false, true),new NumberType(false, true)], new AnyType(true, false), false, false), false)],\n[\"scrollpage\", new SymbolMetadata(\"Scrolls the document by n pages.\\nThe height of a page is the current height of the window.\", new FunctionType([new NumberType(false, true),new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"find\", new SymbolMetadata(\"Rudimentary find mode, left unbound by default as we don't currently support `incsearch`. Suggested binds:\\n\\n     bind / fillcmdline find\\n     bind ? fillcmdline find --reverse\\n     bind n findnext --search-from-view\\n     bind N findnext --search-from-view --reverse\\n     bind gn findselect\\n     bind gN composite findnext --search-from-view --reverse; findselect\\n     bind ,<Space> nohlsearch\\n\\nArgument: A string you want to search for.\\n\\nThis function accepts two flags: `-?` or `--reverse` to search from the bottom rather than the top and `-: n` or `--jump-to n` to jump directly to the nth match.\\n\\nThe behavior of this function is affected by the following setting:\\n\\n`findcase`: either \\\"smart\\\", \\\"sensitive\\\" or \\\"insensitive\\\". If \\\"smart\\\", find will be case-sensitive if the pattern contains uppercase letters.\\n\\nKnown bugs: find will currently happily jump to a non-visible element, and pressing n or N without having searched for anything will cause an error.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"findnext\", new SymbolMetadata(\"Jump to the next nth searched pattern.\\n\\nAvailable flags:\\n- `-f` or `--search-from-view` to search from the current view instead of the previous match\\n- `-?` or `--reverse` to reverse the sign of the number\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"clearsearchhighlight\", new SymbolMetadata(\"\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"findselect\", new SymbolMetadata(\"Highlight the current find-mode match result and enter the visual mode.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"history\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false),new NumberType(false, false)], new VoidType(false, false), false, false), true)],\n[\"forward\", new SymbolMetadata(\"Navigate forward one page in history.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"back\", new SymbolMetadata(\"Navigate back one page in history.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"reload\", new SymbolMetadata(\"Reload the next n tabs, starting with activeTab, possibly bypassingCache\", new FunctionType([new NumberType(false, true),new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"reloadall\", new SymbolMetadata(\"Reloads all tabs, bypassing the cache if hard is set to true\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"reloadallbut\", new SymbolMetadata(\"Reloads all tabs except the current one, bypassing the cache if hard is set to true\\nYou probably want to use [[reloaddead]] instead if you just want to be able to ensure Tridactyl is loaded in all tabs where it can be\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"reloaddead\", new SymbolMetadata(\"Reloads all tabs which Tridactyl isn't loaded in\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new TupleType([new AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false)], false, false)], false, false), false, false), false)],\n[\"reloadhard\", new SymbolMetadata(\"Reload the next n tabs, starting with activeTab. bypass cache for all\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"open\", new SymbolMetadata(\"Open a new page in the current tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"bmarks\", new SymbolMetadata(\"Works exactly like [[open]], but only suggests bookmarks.\\n\\nIf you want to use optional flags, you should run `:set completions.Bmark.autoselect false` to prevent the spacebar from inserting the URL of the top bookmark.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"open_quiet\", new SymbolMetadata(\"Like [[open]] but doesn't make a new entry in history.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"url2args\", new SymbolMetadata(\"If the url of the current document matches one of your search engines, will convert it to a list of arguments that open/tabopen will understand. If the url doesn't match any search engine, returns the url without modifications.\\n\\nFor example, if you have searchurls.gi set to \\\"https://www.google.com/search?q=%s&tbm=isch\\\", using this function on a page you opened using \\\"gi butterflies\\\" will return \\\"gi butterflies\\\".\\n\\nThis is useful when combined with fillcmdline, for example like this: `bind O composite url2args | fillcmdline open`.\\n\\nNote that this might break with search engines that redirect you to other pages/add GET parameters that do not exist in your searchurl.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"removeSource\", new SymbolMetadata(\"\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"viewsource\", new SymbolMetadata(\"Display the (HTML) source of the current page.\\n\\nBehaviour can be changed by the 'viewsource' setting.\\n\\nIf the 'viewsource' setting is set to 'default' rather than 'tridactyl',\\nthe url the source of which should be displayed can be given as argument.\\nOtherwise, the source of the current document will be displayed.\", new FunctionType([new StringType(false, true)], new VoidType(false, false), false, false), false)],\n[\"home\", new SymbolMetadata(\"Go to the homepages you have set with `set homepages [\\\"url1\\\", \\\"url2\\\"]`.\", new FunctionType([new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"help\", new SymbolMetadata(\"Show this page.\\n\\n`:help something` jumps to the entry for something. Something can be an excmd, an alias for an excmd, a binding or a setting.\\n\\nOn the ex command page, the \\\"nmaps\\\" list is a list of all the bindings for the command you're seeing and the \\\"exaliases\\\" list lists all its aliases.\\n\\nIf there's a conflict (e.g. you have a \\\"go\\\" binding that does something, a \\\"go\\\" excmd that does something else and a \\\"go\\\" setting that does a third thing), the binding is chosen first, then the setting, then the excmd. In such situations, if you want to let Tridactyl know you're looking for something specfic, you can specify the following flags as first arguments:\\n\\n`-a`: look for an alias\\n`-b`: look for a binding\\n`-e`: look for an ex command\\n`-s`: look for a setting\\n\\nIf the keyword you gave to `:help` is actually an alias for a composite command (see [[composite]]) , you will be taken to the help section for the first command of the pipeline. You will be able to see the whole pipeline by hovering your mouse over the alias in the \\\"exaliases\\\" list. Unfortunately there currently is no way to display these HTML tooltips from the keyboard.\\n\\ne.g. `:help bind`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"apropos\", new SymbolMetadata(\"Search through the help pages. Accepts the same flags as [[help]]. Only useful in interactive usage with completions; the command itself is just a wrapper for [[help]].\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tutor\", new SymbolMetadata(\"Start the tutorial\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"credits\", new SymbolMetadata(\"Display Tridactyl's contributors in order of commits in a user-friendly fashion\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"no_mouse_mode\", new SymbolMetadata(\"Hides the cursor and covers the current page in an overlay to prevent clicking on links with the mouse to force yourself to use hint mode.\\n\\nTo bring back mouse control, use [[mouse_mode]] or refresh the page.\\n\\nSuggested usage: `autocmd DocLoad .* no_mouse_mode`\\n\\n\\\"There is no mouse\\\".\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"neo_mouse_mode\", new SymbolMetadata(\"Matrix variant of [[no_mouse_mode]]\\n\\n\\\"There is no mouse\\\".\\n\\nCoincidentally added to Tridactyl at the same time as we reached 1337 stars on GitHub.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"snow_mouse_mode\", new SymbolMetadata(\"Christmas variant of [[no_mouse_mode]] (if you live in $DEFAULT hemisphere).\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"pied_piper_mouse_mode\", new SymbolMetadata(\"Music variant of [[no_mouse_mode]].\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"drawingstart\", new SymbolMetadata(\"Drawable variant of [[no_mouse_mode]]\\nIn this mode, you can use the mouse or a digital stylus to draw. To switch to an eraser, use [[drawingerasertoggle]]\\nUse [[mouse_mode]] to return, or refresh page.\\nSuggested usage: `autocmd DocLoad .* drawingstart\\n\\n**Warning**: Windows Ink enabled input devices don't work, disable it for your browser, or use a mouse.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"drawingerasertoggle\", new SymbolMetadata(\"Switch between pen and eraser for [[drawingstart]]\\nSuggested usage: `bind e drawingerasertoggle`. If you have a digital pen, map the button to `e` to switch easily.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"mouse_mode\", new SymbolMetadata(\"Revert any variant of the [[no_mouse_mode]]\\n\\nSuggested usage: `bind <C-\\\\> mouse_mode` with the autocmd mentioned in [[no_mouse_mode]] or [[drawingstart]].\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"findRelLink\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"RegExp\", [], false, false)], new TypeReferenceType(\"HTMLAnchorElement\", [], false, false), false, false), true)],\n[\"selectLast\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"HTMLElement\", [], false, false), false, false), true)],\n[\"followpage\", new SymbolMetadata(\"Find a likely next/previous link and follow it\\n\\nIf a link or anchor element with rel=rel exists, use that, otherwise fall back to:\\n\\n    1) find the last anchor on the page with innerText matching the appropriate `followpagepattern`.\\n    2) call [[urlincrement]] with 1 or -1\\n\\nIf you want to support e.g. French:\\n\\n```\\nset followpagepatterns.next ^(next|newer|prochain)\\\\b|\u00BB|>>\\nset followpagepatterns.prev ^(prev(ious)?|older|pr\u00E9c\u00E9dent)\\\\b|\u00AB|<<\\n```\", new FunctionType([new UnionType([new LiteralTypeType(\"next\", false, false),\nnew LiteralTypeType(\"prev\", false, false)], false, true)], new VoidType(false, false), false, false), false)],\n[\"urlincrement\", new SymbolMetadata(\"Increment the current tab URL\", new FunctionType([new NumberType(false, true),new NumberType(false, true)], new VoidType(false, false), false, false), false)],\n[\"urlroot\", new SymbolMetadata(\"Go to the root domain of the current URL\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"urlparent\", new SymbolMetadata(\"Go to the parent URL of the current tab's URL\", new FunctionType([new NumberType(false, true)], new VoidType(false, false), false, false), false)],\n[\"urlmodify\", new SymbolMetadata(\"Open a URL made by modifying the current URL\\n\\nThere are several modes:\\n\\n* Text replace mode:   `urlmodify -t <old> <new>`\\n\\n   Replaces the first instance of the text `old` with `new`.\\n      * `http://example.com` -> (`-t exa peta`) -> `http://petample.com`\\n\\n* Regex replacment mode: `urlmodify -r <regexp> <new> [flags]`\\n\\n   Replaces the first match of the `regexp` with `new`. You can use\\n   flags `i` and `g` to match case-insensitively and to match\\n   all instances respectively\\n      * `http://example.com` -> (`-r [ea] X g`) -> `http://XxXmplX.com`\\n\\n* Query set mode: `urlmodify -s <query> <value>`\\n\\n   Sets the value of a query to be a specific one. If the query already\\n   exists, it will be replaced.\\n      * `http://e.com?id=abc` -> (`-s foo bar`) -> `http://e.com?id=abc&foo=bar\\n\\n* Query replace mode: `urlmodify -q <query> <new_val>`\\n\\n   Replace the value of a query with a new one:\\n      * `http://e.com?id=foo` -> (`-q id bar`) -> `http://e.com?id=bar\\n\\n* Query delete mode: `urlmodify -Q <query>`\\n\\n   Deletes the given query (and the value if any):\\n      * `http://e.com?id=foo&page=1` -> (`-Q id`) -> `http://e.com?page=1`\\n\\n* Graft mode: `urlmodify -g <graft_point> <new_path_tail>`\\n\\n   \\\"Grafts\\\" a new tail on the URL path, possibly removing some of the old\\n   tail. Graft point indicates where the old URL is truncated before adding\\n   the new path.\\n\\n   * `graft_point` >= 0 counts path levels, starting from the left\\n   (beginning). 0 will append from the \\\"root\\\", and no existing path will\\n   remain, 1 will keep one path level, and so on.\\n   * `graft_point` < 0 counts from the right (i.e. the end of the current\\n   path). -1 will append to the existing path, -2 will remove the last path\\n   level, and so on.\\n\\n   ```plaintext\\n   http://website.com/this/is/the/path/component\\n   Graft point:       ^    ^  ^   ^    ^        ^\\n   From left:         0    1  2   3    4        5\\n   From right:       -6   -5 -4  -3   -2       -1\\n   ```\\n\\n   Examples:\\n\\n   * `http://e.com/issues/42` -> (`-g 0 foo`) -> `http://e.com/foo`\\n   * `http://e.com/issues/42` -> (`-g 1 foo`) -> `http://e.com/issues/foo`\\n   * `http://e.com/issues/42` -> (`-g -1 foo`) -> `http://e.com/issues/42/foo`\\n   * `http://e.com/issues/42` -> (`-g -2 foo`) -> `http://e.com/issues/foo`\\n\\n\\n* URL Input: `urlmodify -*u <arguments> <URL>`\\n\\n   Each mode can be augmented to accept a URL as the last argument instead of\\n   the current url.\\n\\n   Examples:\\n\\n   * `urlmodify -tu <old> <new> <URL>`\\n   * `urlmodify -su <query> <value> <URL>`\\n   * `urlmodify -gu <graft_point> <new_path_tail> <URL>`\", new FunctionType([new UnionType([new LiteralTypeType(\"-t\", false, false),\nnew LiteralTypeType(\"-r\", false, false),\nnew LiteralTypeType(\"-s\", false, false),\nnew LiteralTypeType(\"-q\", false, false),\nnew LiteralTypeType(\"-Q\", false, false),\nnew LiteralTypeType(\"-g\", false, false),\nnew LiteralTypeType(\"-tu\", false, false),\nnew LiteralTypeType(\"-ru\", false, false),\nnew LiteralTypeType(\"-su\", false, false),\nnew LiteralTypeType(\"-qu\", false, false),\nnew LiteralTypeType(\"-Qu\", false, false),\nnew LiteralTypeType(\"-gu\", false, false)], false, false),new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"urlmodify_js\", new SymbolMetadata(\"Like [[urlmodify]] but returns the modified URL for use with [[js]] and [[composite]]\\n\\nE.g.\\n\\n`:composite urlmodify_js -t www. old. | tabopen `\", new FunctionType([new UnionType([new LiteralTypeType(\"-t\", false, false),\nnew LiteralTypeType(\"-r\", false, false),\nnew LiteralTypeType(\"-s\", false, false),\nnew LiteralTypeType(\"-q\", false, false),\nnew LiteralTypeType(\"-Q\", false, false),\nnew LiteralTypeType(\"-g\", false, false),\nnew LiteralTypeType(\"-tu\", false, false),\nnew LiteralTypeType(\"-ru\", false, false),\nnew LiteralTypeType(\"-su\", false, false),\nnew LiteralTypeType(\"-qu\", false, false),\nnew LiteralTypeType(\"-Qu\", false, false),\nnew LiteralTypeType(\"-gu\", false, false)], false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"geturlsforlinks\", new SymbolMetadata(\"Returns the url of links that have a matching rel.\\n\\nDon't bind to this: it's an internal function.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"zoom\", new SymbolMetadata(\"Sets the current page's zoom level anywhere between 30% and 300%.\\n\\nIf you overshoot the level while using relative adjustments i.e. level > 300% or level < 30% the zoom level will be set to it's maximum or minimum position. Relative adjustments are made * in percentage points, i.e. `:zoom +10 true` increases the zoom level from 50% to 60% or from * 200% to 210%.\", new FunctionType([new NumberType(false, true),new StringType(false, true),new StringType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"readerold\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"loadaucmds\", new SymbolMetadata(\"\", new FunctionType([new UnionType([new LiteralTypeType(\"UriChange\", false, false),\nnew LiteralTypeType(\"DocStart\", false, false),\nnew LiteralTypeType(\"DocLoad\", false, false),\nnew LiteralTypeType(\"DocEnd\", false, false),\nnew LiteralTypeType(\"TabEnter\", false, false),\nnew LiteralTypeType(\"TabLeft\", false, false),\nnew LiteralTypeType(\"FullscreenEnter\", false, false),\nnew LiteralTypeType(\"FullscreenLeft\", false, false),\nnew LiteralTypeType(\"FullscreenChange\", false, false),\nnew LiteralTypeType(\"HistoryState\", false, false)], false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"focusinput\", new SymbolMetadata(\"Focus the last used input on the page\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, false)], new VoidType(false, false), false, false), false)],\n[\"changelistjump\", new SymbolMetadata(\"Focus the tab which contains the last focussed input element. If you're lucky, it will focus the right input, too.\\n\\nCurrently just goes to the last focussed input; being able to jump forwards and backwards is planned.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"focusbyid\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"tabIndexSetActive\", new SymbolMetadata(\"\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"tabnext\", new SymbolMetadata(\"Switch to the next tab, wrapping round.\\n\\nIf increment is specified, move that many tabs forwards.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabnext_gt\", new SymbolMetadata(\"Switch to the next tab, wrapping round.\\n\\nIf an index is specified, go to the tab with that number (this mimics the\\nbehaviour of `{count}gt` in vim, except that this command will accept a\\ncount that is out of bounds (and will mod it so that it is within bounds as\\nper [[tabmove]], etc)).\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tabprev\", new SymbolMetadata(\"Switch to the previous tab, wrapping round.\\n\\nIf increment is specified, move that many tabs backwards.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabpush\", new SymbolMetadata(\"Pushes the current tab to another window. Only works for windows of the same type\\n(can't push a non-private tab to a private window or a private tab to\\na non-private window).\\nIf *windowId* is not specified, pushes to the next newest window,\\nwrapping around.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new UnionType([new TypeReferenceType(\"Tab\", [], false, false),\nnew ArrayType(new TypeReferenceType(\"Tab\", [], false, false), false, false)], false, false)], false, false), false, false), false)],\n[\"tabaudio\", new SymbolMetadata(\"Switch to the tab currently playing audio, if any.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"winmerge\", new SymbolMetadata(\"Moves all of the targetted window's tabs to the current window. Only works for windows of the same type\\n(can't merge a non-private tab with a private window).\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"parseWinTabIndex\", new SymbolMetadata(\"Given a string of the format windowIndex.tabIndex, returns a tuple of\\nnumbers corresponding to the window index and tab index or the current\\nwindow and tab if the string doesn't have the right format.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new NumberType(false, false), false, false)], false, false), false, false), false)],\n[\"tabgrab\", new SymbolMetadata(\"Moves a tab identified by a windowIndex.tabIndex id to the current window.\\nOnly works for windows of the same type (can't grab a non-private tab from a\\nprivate window and can't grab a private tab from a non-private window).\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new UnionType([new TypeReferenceType(\"Tab\", [], false, false),\nnew ArrayType(new TypeReferenceType(\"Tab\", [], false, false), false, false)], false, false)], false, false), false, false), false)],\n[\"tabopen\", new SymbolMetadata(\"Like [[open]], but in a new tab. If no address is given, it will open the newtab page, which can be set with `set newtab [url]`\\n\\nUse the `-c` flag followed by a container name to open a tab in said container. Tridactyl will try to fuzzy match a name if an exact match is not found (opening the tab in no container can be enforced with \\\"firefox-default\\\" or \\\"none\\\"). If any autocontainer directives are configured and -c is not set, Tridactyl will try to use the right container automatically using your configurations.\\n\\nUse the `-b` flag to open the tab in the background.\\n\\nUse the `-w` flag to wait for the web page to load before \\\"returning\\\". This only makes sense for use with [[composite]], which waits for each command to return before moving on to the next one, e.g. `composite tabopen -b -w news.bbc.co.uk ; tabnext`.\\n\\nThe special flag \\\"--focus-address-bar\\\" should focus the Firefox address bar after opening if no URL is provided.\\n\\nThese three can be combined in any order, but need to be placed as the first arguments.\\n\\nUnlike Firefox's Ctrl-t shortcut, this opens tabs immediately after the\\ncurrently active tab rather than at the end of the tab list because that is\\nthe authors' preference.\\n\\nIf you would rather the Firefox behaviour `set tabopenpos last`. This\\npreference also affects the clipboard, quickmarks, home, help, etc.\\n\\nIf you would rather the URL be opened as if you'd middle clicked it, `set\\ntabopenpos related`.\\n\\nHinting is controlled by `relatedopenpos`\\n\\nAlso see the [[searchengine]] and [[searchurls]] settings.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabopenwait\", new SymbolMetadata(\"Like [[tabopen]] but waits for the DOM to load before resolving its promise. Useful if you're hoping to execute ex-commands in that tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabopen_helper\", new SymbolMetadata(\"\", new FunctionType([new ObjectType(new Map<string, Type>([]), false, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"tabqueue\", new SymbolMetadata(\"Passes its first argument to `tabopen -b`. Once the tab opened by `tabopen\\n-b` is activated/selected/focused, opens its second argument with `tabopen\\n-b`. Once the second tab is activated/selected/focused, opens its third\\nargument with `tabopen -b` and so on and so forth until all arguments have\\nbeen opened in a new tab or until a tab is closed without being\\nactivated/selected/focused.\\n\\nExample usage:\\n   `tabqueue http://example.org http://example.com http://example.net`\\n   `composite hint -qpipe a href | tabqueue`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"idFromIndex\", new SymbolMetadata(\"Resolve a tab index to the tab id of the corresponding tab in this window.\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, true)], new TypeReferenceType(\"Promise\", [new NumberType(false, false)], false, false), false, false), true)],\n[\"tabFromIndex\", new SymbolMetadata(\"Like [[idFromIndex]] but returns the whole tab object\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"tabonly\", new SymbolMetadata(\"Close all other tabs in this window\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"tabduplicate\", new SymbolMetadata(\"Duplicate a tab.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabdetach\", new SymbolMetadata(\"Detach a tab, opening it in a new window.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Window\", [], false, false)], false, false), false, false), false)],\n[\"fullscreen\", new SymbolMetadata(\"Toggle fullscreen state\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Window\", [], false, false)], false, false), false, false), false)],\n[\"tabclose\", new SymbolMetadata(\"Close a tab.\\n\\nKnown bug: autocompletion will make it impossible to close more than one tab at once if the list of numbers looks enough like an open tab's title or URL.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"tabcloseallto\", new SymbolMetadata(\"Close all tabs to the side specified\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"undo\", new SymbolMetadata(\"Restore the most recently closed item.\\nThe default behaviour is to restore the most recently closed tab in the\\ncurrent window unless the most recently closed item is a window.\\n\\nSupplying either \\\"tab\\\" or \\\"window\\\" as an argument will specifically only\\nrestore an item of the specified type. Supplying \\\"tab_strict\\\" only restores\\ntabs that were open in the current window.\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new NumberType(false, false)], false, false), false, false), false)],\n[\"tabmove\", new SymbolMetadata(\"Move the current tab to be just in front of the index specified.\\n\\nKnown bug: This supports relative movement with `tabmove +pos` and `tabmove -pos`, but autocomplete doesn't know that yet and will override positive and negative indexes.\\n\\nPut a space in front of tabmove if you want to disable completion and have the relative indexes at the command line.\\n\\nBinds are unaffected.\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new UnionType([new TypeReferenceType(\"Tab\", [], false, false),\nnew ArrayType(new TypeReferenceType(\"Tab\", [], false, false), false, false)], false, false)], false, false), false, false), false)],\n[\"tabsort\", new SymbolMetadata(\"Move tabs in current window according to various criteria:\\n\\n- `--containers` groups tabs by containers\\n- `--title` sorts tabs by title\\n- `--url` sorts tabs by url (the default)\\n- `(tab1, tab2) => true|false`\\n      - sort by arbitrary comparison function. `tab{1,2}` are objects with properties described here: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"pin\", new SymbolMetadata(\"Pin the current tab\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"mute\", new SymbolMetadata(\"Mute current tab or all tabs.\\n\\nPassing \\\"all\\\" to the excmd will operate on  the mute state of all tabs.\\nPassing \\\"unmute\\\" to the excmd will unmute.\\nPassing \\\"toggle\\\" to the excmd will toggle the state of `browser.tabs.tab.MutedInfo`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"winopen\", new SymbolMetadata(\"Like [[tabopen]], but in a new window.\\n\\n`winopen -private [...]` will open the result in a private window (and won't store the command in your ex-history ;) ).\\n\\n`winopen -popup [...]` will open it in a popup window. You can combine the two for a private popup.\\n\\n`winopen -c containername [...]` will open the result in a container while ignoring other options given. See [[tabopen]] for more details on containers.\\n\\nExample: `winopen -popup -private ddg.gg`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"winclose\", new SymbolMetadata(\"Close a window.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"wintitle\", new SymbolMetadata(\"Add/change a prefix to the current window title\\n\\nExample: `wintitle [Hovercraft research]`\\n\\nProtip: unicode emojis work :)\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Window\", [], false, false)], false, false), false, false), false)],\n[\"qall\", new SymbolMetadata(\"Close all windows\", new FunctionType([], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"sidebaropen\", new SymbolMetadata(\"EXPERIMENTAL: like [[open]] but loads queries in the sidebar. Doesn't actually open the sidebar - see [[sidebartoggle]].\\n\\nNot all schemas are supported, such as `about:*` and Firefox's built-in search engines. Tridactyl's searchurls and jsurls work fine - `:set searchengine google` will be sufficient for most users.\\n\\nIf you try to open the command line in the sidebar things will break.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"jsua\", new SymbolMetadata(\"Like [[jsb]] but preserves \\\"user action\\\" intent for use with certain web extension APIs. Can only be called with browser mode binds, e.g.\\n\\n`:bind --mode=browser <C-.> jsua browser.sidebarAction.open(); tri.excmds.sidebaropen(\\\"https://mail.google.com/mail/mu\\\")`\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"sidebartoggle\", new SymbolMetadata(\"Toggle the side bar. Can only be called through browser mode binds, e.g.\\n\\n`:bind --mode=browser <C-.> sidebartoggle`\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containerclose\", new SymbolMetadata(\"Closes all tabs open in the same container across all windows.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containercreate\", new SymbolMetadata(\"Creates a new container. Note that container names must be unique and that the checks are case-insensitive.\\n\\nFurther reading https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/contextualIdentities/ContextualIdentity\\n\\nExample usage:\\n    - `:containercreate tridactyl green dollar`\", new FunctionType([new StringType(false, false),new StringType(false, true),new StringType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containerdelete\", new SymbolMetadata(\"Delete a container. Closes all tabs associated with that container beforehand. Note: container names are case-insensitive.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containerupdate\", new SymbolMetadata(\"Update a container's information. Note that none of the parameters are optional and that container names are case-insensitive.\\n\\nExample usage:\\n\\n- Changing the container name: `:containerupdate banking blockchain green dollar`\\n\\n- Changing the container icon: `:containerupdate banking banking green briefcase`\\n\\n- Changing the container color: `:containerupdate banking banking purple dollar`\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"viewcontainers\", new SymbolMetadata(\"Shows a list of the current containers in Firefox's native JSON viewer in the current tab.\\n\\nNB: Tridactyl cannot run on this page!\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"recontain\", new SymbolMetadata(\"Opens the current tab in another container.\\n\\nThis is probably not a good idea if you care about tracking protection!\\nTransfering URLs from one container to another allows websites to track\\nyou across those containers.\\n\\nRead more here:\\nhttps://github.com/mozilla/multi-account-containers/wiki/Moving-between-containers\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"setContentStateGroup\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"tgroupcreate\", new SymbolMetadata(\"Create a new tab group in the current window. NB: use [[tgroupswitch]] instead\\nin most cases, since it will create non-existent tab groups before switching\\nto them.\\n\\nTab groups are a way of organizing different groups of related tabs within a\\nsingle window. Groups allow you to have different named contexts and show\\nonly the tabs for a single group at a time.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupswitch\", new SymbolMetadata(\"Switch to a different tab group, hiding all other tabs.\\n\\n\\\"%\\\" denotes the current tab group and \\\"#\\\" denotes the tab group that was\\nlast active. \\\"A\\\" indates a tab group that contains an audible tab. Use\\n`:set completions.Tab.statusstylepretty true` to display a unicode character\\ninstead.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgrouplast\", new SymbolMetadata(\"Switch to the previously active tab group.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgrouprename\", new SymbolMetadata(\"Rename the current tab group.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupclose\", new SymbolMetadata(\"Close all tabs in a tab group and delete the group.\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupmove\", new SymbolMetadata(\"Move the current tab to another tab group, creating it if it does not exist.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupabort\", new SymbolMetadata(\"Delete all tab group information for the current window and show all tabs.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"version\", new SymbolMetadata(\"\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"mode\", new SymbolMetadata(\"Switch mode.\\n\\nFor now you probably shouldn't manually switch to other modes than `normal` and `ignore`. Make sure you're aware of the key bindings (ignoremaps) that will allow you to go come back to normal mode from ignore mode before you run `:mode ignore` otherwise you're going to have a hard time re-enabling Tridactyl.\\n\\nExample:\\n     - `mode ignore` to ignore almost all keys.\\n\\nIf you're looking for a way to temporarily disable Tridactyl, `mode ignore` might be what you're looking for.\\n\\nNote that when in ignore mode, Tridactyl will not switch to insert mode when focusing text areas/inputs. This is by design.\\n\\n**New feature:** you can add modes as simply as adding binds with `bind --mode=[newmodename]` and then enter the mode with `mode [newmodename]`.\", new FunctionType([new AnyType(true, false)], new VoidType(false, false), false, false), false)],\n[\"getnexttabs\", new SymbolMetadata(\"\", new FunctionType([new NumberType(false, false),new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new NumberType(false, false), false, false)], false, false), false, false), true)],\n[\"repeat\", new SymbolMetadata(\"Repeats a `cmd` `n` times.\\nIf `cmd` doesn't exist, re-executes the last exstr that was executed in the tab.\\nExecutes the command once if `n` isn't defined either.\\n\\nThis re-executes the last *exstr*, not the last *excmd*. Some excmds operate internally by constructing and evaluating exstrs, others by directly invoking excmds without going through the exstr parser. For example, aucmds and keybindings evaluate exstrs and are repeatable, while commands like `:bmarks` directly invoke `:tabopen` and you'll repeat the `:bmarks` rather than the internal `:tabopen`.\\n\\nIt's difficult to execute this in the background script (`:jsb`, `:run_excmd`, `:autocmd TriStart`, `:source`), but if you you do, it will re-execute the last exstr that was executed in the background script. What this may have been is unpredictable and not precisely encouraged.\", new FunctionType([new NumberType(false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"composite\", new SymbolMetadata(\"Split `cmds` on pipes (|) and treat each as its own command. Return values are passed as the last argument of the next ex command, e.g,\\n\\n`composite echo yes | fillcmdline` becomes `fillcmdline yes`. A more complicated example is the ex alias, `command current_url composite get_current_url | fillcmdline_notrail `, which is used in, e.g. `bind T current_url tabopen`.\\n\\nWorkaround: this should clearly be in the parser, but we haven't come up with a good way to deal with |s in URLs, search terms, etc. yet.\\n\\n`cmds` are also split with semicolons (;) and don't pass things along to each other.\\n\\nIf you wish to have a command that has semi-colons in it (e.g. some JavaScript or `hint -;`), first bind a [[command]] to it. For example, `command hint_focus -;`, and then `composite hint_focus; !s xdotool key Menu`.\\n\\nThe behaviour of combining ; and | in the same composite command is left as an exercise for the reader.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"shellescape\", new SymbolMetadata(\"Escape command for safe use in shell with composite. E.g: `composite js MALICIOUS_WEBSITE_FUNCTION() | shellescape | exclaim ls`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"escapehatch\", new SymbolMetadata(\"Magic escape hatch: if Tridactyl can't run in the current tab, return to a tab in the current window where Tridactyl can run, making such a tab if it doesn't currently exist. If Tridactyl can run in the current tab, return focus to the document body from e.g. the URL bar or a video player.\\n\\nOnly useful if called from a background context, e.g. at the end of an RC file to ensure that when you start the browser you don't get trapped on an about: page, or via `bind --mode=browser escapehatch` (bound to `<C-,>` by default).\\n\\nNB: when called via `bind --mode=browser`, we return focus from the address bar by opening and closing the \\\"sidebar\\\" (which is used exclusively for this purpose). If escapehatch is called in any other way, we cannot do this as Mozilla thinks it might [spook](https://extensionworkshop.com/documentation/publish/add-on-policies/#no-surprises) [you](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/User_actions) : ).\\n\\nThis sidebar hack will close other sidebars such a TreestyleTabs. You can disable it with `:set escapehatchsidebarhack false`, but Tridactyl will no longer be able to get focus back from certain places such as the address bar.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"sleep\", new SymbolMetadata(\"Sleep time_ms milliseconds.\\nThis is probably only useful for composite commands that need to wait until the previous asynchronous command has finished running.\", new FunctionType([new NumberType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"showcmdline\", new SymbolMetadata(\"\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"hidecmdline\", new SymbolMetadata(\"\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"fillcmdline\", new SymbolMetadata(\"Set the current value of the commandline to string *with* a trailing space\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"fillcmdline_notrail\", new SymbolMetadata(\"Set the current value of the commandline to string *without* a trailing space\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"fillcmdline_nofocus\", new SymbolMetadata(\"Show and fill the command line without focusing it\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"fillcmdline_tmp\", new SymbolMetadata(\"Shows str in the command line for ms milliseconds. Recommended duration: 3000ms.\", new FunctionType([new NumberType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"yank\", new SymbolMetadata(\"Copy `content` to clipboard without feedback. Use `clipboard yank` for interactive use.\\n\\ne.g. `yank bob` puts \\\"bob\\\" in the clipboard; `composite js document.title | yank` puts the document title in the clipboard.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new AnyType(true, false), false, false)], false, false), false, false), false)],\n[\"setclip\", new SymbolMetadata(\"Copies a string to the clipboard/selection buffer depending on the user's preferences.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new AnyType(true, false), false, false)], false, false), false, false), true)],\n[\"setclip_webapi\", new SymbolMetadata(\"Copies a string to the clipboard using the Clipboard API.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"getclip\", new SymbolMetadata(\"Fetches the content of the clipboard/selection buffer depending on user's preferences\\n\\nExposed for use with [[composite]], e.g. `composite getclip | fillcmdline`\", new FunctionType([new UnionType([new LiteralTypeType(\"clipboard\", false, false),\nnew LiteralTypeType(\"selection\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"getclip_webapi\", new SymbolMetadata(\"Gets the clipboard content using the Clipboard API.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), true)],\n[\"clipboard\", new SymbolMetadata(\"Use the system clipboard.\\n\\nIf `excmd === \\\"open\\\"`, call [[open]] with the contents of the clipboard. Similarly for [[tabopen]].\\n\\nIf `excmd === \\\"yank\\\"`, copy the current URL, or if given, the value of toYank, into the system clipboard.\\n\\nIf `excmd === \\\"yankcanon\\\"`, copy the canonical URL of the current page if it exists, otherwise copy the current URL.\\n\\nIf `excmd === \\\"yankshort\\\"`, copy the shortlink version of the current URL, and fall back to the canonical then actual URL. Known to work on https://yankshort.neocities.org/.\\n\\nIf `excmd === \\\"yanktitle\\\"`, copy the title of the open page.\\n\\nIf `excmd === \\\"yankmd\\\"`, copy the title and url of the open page formatted in Markdown for easy use on sites such as reddit. `yankorg` is similar but for Emacs orgmode.\\n\\nIf you're on Linux and the native messenger is installed, Tridactyl will call an external binary (either xclip or xsel) to read or write to your X selection buffer. If you want another program to be used, set \\\"externalclipboardcmd\\\" to its name and make sure it has the same interface as xsel/xclip (\\\"-i\\\"/\\\"-o\\\" and reading from stdin).\\n\\nWhen doing a read operation (i.e. open or tabopen), if \\\"putfrom\\\" is set to \\\"selection\\\", the X selection buffer will be read instead of the clipboard. Set \\\"putfrom\\\" to \\\"clipboard\\\" to use the clipboard.\\n\\nWhen doing a write operation, if \\\"yankto\\\" is set to \\\"selection\\\", only the X selection buffer will be written to. If \\\"yankto\\\" is set to \\\"both\\\", both the X selection and the clipboard will be written to. If \\\"yankto\\\" is set to \\\"clipboard\\\", only the clipboard will be written to.\", new FunctionType([new UnionType([new LiteralTypeType(\"open\", false, false),\nnew LiteralTypeType(\"yank\", false, false),\nnew LiteralTypeType(\"yankshort\", false, false),\nnew LiteralTypeType(\"yankcanon\", false, false),\nnew LiteralTypeType(\"yanktitle\", false, false),\nnew LiteralTypeType(\"yankmd\", false, false),\nnew LiteralTypeType(\"yankorg\", false, false),\nnew LiteralTypeType(\"xselpaste\", false, false),\nnew LiteralTypeType(\"tabopen\", false, false)], false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"yankimage\", new SymbolMetadata(\"Copy an image to the clipboard.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"tab\", new SymbolMetadata(\"Change active tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"taball\", new SymbolMetadata(\"Wrapper for [[tab]] with multi-window completions\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tabcurrentrename\", new SymbolMetadata(\"Rename current tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), true)],\n[\"tabrename\", new SymbolMetadata(\"Rename a tab.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tab_helper\", new SymbolMetadata(\"Helper to change active tab. Used by [[tab]] and [[taball]].\", new FunctionType([new BooleanType(false, false),new BooleanType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"command\", new SymbolMetadata(\"Similar to vim's `:command`. Maps one ex-mode command to another.\\nIf command already exists, this will override it, and any new commands\\nadded in a future release will be SILENTLY overridden. Aliases are\\nexpanded recursively.\\n\\nExamples:\\n  - `command t tabopen`\\n  - `command tn tabnext_gt`\\n  - `command hello t` This will expand recursively into 'hello'->'tabopen'\\n\\nCommands/aliases are expanded as in a shell, so, given the commands above,\\nentering `:tn 43` will expand to `:tabnext_gt 43`. You can use this to create\\nyour own ex-commands in conjunction with [[js]], specifically `js -p` and `js -d`.\\n\\nNote that this is only for excmd -> excmd mappings. To map a normal-mode\\ncommand to an excommand, see [[bind]].\\n\\nSee also:\\n  - [[comclear]]\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"comclear\", new SymbolMetadata(\"Similar to vim's `comclear` command. Clears an excmd alias defined by\\n`command`.\\n\\nFor example: `comclear helloworld` will reverse any changes caused\\nby `command helloworld xxx`\\n\\nSee also:\\n  - [[command]]\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), false)],\n[\"bind\", new SymbolMetadata(\"Bind a sequence of keys to an excmd or view bound sequence.\\n\\nThis is an easier-to-implement bodge while we work on vim-style maps.\\n\\nExamples:\\n\\n    - `bind G fillcmdline tabopen google`\\n    - `bind D composite tabclose | tab #` -> close current tab and switch to most recent previous tab\\n    - `bind j scrollline 20`\\n    - `bind F hint -b`\\n\\nYou can view binds by omitting the command line:\\n\\n    - `bind j`\\n    - `bind k`\\n\\nYou can bind to modifiers and special keys by enclosing them with angle brackets, for example `bind <C-\\\\>z fullscreen`, `unbind <F1>` (a favourite of people who use TreeStyleTabs :) ), or `bind <Backspace> forward`.\\n\\nModifiers are truncated to a single character, so Ctrl -> C, Alt -> A, and Shift -> S. Shift is a bit special as it is only required if Shift does not change the key inputted, e.g. `<S-ArrowDown>` is OK, but `<S-a>` should just be `A`.\\n\\nYou can view all special key names here: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\\n\\nUse [[composite]] if you want to execute multiple excmds. Use\\n[[fillcmdline]] to put a string in the cmdline and focus the cmdline\\n(otherwise the string is executed immediately).\\n\\nYou can bind to other modes with `bind --mode={insert|ignore|normal|input|ex|hint} ...`, e.g, `bind --mode=insert emacs qall` (NB: unlike vim, all preceeding characters will not be input), or `bind --mode=hint <C-[> hint.reset`.\\n\\n`bind --mode=browser [key sequence] [ex command]` binds to a special mode which can be accessed all the time in all browser tabs - even tabs in which Tridactyl cannot run. It comes with a few caveats:\\n\\n- you may only have a few browser-mode binds at once. At the time of writing, this is 20, with 3 initially taken by Tridactyl. If you desperately need more, file an [[issue]].\\n- the key sequence must consist of a single, simple key with at least one and no more than two modifiers. An error will be thrown if you try to bind to an invalid key sequence.\\n- the `ex command` you bind to may not work fully unless you are on a tab which Tridactyl has access to. Generally, browser-wide actions like making or closing tabs will work but tab-specific actions like scrolling down or entering hint mode will not.\\n\\nA list of editor functions can be found\\n[here](/static/docs/modules/_src_lib_editor_.html).\\n\\nSee also:\\n\\n    - [[unbind]]\\n    - [[reset]]\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"bindshow\", new SymbolMetadata(\"\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"bindwizard\", new SymbolMetadata(\"Generate a key sequence from keypresses. Once Enter is pressed, the command line is filled with a [[bind]]\\ncommand with the key sequence and provided arguments, which you can choose to modify and execute.\\n\\nIf you have `:set keyboardlayoutforce true`, it will bind commands to physical keys regardless of layout.\\n\\nAccepts the same arguments as [[bind]] (except for the key sequence which will be generated):\\n\\n     - `bindwizard [command]`, then press the keys you want to bind, then hit Enter.\\n     - `bindwizard --mode=[mode] [command]` also works.\\n\\nYou can execute it without arguments to see what is bound to the keys you type.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"bindurl\", new SymbolMetadata(\"Like [[bind]] but for a specific url pattern (also see [[seturl]]).\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"keymap\", new SymbolMetadata(\"Deprecated: use `:set keyboardlayoutforce true` instead.\\n\\nMakes one key equivalent to another for the purposes of most of our parsers. Useful for international keyboard layouts. See user-provided examples for various layouts on our wiki: https://github.com/tridactyl/tridactyl/wiki/Internationalisation\\n\\ne.g,\\n     keymap \u0119 e\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"searchsetkeyword\", new SymbolMetadata(\"\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"validateSetArgs\", new SymbolMetadata(\"Validates arguments for set/seturl\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), false, false)], new ArrayType(new AnyType(true, false), false, false), false, false), true)],\n[\"seturl\", new SymbolMetadata(\"Usage: `seturl [pattern] key values`\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"setmode\", new SymbolMetadata(\"Usage: `setmode mode key values`\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"set\", new SymbolMetadata(\"Set a key value pair in config.\\n\\nUse to set any values found [here](/static/docs/classes/_src_lib_config_.default_config.html).\\n\\nArrays should be set using JS syntax, e.g. `:set blacklistkeys [\\\"/\\\",\\\",\\\"]`.\\n\\ne.g.\\n    set searchurls.google https://www.google.com/search?q=\\n    set logging.messaging info\\n\\nIf no value is given, the value of the of the key will be displayed.\\n\\nSee also: [[unset]]\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"firefoxsyncpull\", new SymbolMetadata(\"Replaces your local configuration with that stored in the Firefox Sync area.\\n\\nIt does not merge your configurations: it overwrites.\\n\\nAlso see [[firefoxsyncpush]].\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"firefoxsyncpush\", new SymbolMetadata(\"Pushes your local configuration to the Firefox Sync area.\\n\\nIt does not merge your configurations: it overwrites.\\n\\nAlso see [[firefoxsyncpull]].\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"getAutocmdEvents\", new SymbolMetadata(\"\", new FunctionType([], new ArrayType(new StringType(false, false), false, false), false, false), true)],\n[\"autocmd\", new SymbolMetadata(\"Set autocmds to run when certain events happen.\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"autocontain\", new SymbolMetadata(\"Automatically open a domain and all its subdomains in a specified container.\\n\\n__NB:__ You should use this command with an -s (sane mode) or -u (URL mode) flag. Usage without a flag uses an incorrect regular expression which may cause weird behaviour and has been left in for compatibility reasons.\\n\\nThis function accepts a `-u` flag to treat the pattern as a URL rather than a domain.\\nFor example: `autocontain -u ^https?://([^/]*\\\\.|)youtube\\\\.com/ google` is equivalent to `autocontain -s youtube\\\\.com google`\\n\\nFor declaring containers that do not yet exist, consider using `auconcreatecontainer true` in your tridactylrc.\\nThis allows Tridactyl to automatically create containers from your autocontain directives. Note that they will be random icons and colors.\\n\\nThe domain is passed through as a regular expression so there are a few gotchas to be aware of:\\n* Unescaped periods will match *anything*. `autocontain -s google.co.uk work` will match `google!co$uk`. Escape your periods  (i.e. `\\\\.`) or accept that you might get some false positives.\\n* You can use regex in your pattern. `autocontain -s google\\\\.(co\\\\.uk|com) work` will match either `google.co.uk` or `google.com`. If multiple rules match a certain URL, the one with the longest regex will be picked.\\n\\nThis *should* now peacefully coexist with the Temporary Containers and Multi-Account Containers addons. Do not trust this claim. If a fight starts the participants will try to open infinite tabs. It is *strongly* recommended that you use a tridactylrc so that you can abort a sorceror's-apprentice scenario by killing firefox, commenting out all of autocontainer directives in your rc file, and restarting firefox to clean up the mess. There are a number of strange behaviors resulting from limited coordination between extensions. Redirects can be particularly surprising; for example, with `:autocontain -s will-redirect.example.org example` set and `will-redirect.example.org` redirecting to `redirected.example.org`, navigating to `will-redirect.example.org` will result in the new tab being in the `example` container under some conditions and in the `firefox-default` container under others.\\n\\nPass an optional space-separated list of proxy names to assign a proxy (followed by failover proxies) to a URL and open in a specified container.\\nFor example: `autocontain [-{u,s}] pattern container proxy1 proxy2`\\n\\nTo assign a proxy and open in no container, use \\\"firefox-default\\\" or \\\"none\\\" as a container name.\\nSee also:\\n  - [[proxyadd]]\\n  - [[proxyremove]]\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"proxyadd\", new SymbolMetadata(\"Add a proxy for use with [[autocontain]] or `:set proxy`\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"proxyremove\", new SymbolMetadata(\"Remove proxies.\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), false)],\n[\"autocmddelete\", new SymbolMetadata(\"Remove autocmds\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"blacklistadd\", new SymbolMetadata(\"Helper function to put Tridactyl into ignore mode on the provided URL.\\n\\nSimply creates a DocStart [[autocmd]] that runs `mode ignore`. NB: ignore mode does have a few keybinds by default - see `:viewconfig ignoremaps`. These can be unbound with, e.g. `:unbind --mode=ignore <C-o>`, or `:unbindurl [url] --mode=ignore <C-o>`.\\n\\nRemove sites from the blacklist with `blacklistremove [url]` or `autocmddelete DocStart [url]`.\\n\\nIf you're looking for a way to temporarily disable Tridactyl, this might be what you're looking for. If you need to disable Tridactyl more thoroughly on a page look at `:help superignore` instead.\\n\\n<!-- this should probably be moved to an ex alias once configuration has better help --!>\", new FunctionType([new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"unbind\", new SymbolMetadata(\"Unbind a sequence of keys so that they do nothing at all.\\n\\nSee also:\\n\\n    - [[bind]]\\n    - [[reset]]\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"unbindurl\", new SymbolMetadata(\"Unbind a sequence of keys you have set with [[bindurl]]. Note that this **kills** a bind, which means Tridactyl will pass it to the page on `pattern`. If instead you want to use the default setting again, use [[reseturl]].\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"reset\", new SymbolMetadata(\"Restores a sequence of keys to their default value.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"reseturl\", new SymbolMetadata(\"Restores a sequence of keys to their value in the global config for a specific URL pattern.\\n\\nSee also:\\n  - [[bind]]\\n  - [[unbind]]\\n  - [[reset]]\\n  - [[bindurl]]\\n  - [[unbindurl]]\\n  - [[seturl]]\\n  - [[unseturl]]\\n  - [[setmode]]\\n  - [[unsetmode]]\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"sanitise\", new SymbolMetadata(\"Deletes various bits of Firefox or Tridactyl data\\n\\nThe list of possible arguments can be found here:\\nhttps://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/browsingData/DataTypeSet\\n\\nAdditional Tridactyl-specific arguments are:\\n- `commandline`: Removes the in-memory commandline history.\\n- `tridactyllocal`: Removes all tridactyl storage local to this machine. Use it with\\n    commandline if you want to delete your commandline history.\\n- `tridactylsync`: Removes all tridactyl storage associated with your Firefox Account (i.e, all user configuration, by default).\\nThese arguments aren't affected by the timespan parameter.\\n\\nTimespan parameter:\\n-t [0-9]+(m|h|d|w)\\n\\nExamples:\\n\\n- `sanitise all` -> Deletes __everything__, including any saved usernames / passwords(!)\\n- `sanitise history` -> Deletes all history\\n- `sanitise commandline tridactyllocal tridactylsync` -> Deletes every bit of data Tridactyl holds\\n- `sanitise cookies -t 3d` -> Deletes cookies that were set during the last three days.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"quickmark\", new SymbolMetadata(\"Bind a quickmark for the current URL or space-separated list of URLs to a key on the keyboard.\\n\\nAfterwards use go[key], gn[key], or gw[key] to [[open]], [[tabopen]], or\\n[[winopen]] the URL respectively.\\n\\nExample:\\n- `quickmark m https://mail.google.com/mail/u/0/#inbox`\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"get\", new SymbolMetadata(\"Puts the contents of config value with keys `keys` into the commandline and the background page console\\n\\nIt's a bit rubbish, but we don't have a good way to provide feedback to the commandline yet.\\n\\nYou can view the log entry in the browser console (Ctrl-Shift-j).\\n\\nFor example, you might try `get nmaps` to see all of your current binds.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"viewconfig\", new SymbolMetadata(\"Opens the current configuration in Firefox's native JSON viewer in a new tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"jsonview\", new SymbolMetadata(\"View a JSON object in Firefox's JSON viewer.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new AnyType(true, false), false, false)], false, false), false, false), false)],\n[\"unseturl\", new SymbolMetadata(\"Reset a site-specific setting.\\n\\nusage: `unseturl [pattern] key`\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"unsetmode\", new SymbolMetadata(\"Reset a mode-specific setting.\\n\\nusage: `unsetmode mode key`\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"unset\", new SymbolMetadata(\"Reset a config setting to default\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"setnull\", new SymbolMetadata(\"\\\"Delete\\\" a default setting. E.g. `setnull searchurls.github` means `open github test` would search your default search engine for \\\"github test\\\".\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"hint\", new SymbolMetadata(\"Hint a page.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"rot13\", new SymbolMetadata(\"Perform rot13.\\n\\nTransforms all text nodes in the current tab via rot13. Only characters in\\nthe ASCII range are considered.\", new FunctionType([new NumberType(false, false)], new VoidType(false, false), false, false), false)],\n[\"jumble\", new SymbolMetadata(\"Perform text jumbling (reibadailty).\\n\\nShuffles letters except for first and last in all words in text nodes in the current tab. Only characters in\\nthe ASCII range are considered.\\n\\nInspired by: https://www.newscientist.com/letter/mg16221887-600-reibadailty/\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"run_exstr\", new SymbolMetadata(\"Hacky ex string parser.\\n\\nUse it for fire-and-forget running of background commands in content.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"gobble\", new SymbolMetadata(\"Initialize gobble mode.\\n\\nIf numKeysOrTerminator is a number, it will read the provided amount of keys;\\nIf numKeysOrTerminator is a key or key combination like 'k', '<CR>' or '<C-j>';\\nit will read keys until the provided key is pressed.\\nThen it will append the keypresses to `endCmd` and execute that string,\\nalso appending arguments if provided.\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"getGotoSelectors\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new ArrayType(new ObjectType(new Map<string, Type>([]), false, false), false, false)], false, false), false, false), true)],\n[\"goto\", new SymbolMetadata(\"Jump to selector.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"nmode\", new SymbolMetadata(\"Initialize n [mode] mode.\\n\\nIn this special mode, a series of key sequences are executed as bindings from a different mode, as specified by the\\n`mode` argument. After the count of accepted sequences is `n`, the finalizing ex command given as the `endexArr`\\nargument is executed, which defaults to `mode ignore`.\\n\\nExample: `:nmode normal 1 mode ignore`\\nThis looks up the next key sequence in the normal mode bindings, executes it, and switches the mode to `ignore`.\\nIf the key sequence does not match a binding, it will be silently passed through to Firefox, but it will be counted\\nfor the termination condition.\", new FunctionType([new StringType(false, false),new NumberType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tssReadFromCss\", new SymbolMetadata(\"Read text content of elements matching the given selector\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), false)],\n[\"ttsread\", new SymbolMetadata(\"Read the given text using the browser's text to speech functionality and\\nthe settings currently set\", new FunctionType([new UnionType([new LiteralTypeType(\"-t\", false, false),\nnew LiteralTypeType(\"-c\", false, false)], false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"ttsvoices\", new SymbolMetadata(\"Show a list of the voices available to the TTS system. These can be\\nset in the config using `ttsvoice`\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"ttscontrol\", new SymbolMetadata(\"Cancel current reading and clear pending queue\\n\\nArguments:\\n   - stop:    cancel current and pending utterances\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"buildFilterConfigs\", new SymbolMetadata(\"Build a set of FilterConfigs from a list of human-input filter\\nspecs.\", new FunctionType([new ArrayType(new StringType(false, false), false, false)], new ArrayType(new AnyType(true, false), false, false), false, false), true)],\n[\"perfdump\", new SymbolMetadata(\"Dump the raw json for our performance counters. Filters with\\ntrailing slashes are class names, :start | :end | :measure specify\\nwhat type of sample to pass through, and all others are function\\nnames. All filters must match for a sample to be dumped.\\n\\nTridactyl does not collect performance information by default. To\\nget this data you'll have to set the configuration option\\n`perfcounters` to `\\\"true\\\"`. You may also want to examine the value\\nof `perfsamples`.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"perfhistogram\", new SymbolMetadata(\"Pretty-print a histogram of execution durations for you. Arguments\\nare as above, with the addition that this automatically filters to\\ncounter samples of type :measure.\\n\\nNote that this will display its output by opening a data: url with\\ntext in the place of your current tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"bmark\", new SymbolMetadata(\"Add or remove a bookmark.\\n\\nOptionally, you may give the bookmark a title. If no URL is given, a bookmark is added for the current page.\\n\\nIf a bookmark already exists for the URL, it is removed, even if a title is given.\\n\\nDoes not support creation of folders: you'll need to use the Firefox menus for that.\", new FunctionType([new StringType(false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"BookmarkTreeNode\", [], false, false)], false, false), false, false), false)],\n[\"echo\", new SymbolMetadata(\"\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new StringType(false, false), false, false), false)],\n[\"js_helper\", new SymbolMetadata(\"helper function for js and jsb\\n\\n-p to take a single extra argument located at the end of str[]\\n-d[delimiter character] to take a space-separated array of arguments after the delimiter\\n-s to load js script of a source file from the config path\", new FunctionType([new ArrayType(new StringType(false, false), false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"js\", new SymbolMetadata(\"Lets you execute JavaScript in the page context. If you want to get the result back, use\\n\\n     `composite js ... | fillcmdline`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"jsb\", new SymbolMetadata(\"Lets you execute JavaScript in the background context. All the help from [[js]] applies. Gives you a different `tri` object which has access to more excmds and web-extension APIs.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"issue\", new SymbolMetadata(\"Opens a new tab the url of which is \\\"https://github.com/tridactyl/tridactyl/issues/new\\\" and automatically fill add tridactyl, firefox and os version to the issue.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"text2qr\", new SymbolMetadata(\"Generates a QR code for the given text. By default opens in new tab. Default binds close the new tab after 5 seconds.\\nIf no text is passed as an argument then it checks if any text is selected and creates a QR code for that.\\nIf no selection is found then it creates QR code for the current tab's URL\\n\\n`text2qr --popup [...]` will open the QR code in a new popup window\\n\\n`text2qr --window [...]`  will open the QR code in a new window\\n\\n`text2qr --current [...]` will open in the current tab\\n\\n`text2qr --timeout <timeout in seconds> [...]` closes the tab/window/popup after specified number of seconds\\n\\nExample: text2qr --timeout 5 --popup hello world\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"updatecheck\", new SymbolMetadata(\"Checks if there are any stable updates available for Tridactyl.\\n\\nRelated settings:\\n\\n- `update.nag = true | false` - checks for updates on Tridactyl start.\\n- `update.nagwait = 7` - waits 7 days before nagging you to update.\\n- `update.checkintervalsecs = 86400` - waits 24 hours between checking for an update.\", new FunctionType([new UnionType([new LiteralTypeType(\"manual\", false, false),\nnew LiteralTypeType(\"auto_polite\", false, false),\nnew LiteralTypeType(\"auto_impolite\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new BooleanType(false, false)], false, false), false, false), false)],\n[\"keyfeed\", new SymbolMetadata(\"Feed some keys to Tridactyl's parser. E.g. `keyfeed jkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjjkj`.\\n\\nNB:\\n\\n- Does _not_ function like Vim's noremap - `bind j keyfeed j` will cause an infinite loop.\\n- Doesn't work in exmode - i.e. `keyfeed t<CR>` won't work.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"extoptions\", new SymbolMetadata(\"Opens optionsUrl for the selected extension in a popup window.\\n\\nNB: Tridactyl cannot run on this page!\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"readerurl\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), true)],\n[\"reader\", new SymbolMetadata(\"Open the current page as an article in reader view for easier reading. Flags `--tab` and `--window` open the article in new tabs and windows respectively.\\n\\nUse `:reader --old` to use Firefox's built-in reader mode, which Tridactyl can't run on.\\n\\n__NB:__ the reader page is a privileged environment which has access to all Tridactyl functions, notably the native messenger if you have it installed. We are parsing untrusted web-content to run in this environment. Mozilla's readability library will strip out most of these, then we use a sanitation library, `js-xss`, to strip out any remaining unsafe tags, but if there was a serious bug in this library, and a targeted attack against Tridactyl, an attacker could get remote code execution. If you're worried about this, use `:reader --old` instead or only use `:reader` on pages you trust.\\n\\nYou may use [userContent.css](http://kb.mozillazine.org/index.php?title=UserContent.css&printable=yes) to enhance or override default styling of the new reader view. The `body` of the page has id `tridactyl-reader` and the article content follows in a `main` tag. Therefore to alter default styling, you can do something like this in your `userContent.css`:\\n\\n```css\\n#tridactyl-reader > main {\\n   width: 80vw !important;\\n   text-align: left;\\n}\\n```\\n\\nFollow [issue #4657](https://github.com/tridactyl/tridactyl/issues/4657) if you would like to find out when we have made a more user-friendly solution.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"elementunhide\", new SymbolMetadata(\"Restore the most recently hidden element. Repeated invocations restore the next-most-recently-hidden element.\\n\\n(Elements can be hidden with `;K` and `:hint -K`.)\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)]]))],\n[\"src/lib/config.ts\", new FileMetadata(new Map<string, ClassMetadata>([[\"default_config\", new ClassMetadata(new Map<string, SymbolMetadata>([[\"configversion\", new SymbolMetadata(\"Internal version number Tridactyl uses to know whether it needs to update from old versions of the configuration.\\n\\nChanging this might do weird stuff.\", new StringType(false, false), false)],\n[\"subconfigs\", new SymbolMetadata(\"Internal field to handle site-specific configs. Use :seturl/:unseturl to change these values.\", new ObjectType(new Map<string, Type>([[\"\", new TypeReferenceType(\"DeepPartial\", [new TypeReferenceType(\"default_config\", [], false, false)], false, false)]]), false, false), false)],\n[\"modesubconfigs\", new SymbolMetadata(\"Internal field to handle mode-specific configs. Use :setmode/:unsetmode to change these values.\\n\\nChanging this might do weird stuff.\", new ObjectType(new Map<string, Type>([[\"\", new TypeReferenceType(\"DeepPartial\", [new TypeReferenceType(\"default_config\", [], false, false)], false, false)]]), false, false), false)],\n[\"priority\", new SymbolMetadata(\"Internal field to handle site-specific config priorities. Use :seturl/:unseturl to change this value.\", new NumberType(false, false), false)],\n[\"exmaps\", new SymbolMetadata(\"exmaps contains all of the bindings for the command line.\\nYou can of course bind regular ex commands but also [editor functions](/static/docs/modules/_src_lib_editor_.html) and [commandline-specific functions](/static/docs/modules/_src_commandline_frame_.html).\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"ignoremaps\", new SymbolMetadata(\"ignoremaps contain all of the bindings for \\\"ignore mode\\\".\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"imaps\", new SymbolMetadata(\"imaps contain all of the bindings for \\\"insert mode\\\".\\n\\nOn top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in insert mode.\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"inputmaps\", new SymbolMetadata(\"inputmaps contain all of the bindings for \\\"input mode\\\".\\n\\nOn top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in input mode.\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"superignore\", new SymbolMetadata(\"Disable Tridactyl almost completely within a page, e.g. `seturl ^https?://mail.google.com disable true`. Only takes affect on page reload.\\n\\nYou are usually better off using `blacklistadd` and `seturl [url] noiframe true` as you can then still use some Tridactyl binds, e.g. `shift-insert` for exiting ignore mode.\\n\\nNB: you should only use this with `seturl`. If you get trapped with Tridactyl disabled everywhere just run `tri unset superignore` in the Firefox address bar. If that still doesn't fix things, you can totally reset Tridactyl by running `tri help superignore` in the Firefox address bar, scrolling to the bottom of that page and then clicking \\\"Reset Tridactyl config\\\".\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"nmaps\", new SymbolMetadata(\"nmaps contain all of the bindings for \\\"normal mode\\\".\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"vmaps\", new SymbolMetadata(\"\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"hintmaps\", new SymbolMetadata(\"\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"browsermaps\", new SymbolMetadata(\"Browser-wide binds accessible in all modes and on pages where Tridactyl \\\"cannot run\\\".\\n<!-- Note to developers: binds here need to also be listed in manifest.json -->\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"leavegithubalone\", new SymbolMetadata(\"Whether to allow pages (not necessarily github) to override `/`, which is a default Firefox binding.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"blacklistkeys\", new SymbolMetadata(\"Which keys to protect from pages that try to override them. Requires [[leavegithubalone]] to be set to false.\", new ArrayType(new StringType(false, false), false, false), false)],\n[\"autocmds\", new SymbolMetadata(\"Autocommands that run when certain events happen, and other conditions are met.\\n\\nRelated ex command: `autocmd`.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"keytranslatemap\", new SymbolMetadata(\"\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"usekeytranslatemap\", new SymbolMetadata(\"\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"keyboardlayoutforce\", new SymbolMetadata(\"Instead of fetching actual character which depends on selected layout,\\nuse machine code of a key and convert to character according to keyboardlayoutoverrides. The default layout mapping\\nis US `qwerty`, but can be changed with [[keyboardlayoutbase]].\\n\\nThere is a much more detailed help page towards the end of `:tutor` under the title \\\"Non-QWERTY layouts\\\".\\n\\nRecommended for everyone with multiple or/and non-latin keyboard layouts. Make sure [[usekeytranslatemap]] is false\\nif you have previously used `keymap`.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"keyboardlayoutbase\", new SymbolMetadata(\"Base keyboard layout to use when [[keyboardlayoutforce]] is enabled. At the time of writing, the following layouts are supported: `qwerty, azerty, german, dvorak, uk, ca, bepo`. Requires page reload to take effect.\\n\\nIf your layout is missing, you can contribute it with the help of https://gistpreview.github.io/?324119c773fac31651f6422087b36804 - please just open an `:issue` with your layout and we'll add it.\\n\\nYou can manually override individual keys for a layout with [[keyboardlayoutoverrides]].\", new UnionType([new LiteralTypeType(\"qwerty\", false, false),\nnew LiteralTypeType(\"azerty\", false, false),\nnew LiteralTypeType(\"german\", false, false),\nnew LiteralTypeType(\"dvorak\", false, false),\nnew LiteralTypeType(\"uk\", false, false),\nnew LiteralTypeType(\"ca\", false, false),\nnew LiteralTypeType(\"bepo\", false, false)], false, false), false)],\n[\"keyboardlayoutoverrides\", new SymbolMetadata(\"Override individual keys for a layout when [[keyboardlayoutforce]] is enabled. Changes take effect only after a page reload.\\n\\nKey codes for printable keys for [[keyboardlayoutforce]], lower and upper register. See https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values for the names of each key.\\n\\nNB: due to a Tridactyl bug, you cannot set this using array notation as you can for, e.g. [[homepage]].\\nYou must instead set the lower and upper registers using a string with no spaces in it, for example\\n`:set keyboardlayoutoverrides Digit2: 2\\\"` for the British English layout.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"autocontain\", new SymbolMetadata(\"Automatically place these sites in the named container.\\n\\nEach key corresponds to a URL fragment which, if contained within the page URL, the site will be opened in a container tab instead.\", new AnyType(true, false), false)],\n[\"proxy\", new SymbolMetadata(\"Default proxy to use for all URLs. Has to be the name of a proxy. To add a proxy, see `:help proxyadd`. NB: usage with `:seturl` is buggy, use `:autocontain -s [regex to match URL] none [proxy]` instead\", new StringType(false, false), false)],\n[\"proxies\", new SymbolMetadata(\"Definitions of proxies.\\n\\nYou can add a new proxy with `proxyadd proxyname proxyurl`\", new AnyType(true, false), false)],\n[\"noproxy\", new SymbolMetadata(\"Whether to use proxy settings.\\n\\nIf set to `true`, all proxy settings will be ignored.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"autocontainmode\", new SymbolMetadata(\"Strict mode will always ensure a domain is open in the correct container, replacing the current tab if necessary.\\n\\nRelaxed mode is less aggressive and instead treats container domains as a default when opening a new tab.\", new UnionType([new LiteralTypeType(\"strict\", false, false),\nnew LiteralTypeType(\"relaxed\", false, false)], false, false), false)],\n[\"exaliases\", new SymbolMetadata(\"Aliases for the commandline.\\n\\nYou can make a new one with `command alias ex-command`.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"followpagepatterns\", new SymbolMetadata(\"Used by `]]` and `[[` to look for links containing these words.\\n\\nEdit these if you want to add, e.g. other language support.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"searchengine\", new SymbolMetadata(\"The default search engine used by `open search`. If empty string, your browser's default search engine will be used. If set to something, Tridactyl will first look at your [[searchurls]] and then at the search engines for which you have defined a keyword on `about:preferences#search`.\", new StringType(false, false), false)],\n[\"searchurls\", new SymbolMetadata(\"Definitions of search engines for use via `open [keyword]`.\\n\\n`%s` will be replaced with your whole query and `%s1`, `%s2`, ..., `%sn` will be replaced with the first, second and nth word of your query. Also supports array slicing, e.g. `%s[2:4]`, `%s[5:]`. If there are none of these patterns in your search urls, your query will simply be appended to the searchurl.\\n\\nAliases are supported - for example, if you have a `google` searchurl, you can run `:set searchurls.g google` in which case `g` will act as if it was the `google` searchurl.\\n\\nExamples:\\n- When running `open gi cute puppies`, with a `gi` searchurl defined with `set searchurls.gi https://www.google.com/search?q=%s&tbm=isch`, tridactyl will navigate to `https://www.google.com/search?q=cute puppies&tbm=isch`.\\n- When running `tabopen translate en ja Tridactyl`, with a `translate` searchurl defined with `set searchurls.translate https://translate.google.com/#view=home&op=translate&sl=%s1&tl=%s2&text=%s3`, tridactyl will navigate to `https://translate.google.com/#view=home&op=translate&sl=en&tl=ja&text=Tridactyl`.\\n\\n[[setnull]] can be used to \\\"delete\\\" the default search engines. E.g. `setnull searchurls.google`.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"jsurls\", new SymbolMetadata(\"Like [[searchurls]] but must be a Javascript function that takes one argument (a single string with the remainder of the command line including spaces) and maps it to a valid href (or a promise that resolves to a valid href) that will be followed, e.g. `set jsurls.googleloud query => \\\"https://google.com/search?q=\\\" + query.toUpperCase()`\\n\\nNB: the href must be valid, i.e. it must include the protocol (e.g. \\\"http://\\\") and not just be e.g. \\\"www.\\\".\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"newtab\", new SymbolMetadata(\"URL the newtab will redirect to.\\n\\nAll usual rules about things you can open with `open` apply, with the caveat that you'll get interesting results if you try to use something that needs `nativeopen`: so don't try `about:newtab` or a `file:///` URI. You should instead use a data URI - https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs - or host a local webserver (e.g. Caddy).\", new StringType(false, false), false)],\n[\"viewsource\", new SymbolMetadata(\"Whether `:viewsource` will use our own page that you can use Tridactyl binds on, or Firefox's default viewer, which you cannot use Tridactyl on.\", new UnionType([new LiteralTypeType(\"tridactyl\", false, false),\nnew LiteralTypeType(\"default\", false, false)], false, false), false)],\n[\"homepages\", new SymbolMetadata(\"Pages opened with `gH`. In order to set this value, use `:set homepages [\\\"example.org\\\", \\\"example.net\\\", \\\"example.com\\\"]` and so on.\", new ArrayType(new StringType(false, false), false, false), false)],\n[\"hintchars\", new SymbolMetadata(\"Characters to use in hint mode.\\n\\nThey are used preferentially from left to right.\", new StringType(false, false), false)],\n[\"hintfiltermode\", new SymbolMetadata(\"The type of hinting to use. `vimperator` will allow you to filter links based on their names by typing non-hint chars. It is recommended that you use this in conjuction with the [[hintchars]] setting, which you should probably set to e.g, `5432167890`. \u00B4vimperator-reflow\u00B4 additionally updates the hint labels after filtering.\", new UnionType([new LiteralTypeType(\"simple\", false, false),\nnew LiteralTypeType(\"vimperator\", false, false),\nnew LiteralTypeType(\"vimperator-reflow\", false, false)], false, false), false)],\n[\"hintnames\", new SymbolMetadata(\"Whether to optimise for the shortest possible names for each hint, or to use a simple numerical ordering. If set to `numeric`, overrides `hintchars` setting.\", new UnionType([new LiteralTypeType(\"short\", false, false),\nnew LiteralTypeType(\"numeric\", false, false),\nnew LiteralTypeType(\"uniform\", false, false)], false, false), false)],\n[\"hintuppercase\", new SymbolMetadata(\"Whether to display the names for hints in uppercase.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"hintdelay\", new SymbolMetadata(\"The delay in milliseconds in `vimperator` style hint modes after selecting a hint before you are returned to normal mode.\\n\\nThe point of this is to prevent accidental execution of normal mode binds due to people typing more than is necessary to choose a hint.\", new NumberType(false, false), false)],\n[\"hintshift\", new SymbolMetadata(\"Controls whether hints should be shifted in quick-hints mode.\\n\\nHere's what it means: let's say you have hints from a to z but are only\\ninterested in every second hint. You first press `a`, then `c`.\\nTridactyl will realize that you skipped over `b`, and so that the next\\nhint you're going to trigger is probably `e`. Tridactyl will shift all\\nhint names so that `e` becomes `c`, `d` becomes `b`, `c` becomes `a` and\\nso on.\\nThis means that once you pressed `c`, you can keep on pressing `c` to\\ntrigger every second hint. Only makes sense with hintnames = short.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"hintautoselect\", new SymbolMetadata(\"Controls whether hints should be followed automatically.\\n\\nIf set to `false`, hints will only be followed upon confirmation. This applies to cases when there is only a single match or only one link on the page.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"allowautofocus\", new SymbolMetadata(\"Controls whether the page can focus elements for you via js\\n\\nNB: will break fancy editors such as CodeMirror on Jupyter. Simply use `seturl` to whitelist pages you need it on.\\n\\nBest used in conjunction with browser.autofocus in `about:config`\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"preventautofocusjackhammer\", new SymbolMetadata(\"Uses a loop to prevent focus until you interact with a page. Only recommended for use via `seturl` for problematic sites as it can be a little heavy on CPU if running on all tabs. Should be used in conjuction with [[allowautofocus]]\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"smoothscroll\", new SymbolMetadata(\"Whether to use Tridactyl's (bad) smooth scrolling.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"scrollduration\", new SymbolMetadata(\"How viscous you want smooth scrolling to feel.\", new NumberType(false, false), false)],\n[\"tabopenpos\", new SymbolMetadata(\"Where to open tabs opened with `tabopen` - to the right of the current tab, or at the end of the tabs.\", new UnionType([new LiteralTypeType(\"next\", false, false),\nnew LiteralTypeType(\"last\", false, false),\nnew LiteralTypeType(\"related\", false, false)], false, false), false)],\n[\"tabclosepinned\", new SymbolMetadata(\"When enabled (the default), running tabclose will close the tabs whether they are pinned or not. When disabled, tabclose will fail with an error if a tab is pinned.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"tabsort\", new SymbolMetadata(\"Controls which tab order to use when numbering tabs. Either mru = sort by most recent tab or default = by tab index\\n\\nApplies to all places where Tridactyl numbers tabs including `:tab`, `:tabnext_gt` etc. (so, for example, with `:set tabsort mru` `2gt` would take you to the second most recently used tab, not the second tab in the tab bar).\", new UnionType([new LiteralTypeType(\"default\", false, false),\nnew LiteralTypeType(\"mru\", false, false)], false, false), false)],\n[\"relatedopenpos\", new SymbolMetadata(\"Where to open tabs opened with hinting - as if it had been middle clicked, to the right of the current tab, or at the end of the tabs.\", new UnionType([new LiteralTypeType(\"next\", false, false),\nnew LiteralTypeType(\"last\", false, false),\nnew LiteralTypeType(\"related\", false, false)], false, false), false)],\n[\"ttsvoice\", new SymbolMetadata(\"The name of the voice to use for text-to-speech. You can get the list of installed voices by running the following snippet: `js alert(window.speechSynthesis.getVoices().reduce((a, b) => a + \\\" \\\" + b.name))`\", new StringType(false, false), false)],\n[\"ttsvolume\", new SymbolMetadata(\"Controls text-to-speech volume. Has to be a number between 0 and 1.\", new NumberType(false, false), false)],\n[\"ttsrate\", new SymbolMetadata(\"Controls text-to-speech speed. Has to be a number between 0.1 and 10.\", new NumberType(false, false), false)],\n[\"ttspitch\", new SymbolMetadata(\"Controls text-to-speech pitch. Has to be between 0 and 2.\", new NumberType(false, false), false)],\n[\"gimode\", new SymbolMetadata(\"When set to \\\"nextinput\\\", pressing `<Tab>` after gi selects the next input.\\n\\nWhen set to \\\"firefox\\\", `<Tab>` behaves like normal, focusing the next tab-indexed element regardless of type.\", new UnionType([new LiteralTypeType(\"nextinput\", false, false),\nnew LiteralTypeType(\"firefox\", false, false)], false, false), false)],\n[\"cursorpos\", new SymbolMetadata(\"Decides where to place the cursor when selecting non-empty input fields\", new UnionType([new LiteralTypeType(\"beginning\", false, false),\nnew LiteralTypeType(\"end\", false, false)], false, false), false)],\n[\"theme\", new SymbolMetadata(\"The theme to use.\\n\\nPermitted values: run `:composite js tri.styling.THEMES | fillcmdline` to find out.\", new StringType(false, false), false)],\n[\"customthemes\", new SymbolMetadata(\"Storage for custom themes\\n\\nMaps theme names to CSS. Predominantly used automatically by [[colourscheme]] to store themes read from disk, as documented by [[colourscheme]]. Setting this manually is untested but might work provided that [[colourscheme]] is then used to change the theme to the right theme name.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"modeindicator\", new SymbolMetadata(\"Whether to display the mode indicator or not.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"modeindicatormodes\", new SymbolMetadata(\"Whether to display the mode indicator in various modes. Ignored if modeindicator set to false.\", new ObjectType(new Map<string, Type>([[\"\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false)]]), false, false), false)],\n[\"jumpdelay\", new SymbolMetadata(\"Milliseconds before registering a scroll in the jumplist\", new NumberType(false, false), false)],\n[\"logging\", new SymbolMetadata(\"Logging levels. Unless you're debugging Tridactyl, it's unlikely you'll ever need to change these.\", new ObjectType(new Map<string, Type>([[\"\", new UnionType([new LiteralTypeType(\"never\", false, false),\nnew LiteralTypeType(\"error\", false, false),\nnew LiteralTypeType(\"warning\", false, false),\nnew LiteralTypeType(\"info\", false, false),\nnew LiteralTypeType(\"debug\", false, false)], false, false)]]), false, false), false)],\n[\"noiframe\", new SymbolMetadata(\"Disables the commandline iframe. Dangerous setting, use [[seturl]] to set it. If you ever set this setting to \\\"true\\\" globally and then want to set it to false again, you can do this by opening Tridactyl's preferences page from about:addons.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"noiframeon\", new SymbolMetadata(\"\", new ArrayType(new StringType(false, false), false, false), false)],\n[\"editorcmd\", new SymbolMetadata(\"Insert / input mode edit-in-$EDITOR command to run\\nThis has to be a command that stays in the foreground for the whole editing session\\n\\\"auto\\\" will attempt to find a sane editor in your path.\\nPlease send your requests to have your favourite terminal moved further up the list to /dev/null.\\n          (but we are probably happy to add your terminal to the list if it isn't already there.)\\n\\nExample values:\\n- linux: `xterm -e vim`\\n- windows: `start cmd.exe /c \\\\\\\"vim\\\\\\\"`.\\n\\nAlso see [:editor](/static/docs/modules/_src_excmds_.html#editor).\", new StringType(false, false), false)],\n[\"rsscmd\", new SymbolMetadata(\"Command that should be run by the [[rssexec]] ex command. Has the\\nfollowing format:\\n- %u: url\\n- %t: title\\n- %y: type (rss, atom, xml...)\\nWarning: This is a very large footgun. %u will be inserted without any\\nkind of escaping, hence you must obey the following rules if you care\\nabout security:\\n- Do not use a composite command. If you need a composite command,\\ncreate an alias.\\n- Do not use `js` or `jsb`. If you need to use them, create an alias.\\n- Do not insert any %u, %t or %y in shell commands run by the native\\nmessenger. Use pipes instead.\\n\\nHere's an example of how to save an rss url in a file on your disk\\nsafely:\\n`alias save_rss jsb -p tri.native.run(\\\"cat >> ~/.config.newsboat/urls\\\", JS_ARG)`\\n`set rsscmd save_rss %u`\\nThis is safe because the url is passed to jsb as an argument rather than\\nbeing expanded inside of the string it will execute and because it is\\npiped to the shell command rather than being expanded inside of it.\", new StringType(false, false), false)],\n[\"browser\", new SymbolMetadata(\"The browser executable to look for in commands such as `restart`. Not as mad as it seems if you have multiple versions of Firefox...\", new StringType(false, false), false)],\n[\"yankto\", new SymbolMetadata(\"Which clipboard to store items in. Requires the native messenger to be installed.\", new UnionType([new LiteralTypeType(\"clipboard\", false, false),\nnew LiteralTypeType(\"selection\", false, false),\nnew LiteralTypeType(\"both\", false, false)], false, false), false)],\n[\"putfrom\", new SymbolMetadata(\"Which clipboard to retrieve items from. Requires the native messenger to be installed.\\n\\nPermitted values: `clipboard`, or `selection`.\", new UnionType([new LiteralTypeType(\"clipboard\", false, false),\nnew LiteralTypeType(\"selection\", false, false)], false, false), false)],\n[\"externalclipboardcmd\", new SymbolMetadata(\"Clipboard command to try to get the selection from (e.g. `xsel` or `xclip`)\", new StringType(false, false), false)],\n[\"downloadsskiphistory\", new SymbolMetadata(\"Whether downloads (e.g. via ;s hint modes) appear in your download history.\\n\\nNB: will cause downloads to fail silently if Tridactyl is not allowed to run in private windows (regardless of whether you are trying to call it in a private window).\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"downloadforbiddenchars\", new SymbolMetadata(\"Set of characters that are to be considered illegal as download filenames.\", new StringType(false, false), false)],\n[\"downloadforbiddenreplacement\", new SymbolMetadata(\"Value that will be used to replace the illegal character(s), if found, in the download filename.\", new StringType(false, false), false)],\n[\"downloadforbiddennames\", new SymbolMetadata(\"Comma-separated list of whole filenames which, if match\\nwith the download filename, will be suffixed with the\\n\\\"downloadforbiddenreplacement\\\" value.\", new StringType(false, false), false)],\n[\"nativeinstallcmd\", new SymbolMetadata(\"Set this to something weird if you want to have fun every time Tridactyl tries to update its native messenger.\\n\\n%TAG will be replaced with your version of Tridactyl for stable builds, or \\\"master\\\" for beta builds\\n\\nNB: Windows has its own platform-specific default.\", new StringType(false, false), false)],\n[\"update\", new SymbolMetadata(\"Used by :updatecheck and related built-in functionality to automatically check for updates and prompt users to upgrade.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"profiledir\", new SymbolMetadata(\"Profile directory to use with native messenger with e.g, `guiset`.\", new StringType(false, false), false)],\n[\"tabopencontaineraware\", new SymbolMetadata(\"If enabled, tabopen opens a new tab in the currently active tab's container.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"containerindicator\", new SymbolMetadata(\"If moodeindicator is enabled, containerindicator will color the border of the mode indicator with the container color.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"auconcreatecontainer\", new SymbolMetadata(\"Autocontain directives create a container if it doesn't exist already.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"tabgroupnewtaburls\", new SymbolMetadata(\"Initial urls to navigate to when creating a new tab for a new tab group.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"tabshowhidden\", new SymbolMetadata(\"Whether :tab shows completions for hidden tabs (e.g. tabs in other tab groups).\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"historyresults\", new SymbolMetadata(\"Number of most recent results to ask Firefox for. We display the top 20 or so most frequently visited ones.\", new NumberType(false, false), false)],\n[\"bmarkweight\", new SymbolMetadata(\"When displaying bookmarks in history completions, how many page views to pretend they have.\", new NumberType(false, false), false)],\n[\"searchurlweight\", new SymbolMetadata(\"When displaying searchurls in history completions, how many page views to pretend they have.\", new NumberType(false, false), false)],\n[\"gotoselector\", new SymbolMetadata(\"Default selector for :goto command.\", new StringType(false, false), false)],\n[\"completions\", new SymbolMetadata(\"General completions options - NB: options are set according to our internal completion source name - see - `src/completions/[name].ts` in the Tridactyl source.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"findresults\", new SymbolMetadata(\"Number of results that should be shown in completions. -1 for unlimited\", new NumberType(false, false), false)],\n[\"findcontextlen\", new SymbolMetadata(\"Number of characters to use as context for the matches shown in completions\", new NumberType(false, false), false)],\n[\"findcase\", new SymbolMetadata(\"Whether find should be case-sensitive\", new UnionType([new LiteralTypeType(\"smart\", false, false),\nnew LiteralTypeType(\"sensitive\", false, false),\nnew LiteralTypeType(\"insensitive\", false, false)], false, false), false)],\n[\"findhighlighttimeout\", new SymbolMetadata(\"How long find highlights should persist in milliseconds. `<= 0` means they persist until cleared\", new NumberType(false, false), false)],\n[\"incsearch\", new SymbolMetadata(\"Whether Tridactyl should jump to the first match when using `:find`\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"minincsearchlen\", new SymbolMetadata(\"How many characters should be typed before triggering incsearch/completions\", new NumberType(false, false), false)],\n[\"csp\", new SymbolMetadata(\"Deprecated.\\nChange this to \\\"clobber\\\" to ruin the \\\"Content Security Policy\\\" of all sites a bit and make Tridactyl run a bit better on some of them, e.g. raw.github*\", new UnionType([new LiteralTypeType(\"untouched\", false, false),\nnew LiteralTypeType(\"clobber\", false, false)], false, false), false)],\n[\"wordpattern\", new SymbolMetadata(\"JavaScript RegExp used to recognize words in text.* functions (e.g. text.transpose_words). Should match any character belonging to a word.\", new StringType(false, false), false)],\n[\"perfcounters\", new SymbolMetadata(\"Activate tridactyl's performance counters. These have a\\nmeasurable performance impact, since every sample is a few\\nhundred bytes and we sample tridactyl densely, but they're good\\nwhen you're trying to optimize things.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"perfsamples\", new SymbolMetadata(\"How many samples to store from the perf counters.\\n\\nEach performance entry is two numbers (16 bytes), an entryType\\nof either \\\"mark\\\" or \\\"measure\\\" (js strings are utf-16 ad we have\\ntwo marks for each measure, so amortize to about 10 bytes per\\nentry), and a string name that for Tridactyl object will be\\nabout 40 (utf-16) characters (80 bytes), plus object overhead\\nroughly proportional to the string-length of the name of the\\nconstructor (in this case something like 30 bytes), for a total\\nof what we'll call 128 bytes for ease of math.\\n\\nWe want to store, by default, about 1MB of performance\\nstatistics, so somewhere around 10k samples.\", new StringType(false, false), false)],\n[\"modeindicatorshowkeys\", new SymbolMetadata(\"Show (partial) command in the mode indicator.\\nCorresponds to 'showcmd' option of vi.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"urlparenttrailingslash\", new SymbolMetadata(\"Whether a trailing slash is appended when we get the parent of a url with\\ngu (or other means).\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"visualenterauto\", new SymbolMetadata(\"Whether to enter visual mode when text is selected. Visual mode can always be entered with `:mode visual`.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"visualexitauto\", new SymbolMetadata(\"Whether to return to normal mode when text is deselected.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"escapehatchsidebarhack\", new SymbolMetadata(\"Whether to open and close the sidebar quickly to get focus back to the page when <C-,> is pressed.\\n\\nDisable if the fact that it closes TreeStyleTabs gets on your nerves too much : )\\n\\nNB: when disabled, <C-,> can't get focus back from the address bar, but it can still get it back from lots of other places (e.g. Flash-style video players)\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"completionfuzziness\", new SymbolMetadata(\"Threshold for fuzzy matching on completions. Lower => stricter matching. Range between 0 and 1: 0 corresponds to perfect matches only. 1 will match anything.\\n\\nhttps://fusejs.io/api/options.html#threshold\", new NumberType(false, false), false)],\n[\"readerurlintitle\", new SymbolMetadata(\"Whether to show article url in the document.title of Reader View.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)]]))]]), new Map<string, SymbolMetadata>([[\"o\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new AnyType(true, false), false, false), true)],\n[\"schlepp\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new VoidType(false, false), false, false), true)],\n[\"getDeepProperty\", new SymbolMetadata(\"Given an object and a target, extract the target if it exists, else return undefined\", new FunctionType([new AnyType(true, false),new ArrayType(new StringType(false, false), false, false)], new AnyType(true, false), false, false), true)],\n[\"setDeepProperty\", new SymbolMetadata(\"Create the key path target if it doesn't exist and set the final property to value.\\n\\nIf the path is an empty array, replace the obj.\", new FunctionType([new AnyType(true, false),new AnyType(true, false),new AnyType(true, false)], new AnyType(true, false), false, false), true)],\n[\"mergeDeep\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false),new AnyType(true, false)], new AnyType(true, false), false, false), true)],\n[\"getURL\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), false, false)], new AnyType(true, false), false, false), true)],\n[\"get\", new SymbolMetadata(\"Get the value of the key target.\\n\\nIf the user has not specified a key, use the corresponding key from\\ndefaults, if one exists, else undefined.\", new FunctionType([new UnionType([new LiteralTypeType(\"rsscmd\", false, false),\nnew LiteralTypeType(\"theme\", false, false),\nnew LiteralTypeType(\"autocmds\", false, false),\nnew LiteralTypeType(\"exaliases\", false, false),\nnew LiteralTypeType(\"modesubconfigs\", false, false),\nnew LiteralTypeType(\"allowautofocus\", false, false),\nnew LiteralTypeType(\"autocontain\", false, false),\nnew LiteralTypeType(\"proxies\", false, false),\nnew LiteralTypeType(\"update\", false, false),\nnew LiteralTypeType(\"imaps\", false, false),\nnew LiteralTypeType(\"viewsource\", false, false),\nnew LiteralTypeType(\"nmaps\", false, false),\nnew LiteralTypeType(\"configversion\", false, false),\nnew TypeReferenceType(\"... 89 more ...\", [], false, false),\nnew LiteralTypeType(\"readerurlintitle\", false, false)], false, true),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), true)],\n[\"getDynamic\", new SymbolMetadata(\"Get the value of the key target.\\n\\nPlease only use this with targets that will be used at runtime - it skips static checks. Prefer [[get]].\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"getAsyncDynamic\", new SymbolMetadata(\"Get the value of the key target.\\n\\nPlease only use this with targets that will be used at runtime - it skips static checks. Prefer [[getAsync]].\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"getAsync\", new SymbolMetadata(\"Get the value of the key target, but wait for config to be loaded from the\\ndatabase first if it has not been at least once before.\\n\\nThis is useful if you are a content script and you've just been loaded.\", new FunctionType([new UnionType([new LiteralTypeType(\"rsscmd\", false, false),\nnew LiteralTypeType(\"theme\", false, false),\nnew LiteralTypeType(\"autocmds\", false, false),\nnew LiteralTypeType(\"exaliases\", false, false),\nnew LiteralTypeType(\"modesubconfigs\", false, false),\nnew LiteralTypeType(\"allowautofocus\", false, false),\nnew LiteralTypeType(\"autocontain\", false, false),\nnew LiteralTypeType(\"proxies\", false, false),\nnew LiteralTypeType(\"update\", false, false),\nnew LiteralTypeType(\"imaps\", false, false),\nnew LiteralTypeType(\"viewsource\", false, false),\nnew LiteralTypeType(\"nmaps\", false, false),\nnew LiteralTypeType(\"configversion\", false, false),\nnew TypeReferenceType(\"... 89 more ...\", [], false, false),\nnew LiteralTypeType(\"readerurlintitle\", false, false)], false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"...\", [], false, false)], false, false), false, false), true)],\n[\"push\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"pull\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"setURL\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false),new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"set\", new SymbolMetadata(\"Full target specification, then value\\n\\ne.g.\\n    set(\\\"nmaps\\\", \\\"o\\\", \\\"open\\\")\\n    set(\\\"search\\\", \\\"default\\\", \\\"google\\\")\\n    set(\\\"aucmd\\\", \\\"BufRead\\\", \\\"memrise.com\\\", \\\"open memrise.com\\\")\", new FunctionType([new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"unsetURL\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false),new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"unset\", new SymbolMetadata(\"Delete the key at target in USERCONFIG if it exists\", new FunctionType([new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"save\", new SymbolMetadata(\"Save the config back to storage API.\\n\\nConfig is not synchronised between different instances of this module until\\nsometime after this happens.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"update\", new SymbolMetadata(\"Updates the config to the latest version.\\nProposed semantic for config versionning:\\n- x.y -> x+1.0 : major architectural changes\\n- x.y -> x.y+1 : renaming settings/changing their types\\nThere's no need for an updater if you're only adding a new setting/changing\\na default setting\\n\\nWhen adding updaters, don't forget to set(\\\"configversion\\\", newversionnumber)!\", new FunctionType([], new TypeReferenceType(\"Promise\", [new BooleanType(false, false)], false, false), false, false), true)],\n[\"init\", new SymbolMetadata(\"Read all user configuration from storage API then notify any waiting asynchronous calls\\n\\nasynchronous calls generated by getAsync.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"addChangeListener\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"P\", [], false, false),new FunctionType([new AnyType(true, false),new AnyType(true, false)], new VoidType(false, false), false, false)], new VoidType(false, false), false, false), true)],\n[\"removeChangeListener\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"P\", [], false, false),new FunctionType([new AnyType(true, false),new AnyType(true, false)], new VoidType(false, false), false, false)], new VoidType(false, false), false, false), true)],\n[\"parseConfig\", new SymbolMetadata(\"Parse the config into a string representation of a .tridactylrc config file.\\nTries to parse the config into sectionable chunks based on keywords.\\nBinds, aliases, autocmds and logging settings each have their own section while the rest are dumped into \\\"General Settings\\\".\", new FunctionType([], new StringType(false, false), false, false), false)]]))]]))\n\nexport let staticThemes = [\"auto\",\"dark\",\"default\",\"greenmat\",\"halloween\",\"midnight\",\"quake\",\"quakelight\",\"shydactyl\"]\n", "import * as Completions from \"@src/completions\"\nimport * as Metadata from \"@src/.metadata.generated\"\nimport * as aliases from \"@src/lib/aliases\"\nimport * as config from \"@src/lib/config\"\n\nclass AproposCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public name: string, doc: string, flag: string) {\n        super()\n        this.value = `${flag} ${name}`\n        this.html = html`<tr class=\"AproposCompletionOption option\">\n            <td class=\"name\">${name}</td>\n            <td class=\"doc\">${doc}</td>\n        </tr>`\n    }\n}\n\nexport class AproposCompletionSource extends Completions.CompletionSourceFuse {\n    public options: AproposCompletionOption[]\n\n    constructor(private _parent) {\n        super([\"apropos\"], \"AproposCompletionSource\", \"Apropos\")\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        this.completion = undefined\n        const [prefix, query] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const file = Metadata.everything.getFile(\"src/lib/config.ts\")\n        const default_config = file.getClass(\"default_config\")\n        const excmds = Metadata.everything.getFile(\"src/excmds.ts\")\n        const fns = excmds.getFunctions()\n        const settings = config.get()\n        const exaliases = settings.exaliases\n        const bindings = settings.nmaps\n        if (\n            fns === undefined ||\n            exaliases === undefined ||\n            bindings === undefined\n        ) {\n            return\n        }\n\n        const flags = {\n            \"-a\": (options, query) =>\n                options.concat(\n                    Object.keys(exaliases)\n                        .filter(alias =>\n                            (\n                                alias +\n                                aliases.expandExstr(alias) +\n                                excmds.getFunction(aliases.expandExstr(alias))\n                            )\n                                .toLowerCase()\n                                .includes(query),\n                        )\n                        .map(alias => {\n                            const cmd = aliases.expandExstr(alias)\n                            const doc =\n                                (excmds.getFunction(cmd) || ({} as any)).doc ||\n                                \"\"\n                            return new AproposCompletionOption(\n                                alias,\n                                `Alias for \\`${cmd}\\`. ${doc}`,\n                                \"-a\",\n                            )\n                        }),\n                ),\n            \"-b\": (options, query) =>\n                options.concat(\n                    Object.keys(bindings)\n                        .filter(binding =>\n                            (binding + bindings[binding])\n                                .toLowerCase()\n                                .includes(query),\n                        )\n                        .map(\n                            binding =>\n                                new AproposCompletionOption(\n                                    binding,\n                                    `Normal mode binding for \\`${bindings[binding]}\\``,\n                                    \"-b\",\n                                ),\n                        ),\n                ),\n            \"-e\": (options, query) =>\n                options.concat(\n                    fns\n                        .filter(\n                            ([name, fn]) =>\n                                !fn.hidden &&\n                                (name + fn.doc).toLowerCase().includes(query),\n                        )\n                        .map(\n                            ([name, fn]) =>\n                                new AproposCompletionOption(\n                                    name,\n                                    `Excmd. ${fn.doc}`,\n                                    \"-e\",\n                                ),\n                        ),\n                ),\n            \"-s\": (options, query) =>\n                options.concat(\n                    Object.keys(settings)\n                        .filter(x =>\n                            (x + default_config.getMember(x).doc)\n                                .toLowerCase()\n                                .includes(query),\n                        )\n                        .map(setting => {\n                            const member = default_config.getMember(setting)\n                            let doc = \"\"\n                            if (member !== undefined) {\n                                doc = member.doc\n                            }\n                            return new AproposCompletionOption(\n                                setting,\n                                `Setting. ${doc}`,\n                                \"-s\",\n                            )\n                        }),\n                ),\n        }\n\n        const args = query.split(\" \")\n        let opts = []\n        if (Object.keys(flags).includes(args[0])) {\n            opts = flags[args[0]](opts, args.slice(1).join(\" \"))\n        } else {\n            opts = Object.keys(flags).reduce(\n                (acc, curFlag) => flags[curFlag](acc, query),\n                [],\n            )\n        }\n\n        this.options = opts\n        this.options.sort((compopt1, compopt2) =>\n            compopt1.name.localeCompare(compopt2.name),\n        )\n        return this.updateChain()\n    }\n\n    updateChain() {\n        // Options are pre-trimmed to the right length.\n        this.options.forEach(option => (option.state = \"normal\"))\n\n        // Call concrete class\n        return this.updateDisplay()\n    }\n}\n", "import { message } from \"@src/lib/messaging\"\n\nconst browserProxy = new Proxy(Object.create(null), {\n    get(target, api) {\n        return new Proxy(\n            {},\n            {\n                get(_, func) {\n                    return (...args) =>\n                        message(\n                            \"browser_proxy_background\",\n                            \"shim\",\n                            api,\n                            func,\n                            args,\n                        )\n                },\n            },\n        )\n    },\n}) as typeof browser\n\nexport default browserProxy\n", "/** URL handling utlity functions\n */\n\n/** Increment the last number in a URL.\n *\n * (perhaps this could be made so you can select the \"nth\" number in a\n * URL rather than just the last one?)\n *\n * @param url       the URL to increment\n * @param count     increment step to advance by (can be negative)\n * @return          the incremented URL, or null if cannot be incremented\n */\nexport function incrementUrl(url, count) {\n    const url_en=decodeURI(url)\n    const regex = /(.*?)(\\d+)(\\D*)$/\n    // Find the final number in a URL\n    const matches = regex.exec(url_en)\n\n    // no number in URL - nothing to do here\n    if (matches === null) {\n        return null\n    }\n\n    const [, pre, number, post] = matches\n    const newNumber = parseInt(number, 10) + count\n    let newNumberStr = String(newNumber > 0 ? newNumber : 0)\n\n    // Re-pad numbers that were zero-padded to be the same length:\n    // 0009 + 1 => 0010\n    if ((/^0/).exec(number)) {\n        while (newNumberStr.length < number.length) {\n            newNumberStr = \"0\" + newNumberStr\n        }\n    }\n\n    return encodeURI(pre + newNumberStr + post)\n}\n\n/** Get the root of a URL\n *\n * @param url   the url to find the root of\n * @return      the root of the URL, or the original URL when the URL isn't\n *              suitable for finding the root of.\n */\nexport function getUrlRoot(url) {\n    // exclude these special protocols for now;\n    if (/(about|mailto):/.test(url.protocol)) {\n        return null\n    }\n\n    // this works even for file:/// where the root is \"\"\n    return new URL(url.protocol + \"//\" + (url.host || \"\"))\n}\n\n/** Get the parent of the current URL. Parent is determined as:\n *\n * * if there is a hash fragment, strip that, or\n * * If there is a query string, strip that, or\n * * Remove one level from the path if there is one, or\n * * Remove one subdomain from the front if there is one\n *\n * @param url               the URL to get the parent of\n * @param trailingSlash     whether the returned URL has a trailing slash\n * @param count             how many \"generations\" you wish to go back (1 = parent, 2 = grandparent, etc.)\n * @return                  the parent of the URL, or null if there is no parent\n */\nexport function getUrlParent(url, trailingSlash, count = 1) {\n    // Helper function.\n    function gup(parent, trailingSlash, count) {\n        if (count < 1) {\n            // remove trailing slash(s) if desired\n            if (!trailingSlash) {\n                // remove 1 or more trailing slashes\n                parent.pathname = parent.pathname.replace(/\\/+$/, \"\")\n            }\n            return parent\n        }\n        // strip, in turn, hash/fragment and query/search\n        if (parent.hash) {\n            parent.hash = \"\"\n            return gup(parent, trailingSlash, count - 1)\n        }\n        if (parent.search) {\n            parent.search = \"\"\n            return gup(parent, trailingSlash, count - 1)\n        }\n\n        // empty path is '/'\n        if (parent.pathname !== \"/\") {\n            // Remove trailing slashes and everything to the next slash:\n            parent.pathname = parent.pathname.replace(/\\/[^\\/]*?\\/*$/, \"/\")\n            return gup(parent, trailingSlash, count - 1)\n        }\n\n        // strip off the first subdomain if there is one\n        {\n            const domains = parent.host.split(\".\")\n\n            // more than domain + TLD\n            if (domains.length > 2) {\n                // domains.pop()\n                parent.host = domains.slice(1).join(\".\")\n                return gup(parent, trailingSlash, count - 1)\n            }\n        }\n\n        // nothing to trim off URL, so no parent\n        return null\n    }\n\n    // exclude these special protocols where parents don't really make sense\n    if (/(about|mailto):/.test(url.protocol)) {\n        return null\n    }\n\n    const parent = new URL(url)\n    return gup(parent, trailingSlash, count)\n}\n\n/** Very incomplete lookup of extension for common mime types that might be\n * encountered when saving elements on a page. There are NPM libs for this,\n * but this should cover 99% of basic cases\n *\n * @param mime  mime type to get extension for (eg 'image/png')\n *\n * @return an extension for that mimetype, or undefined if that type is not\n * supported\n */\nfunction getExtensionForMimetype(mime: string): string {\n    const types = {\n        \"image/png\": \".png\",\n        \"image/jpeg\": \".jpg\",\n        \"image/gif\": \".gif\",\n        \"image/x-icon\": \".ico\",\n        \"image/svg+xml\": \".svg\",\n        \"image/tiff\": \".tiff\",\n        \"image/webp\": \".webp\",\n\n        \"text/plain\": \".txt\",\n        \"text/html\": \".html\",\n        \"text/css\": \".css\",\n        \"text/csv\": \".csv\",\n        \"text/calendar\": \".ics\",\n\n        \"application/octet-stream\": \".bin\",\n        \"application/javascript\": \".js\",\n        \"application/xhtml+xml\": \".xhtml\",\n\n        \"font/otf\": \".otf\",\n        \"font/woff\": \".woff\",\n        \"font/woff2\": \".woff2\",\n        \"font/ttf\": \".ttf\",\n    }\n\n    return types[mime] || \"\"\n}\n\n/** Get a suitable default filename for a given URL\n *\n * If the URL:\n *  - is a data URL, construct from the data and mimetype\n *  - has a path, use the last part of that (eg image.png, index.html)\n *  - otherwise, use the hostname of the URL\n *  - if that fails, \"download\"\n *\n * @param URL   the URL to make a filename for\n * @return      the filename according to the above rules\n */\nexport function getDownloadFilenameForUrl(url: URL): string {\n    // for a data URL, we have no really useful naming data intrinsic to the\n    // data, so we construct one using the data and guessing an extension\n    // from any mimetype\n    if (url.protocol === \"data:\") {\n        // data:[<mediatype>][;base64],<data>\n        const [prefix, data] = url.pathname.split(\",\", 2)\n\n        const [mediatype, b64] = prefix.split(\";\", 2)\n\n        // take a 15-char prefix of the data as a reasonably unique name\n        // sanitize in a very rough manner\n        let filename = data\n            .slice(0, 15)\n            .replace(/[^a-zA-Z0-9_\\-]/g, \"_\")\n            .replace(/_{2,}/g, \"_\")\n\n        // add a base64 prefix and the extension\n        filename =\n            (b64 ? b64 + \"-\" : \"\") +\n            filename +\n            getExtensionForMimetype(mediatype)\n\n        return filename\n    }\n\n    // if there's a useful path, use that directly\n    if (url.pathname !== \"/\") {\n        const paths = url.pathname.split(\"/\").slice(1)\n\n        // pop off empty pat bh tails\n        // e.g. https://www.mozilla.org/en-GB/firefox/new/\n        while (paths.length && !paths[paths.length - 1]) {\n            paths.pop()\n        }\n\n        if (paths.length) {\n            return paths.slice(-1)[0]\n        }\n    }\n\n    // if there's no path, use the domain (otherwise the FF-provided\n    // default is just \"download\"\n    return url.hostname || \"download\"\n}\n\n/**\n * Get an Array of the queries in a URL.\n *\n * These could be like \"query\" or \"query=val\"\n */\nfunction getUrlQueries(url: URL): string[] {\n    let qys = []\n\n    if (url.search) {\n        // get each query separately, leave the \"?\" off\n        qys = url.search.slice(1).split(\"&\")\n    }\n\n    return qys\n}\n\n/**\n * Update a URL with a new array of queries\n */\nfunction setUrlQueries(url: URL, qys: string[]) {\n    url.search = \"\"\n\n    if (qys.length) {\n        // rebuild string with the filtered list\n        url.search = \"?\" + qys.join(\"&\")\n    }\n}\n\n/**\n * Delete a query (and its value) in a URL\n *\n * If a query appears multiple times (which is a bit odd),\n * all instances are removed\n *\n * @param url           the URL to act on\n * @param query         the query to delete\n *\n * @return              the modified URL\n */\nexport function deleteQuery(url: URL, matchQuery: string): URL {\n    const newUrl = new URL(url.href)\n\n    const qys = getUrlQueries(url)\n\n    const new_qys = qys.filter(q => q.split(\"=\")[0] !== matchQuery)\n\n    setUrlQueries(newUrl, new_qys)\n\n    return newUrl\n}\n\n/**\n * Sets the value of a query in a URL with a specific one\n *\n * @param url           the URL to act on\n * @param matchQuery    the query key to set the value for\n * @param value         the value to use\n */\nexport function setQueryValue(\n    url: URL,\n    matchQuery: string,\n    value: string,\n): URL {\n    const newUrl = new URL(url.href)\n\n    // get each query separately, leave the \"?\" off\n    const qys = getUrlQueries(url)\n\n    // if the query exists just replace it\n    if (qys.map(q => q.split(\"=\")[0]).includes(matchQuery)) {\n        return replaceQueryValue(url, matchQuery, value)\n    }\n\n    // the query does not exist so add it\n    qys.push(matchQuery + \"=\" + value)\n    setUrlQueries(newUrl, qys)\n\n    return newUrl\n}\n\n/**\n * Replace the value of a query in a URL with a new one\n *\n * @param url           the URL to act on\n * @param matchQuery    the query key to replace the value for\n * @param newVal        the new value to use\n */\nexport function replaceQueryValue(\n    url: URL,\n    matchQuery: string,\n    newVal: string,\n): URL {\n    const newUrl = new URL(url.href)\n\n    // get each query separately, leave the \"?\" off\n    const qys = getUrlQueries(url)\n\n    const new_qys = qys.map(q => {\n        const [key] = q.split(\"=\")\n\n        // found a matching query key\n        if (q.split(\"=\")[0] === matchQuery) {\n            // return key=val or key as needed\n            if (newVal) {\n                return key + \"=\" + newVal\n            } else {\n                return key\n            }\n        }\n\n        // don't touch it\n        return q\n    })\n\n    setUrlQueries(newUrl, new_qys)\n\n    return newUrl\n}\n\n/**\n * Graft a new path onto some parent of the current URL\n *\n * E.g. grafting \"by-name/foobar\" onto the 2nd parent path:\n *      example.com/items/by-id/42 -> example.com/items/by-name/foobar\n *\n * @param url       the URL to modify\n * @param newTail   the new \"grafted\" URL path tail\n * @param level     the graft point in terms of path levels\n *                      >= 0: start at / and count right\n *                      <0: start at the current path and count left\n */\nexport function graftUrlPath(url: URL, newTail: string, level: number) {\n    const newUrl = new URL(url.href)\n\n    // path parts, ignore first /\n    const pathParts = url.pathname.split(\"/\").splice(1)\n\n    // more levels than we can handle\n    // (remember, if level <0, we start at -1)\n    if (\n        (level >= 0 && level > pathParts.length) ||\n        (level < 0 && -level - 1 > pathParts.length)\n    ) {\n        return null\n    }\n\n    const graftPoint = level >= 0 ? level : pathParts.length + level + 1\n\n    // lop off parts after the graft point\n    pathParts.splice(graftPoint, pathParts.length - graftPoint)\n\n    // extend part array with new parts\n    pathParts.push(...newTail.split(\"/\"))\n\n    newUrl.pathname = pathParts.join(\"/\")\n\n    return newUrl\n}\n\n/**\n * Interpolates a query or other search item into a URL\n *\n * If the URL pattern contains \"%s\", the query is interpolated there. If not,\n * it is appended to the end of the pattern.\n *\n * If the interpolation point is in the query string of the URL, it is\n * percent encoded, otherwise it is is inserted verbatim.\n *\n * @param urlPattern        a URL to interpolate/append a query to\n * @param query             a query to interpolate/append into the URL\n *\n * @return                  the URL with the query encoded (if needed) and\n *                          inserted at the relevant point\n */\nexport function interpolateSearchItem(urlPattern: URL, query: string): URL {\n    const hasInterpolationPoint = urlPattern.href.includes(\"%s\")\n\n    let queryWords = query.split(\" \")\n\n    // percent-encode if theres a %s in the query string, or if we're apppending\n    // and there's a query string\n    if (\n        (hasInterpolationPoint && urlPattern.search.includes(\"%s\")) ||\n        urlPattern.search !== \"\"\n    ) {\n        query = encodeURIComponent(query)\n        queryWords = queryWords.map(w => encodeURIComponent(w))\n    }\n\n    // replace or append as needed\n    if (hasInterpolationPoint) {\n        const resultingURL = new URL(\n            urlPattern.href.replace(/%s\\d+/g, function (x) {\n                const index = parseInt(x.slice(2), 10) - 1\n                if (index >= queryWords.length) {\n                    return \"\"\n                }\n\n                return queryWords[index]\n            }).replace(/%s\\[(-?\\d+)?:(-?\\d+)?\\]/g, function(match, p1, p2) {\n                const l = (x => x >= 1 ? x - 1 : x)\n                // slices are 1-indexed\n                const start = p1 ? l(parseInt(p1, 10)) : 0;\n                const slice = p2 ?\n                    queryWords.slice(start, l(parseInt(p2, 10))) :\n                    queryWords.slice(start)\n                return slice.join(\" \")\n            }),\n        )\n\n        return new URL(resultingURL.href.replace(\"%s\", query))\n    } else {\n        return new URL(urlPattern.href + query)\n    }\n}\n\n/**\n * @param url May be either an absolute or a relative URL.\n * @param baseURI The URL the absolute URL should be relative to. This is\n * usually the URL of the current page.\n */\nexport function getAbsoluteURL(url: string, baseURI: string = document.baseURI) {\n    // We can choose between using complicated RegEx and string manipulation,\n    // or just letting the browser do it for us. The latter is probably safer,\n    // which should make it worth the (small) overhead of constructing an URL\n    // just for this.\n    return new URL(url, baseURI).href\n}\n", "import * as convert from \"@src/lib/convert\"\nimport browserProxy from \"@src/lib/browser_proxy\"\nimport * as config from \"@src/lib/config\"\nimport * as UrlUtil from \"@src/lib/url_util\"\nimport { sleep } from \"@src/lib/patience\"\nimport * as R from \"ramda\"\n\nexport async function getSortedTabs(\n    forceSort?: \"mru\" | \"default\",\n): Promise<browser.tabs.Tab[]> {\n    const sortAlg = forceSort ?? config.get(\"tabsort\")\n    const comp =\n        sortAlg === \"mru\"\n            ? (a, b) =>\n                  +a.active || -b.active || b.lastAccessed - a.lastAccessed\n            : (a, b) => a.index - b.index\n    const hiddenVal = config.get(\"tabshowhidden\") === \"true\" ? undefined : false\n    return browserBg.tabs\n        .query({\n            currentWindow: true,\n            hidden: hiddenVal,\n        })\n        .then(tabs => tabs.sort(comp))\n}\n\nexport function inContentScript() {\n    return getContext() === \"content\"\n}\n\nexport function getTriVersion() {\n    const manifest = browser.runtime.getManifest()\n\n    // version_name only really exists in Chrome\n    // but we're using it anyway for our own purposes\n    return (\n        manifest as browser._manifest.WebExtensionManifest & {\n            version_name: string\n        }\n    ).version_name\n}\n\nexport function getPrettyTriVersion() {\n    const manifest = browser.runtime.getManifest()\n    return manifest.name + \" \" + getTriVersion()\n}\n\nexport function notBackground() {\n    return getContext() !== \"background\"\n}\n\n/** WebExt code can be run from three contexts:\n\n    Content script\n    Extension page\n    Background page\n*/\nexport function getContext() {\n    if (!browser.tabs) {\n        return \"content\"\n    } else if (\n        browser.runtime.getURL(\"_generated_background_page.html\") ===\n        window.location.href\n    ) {\n        return \"background\"\n    } else {\n        return \"extension\"\n    }\n}\n\n// Make this library work for both content and background.\nexport const browserBg = inContentScript() ? browserProxy : browser\n\n/** The first active tab in the currentWindow.\n *\n * TODO: Highlander theory: Can there ever be more than one?\n *\n */\nexport async function activeTab() {\n    return (\n        await browserBg.tabs.query({\n            active: true,\n            currentWindow: true,\n        })\n    )[0]\n}\n\nexport async function activeTabId() {\n    return (await activeTab()).id\n}\n\nexport async function prevActiveTab() {\n    const tabs = (\n        await browserBg.tabs.query({\n            currentWindow: true,\n        })\n    ).sort((a, b) => b.lastAccessed - a.lastAccessed)\n\n    if (tabs.length > 1) return tabs[1]\n    return tabs[0]\n}\n\n/**\n * Return the active window's id.\n *\n */\nexport async function activeWindowId() {\n    return (await browserBg.windows.getCurrent()).id\n}\n\nexport async function removeActiveWindowValue(value) {\n    browserBg.sessions.removeWindowValue(await activeWindowId(), value)\n}\n\nexport async function activeTabContainerId() {\n    return (await activeTab()).cookieStoreId\n}\n\nexport async function ownTab() {\n    // Warning: this relies on the owntab_background listener being set in messaging.ts in order to work\n    return browser.runtime.sendMessage({ type: \"owntab_background\" })\n}\n\nexport async function ownTabId() {\n    return (await ownTab()).id\n}\n\nasync function windows() {\n    return (await browserBg.windows.getAll())\n        .map(w => w.id)\n        .sort((a, b) => a - b)\n}\n\n/* Returns Tridactyl's window index. */\nexport async function ownWinTriIndex() {\n    return (await windows()).indexOf((await ownTab()).windowId)\n}\n\n/* Returns mozilla's internal window id from Tridactyl's index. */\nexport async function getWinIdFromIndex(index: string) {\n    return (await windows())[index]\n}\n\nexport async function ownTabContainer() {\n    return browserBg.contextualIdentities.get((await ownTab()).cookieStoreId)\n}\n\nexport async function activeTabContainer() {\n    const containerId = await activeTabContainerId()\n    if (containerId !== \"firefox-default\")\n        return browserBg.contextualIdentities.get(containerId)\n    else\n        throw new Error(\n            \"firefox-default is not a valid contextualIdentity (activeTabContainer)\",\n        )\n}\n\n/** Compare major firefox versions */\nexport async function firefoxVersionAtLeast(desiredmajor: number) {\n    const versionstr = (await browserBg.runtime.getBrowserInfo()).version\n    const actualmajor = convert.toNumber(versionstr.split(\".\")[0])\n    return actualmajor >= desiredmajor\n}\n\n/** Simpler tabs.create option.\n\n    If related = true && relatedopenpos = 'related' then open a new tab with\n    some URL as if that URL had been middle clicked on the current tab. If\n    relatedopenpos = 'next', open it as the next tab. If 'last', open it last\n    and don't tell Firefox who opened it.\n\n    Similarly for tabopenpos, but only tell FF that the newtab is related to\n    the activeTab if tabopenpos == 'related'.\n\n    i.e. place that tab just after the current tab and set openerTabId\n*/\nexport async function openInNewTab(\n    url: string,\n\n    // NB: defaults are actually enforced just below\n    kwargs: { active?; related?; cookieStoreId?; bypassFocusHack?; discarded? } = {\n        active: true,\n        related: false,\n        cookieStoreId: undefined,\n        bypassFocusHack: false,\n        discarded: false,\n    },\n\n    waitForDOM = false,\n) {\n    // Ensure sensible defaults are used\n    kwargs = R.mergeLeft(kwargs, {\n        active: true,\n        related: false,\n        cookieStoreId: undefined,\n        bypassFocusHack: false,\n        discarded: false,\n    })\n\n    const thisTab = await activeTab()\n    const options: Parameters<typeof browser.tabs.create>[0] = {\n        active: kwargs.bypassFocusHack,\n        url,\n        cookieStoreId: kwargs.cookieStoreId,\n        discarded: kwargs.discarded,\n    }\n\n    // Be nice to behrmann, #342\n    let pos\n    if (kwargs.related) pos = config.get(\"relatedopenpos\")\n    else pos = config.get(\"tabopenpos\")\n    switch (pos) {\n        case \"next\":\n            options.index = thisTab.index + 1\n            if (kwargs.related && (await firefoxVersionAtLeast(57)))\n                options.openerTabId = thisTab.id\n            break\n        case \"last\":\n            // Infinity can't be serialised, apparently.\n            options.index = (\n                await browserBg.tabs.query({\n                    currentWindow: true,\n                })\n            ).length\n            break\n        case \"related\":\n            if (await firefoxVersionAtLeast(57)) {\n                options.openerTabId = thisTab.id\n            } else {\n                options.index = thisTab.index + 1\n            }\n            break\n    }\n\n    const tabCreateWrapper = async options => {\n        const tab = await browserBg.tabs.create(options)\n        const answer: Promise<browser.tabs.Tab> = new Promise(resolve => {\n            // This can't run in content scripts, obviously\n            // surely we never call this from a content script?\n            if (waitForDOM) {\n                const listener = (message, sender) => {\n                    if (\n                        message === \"dom_loaded_background\" &&\n                        sender?.tab?.id === tab.id\n                    ) {\n                        browserBg.runtime.onMessage.removeListener(listener)\n                        resolve(tab)\n                    }\n                }\n                browserBg.runtime.onMessage.addListener(listener)\n            } else {\n                resolve(tab)\n            }\n        })\n        // Return on slow- / extremely quick- loading pages anyway\n        return Promise.race([\n            answer,\n            (async () => {\n                await sleep(750)\n                return tab\n            })(),\n        ])\n    }\n    if (kwargs.active === false) {\n        // load in background\n        return tabCreateWrapper(options)\n    } else {\n        // load in background and then activate, per issue #1993\n        return tabCreateWrapper(options).then(newtab =>\n            browserBg.tabs.update(newtab.id, { active: true }),\n        )\n    }\n}\n\n// lazily copied from excmds.ts' winopen - forceURI really ought to be moved to lib/webext\n// Should consider changing interface of this to match openInNewTab or vice versa\nexport function openInNewWindow(createData = {}) {\n    browserBg.windows.create(createData)\n}\n\n// Returns object if we should use the search engine instead\nexport async function queryAndURLwrangler(\n    query: string[],\n): Promise<string | { engine?: string; query: string }> {\n    let address = query.join(\" \")\n\n    if (address === \"\") {\n        address = config.get(\"newtab\")\n    }\n\n    // Special ritual for about:newtab: we can access it but only if we don't ask for it\n    if (address === \"about:newtab\") {\n        return undefined\n    }\n\n    const index = address.indexOf(\" \")\n    let firstWord = address\n    if (index > -1) firstWord = address.substr(0, index)\n\n    if (firstWord === \"\") {\n        // No query, no newtab set, the user is asking for Tridactyl's newtab page, which we deal with in :tabopen / :open directly\n        return undefined\n    }\n\n    // Perhaps the user typed a URL?\n    if (/^[a-zA-Z0-9+.-]+:[^\\s:]/.test(address)) {\n        try {\n            return new URL(address).href\n        } catch (e) {\n            // Not a problem, we'll treat address as a regular search query\n        }\n    }\n\n    // `+ 1` because we want to get rid of the space\n    const rest = address.substr(firstWord.length + 1)\n\n    const expandRecursively = (name, dict, prevExpansions = []) => {\n        if (name in dict) {\n            if (prevExpansions.includes(name)) {\n                throw new Error(\n                    `Infinite loop detected while expanding ${name}. Stack: ${prevExpansions}.`,\n                )\n            }\n            prevExpansions.push(name)\n            return expandRecursively(dict[name], dict, prevExpansions)\n        }\n        return name\n    }\n\n    const searchurls = config.get(\"searchurls\")\n    const template = expandRecursively(firstWord, searchurls)\n    if (template != firstWord) {\n        const url = UrlUtil.interpolateSearchItem(new URL(template), rest)\n        // firstWord is a searchurl, so let's use that\n        return url.href\n    }\n\n    const jsurls = config.get(\"jsurls\")\n    const js = expandRecursively(firstWord, jsurls)\n    if (js != firstWord) {\n        return eval(js)(rest)\n    }\n\n    const searchEngines = await browserBg.search.get()\n    let engine = searchEngines.find(engine => engine.alias === firstWord)\n    // Maybe firstWord is the name of a firefox search engine?\n    if (engine !== undefined) {\n        return { engine: engine.name, query: rest }\n    }\n\n    // Maybe it's a domain without protocol\n    try {\n        const url = new URL(\"http://\" + address)\n        // Ignore unlikely domains\n        if (url.hostname.indexOf(\".\") > 0 || url.port || url.password) {\n            return url.href\n        }\n    } catch (e) {}\n\n    // Let's default to the user's search engine then\n\n    // if firstWord is \"search\", remove it from the query.\n    // This allows users to search for a URL or a word they defined as searchurl\n    let queryString = address\n    if (firstWord === \"search\") {\n        queryString = rest\n    }\n\n    const enginename = config.get(\"searchengine\")\n    // firstWord is neither a searchurl nor a search engine, let's see if a search engine has been defined in Tridactyl\n    if (enginename) {\n        if (searchurls[enginename]) {\n            const url = UrlUtil.interpolateSearchItem(\n                new URL(searchurls[enginename]),\n                queryString,\n            )\n            return url.href\n        }\n\n        engine = searchEngines.find(engine => engine.alias === enginename)\n        if (engine !== undefined) {\n            return { engine: engine.name, query: queryString }\n        }\n    }\n\n    // No search engine has been defined in Tridactyl, let's use firefox's default search engine\n    return { query: queryString }\n}\n\nexport async function openInTab(tab, opts = {}, strarr: string[]) {\n    const maybeURL = await queryAndURLwrangler(strarr)\n    if (typeof maybeURL === \"string\") {\n        return browserBg.tabs.update(\n            tab.id,\n            Object.assign({ url: maybeURL }, opts),\n        )\n    }\n    if (typeof maybeURL === \"object\") {\n        return browserBg.search.search({ tabId: tab.id, ...maybeURL })\n    }\n\n    // Fall back to our new tab page\n    return browserBg.tabs.update(\n        tab.id,\n        Object.assign({ url: \"/static/newtab.html\" }, opts),\n    )\n}\n\n/**\n * Set active the tab with tabId and focus the window it is located in.\n * @param tabId tab identifier\n */\nexport async function goToTab(tabId: number) {\n    const tab = await browserBg.tabs.update(tabId, { active: true })\n    await browserBg.windows.update(tab.windowId, { focused: true })\n    return tab\n}\n", "/**\n * Helper functions for logging\n */\n\nimport * as Config from \"@src/lib/config\"\n\nconst LevelToNum = new Map<Config.LoggingLevel, number>()\nLevelToNum.set(\"never\", 0)\nLevelToNum.set(\"error\", 1)\nLevelToNum.set(\"warning\", 2)\nLevelToNum.set(\"info\", 3)\nLevelToNum.set(\"debug\", 4)\n\nexport class Logger {\n    /**\n     * Config-aware Logger class.\n     *\n     * @param logModule     the logging module name: this is ued to look up the\n     *                      configured/default level in the user config\n     */\n    constructor(private logModule) {}\n\n    /**\n     * Config-aware logging function.\n     *\n     * @param level         the level of the logging - if <= configured, the message\n     *                      will be shown\n     *\n     * @return              logging function: this is returned as a function to\n     *                      retain the call site\n     */\n    private log(level: Config.LoggingLevel) {\n        const configedLevel = Config.get(\"logging\", this.logModule)\n\n        if (LevelToNum.get(level) <= LevelToNum.get(configedLevel)) {\n            // hand over to console.log, error or debug as needed\n            switch (level) {\n                case \"error\":\n                    // TODO: replicate this for other levels, don't steal focus\n                    // work out how to import messaging/webext without breaking everything\n                    return async (...message) => {\n                        console.error(...message)\n                        return browser.runtime.sendMessage({\n                            type: \"controller_background\",\n                            command: \"acceptExCmd\",\n                            args: [\n                                \"fillcmdline_nofocus # \" + message.join(\" \"),\n                            ],\n                        })\n                    }\n                case \"warning\":\n                    return console.warn\n                case \"info\":\n                    return console.log\n                case \"debug\":\n                    return console.debug\n            }\n        }\n\n        // do nothing with the message\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        return function () {}\n    }\n\n    // These are all getters so that logger.debug = console.debug and\n    // logger.debug('blah') translates into console.debug('blah') with the\n    // filename and line correct.\n    public get debug() {\n        return this.log(\"debug\")\n    }\n    public get info() {\n        return this.log(\"info\")\n    }\n    public get warning() {\n        return this.log(\"warning\")\n    }\n    public get error() {\n        return this.log(\"error\")\n    }\n}\n\nexport default Logger\n", "import { browserBg, activeTabId, ownTabId, getContext } from \"@src/lib/webext\"\nimport * as Messages from \"@src/message_protocols\"\nimport Logger from \"@src/lib/logging\"\nconst logger = new Logger(\"messaging\")\n\nexport type TabMessageType =\n    | \"editorfn_content\"\n    | \"excmd_content\"\n    | \"controller_content\"\n    | \"commandline_content\"\n    | \"finding_content\"\n    | \"commandline_cmd\"\n    | \"commandline_frame\"\n    | \"state\"\n    | \"lock\"\n    | \"alive\"\n    | \"tab_changes\"\n\nexport type NonTabMessageType =\n    | \"owntab_background\"\n    | \"excmd_background\"\n    | \"controller_background\"\n    | \"browser_proxy_background\"\n    | \"download_background\"\n    | \"performance_background\"\nexport type MessageType = TabMessageType | NonTabMessageType\n\nexport interface Message {\n    [key: string]: any\n    type: MessageType\n    // and other unknown attributes...\n}\n\nexport type listener = (\n    message: Message,\n    sender?,\n    sendResponse?,\n) => void | Promise<any>\n\n// Calls methods on obj that match .command and sends responses back\nexport function attributeCaller(obj) {\n    function handler(message: Message, sender, sendResponse) {\n        logger.debug(message)\n\n        // Args may be undefined, but you can't spread undefined...\n        if (message.args === undefined) message.args = []\n\n        // Call command on obj\n        try {\n            const response = obj[message.command](...message.args)\n\n            // Return response to sender\n            if (response instanceof Promise) {\n                logger.debug(\"Returning promise...\", response)\n                sendResponse(response)\n                // Docs say you should be able to return a promise, but that\n                // doesn't work.\n                /* return response */\n            } else if (response !== undefined) {\n                logger.debug(\"Returning synchronously...\", response)\n                sendResponse(response)\n            }\n        } catch (e) {\n            logger.error(\n                `Error processing ${message.command}(${message.args})`,\n                e,\n            )\n            return Promise.reject(e)\n        }\n    }\n    return handler\n}\n\ninterface TypedMessage<\n    Root,\n    Type extends keyof Root,\n    Command extends keyof Root[Type]\n> {\n    type: Type\n    command: Command\n    args: Parameters<Root[Type][Command]>\n}\n\nfunction backgroundHandler<\n    Root,\n    Type extends keyof Root,\n    Command extends keyof Root[Type]\n>(\n    root: Root,\n    message: TypedMessage<Root, Type, Command>,\n): ReturnType<Root[Type][Command]> {\n    return root[message.type][message.command](...message.args)\n}\n\nexport function setupListener<Root>(root: Root) {\n    browser.runtime.onMessage.addListener(\n        (message: any) => {\n            if (message.type in root) {\n                if (!(message.command in root[message.type]))\n                    throw new Error(\n                        `missing handler in protocol ${message.type} ${message.command}`,\n                    )\n                if (!Array.isArray(message.args))\n                    throw new Error(\n                        `wrong arguments in protocol ${message.type} ${message.command}`,\n                    )\n                return Promise.resolve(backgroundHandler(root, message))\n            }\n        },\n    )\n}\n\n// type StripPromise<T> = T extends Promise<infer U> ? U : T\n\n/** Send a message to non-content scripts */\nexport async function message<\n    Type extends keyof Messages.Background,\n    Command extends keyof Messages.Background[Type],\n    F extends ((...args: any[]) => any) & Messages.Background[Type][Command]\n>(type: Type, command: Command, ...args: Parameters<F>) {\n    const message: TypedMessage<Messages.Background, Type, Command> = {\n        type,\n        command,\n        args,\n    }\n\n    // Typescript didn't like this\n    // return browser.runtime.sendMessage<typeof message, StripPromise<ReturnType<F>>>(message)\n    return browser.runtime.sendMessage(message)\n}\n\n/** Message the active tab of the currentWindow */\nexport async function messageActiveTab(\n    type: TabMessageType,\n    command: string,\n    args?: any[],\n) {\n    return messageTab(await activeTabId(), type, command, args)\n}\n\nexport async function messageTab(\n    tabId,\n    type: TabMessageType,\n    command?,\n    args?,\n): Promise<any> {\n    const message: Message = {\n        type,\n        command,\n        args,\n    }\n    return browserBg.tabs.sendMessage(tabId, message)\n}\n\nlet _ownTabId\nexport async function messageOwnTab(type: TabMessageType, command, args?) {\n    if (_ownTabId === undefined) {\n        _ownTabId = await ownTabId()\n    }\n    if (_ownTabId === undefined)\n        throw new Error(\"Can't message own tab: _ownTabId is undefined\")\n    return messageTab(_ownTabId, type, command, args)\n}\n\nexport async function messageAllTabs(\n    type: TabMessageType,\n    command: string,\n    args?: any[],\n) {\n    const responses = []\n    for (const tab of await browserBg.tabs.query({})) {\n        try {\n            responses.push(await messageTab(tab.id, type, command, args))\n        } catch (e) {\n            // Skip errors caused by tabs we aren't running on\n            if (\n                e.message !=\n                \"Could not establish connection. Receiving end does not exist.\"\n            ) {\n                logger.error(e)\n            }\n        }\n    }\n    return responses\n}\n\nconst listeners = new Map<string, Set<listener>>()\n\n/** Register a listener to be called for each message with type */\nexport function addListener(type: MessageType, callback: listener) {\n    if (!listeners.get(type)) {\n        listeners.set(type, new Set())\n    }\n    listeners.get(type).add(callback)\n    return () => {\n        listeners.get(type).delete(callback)\n    }\n}\n\nif (getContext() === \"background\") {\n    // Warning: lib/webext.ts:ownTab() relies on this listener being added in order to work\n    addListener(\"owntab_background\", (message, sender, sendResponse) => {\n        const x = Object.assign(Object.create(null), sender.tab)\n        x.mutedInfo = Object.assign(Object.create(null), sender.tab.mutedInfo)\n        x.sharingState = Object.assign(\n            Object.create(null),\n            sender.tab.sharingState,\n        )\n        sendResponse(Promise.resolve(x))\n    })\n}\n\n/** Recv a message from runtime.onMessage and send to all listeners */\nfunction onMessage(message, sender, sendResponse) {\n    if (listeners.get(message.type)) {\n        for (const listener of listeners.get(message.type)) {\n            listener(message, sender, sendResponse)\n        }\n    }\n}\n\nbrowser.runtime.onMessage.addListener(onMessage)\n", "import * as Messaging from \"@src/lib/messaging\"\nimport * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\n\nclass AutocmdCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public displayValue, public description, public value) {\n        super()\n        this.fuseKeys.push(value)\n\n        this.html = html`<tr class=\"AutocmdCompletionOption option\">\n            <td class=\"icon\" width=\"4ch\"><!-- Nothing here yet --></td>\n            <td class=\"displayValue\">${displayValue}</td>\n            <td class=\"description\">${description}</td>\n        </tr>`\n    }\n}\n\nexport class AutocmdCompletionSource extends Completions.CompletionSourceFuse {\n    public options: AutocmdCompletionOption[] = []\n    private shouldSetStateFromScore = true\n\n    constructor(private _parent) {\n        super(\n            [\"autocmd\", \"autocmddelete\"],\n            \"AutocmdCompletionSource\",\n            \"Autocommands\",\n        )\n\n        this.updateOptions()\n        this.shouldSetStateFromScore =\n            config.get(\"completions\", \"Autocmd\", \"autoselect\") === \"true\"\n        this._parent.appendChild(this.node)\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, this.shouldSetStateFromScore)\n    }\n\n    onInput(...whatever) {\n        return this.updateOptions(...whatever)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix, rest] = this.splitOnPrefix(exstr)\n        const args = rest ? rest.split(/\\s+/) : []\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n        const is_autocmddelete = /del/.test(prefix)\n        const filter_defined_autocmds = is_autocmddelete\n        const defined_autocmds = config.get(\"autocmds\")\n        // Config may contain empty dictionnaries if user deleted all patterns\n        // for an autocmd, filter these out\n        Object.keys(defined_autocmds).forEach(k => {\n            if (Object.keys(defined_autocmds[k]).length == 0) {\n                delete defined_autocmds[k]\n            }\n        })\n        if (args.length < 2) {\n            const all_autocmds = await Messaging.message(\n                \"excmd_background\",\n                \"getAutocmdEvents\",\n            )\n            let autocmds_to_suggest: string[]\n            if (filter_defined_autocmds) {\n                const defined_events = new Set(Object.keys(defined_autocmds))\n                autocmds_to_suggest = all_autocmds.filter(s =>\n                    defined_events.has(s),\n                )\n            } else {\n                autocmds_to_suggest = all_autocmds\n            }\n            if (args.length > 0) {\n                autocmds_to_suggest = autocmds_to_suggest.filter(s =>\n                    s.startsWith(args[0]),\n                )\n            }\n            this.options = autocmds_to_suggest\n                .sort((a, b) => a.localeCompare(b))\n                .map(event => {\n                    let value = event\n                    const patterns = Object.keys(defined_autocmds[event] || {})\n                    let description: string\n                    if (patterns.length == 0) {\n                        description = \"\"\n                    } else if (patterns.length == 1) {\n                        description = patterns[0]\n                        value = `${event} ${description}`\n                    } else if (patterns.length > 1) {\n                        description = `[${patterns.join(\", \")}]`\n                    }\n                    const opt = new AutocmdCompletionOption(\n                        event,\n                        description,\n                        value,\n                    )\n                    opt.state = \"normal\"\n                    return opt\n                })\n        } else if (args.length == 2) {\n            const event = args[0]\n            const pat = args[1]\n            const existing_patterns = Object.entries(defined_autocmds)\n                .filter(([e, _]) => !filter_defined_autocmds || e == event)\n                .map(([_, v]) => Object.entries(v))\n                .flat()\n            this.options = existing_patterns\n                .filter(([pattern, _]) => pattern.startsWith(pat))\n                .sort((a, b) => a[0].localeCompare(b[0]))\n                .map(([pattern, command]) => {\n                    // Only show a corresonding command when using\n                    // autocmddelete, to help the user find the right command.\n                    // It'd be confusing to offer existing command completion\n                    // for `autocmd` itself.\n                    let description = \"\"\n                    if (is_autocmddelete) {\n                        description = command\n                    }\n                    const opt = new AutocmdCompletionOption(\n                        pattern,\n                        description,\n                        `${event} ${pattern}`,\n                    )\n                    opt.state = \"normal\"\n                    return opt\n                })\n        } else {\n            this.options = []\n        }\n        return this.updateChain()\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\nimport * as Binding from \"@src/lib/binding\"\n\nclass BindingsCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(\n        public value: string,\n        binding: { name: string; value: string; mode: string },\n    ) {\n        super()\n        this.html = html`<tr class=\"BindingsCompletionOption option\">\n            <td class=\"name\">${binding.name}</td>\n            <td class=\"content\">${binding.value}</td>\n            <td class=\"type\">${binding.mode}</td>\n        </tr>`\n    }\n}\n\nexport class BindingsCompletionSource extends Completions.CompletionSourceFuse {\n    public options: BindingsCompletionOption[]\n\n    constructor(private _parent) {\n        super(\n            [\"bind\", \"unbind\", \"bindurl\", \"unbindurl\", \"reset\", \"reseturl\"],\n            \"BindingsCompletionSource\",\n            \"Bindings\",\n        )\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        let options = \"\"\n        let [prefix, query] = this.splitOnPrefix(exstr)\n        const args = query ? query.split(/\\s+/) : []\n        let configName = \"nmaps\"\n        let modeName = \"normal\"\n        let urlPattern: string = null\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        this.deselect()\n\n        // url pattern is mandatory: bindurl, unbindurl, reseturl\n        if (prefix.trim().endsWith(\"url\")) {\n            urlPattern = args.length > 0 ? args.shift() : \"\"\n            options += urlPattern ? urlPattern + \" \" : \"\"\n\n            if (args.length === 0) {\n                const patterns = config.get(\"subconfigs\")\n                this.options = Object.keys(patterns)\n                    .filter(pattern => pattern.startsWith(urlPattern))\n                    .sort()\n                    .map(\n                        pattern =>\n                            new BindingsCompletionOption(pattern, {\n                                name: pattern,\n                                value: \"\",\n                                mode: \"URL Pattern\",\n                            }),\n                    )\n\n                return this.updateChain()\n            }\n        }\n\n        // completion maps mode\n        if (args.length === 1 && args[0].startsWith(\"--m\")) {\n            const margs = args[0].split(\"=\")\n            if (\"--mode\".includes(margs[0])) {\n                const modeStr = margs.length > 1 ? margs[1] : \"\"\n                this.options = Binding.modes\n                    .filter(k => k.startsWith(modeStr))\n                    .map(\n                        name =>\n                            new BindingsCompletionOption(\n                                options + \"--mode=\" + name,\n                                {\n                                    name,\n                                    value: \"\",\n                                    mode: \"Mode Name\",\n                                },\n                            ),\n                    )\n                return this.updateChain()\n            }\n        }\n\n        if (args.length > 0 && args[0].startsWith(\"--mode=\")) {\n            const modeStr = args.shift()\n            const mode = modeStr.replace(\"--mode=\", \"\")\n\n            modeName = mode\n            if (Binding.maps2mode.has(mode + \"maps\")) {\n                modeName = Binding.maps2mode.get(mode + \"maps\")\n            }\n            configName = Binding.mode2maps.get(modeName)\n            options += `--mode=${modeName} `\n        }\n\n        if (!configName) {\n            this.options = []\n            return this.updateChain()\n        }\n\n        const bindings = urlPattern\n            ? config.getURL(urlPattern, [configName])\n            : config.get(configName as any)\n\n        if (bindings === undefined) {\n            this.options = []\n            return this.updateChain()\n        }\n\n        query = args.join(\" \").toLowerCase()\n        this.options = Object.keys(bindings)\n            .filter(x => x.toLowerCase().startsWith(query))\n            .sort()\n            .map(\n                keystr =>\n                    new BindingsCompletionOption(\n                        options + keystr,\n                        {\n                            name: keystr,\n                            value: JSON.stringify(bindings[keystr]),\n                            mode: `${configName} (${modeName})`,\n                        },\n                    ),\n            )\n\n        return this.updateChain()\n    }\n\n    updateChain() {\n        // Options are pre-trimmed to the right length.\n        this.options.forEach(option => (option.state = \"normal\"))\n\n        // Call concrete class\n        return this.updateDisplay()\n    }\n}\n", "import * as config from \"@src/lib/config\"\nimport { browserBg } from \"@src/lib/webext\"\n\nexport function newtaburl() {\n    // In the nonewtab version, this will return `null` and upset getURL.\n    // Ternary op below prevents the runtime error.\n    const newtab = browser.runtime.getManifest().chrome_url_overrides.newtab\n    return newtab !== null ? browser.runtime.getURL(newtab) : null\n}\n\nexport async function getBookmarks(query: string) {\n    // Search bookmarks, dedupe and sort by most recent.\n    let bookmarks = await browserBg.bookmarks.search({ query })\n\n    // Remove folder nodes and bad URLs\n    bookmarks = bookmarks.filter(b => {\n        try {\n            return new URL(b.url)\n        } catch (e) {\n            return false\n        }\n    })\n\n    bookmarks.sort((a, b) => b.dateAdded - a.dateAdded)\n\n    // Remove duplicate bookmarks\n    const seen = new Map<string, string>()\n    bookmarks = bookmarks.filter(b => {\n        if (seen.get(b.title) === b.url) return false\n        else {\n            seen.set(b.title, b.url)\n            return true\n        }\n    })\n\n    return bookmarks\n}\n\nexport async function getSearchUrls(query: string) {\n    const suconf = config.get(\"searchurls\")\n\n    const searchUrls = []\n    for (const prop in suconf) {\n        if (\n            Object.prototype.hasOwnProperty.call(suconf, prop) &&\n            prop.startsWith(query)\n        ) {\n            searchUrls.push({ title: prop, url: suconf[prop] })\n        }\n    }\n    return searchUrls\n}\n\nfunction frecency(item: browser.history.HistoryItem) {\n    // Doesn't actually care about recency yet.\n    return item.visitCount * -1\n}\n\nexport async function getHistory(\n    query: string,\n): Promise<browser.history.HistoryItem[]> {\n    // Search history, dedupe and sort by frecency\n    let history = await browserBg.history.search({\n        text: query,\n        maxResults: config.get(\"historyresults\"),\n        startTime: 0,\n    })\n\n    // Remove entries with duplicate URLs\n    const dedupe = new Map()\n    for (const page of history) {\n        if (page.url !== newtaburl()) {\n            if (dedupe.has(page.url)) {\n                if (dedupe.get(page.url).title.length < page.title.length) {\n                    dedupe.set(page.url, page)\n                }\n            } else {\n                dedupe.set(page.url, page)\n            }\n        }\n    }\n    history = [...dedupe.values()]\n\n    history.sort((a, b) => frecency(a) - frecency(b))\n\n    return history\n}\n\nexport async function getTopSites() {\n    return (await browserBg.topSites.get()).filter(\n        page => page.url !== newtaburl(),\n    )\n}\n\nexport async function getCombinedHistoryBmarks(\n    query: string,\n): Promise<Array<{ title: string; url: string }>> {\n    const [history, bookmarks, searchUrls] = await Promise.all([\n        getHistory(query),\n        getBookmarks(query),\n        getSearchUrls(query),\n    ])\n\n    // Join records by URL, using the title from bookmarks by preference.\n    const combinedMap = new Map<string, any>(\n        bookmarks.map(bmark => [\n            bmark.url,\n            { title: bmark.title, url: bmark.url, bmark },\n        ]),\n    )\n    history.forEach(page => {\n        if (combinedMap.has(page.url)) combinedMap.get(page.url).history = page\n        else\n            combinedMap.set(page.url, {\n                title: page.title,\n                url: page.url,\n                history: page,\n            })\n    })\n    searchUrls.forEach(su => {\n        combinedMap.set(su.url, {\n            title: su.title,\n            url: su.url,\n            search: true,\n        })\n    })\n\n    const score = x =>\n        (x.history ? frecency(x.history) : 0) -\n        (x.bmark ? config.get(\"bmarkweight\") : 0) -\n        (x.search ? config.get(\"searchurlweight\") : 0)\n\n    return Array.from(combinedMap.values()).sort((a, b) => score(a) - score(b))\n}\n", "import * as Completions from \"@src/completions\"\nimport * as providers from \"@src/completions/providers\"\nimport * as config from \"@src/lib/config\"\n\nclass BmarkCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(\n        public value: string,\n        bmark: browser.bookmarks.BookmarkTreeNode,\n    ) {\n        super()\n        if (!bmark.title) {\n            bmark.title = new URL(bmark.url).host\n        }\n\n        // Push properties we want to fuzmatch on\n        this.fuseKeys.push(bmark.title, bmark.url)\n\n        this.html = html`<tr class=\"BmarkCompletionOption option\">\n            <td class=\"prefix\">${\"\".padEnd(2)}</td>\n            <td class=\"title\">${bmark.title}</td>\n            <td class=\"content\">\n                <a class=\"url\" target=\"_blank\" href=${bmark.url}\n                    >${bmark.url}</a\n                >\n            </td>\n        </tr>`\n    }\n}\n\nexport class BmarkCompletionSource extends Completions.CompletionSourceFuse {\n    public options: BmarkCompletionOption[]\n    private shouldSetStateFromScore = true\n\n    constructor(private _parent) {\n        super([\"bmarks\"], \"BmarkCompletionSource\", \"Bookmarks\")\n\n        this._parent.appendChild(this.node)\n        this.sortScoredOptions = true\n        this.shouldSetStateFromScore =\n            config.get(\"completions\", \"Bmark\", \"autoselect\") === \"true\"\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        let [prefix, query] = this.splitOnPrefix(exstr)\n        let option = \"\"\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        if (query.startsWith(\"-t \")) {\n            option = \"-t \"\n            query = query.slice(3)\n        }\n        if (query.startsWith(\"-c\")) {\n            const args = query.split(\" \")\n            option += args.slice(0, 2).join(\" \")\n            option += \" \"\n            query = args.slice(2).join(\" \")\n        }\n\n        this.completion = undefined\n        this.options = (await providers.getBookmarks(query))\n            .slice(0, 10)\n            .map(page => new BmarkCompletionOption(option + page.url, page))\n\n        this.lastExstr = [prefix, query].join(\" \")\n        return this.updateChain()\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, this.shouldSetStateFromScore)\n    }\n\n    updateChain() {\n        const query = this.splitOnPrefix(this.lastExstr)[1]\n\n        if (query && query.trim().length > 0) {\n            this.setStateFromScore(this.scoredOptions(query))\n        } else {\n            this.options.forEach(option => (option.state = \"normal\"))\n        }\n\n        // Call concrete class\n        return this.updateDisplay()\n    }\n\n    select(option: Completions.CompletionOption) {\n        if (this.lastExstr !== undefined && option !== undefined) {\n            this.completion = \"bmarks \" + option.value\n            option.state = \"focused\"\n            this.lastFocused = option\n        } else {\n            throw new Error(\"lastExstr and option must be defined!\")\n        }\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as Metadata from \"@src/.metadata.generated\"\nimport * as config from \"@src/lib/config\"\nimport * as aliases from \"@src/lib/aliases\"\n\nexport class ExcmdCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n    constructor(public value: string, public documentation: string = \"\") {\n        super()\n        this.fuseKeys.push(this.value)\n\n        // Create HTMLElement\n        this.html = html`<tr class=\"ExcmdCompletionOption option\">\n            <td class=\"excmd\">${value}</td>\n            <td class=\"documentation\">${documentation}</td>\n        </tr>`\n    }\n}\n\nexport class ExcmdCompletionSource extends Completions.CompletionSourceFuse {\n    public options: ExcmdCompletionOption[]\n\n    constructor(private _parent) {\n        super([], \"ExcmdCompletionSource\", \"ex commands\")\n\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n    }\n\n    async filter(exstr) {\n        this.lastExstr = exstr\n        return this.onInput(exstr)\n    }\n\n    async onInput(exstr) {\n        return this.updateOptions(exstr)\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\n    updateChain(exstr = this.lastExstr, options = this.options) {\n        if (this.options.length > 0) this.state = \"normal\"\n        else this.state = \"hidden\"\n\n        this.updateDisplay()\n    }\n\n    select(option: ExcmdCompletionOption) {\n        this.completion = option.value\n        option.state = \"focused\"\n        this.lastFocused = option\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, false)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n\n        const excmds = Metadata.everything.getFile(\"src/excmds.ts\")\n        if (!excmds) return\n        const fns = excmds.getFunctions()\n\n        // Add all excmds that start with exstr and that tridactyl has metadata about to completions\n        this.options = this.scoreOptions(\n            fns\n                .filter(([name, fn]) => !fn.hidden && name.startsWith(exstr))\n                .map(([name, fn]) => new ExcmdCompletionOption(name, fn.doc)),\n        )\n\n        // Also narrow down aliases map to possible completions\n        const exaliasesConfig = config.get(\"exaliases\")\n        const exaliases = Object.keys(exaliasesConfig)\n            .filter(a => a.startsWith(exstr))\n            .reduce((obj, key) => {\n                obj[key] = exaliasesConfig[key]\n                return obj\n            }, {})\n\n        for (const alias of Object.keys(exaliases)) {\n            const cmd = aliases.expandExstr(alias, exaliases)\n            const fn = excmds.getFunction(cmd)\n\n            if (fn) {\n                this.options.push(\n                    new ExcmdCompletionOption(\n                        alias,\n                        `Alias for \\`${cmd}\\`. ${fn.doc}`,\n                    ),\n                )\n            } else {\n                // This can happen when the alias is a composite command or a command with arguments. We can't display doc because we don't know what parameter the alias takes or what it does.\n                this.options.push(\n                    new ExcmdCompletionOption(alias, `Alias for \\`${cmd}\\`.`),\n                )\n            }\n        }\n\n        // Add partial matched funcs like: 'conf' ~= 'viewconfig'\n        const seen = new Set(this.options.map(o => o.value))\n        const partial_options = this.scoreOptions(\n            fns\n                .filter(\n                    ([name, fn]) =>\n                        !fn.hidden && name.includes(exstr) && !seen.has(name),\n                )\n                .map(([name, fn]) => new ExcmdCompletionOption(name, fn.doc)),\n        )\n        this.options = this.options.concat(partial_options)\n\n        this.options.forEach(o => (o.state = \"normal\"))\n        return this.updateChain()\n    }\n\n    private scoreOptions(options: ExcmdCompletionOption[]) {\n        return options.sort((o1, o2) => o1.value.localeCompare(o2.value))\n\n        // Too slow with large profiles\n        // let histpos = state.cmdHistory.map(s => s.split(\" \")[0]).reverse()\n        // return exstrs.sort((a, b) => {\n        //     let posa = histpos.findIndex(x => x == a)\n        //     let posb = histpos.findIndex(x => x == b)\n        //     // If two ex commands have the same position, sort lexically\n        //     if (posa == posb) return a < b ? -1 : 1\n        //     // If they aren't found in the list they get lower priority\n        //     if (posa == -1) return 1\n        //     if (posb == -1) return -1\n        //     // Finally, sort by history position\n        //     return posa < posb ? -1 : 1\n        // })\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as ExcmdCompletions from \"@src/completions/Excmd\"\nimport * as Metadata from \"@src/.metadata.generated\"\nimport * as config from \"@src/lib/config\"\nimport * as aliases from \"@src/lib/aliases\"\n\nconst PREFIX = \"composite\"\nconst regex = new RegExp(\"^\" + PREFIX + \" \")\n\n// Most of this is copied verbatim from Excmd.ts - would have liked to inherit but constructor posed difficulties\nexport class CompositeCompletionSource extends Completions.CompletionSourceFuse {\n    public options: ExcmdCompletions.ExcmdCompletionOption[]\n\n    constructor(private _parent) {\n        super([PREFIX], \"CompositeCompletionSource\", \"ex commands\")\n\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n    }\n\n    async filter(exstr) {\n        this.lastExstr = exstr\n        return this.onInput(exstr)\n    }\n\n    async onInput(exstr) {\n        return this.updateOptions(exstr)\n    }\n\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\n    updateChain(exstr = this.lastExstr, options = this.options) {\n        if (this.options.length > 0) this.state = \"normal\"\n        else this.state = \"hidden\"\n\n        this.updateDisplay()\n    }\n\n    select(option: ExcmdCompletions.ExcmdCompletionOption) {\n        this.completion =\n            this.lastExstr.replace(\n                new RegExp(this.getendexstr(this.lastExstr) + \"$\"),\n                \"\",\n            ) + option.value\n        option.state = \"focused\"\n        this.lastFocused = option\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, false)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        const end_exstr = this.getendexstr(exstr)\n        this.lastExstr = exstr\n        const [prefix] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const excmds = Metadata.everything.getFile(\"src/excmds.ts\")\n        if (!excmds) return\n        const fns = excmds.getFunctions()\n\n        // Add all excmds that start with exstr and that tridactyl has metadata about to completions\n        this.options = this.scoreOptions(\n            fns\n                .filter(\n                    ([name, fn]) => !fn.hidden && name.startsWith(end_exstr),\n                )\n                .map(\n                    ([name, fn]) =>\n                        new ExcmdCompletions.ExcmdCompletionOption(\n                            name,\n                            fn.doc,\n                        ),\n                ),\n        )\n\n        // Also add aliases to possible completions\n        const exaliases = Object.keys(config.get(\"exaliases\")).filter(a =>\n            a.startsWith(end_exstr),\n        )\n        for (const alias of exaliases) {\n            const cmd = aliases.expandExstr(alias)\n            const fn = excmds.getFunction(cmd)\n            if (fn) {\n                this.options.push(\n                    new ExcmdCompletions.ExcmdCompletionOption(\n                        alias,\n                        `Alias for \\`${cmd}\\`. ${fn.doc}`,\n                    ),\n                )\n            } else {\n                // This can happen when the alias is a composite command or a command with arguments. We can't display doc because we don't know what parameter the alias takes or what it does.\n                this.options.push(\n                    new ExcmdCompletions.ExcmdCompletionOption(\n                        alias,\n                        `Alias for \\`${cmd}\\`.`,\n                    ),\n                )\n            }\n        }\n\n        this.options.forEach(o => (o.state = \"normal\"))\n        return this.updateChain()\n    }\n\n    private scoreOptions(options: ExcmdCompletions.ExcmdCompletionOption[]) {\n        return options.sort((o1, o2) => o1.value.localeCompare(o2.value))\n    }\n\n    private getendexstr(exstr) {\n        return exstr\n            .replace(regex, \"\")\n            .split(\"|\")\n            .slice(-1)[0]\n            .split(\";\")\n            .slice(-1)[0]\n            .trim()\n    }\n}\n", "/** Extensions and compatibility\n\n Looks us and communicates with other installed extensions so we can\n be compatible with them.\n\n */\n\n/** Friendly-names of extensions that are used in different places so\n    that we can refer to them with more readable and less magic ids.\n */\nexport const KNOWN_EXTENSIONS: { [name: string]: string } = {\n    temp_containers: \"{c607c8df-14a7-4f28-894f-29e8722976af}\",\n    multi_account_containers: \"@testpilot-containers\",\n}\n\n/** List of currently installed extensions.\n */\nconst installedExtensions: {\n    [id: string]: browser.management.ExtensionInfo\n} = {}\n\nfunction updateExtensionInfo(\n    extension: browser.management.ExtensionInfo,\n): void {\n    installedExtensions[extension.id] = extension\n}\n\nexport function getExtensionEnabled(id: string): boolean {\n    if (getExtensionInstalled(id)) {\n        return installedExtensions[id].enabled\n    } else {\n        return false\n    }\n}\n\nexport function getExtensionInstalled(id: string): boolean {\n    return id in installedExtensions\n}\n\nasync function hasManagementPermission() {\n    return browser.permissions.contains({\n        permissions: [\"management\"],\n    })\n}\n\n/** Read installed extensions to populate the list at startup time.\n */\nexport async function init() {\n    // If we don't have the permission, bail out. Our list of\n    // installed extensions will be left uninitialized, so all of our\n    // external interfaces will pretend that no other extensions\n    // exist. This SHOULD result in tridactyl acting the same as it\n    // did before the extension interoperability feature was added in\n    // the first place, which isn't a great loss.\n    const hasPermission = await hasManagementPermission()\n    if (!hasPermission) {\n        return\n    }\n\n    // Code borrowed from\n    // https://github.com/stoically/temporary-containers/blob/master/src/background/management.js\n    let extensions = []\n    try {\n        extensions = await browser.management.getAll()\n    } catch (e) {\n        return\n    }\n\n    for (const extension of extensions) {\n        installedExtensions[extension.id] = extension\n    }\n\n    browser.management.onInstalled.addListener(updateExtensionInfo)\n    browser.management.onEnabled.addListener(updateExtensionInfo)\n    browser.management.onDisabled.addListener(updateExtensionInfo)\n    browser.management.onUninstalled.addListener(updateExtensionInfo)\n}\n\n/** Return a list of extensions installed by the user.\n */\nexport async function listExtensions() {\n    await init()\n    return Object.keys(installedExtensions)\n        .map(key => installedExtensions[key])\n        .filter(obj => obj.optionsUrl.length > 0)\n}\n", "import * as Extensions from \"@src/lib/extension_info\"\nimport * as Completions from \"@src/completions\"\n\nclass ExtensionsCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public name: string, public optionsUrl: string) {\n        super()\n        this.fuseKeys.push(this.name)\n\n        this.html = html`<tr class=\"option\">\n            <td class=\"title\">${name}</td>\n        </tr>`\n    }\n}\n\nexport class ExtensionsCompletionSource extends Completions.CompletionSourceFuse {\n    public options: ExtensionsCompletionOption[]\n\n    constructor(private _parent) {\n        super([\"extoptions\"], \"ExtensionsCompletionSource\", \"Extension options\")\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        const [prefix, query] = this.splitOnPrefix(exstr)\n\n        if (prefix) {\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const extensions = await Extensions.listExtensions()\n\n        this.options = this.scoreOptions(\n            extensions\n                .filter(extension => extension.name.startsWith(query))\n                .map(\n                    extension =>\n                        new ExtensionsCompletionOption(\n                            extension.name,\n                            extension.optionsUrl,\n                        ),\n                ),\n        )\n\n        return this.updateChain()\n    }\n\n    updateChain() {\n        this.options.forEach(option => (option.state = \"normal\"))\n\n        return this.updateDisplay()\n    }\n\n    select(option: ExtensionsCompletionOption) {\n        this.completion = \"extoptions \" + option.name\n        option.state = \"focused\"\n        this.lastFocused = option\n    }\n\n    private scoreOptions(options: ExtensionsCompletionOption[]) {\n        return options.sort((o1, o2) => o1.name.localeCompare(o2.name))\n    }\n}\n", "/**\n * Background functions for the native messenger interface\n */\n\nimport semverCompare from \"semver-compare\"\nimport * as config from \"@src/lib/config\"\nimport { browserBg, getContext } from \"@src/lib/webext\"\n\nimport Logger from \"@src/lib/logging\"\nconst logger = new Logger(\"native\")\n\nconst NATIVE_NAME = \"tridactyl\"\ntype MessageCommand =\n    | \"version\"\n    | \"run\"\n    | \"run_async\"\n    | \"read\"\n    | \"write\"\n    | \"writerc\"\n    | \"temp\"\n    | \"list_dir\"\n    | \"mkdir\"\n    | \"move\"\n    | \"eval\" // Only works in native < 0.2.0 (NB: use \"run\" for non-Python eval)\n    | \"getconfig\"\n    | \"getconfigpath\"\n    | \"env\"\n    | \"win_firefox_restart\"\n    | \"ppid\" // Removed from Windows since native >= 0.2.0\ninterface MessageResp {\n    cmd: string\n    version: string | null\n    content: string | null\n    code: number | null\n    error: string | null\n}\n\n/**\n * Posts using the one-time message API; native is killed after message returns\n */\nexport async function sendNativeMsg(\n    cmd: MessageCommand,\n    opts: Record<string, unknown>,\n    quiet = false,\n): Promise<MessageResp> {\n    const send = Object.assign({ cmd }, opts)\n    let resp\n    logger.info(`Sending message: ${JSON.stringify(send)}`)\n\n    try {\n        resp = await browserBg.runtime.sendNativeMessage(NATIVE_NAME, send)\n        logger.info(`Received response:`, resp)\n        return resp as MessageResp\n    } catch (e) {\n        if (!quiet) {\n            throw new Error(\n                \"Failed to send message to native messenger. If it is correctly installed (run `:native`), please report this bug on https://github.com/tridactyl/tridactyl/issues .\",\n            )\n        }\n    }\n}\n\nexport async function getrcpath(\n    separator: \"unix\" | \"auto\" = \"auto\",\n): Promise<string> {\n    const res = await sendNativeMsg(\"getconfigpath\", {})\n\n    if (res.code !== 0) throw new Error(\"getrcpath error: \" + res.code)\n\n    if (\n        separator == \"unix\" &&\n        (await browserBg.runtime.getPlatformInfo()).os == \"win\"\n    ) {\n        return res.content.replace(/\\\\/g, \"/\")\n    } else {\n        return res.content\n    }\n}\n\nexport async function getrc(): Promise<string> {\n    const res = await sendNativeMsg(\"getconfig\", {})\n\n    if (res.content && !res.error) {\n        logger.info(`Successfully retrieved fs config:\\n${res.content}`)\n        return res.content\n    } else {\n        // Have to make this a warning as async exceptions apparently don't get caught\n        logger.info(`Error in retrieving config: ${res.error}`)\n    }\n}\n\nlet NATIVE_VERSION_CACHE: string\nexport async function getNativeMessengerVersion(\n    quiet = false,\n): Promise<string> {\n    if (NATIVE_VERSION_CACHE !== undefined) {\n        return NATIVE_VERSION_CACHE\n    }\n    const res = await sendNativeMsg(\"version\", {}, quiet)\n    if (res === undefined) {\n        if (quiet) return undefined\n        throw new Error(`Error retrieving version: ${res.error}`)\n    }\n    if (res.version && !res.error) {\n        logger.info(`Native version: ${res.version}`)\n        NATIVE_VERSION_CACHE = res.version.toString()\n        // Wipe cache after 500ms\n        setTimeout(() => (NATIVE_VERSION_CACHE = undefined), 500)\n        return NATIVE_VERSION_CACHE\n    }\n}\n\nexport async function getBestEditor(): Promise<string> {\n    const gui_candidates: string[] = []\n    const term_emulators: string[] = []\n    const tui_editors: string[] = []\n    const last_resorts: string[] = []\n    const os = (await browserBg.runtime.getPlatformInfo()).os\n    const arg_quote = os === \"win\" ? '\"' : \"'\"\n    const vim_positioning_arg = ` ${arg_quote}+normal!%lGzv%c|${arg_quote}`\n    if (os === \"mac\") {\n        gui_candidates.push(\n            ...[\n                \"/Applications/MacVim.app/Contents/bin/mvim -f\" +\n                    vim_positioning_arg,\n                \"/usr/local/bin/vimr --wait --nvim +only\",\n            ],\n        )\n        // if anyone knows of any \"sensible\" terminals that let you send them commands to run,\n        // please let us know in issue #451!\n        term_emulators.push(\n            ...[\n                \"/Applications/cool-retro-term.app/Contents/MacOS/cool-retro-term -e\",\n            ],\n        )\n        last_resorts.push(...[\"open -nWt\"])\n    } else {\n        // Tempted to put this behind another config setting: prefergui\n        gui_candidates.push(...[\"gvim -f\" + vim_positioning_arg])\n\n        // These terminal emulators can't normally be run on Windows, usually because they require X11.\n        if (os === \"linux\" || os === \"openbsd\") {\n            term_emulators.push(\n                ...[\n                    // we generally try to give the terminal the class \"tridactyl_editor\" so that\n                    // it can be made floating, e.g in i3:\n                    // for_window [class=\"tridactyl_editor\"] floating enable border pixel 1\n                    \"st -c tridactyl_editor\",\n                    \"xterm -class tridactyl_editor -e\",\n                    \"uxterm -class tridactyl_editor -e\",\n                    \"urxvt -e\",\n                    'termite --class tridactyl_editor -e \"%c\"',\n                    \"sakura --class tridactyl_editor -e\",\n                    \"lilyterm -e\",\n                    \"mlterm -N tridactyl_editor -e\",\n                    \"roxterm -e\",\n                    \"cool-retro-term -e\",\n                    // Terminator doesn't appear to honour -c, but the option is\n                    // documented in its manpage and seems to cause no errors when supplied.\n                    'terminator -u -c tridactyl_editor -e \"%c\"',\n                    // Gnome-terminal doesn't work consistently, see issue #1035\n                    // \"dbus-launch gnome-terminal --\",\n                ],\n            )\n        }\n        if (os === \"win\") {\n            term_emulators.push(\n                ...[\"conemu -run\", \"mintty --class tridactyl_editor -e\"],\n            )\n            if (await nativegate(\"0.2.1\", false)) {\n                term_emulators.push(\"start /wait\")\n            }\n        }\n        // These terminal emulators are cross-platform.\n        term_emulators.push(\n            ...[\n                \"alacritty --class tridactyl_editor -e\",\n\n                // I wanted to put hyper.js here as a joke but you can't start it running a command,\n                // which is a far better joke: a terminal emulator that you can't send commands to.\n                // You win this time, web artisans.\n                // Still true in 2021.\n            ],\n        )\n        last_resorts.push(\n            ...[\n                \"emacs\",\n                \"gedit\",\n                \"kate\",\n                \"sublime\",\n                \"atom -w\",\n                \"code -nw\",\n                \"abiword\",\n                \"notepad\",\n            ],\n        )\n    }\n\n    tui_editors.push(\n        ...[\n            \"vim\" + vim_positioning_arg,\n            \"nvim\" + vim_positioning_arg,\n            \"nano %f\",\n            \"emacs -nw %f\",\n        ],\n    )\n\n    // Try GUI editors.\n    const guicmd: string = await firstinpath(gui_candidates)\n    if (guicmd) {\n        return guicmd\n    }\n\n    // Try TUI editors.\n    const termcmd: string = await firstinpath(term_emulators)\n    const tuicmd: string = await firstinpath(tui_editors)\n    if (termcmd && tuicmd) {\n        if (termcmd.includes(\"%c\")) {\n            return tuicmd.replace(\"%c\", tuicmd)\n        } else {\n            return termcmd + \" \" + tuicmd\n        }\n    }\n\n    // If all else fails, try some stupid stuff to scare users into setting\n    // their editorcmd.\n    return await firstinpath(last_resorts)\n}\n\n/**\n * Used internally to gate off functions that use the native messenger. Gives a\n * helpful error message in the command line if the native messenger is not\n * installed, or is the wrong version.\n *\n * @arg version: A string representing the minimal required version.\n * @arg interactive: True if a message should be displayed on version mismatch.\n * @return false if the required version is higher than the currently available\n * native messenger version.\n */\nexport async function nativegate(\n    version = \"0\",\n    interactive = true,\n    desiredOS = [\"mac\", \"win\", \"linux\", \"openbsd\"],\n    // desiredOS = [\"mac\", \"win\", \"android\", \"cros\", \"linux\", \"openbsd\"]\n): Promise<boolean> {\n    if (!desiredOS.includes((await browserBg.runtime.getPlatformInfo()).os)) {\n        if (interactive) {\n            logger.error(\n                \"# Tridactyl's native messenger doesn't support your operating system, yet.\",\n            )\n        }\n        return false\n    }\n    try {\n        const actualVersion = await getNativeMessengerVersion()\n        if (actualVersion !== undefined) {\n            if (semverCompare(version, actualVersion) > 0) {\n                if (interactive)\n                    logger.error(\n                        \"# Please update to native messenger \" +\n                            version +\n                            \", for example by running `:updatenative`.\",\n                    )\n                // TODO: add update procedure and document here.\n                return false\n            }\n            return true\n        } else if (interactive)\n            logger.error(\n                \"# Native messenger not found. Please run `:installnative` and follow the instructions.\",\n            )\n        return false\n    } catch (e) {\n        if (interactive)\n            logger.error(\n                \"# Native messenger not found. Please run `:installnative` and follow the instructions.\",\n            )\n        return false\n    }\n}\n\nexport async function inpath(cmd) {\n    const pathcmd =\n        (await browserBg.runtime.getPlatformInfo()).os === \"win\"\n            ? \"where \"\n            : \"which \"\n    return (await run(pathcmd + cmd.split(\" \")[0])).code === 0\n}\n\nexport async function firstinpath(cmdarray) {\n    let ind = 0\n    let cmd = cmdarray[ind]\n    // Try to find a text editor\n    while (!(await inpath(cmd.split(\" \")[0]))) {\n        ind++\n        cmd = cmdarray[ind]\n        if (cmd === undefined) break\n    }\n    return cmd\n}\n\nexport async function editor(\n    file: string,\n    line: number,\n    col: number,\n    content?: string,\n) {\n    if (content !== undefined) await write(file, content)\n    const editorcmd = (config.get(\"editorcmd\") === \"auto\"\n        ? await getBestEditor()\n        : config.get(\"editorcmd\")\n    )\n        .replace(/%l/, line)\n        .replace(/%c/, col)\n    let exec\n    if (editorcmd.indexOf(\"%f\") !== -1) {\n        exec = await run(editorcmd.replace(/%f/, file))\n    } else {\n        exec = await run(editorcmd + \" \" + file)\n    }\n    if (exec.code != 0) return exec\n    return read(file)\n}\n\nexport async function read(file: string) {\n    return sendNativeMsg(\"read\", { file }).catch(e => {\n        throw new Error(`Failed to read ${file}. ${e}`)\n    })\n}\n\nexport async function write(file: string, content: string) {\n    return sendNativeMsg(\"write\", { file, content }).catch(e => {\n        throw new Error(`Failed to write '${content}' to '${file}'. ${e}`)\n    })\n}\n\nexport async function writerc(file: string, force: boolean, content: string) {\n    return sendNativeMsg(\"writerc\", { file, force, content }).catch(e => {\n        throw new Error(`Failed to write '${content}' to '${file}'. ${e}`)\n    })\n}\n\nexport async function mkdir(dir: string, exist_ok: boolean) {\n    return sendNativeMsg(\"mkdir\", { dir, exist_ok }).catch(e => {\n        throw new Error(`Failed to create directory '${dir}'. ${e}`)\n    })\n}\n\nexport async function temp(content: string, prefix: string) {\n    return sendNativeMsg(\"temp\", { content, prefix }).catch(e => {\n        throw new Error(\n            `Failed to write '${content}' to temp file '${prefix}'. ${e}`,\n        )\n    })\n}\n\nexport async function move(\n    from: string,\n    to: string,\n    overwrite: boolean,\n    cleanup: boolean,\n) {\n    const requiredNativeMessengerVersion = \"0.3.0\"\n    if ((await nativegate(requiredNativeMessengerVersion, false))) {\n        return sendNativeMsg(\"move\", { from, to, overwrite, cleanup }).catch(e => {\n            throw new Error(`Failed to move '${from}' to '${to}'. ${e}.`)\n        })\n    } else {\n        // older \"saveas\" scenario for native-messenger < 0.3.0\n        return sendNativeMsg(\"move\", { from, to }).catch(e => {\n            throw new Error(`Failed to move '${from}' to '${to}'. ${e}.`)\n        })\n    }\n\n}\n\nexport async function listDir(dir: string) {\n    return sendNativeMsg(\"list_dir\", { path: dir }).catch(e => {\n        throw new Error(`Failed to read directory '${dir}'. ${e}`)\n    })\n}\n\nexport async function winFirefoxRestart(\n    profiledir: string,\n    browsercmd: string,\n) {\n    const required_version = \"0.1.6\"\n\n    if (!(await nativegate(required_version, false))) {\n        throw new Error(\n            `'restart' on Windows needs native messenger version >= ${required_version}.`,\n        )\n    }\n\n    return sendNativeMsg(\"win_firefox_restart\", { profiledir, browsercmd })\n}\n\nexport async function run(command: string, content = \"\") {\n    const msg = await sendNativeMsg(\"run\", { command, content })\n    logger.info(msg)\n    return msg\n}\n\nexport async function runAsync(command: string) {\n    const required_version = \"0.3.1\"\n    if (!await nativegate(required_version, false)) {\n        throw new Error(\n            `runAsync needs native messenger version >= ${required_version}.`,\n        )\n    }\n    logger.info(await sendNativeMsg(\"run_async\", { command }))\n}\n\n/** Evaluates a string in the native messenger. This has to be python code. If\n *  you want to run shell strings, use run() instead.\n *\n *  Only works for native messenger versions < 0.2.0.\n */\nexport async function pyeval(command: string): Promise<MessageResp> {\n    return sendNativeMsg(\"eval\", { command })\n}\n\nexport async function getenv(variable: string) {\n    const required_version = \"0.1.2\"\n\n    if (!(await nativegate(required_version, false))) {\n        throw new Error(\n            `'getenv' needs native messenger version >= ${required_version}.`,\n        )\n    }\n\n    return (await sendNativeMsg(\"env\", { var: variable })).content\n}\n\n/** Calls an external program, to either set or get the content of the X selection.\n *  When setting the selection or if getting it failed, will return an empty string.\n **/\nexport async function clipboard(\n    action: \"set\" | \"get\",\n    str: string,\n): Promise<string> {\n    let clipcmd = await config.get(\"externalclipboardcmd\")\n    if (clipcmd === \"auto\") clipcmd = await firstinpath([\"xsel\", \"xclip\"])\n\n    if (clipcmd === undefined) {\n        throw new Error(\"Couldn't find an external clipboard executable\")\n    }\n\n    if (action === \"get\") {\n        const result = await run(clipcmd + \" -o\")\n        if (result.code !== 0) {\n            throw new Error(\n                `External command failed with code ${result.code}: ${clipcmd}`,\n            )\n        }\n        return result.content\n    } else if (action === \"set\") {\n        const required_version = \"0.1.7\"\n        if (await nativegate(required_version, false)) {\n            const result = await run(`${clipcmd} -i`, str)\n            if (result.code !== 0)\n                throw new Error(\n                    `External command failed with code ${result.code}: ${clipcmd}`,\n                )\n            return \"\"\n        } else {\n            // Fall back to hacky old fashioned way\n\n            // We're going to pretend that we don't know about stdin, and we need to insert str, which we can't trust, into the clipcmd\n            // In order to do this safely we'll use here documents:\n            // http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_07_04\n\n            // Find a delimiter that isn't in str\n            let heredoc = \"TRIDACTYL\"\n            while (str.search(heredoc) !== -1)\n                heredoc += Math.round(Math.random() * 10)\n\n            // Use delimiter to insert str into clipcmd's stdin\n            // We use sed to remove the newline added by the here document\n            clipcmd = `sed -z 's/.$//' <<'${heredoc}' | ${clipcmd} -i \\n${str}\\n${heredoc}`\n            await run(clipcmd)\n            return \"\"\n        }\n    }\n    throw new Error(\"Unknown action!\")\n}\n\n/**\n * This returns the commandline that was used to start Firefox.\n * You'll get both the binary (not necessarily an absolute path) and flags.\n */\nexport async function ff_cmdline(): Promise<string[]> {\n    let output: MessageResp\n    if ((await browserBg.runtime.getPlatformInfo()).os === \"win\") {\n        if (!(await nativegate(\"0.3.3\", false))) {\n            const browser_name = await config.get(\"browser\")\n            output = await run(\n                `powershell -NoProfile -Command \"\\\n$processes = Get-CimInstance -Property ProcessId,ParentProcessId,Name,CommandLine -ClassName Win32_Process;\\\nif (-not ($processes | where { $_.Name -match '^${browser_name}' })) { exit 1; };\\\n$ppid = ($processes | where { $_.ProcessId -EQ $PID }).ParentProcessId;\\\n$pproc = $processes | where { $_.ProcessId -EQ $ppid };\\\nwhile ($pproc.Name -notmatch '^${browser_name}') {\\\n    $ppid = $pproc.ParentProcessId;\\\n    $pproc = $processes | where { $_.ProcessId -EQ $ppid };\\\n};\\\nWrite-Output $pproc.CommandLine;\\\n\"`,\n            )\n        } else {\n            output = await run(\n                `powershell -NoProfile -Command \"\\\nGet-CimInstance -Property CommandLine,ProcessId -ClassName Win32_Process \\\n| where { $_.ProcessId -EQ ${(await sendNativeMsg(\"ppid\", {})).content} } \\\n| select -ExpandProperty CommandLine | Write-Output\\\n\"`\n            )\n        }\n    } else {\n        const actualVersion = await getNativeMessengerVersion()\n\n        // Backwards-compat for Python native messenger\n        if (semverCompare(\"0.2.0\", actualVersion) > 0) {\n            output = await pyeval(\n                // Using ' and + rather than ` because we don't want newlines\n                'handleMessage({\"cmd\": \"run\", ' +\n                    '\"command\": \"ps -p \" + str(os.getppid()) + \" -oargs=\"})[\"content\"]',\n            )\n        } else {\n            const ppid = (await sendNativeMsg(\"ppid\", {})).content.trim()\n            output = await run(\"ps -p \" + ppid + \" -oargs=\")\n        }\n        output.content = output.content.replace(\"\\n\", \"\")\n    }\n    return output.content.trim().split(\" \")\n}\n\nexport async function parseProfilesIni(content: string, basePath: string) {\n    const lines = content.split(\"\\n\")\n    let current = \"General\"\n    const result = {}\n    for (const line of lines) {\n        let match = /^\\[([^\\]]+)\\]$/.exec(line)\n        if (match !== null) {\n            current = match[1]\n            result[current] = {}\n        } else {\n            match = /^([^=]+)=([^=]+)$/.exec(line)\n            if (match !== null) {\n                result[current][match[1]] = match[2]\n            }\n        }\n    }\n    for (const profileName of Object.keys(result)) {\n        const profile = result[profileName]\n        // New profiles.ini have a useless section at the top\n        if (profile.Path == undefined) {\n            delete result[profileName]\n            continue\n        }\n        // On windows, profiles.ini paths will be expressed with `/`, but we're\n        // on windows, so we need `\\`\n        if ((await browserBg.runtime.getPlatformInfo()).os === \"win\") {\n            profile.Path = profile.Path.replace(\"/\", \"\\\\\")\n        }\n        // profile.IsRelative can be 0, 1 or undefined\n        if (profile.IsRelative === \"1\") {\n            profile.relativePath = profile.Path\n            profile.absolutePath = basePath + profile.relativePath\n        } else if (profile.IsRelative === \"0\") {\n            if (profile.Path.substring(0, basePath.length) !== basePath) {\n                throw new Error(\n                    `Error parsing profiles ini: basePath \"${basePath}\" doesn't match profile path ${profile.Path}`,\n                )\n            }\n            profile.relativePath = profile.Path.substring(basePath.length)\n            profile.absolutePath = profile.Path\n        }\n    }\n    return result\n}\n\nexport async function getFirefoxDir() {\n    switch ((await browserBg.runtime.getPlatformInfo()).os) {\n        case \"win\":\n            return getenv(\"APPDATA\").then(path => path + \"\\\\Mozilla\\\\Firefox\\\\\")\n        case \"mac\":\n            return getenv(\"HOME\").then(\n                path => path + \"/Library/Application Support/Firefox/\",\n            )\n        default:\n            return getenv(\"HOME\").then(path => path + \"/.mozilla/firefox/\")\n    }\n}\n\nexport async function getProfileUncached() {\n    const ffDir = await getFirefoxDir()\n    const iniPath = ffDir + \"profiles.ini\"\n    let iniObject = {}\n    let iniSucceeded = false\n    const iniContent = await read(iniPath)\n    if (iniContent.code === 0 && iniContent.content.length > 0) {\n        try {\n            iniObject = await parseProfilesIni(iniContent.content, ffDir)\n            iniSucceeded = true\n        } catch (e) {}\n    }\n    const curProfileDir = config.get(\"profiledir\")\n\n    // First, try to see if the 'profiledir' setting matches a profile in profile.ini\n    if (curProfileDir !== \"auto\") {\n        if (iniSucceeded) {\n            for (const profileName of Object.keys(iniObject)) {\n                const profile = iniObject[profileName]\n                if (profile.absolutePath === curProfileDir) {\n                    return profile\n                }\n            }\n        }\n        return {\n            Name: undefined,\n            IsRelative: \"0\",\n            Path: curProfileDir,\n            relativePath: undefined,\n            absolutePath: curProfileDir,\n        }\n    }\n\n    // Then, try to find a profile path in the arguments given to Firefox\n    const cmdline = await ff_cmdline().catch(() => \"\")\n    let profile = cmdline.indexOf(\"--profile\")\n    if (profile === -1) profile = cmdline.indexOf(\"-profile\")\n    if (profile >= 0 && profile < cmdline.length - 1) {\n        const profilePath = cmdline[profile + 1]\n        if (iniSucceeded) {\n            for (const profileName of Object.keys(iniObject)) {\n                const profile = iniObject[profileName]\n                if (profile.absolutePath === profilePath) {\n                    return profile\n                }\n            }\n        }\n        // We're running in a profile that isn't stored in profiles.ini\n        // Let's fill in the default info profile.ini profiles have anyway\n        return {\n            Name: undefined,\n            IsRelative: \"0\",\n            Path: profilePath,\n            relativePath: undefined,\n            absolutePath: profilePath,\n        }\n    }\n\n    if (iniSucceeded) {\n        // Try to find a profile name in firefox's arguments\n        let p = cmdline.indexOf(\"-p\")\n        if (p === -1) p = cmdline.indexOf(\"-P\")\n        if (p >= 0 && p < cmdline.length - 1) {\n            const pName = cmdline[p + 1]\n            for (const profileName of Object.keys(iniObject)) {\n                const profile = iniObject[profileName]\n                if (profile.Name === pName) {\n                    return profile\n                }\n            }\n            throw new Error(\n                `native.ts:getProfile() : '${cmdline[p]}' found in command line arguments but no matching profile name found in \"${iniPath}\"`,\n            )\n        }\n    }\n\n    // Still nothing, try to find a profile in use\n    let hacky_profile_finder = `find \"${ffDir}\" -maxdepth 2 -name lock`\n    if ((await browserBg.runtime.getPlatformInfo()).os === \"mac\")\n        hacky_profile_finder = `find \"${ffDir}\" -maxdepth 2 -name .parentlock`\n    const profilecmd = await run(hacky_profile_finder)\n    if (profilecmd.code === 0 && profilecmd.content.length !== 0) {\n        // Remove trailing newline\n        profilecmd.content = profilecmd.content.trim()\n        // If there's only one profile in use, use that to find the right profile\n        if (profilecmd.content.split(\"\\n\").length === 1) {\n            const path = profilecmd.content.split(\"/\").slice(0, -1).join(\"/\")\n            if (iniSucceeded) {\n                for (const profileName of Object.keys(iniObject)) {\n                    const profile = iniObject[profileName]\n                    if (profile.absolutePath === path) {\n                        return profile\n                    }\n                }\n            }\n            return {\n                Name: undefined,\n                IsRelative: \"0\",\n                Path: path,\n                relativePath: undefined,\n                absolutePath: path,\n            }\n        }\n    }\n\n    if (iniSucceeded) {\n        // Multiple profiles used but no -p or --profile, this means that we're using the default profile\n        for (const profileName of Object.keys(iniObject)) {\n            const profile = iniObject[profileName]\n            if (profile.Default === 1 || profile.Default === \"1\") {\n                return profile\n            }\n        }\n    }\n\n    throw new Error(\n        `Couldn't deduce which profile you want. See ':help profiledir'`,\n    )\n}\n\n// Disk operations are extremely slow on windows, let's cache our profile info\nlet cachedProfile\nexport async function getProfile() {\n    if (cachedProfile === undefined) cachedProfile = await getProfileUncached()\n    return cachedProfile\n}\n// It makes sense to pre-fetch this value in the background script because it's\n// long-lived. Other contexts are created and destroyed all the time so we\n// don't want to pre-fetch in these.\nif (getContext() === \"background\") {\n    getProfile()\n}\nconfig.addChangeListener(\"profiledir\", () => {\n    cachedProfile = undefined\n    getProfile()\n})\n\nexport function getProfileName() {\n    return getProfile().then(p => p.Name)\n}\n\nexport async function getProfileDir() {\n    const profiledir = config.get(\"profiledir\")\n    if (profiledir !== \"auto\") return Promise.resolve(profiledir)\n    return getProfile().then(p => p.absolutePath)\n}\n\nexport function parsePrefs(prefFileContent: string) {\n    //  This RegExp currently only deals with \" but for correctness it should\n    //  also deal with ' and `\n    //  We could also just give up on parsing and eval() the whole thing\n    const regex = new RegExp(\n        /^(user_|sticky_|lock)?[pP]ref\\(\"([^\"]+)\",\\s*\"?([^\\)]+?)\"?\\);$/,\n    )\n    // Fragile parsing\n    return prefFileContent.split(\"\\n\").reduce((prefs, line) => {\n        const matches = regex.exec(line)\n        if (!matches) {\n            return prefs\n        }\n        const key = matches[2]\n        let value = matches[3]\n        // value = \" means that it should be an empty string\n        if (value === '\"') value = \"\"\n        prefs[key] = value\n        return prefs\n    }, {})\n}\n\n/** When given the name of a firefox preference file, will load said file and\n *  return a promise for an object the keys of which correspond to preference\n *  names and the values of which correspond to preference values.\n *  When the file couldn't be loaded or doesn't contain any preferences, will\n *  return a promise for an empty object.\n */\nexport async function loadPrefs(filename): Promise<{ [key: string]: string }> {\n    const result = await read(filename)\n    if (result.code !== 0) return {}\n    return parsePrefs(result.content)\n}\n\nlet cached_prefs = null\n\n/** Returns a promise for an object that should contain every about:config\n *  setting.\n *\n *  Performance is slow so we need to cache the results.\n */\nexport async function getPrefs(): Promise<{ [key: string]: string }> {\n    if (cached_prefs !== null) return cached_prefs\n    const profile = (await getProfileDir()) + \"/\"\n    const prefFiles = [\n        // Debian has these\n        \"/usr/share/firefox/browser/defaults/preferences/firefox.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/debugger.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/devtools-startup-prefs.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/devtools.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/firefox-branding.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/vendor.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/firefox.js\",\n        \"/etc/firefox/firefox.js\",\n        // Pref files can be found here:\n        // https://developer.mozilla.org/en-US/docs/Mozilla/Preferences/A_brief_guide_to_Mozilla_preferences\n        profile + \"grepref.js\",\n        profile + \"services/common/services-common.js\",\n        profile + \"defaults/pref/services-sync.js\",\n        profile + \"browser/app/profile/channel-prefs.js\",\n        profile + \"browser/app/profile/firefox.js\",\n        profile + \"browser/app/profile/firefox-branding.js\",\n        profile + \"browser/defaults/preferences/firefox-l10n.js\",\n        profile + \"prefs.js\",\n        profile + \"user.js\",\n    ]\n    const promises = []\n    // Starting all promises before awaiting because we want the calls to be\n    // made in parallel\n    for (const file of prefFiles) {\n        promises.push(loadPrefs(file))\n    }\n    cached_prefs = promises.reduce(async (a, b) =>\n        Object.assign(await a, await b),\n    )\n    return cached_prefs\n}\n\n/** Returns the value for the corresponding about:config setting */\nexport async function getPref(name: string): Promise<string> {\n    return (await getPrefs())[name]\n}\n\n/** Fetches a config option from the config. If the option is undefined, fetch\n *  a preference from preferences. It would make more sense for this function to\n *  be in config.ts but this would require importing this file in config.ts and\n *  Webpack doesn't like circular dependencies.\n */\nexport async function getConfElsePref(\n    confName: string,\n    prefName: string,\n): Promise<any> {\n    let option = await config.getAsyncDynamic(confName)\n    if (option === undefined) {\n        try {\n            option = await getPref(prefName)\n        } catch (e) {}\n    }\n    return option\n}\n\n/** Fetches a config option from the config. If the option is undefined, fetch\n *  prefName from the preferences. If prefName is undefined too, return a\n *  default.\n */\nexport async function getConfElsePrefElseDefault(\n    confName: string,\n    prefName: string,\n    def: any,\n): Promise<any> {\n    const option = await getConfElsePref(confName, prefName)\n    if (option === undefined) return def\n    return option\n}\n\n/** Writes a preference to user.js */\nexport async function writePref(name: string, value: any) {\n    if (cached_prefs) cached_prefs[name] = value\n\n    const file = (await getProfileDir()) + \"/user.js\"\n    // No need to check the return code because read returns \"\" when failing to\n    // read a file\n    const text = (await read(file)).content\n    const prefPos = text.indexOf(`pref(\"${name}\",`)\n    if (prefPos < 0) {\n        write(file, `${text}\\nuser_pref(\"${name}\", ${value});\\n`)\n    } else {\n        let substr = text.substring(prefPos)\n        const prefEnd = substr.indexOf(\";\\n\")\n        substr = text.substring(prefPos, prefPos + prefEnd)\n        write(file, text.replace(substr, `pref(\"${name}\", ${value})`))\n    }\n}\n\n/** Removes a preference from user.js */\nexport async function removePref(name: string) {\n    const file = (await getProfileDir()) + \"/user.js\"\n    // No need to check the return code because read returns \"\" when failing to\n    // read a file\n    const text = (await read(file)).content\n    const prefPos = text.indexOf(`user_pref(\"${name}\",`)\n    if (prefPos >= 0) {\n        let substr = text.substring(prefPos)\n        const prefEnd = substr.indexOf(\";\\n\") + 1\n        substr = text.substring(prefPos, prefPos + prefEnd)\n        write(file, text.replace(substr, ``))\n    }\n}\n\n/** Obey Mozilla's orders https://github.com/tridactyl/tridactyl/issues/1800 */\nexport async function unfixamo() {\n    try {\n        if (localStorage.unfixedamo2 === \"true\") {\n            // this version of unfixamo already ran for the tridactyl instance in this profile\n            return\n        }\n\n        const profile = (await getProfileDir()) + \"/\"\n        const userjs = await loadPrefs(profile + \"user.js\")\n        const tridactylPref = \"tridactyl.unfixedamo\"\n        const tridactylPref2 = \"tridactyl.unfixedamo_removed\"\n        const restricted = \"extensions.webextensions.restrictedDomains\"\n        const amoblocker = \"privacy.resistFingerprinting.block_mozAddonManager\"\n        const restrictedDomains =\n            '\"accounts-static.cdn.mozilla.net,accounts.firefox.com,addons.cdn.mozilla.net,addons.mozilla.org,api.accounts.firefox.com,content.cdn.mozilla.net,discovery.addons.mozilla.org,install.mozilla.org,oauth.accounts.firefox.com,profile.accounts.firefox.com,support.mozilla.org,sync.services.mozilla.com\"'\n\n        // Exit if we've already run this once\n        if (userjs[tridactylPref2] === \"true\") return\n\n        if (\n            userjs[restricted] === \"\" ||\n            userjs[restricted] === restrictedDomains\n        ) {\n            await removePref(tridactylPref) // Clean up after first attempt if it exists\n            await removePref(restricted)\n            await removePref(amoblocker)\n            await writePref(tridactylPref2, \"true\")\n            browserBg.tabs.create({\n                url: browserBg.runtime.getURL(\"static/unfixamo.html\"),\n            })\n        }\n\n        return\n    } catch (e) {\n        // if an exception is thrown, this means that the native messenger\n        // isn't installed\n    } finally {\n        // Note: we store unfixedamo in localStorage and not in config because\n        //       users might clear their config with :sanitize\n        localStorage.unfixedamo2 = \"true\"\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as Native from \"@src/lib/native\"\n\nclass FileSystemCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public value: string) {\n        super()\n        this.fuseKeys = [value]\n        this.html = html`<tr class=\"FileSystemCompletionOption option\">\n            <td class=\"value\">${value}</td>\n        </tr>`\n    }\n}\n\nexport class FileSystemCompletionSource extends Completions.CompletionSourceFuse {\n    public options: FileSystemCompletionOption[]\n\n    constructor(private _parent) {\n        super(\n            [\"saveas\", \"source\", \"js -s\", \"jsb -s\"],\n            \"FileSystemCompletionSource\",\n            \"FileSystem\",\n        )\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async onInput(exstr) {\n        return this.filter(exstr)\n    }\n\n    public async filter(exstr: string) {\n        if (!exstr || exstr.indexOf(\" \") === -1) {\n            this.state = \"hidden\"\n            return\n        }\n\n        let [cmd, path] = this.splitOnPrefix(exstr)\n        if (cmd === undefined) {\n            this.state = \"hidden\"\n            return\n        }\n\n        if (!path) path = \".\"\n\n        if (![\"/\", \"$\", \"~\", \".\"].find(s => path.startsWith(s))) {\n            // If the path doesn't start with a special character, it is relative to the native messenger, thus use \".\" as starting point\n            // Does this work on windows?\n            path = \"./\" + path\n        }\n\n        // Update lastExstr because we modified the path and scoreOptions uses that in order to assign scores\n        this.lastExstr = [cmd, path].join(\" \")\n\n        let req\n        try {\n            req = await Native.listDir(path)\n        } catch (e) {\n            // Failing silently because we can't nativegate (the user is typing stuff in the commandline)\n            this.state = \"hidden\"\n            return\n        }\n\n        if (req.isDir) {\n            if (!path.endsWith(req.sep)) path += req.sep\n        } else {\n            path = path.substring(0, path.lastIndexOf(\"/\") + 1)\n        }\n\n        this.options = req.files.map(\n            p => new FileSystemCompletionOption(path + p),\n        )\n\n        this.state = \"normal\"\n        return this.updateChain()\n    }\n}\n", "import * as Messaging from \"@src/lib/messaging\"\nimport * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\n\nclass GotoCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public level, public y, public title, public value) {\n        super()\n        this.fuseKeys.push(title)\n\n        this.html = html`<tr class=\"GotoCompletionOption option\">\n            <td class=\"title\" style=\"padding-left: ${level * 4}ch\">${title}</td>\n        </tr>`\n    }\n}\n\nexport class GotoCompletionSource extends Completions.CompletionSourceFuse {\n    public options: GotoCompletionOption[] = []\n    private shouldSetStateFromScore = true\n\n    constructor(private _parent) {\n        super([\"goto\"], \"GotoCompletionSource\", \"Headings\")\n\n        this.updateOptions()\n        this.shouldSetStateFromScore =\n            config.get(\"completions\", \"Goto\", \"autoselect\") === \"true\"\n        this._parent.appendChild(this.node)\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, this.shouldSetStateFromScore)\n    }\n\n    onInput(...whatever) {\n        return this.updateOptions(...whatever)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        if (this.options.length < 1) {\n            this.options = (\n                await Messaging.messageOwnTab(\n                    \"excmd_content\",\n                    \"getGotoSelectors\",\n                    [],\n                )\n            )\n                .sort((a, b) => a.y - b.y)\n                .map(heading => {\n                    const opt = new GotoCompletionOption(\n                        heading.level,\n                        heading.y,\n                        heading.title,\n                        heading.selector,\n                    )\n                    opt.state = \"normal\"\n                    return opt\n                })\n        }\n        return this.updateChain()\n    }\n}\n", "/* tslint:disable:no-string-literal */\nimport * as CSS from \"css\"\n\n// Layout (of bits we care about:\n// {stylesheet: {\n//          rules: [{\n//                      type: \"rule\", selectors: [string], declarations: [\n//                          {type: \"declaration\", property: string, value: string}\n\n/** Find rules in sheet that match selector */\nexport function findCssRules(\n    selectors: string[],\n    sheet: CSS.Stylesheet,\n): number[] {\n    const filtSheet = [...sheet.stylesheet.rules.entries()].filter(x => {\n        const rule = x[1]\n        return (\n            rule.type === \"rule\" &&\n            \"selectors\" in rule &&\n            // Make sure that there are as many selectors in the current rule\n            // as there are in the rule we're looking for\n            rule.selectors.length === selectors.length &&\n            // Also make sure that each of the selectors of the current rule\n            // are present in the rule we're looking for\n            !rule.selectors.find(selector => !selectors.includes(selector))\n        )\n    })\n    return filtSheet.map(x => x[0])\n}\n\n/** Rulename -> { name: <selector>, options: { <option-name>: <css-string> } }\n *\n *  Multi-level map of rulename, options available for rule and css for each option.\n *\n *  *findCssRules and changeSingleCss rely on the selector not containing a comma.*\n *\n *  TODO: make this more flexible with cleverer matching of selectors, merging of options\n *\n */\nexport const potentialRules = {\n    statuspanel: {\n        name: `#statuspanel`,\n        options: {\n            none: `display: none !important;`,\n            right: `right: 0; display: inline;`,\n            left: ``,\n            \"top-left\": `top: 2em; z-index: 2; display: inline;`,\n            \"top-right\": `top: 2em; z-index: 2; right: 0; display: inline;`,\n        },\n    },\n    hoverlink: {\n        name: `statuspanel[type=\"overLink\"], #statuspanel[type=\"overLink\"]`,\n        options: {\n            none: `display: none !important;`,\n            right: `right: 0; display: inline;`,\n            left: ``,\n            \"top-left\": `top: 2em; z-index: 2; display: inline;`,\n            \"top-right\": `top: 2em; z-index: 2; right: 0; display: inline;`,\n        },\n    },\n    tabstoolbar: {\n        name: `#TabsToolbar`,\n        options: {\n            none: `visibility: collapse;`,\n            show: ``,\n        },\n    },\n    tabstoolbarunfocused: {\n        name: `:root:not([customizing]) #navigator-toolbox:not(:hover):not(:focus-within) #TabsToolbar`,\n        options: {\n            hide: `visibility: collapse;`,\n            show: ``,\n        },\n    },\n    tabcounter: {\n        name: `tabs`,\n        options: {\n            off: ``,\n            on: `counter-reset: tab-counter;`,\n        },\n    },\n    tabcounters: {\n        name: `.tab-label::before`,\n        options: {\n            hide: ``,\n            show: ` counter-increment: tab-counter;\n                    content: counter(tab-counter) \" - \";`,\n        },\n    },\n    navtoolboxunfocused: {\n        name: `:root:not([customizing]) #navigator-toolbox:not(:hover):not(:focus-within)`,\n        options: {\n            hide: `max-height: 1px; min-height: calc(0px); overflow: hidden;`,\n            show: ``,\n        },\n    },\n    navbarunfocused: {\n        name: `:root:not([customizing]) #navigator-toolbox:not(:hover):not(:focus-within) #nav-bar`,\n        // tridactyl auto show zone doesn't seem to make a difference\n        options: {\n            hide: `max-height: 0;\n                    min-height: 0!important;\n                    --tridactyl-auto-show-zone: 10px;\n                    margin-bottom: calc(-1 * var(--tridactyl-auto-show-zone));\n                    opacity: 0;`,\n            show: ``,\n        },\n    },\n    // Annoying black line at top in fullscreen\n    navbarafter: {\n        name: `#navigator-toolbox::after`,\n        options: {\n            hide: `display: none !important;`,\n            show: ``,\n        },\n    },\n    // All children except add-on panels\n    navbarnonaddonchildren: {\n        name: `:root:not([customizing]) #nav-bar > :not(#customizationui-widget-panel)`,\n        options: {\n            hide: `display: none !important;`,\n            show: ``,\n        },\n    },\n    // Set navbar height to 0\n    navbarnoheight: {\n        name: `:root:not([customizing]) #nav-bar`,\n        options: {\n            hide: ``,\n            show: `max-height: 0; min-height: 0 !important;`,\n        },\n    },\n    // This inherits transparency if we aren't careful\n    menubar: {\n        name: `#navigator-toolbox:not(:hover):not(:focus-within) #toolbar-menubar > *`,\n        options: {\n            grey: `background-color: rgb(232, 232, 231);`,\n            default: ``,\n        },\n    },\n    // Window dectorations\n    titlebar: {\n        name: `#titlebar`,\n        options: {\n            hide: `display: none !important;`,\n            show: ``,\n        },\n    },\n    padwhenmaximised: {\n        name: `#main-window[sizemode=\"maximized\"] #content-deck`,\n        options: {\n            some: `padding-top: 8px;`,\n            none: ``,\n        },\n    },\n}\n\n//  Vimperator's options for reference:\n//  <tags>'go' 'guioptions'</tags>\n//  <spec>'guioptions' 'go'</spec>\n\n//\n//  m          Menubar\n//  T          Toolbar\n//  B          Bookmark bar\n//  A          Add-on bar\n//  n          Tab number\n//  b          Bottom scrollbar\n//  r          Right scrollbar\n//  l          Left scrollbar\n//\n//  was just a simple show/hide if the characters appeared in the setting\n\n/** Rules that index into potentialRules or metaRules\n *\n *  Please don't add cycles to this table :)\n */\nexport const metaRules = {\n    gui: {\n        none: {\n            hoverlink: \"none\",\n            tabs: \"none\",\n            navbar: \"autohide\",\n            menubar: \"grey\",\n            padwhenmaximised: \"some\",\n        },\n        full: {\n            hoverlink: \"left\",\n            tabs: \"always\",\n            navbar: \"always\",\n            menubar: \"default\",\n            padwhenmaximised: \"none\",\n        },\n    },\n    tabs: {\n        none: {\n            tabstoolbar: \"none\",\n            navtoolboxunfocused: \"hide\",\n        },\n        always: {\n            tabstoolbar: \"show\",\n            tabstoolbarunfocused: \"show\",\n            navtoolboxunfocused: \"show\",\n        },\n        autohide: {\n            tabstoolbar: \"show\",\n            tabstoolbarunfocused: \"hide\",\n            navtoolboxunfocused: \"hide\",\n        },\n        count: {\n            tabcounter: \"on\",\n            tabcounters: \"show\",\n        },\n        nocount: {\n            tabcounter: \"off\",\n            tabcounters: \"hide\",\n        },\n    },\n    navbar: {\n        autohide: {\n            navbarunfocused: \"hide\",\n            navtoolboxunfocused: \"hide\",\n            navbarafter: \"hide\",\n            navbarnonaddonchildren: \"show\",\n            navbarnoheight: \"hide\",\n        },\n        always: {\n            navbarunfocused: \"show\",\n            navtoolboxunfocused: \"show\",\n            navbarafter: \"show\",\n            navbarnonaddonchildren: \"show\",\n            navbarnoheight: \"hide\",\n        },\n        none: {\n            navbarunfocused: \"show\",\n            navtoolboxunfocused: \"show\",\n            navbarafter: \"hide\",\n            navbarnonaddonchildren: \"hide\",\n            navbarnoheight: \"show\",\n        },\n    },\n}\n\n/** Add desired non-meta rule to stylesheet replacing existing rule with the same selector if present */\nexport function changeSingleCss(\n    rulename: string,\n    optionname: string,\n    sheet: CSS.Stylesheet,\n): CSS.Stylesheet {\n    const selector = potentialRules[rulename].name\n    const newRule = `${selector} {\n        ${potentialRules[rulename].options[optionname]}\n    }`\n    const miniSheet = CSS.parse(newRule).stylesheet.rules[0]\n\n    // Find pre-existing rules\n    const oldRuleIndexes = findCssRules(\n        \"selectors\" in miniSheet ? miniSheet.selectors : [],\n        sheet,\n    )\n    if (oldRuleIndexes.length > 0) {\n        sheet.stylesheet.rules[oldRuleIndexes[0]] = miniSheet\n    } else {\n        sheet.stylesheet.rules = sheet.stylesheet.rules.concat(miniSheet)\n    }\n\n    return sheet\n}\n\n/** Apply rule to stylesheet. rulename, optionname identify a rule. They may be meta rules */\nexport function changeCss(\n    rulename: string,\n    optionname: string,\n    sheet: CSS.Stylesheet,\n): CSS.Stylesheet {\n    if (rulename in metaRules) {\n        const metarule = metaRules[rulename][optionname]\n        for (const rule of Object.keys(metarule)) {\n            // have a metarule call itself for hours of fun\n            sheet = changeCss(rule, metarule[rule], sheet)\n        }\n    } else sheet = changeSingleCss(rulename, optionname, sheet)\n    return sheet\n}\n", "import * as Completions from \"@src/completions\"\nimport { potentialRules, metaRules } from \"@src/lib/css_util\"\n\nclass GuisetCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public value: string, displayValue: string) {\n        super()\n        this.fuseKeys.push(value)\n\n        this.html = html`<tr class=\"GuisetCompletionOption option\">\n            <td class=\"value\">${displayValue}</td>\n        </tr>`\n    }\n}\n\nexport class GuisetCompletionSource extends Completions.CompletionSourceFuse {\n    public options: GuisetCompletionOption[]\n\n    constructor(private _parent) {\n        super([\"guiset\", \"guiset_quiet\"], \"GuisetCompletionSource\", \"Guiset\")\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        const [prefix, query] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n        this.completion = undefined\n\n        let ruleName = \"\"\n        let subRule = \"\"\n        if (query) {\n            const args = query.trim().split(\" \")\n            ruleName = args[0] || \"\"\n            subRule = args[1] || \"\"\n        }\n        this.options = []\n        if (metaRules[ruleName]) {\n            this.options = this.options.concat(\n                Object.keys(metaRules[ruleName])\n                    .filter(s => s.startsWith(subRule))\n                    .map(\n                        s => new GuisetCompletionOption(`${ruleName} ${s}`, s),\n                    ),\n            )\n        }\n        if (potentialRules[ruleName]) {\n            this.options = this.options.concat(\n                Object.keys(potentialRules[ruleName].options)\n                    .filter(s => s.startsWith(subRule))\n                    .map(\n                        s => new GuisetCompletionOption(`${ruleName} ${s}`, s),\n                    ),\n            )\n        }\n        if (this.options.length === 0) {\n            this.options = Object.keys(metaRules)\n                .concat(Object.keys(potentialRules))\n                .filter(s => s.startsWith(ruleName))\n                .map(s => new GuisetCompletionOption(s, s))\n        }\n\n        return this.updateChain()\n    }\n\n    updateChain() {\n        // Options are pre-trimmed to the right length.\n        this.options.forEach(option => (option.state = \"normal\"))\n\n        // Call concrete class\n        return this.updateDisplay()\n    }\n\n    onInput(arg) {\n        return this.filter(arg)\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as Metadata from \"@src/.metadata.generated\"\nimport * as aliases from \"@src/lib/aliases\"\nimport * as config from \"@src/lib/config\"\n\nclass HelpCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public name: string, doc: string, flag: string) {\n        super()\n        this.value = `${flag} ${name}`\n        this.html = html`<tr class=\"HelpCompletionOption option\">\n            <td class=\"name\">${name}</td>\n            <td class=\"doc\">${doc}</td>\n        </tr>`\n    }\n}\n\nexport class HelpCompletionSource extends Completions.CompletionSourceFuse {\n    public options: HelpCompletionOption[]\n\n    constructor(private _parent) {\n        super([\"help\"], \"HelpCompletionSource\", \"Help\")\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        this.completion = undefined\n        const [prefix, query] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const file = Metadata.everything.getFile(\"src/lib/config.ts\")\n        const default_config = file.getClass(\"default_config\")\n        const excmds = Metadata.everything.getFile(\"src/excmds.ts\")\n        const fns = excmds.getFunctions()\n        const settings = config.get()\n        const exaliases = settings.exaliases\n        const bindings = settings.nmaps\n        if (\n            fns === undefined ||\n            exaliases === undefined ||\n            bindings === undefined\n        ) {\n            return\n        }\n\n        const flags = {\n            \"-a\": (options, query) =>\n                options.concat(\n                    Object.keys(exaliases)\n                        .filter(alias => alias.startsWith(query))\n                        .map(alias => {\n                            const cmd = aliases.expandExstr(alias)\n                            const doc =\n                                (excmds.getFunction(cmd) || ({} as any)).doc ||\n                                \"\"\n                            return new HelpCompletionOption(\n                                alias,\n                                `Alias for \\`${cmd}\\`. ${doc}`,\n                                \"-a\",\n                            )\n                        }),\n                ),\n            \"-b\": (options, query) =>\n                options.concat(\n                    Object.keys(bindings)\n                        .filter(binding => binding.startsWith(query))\n                        .map(\n                            binding =>\n                                new HelpCompletionOption(\n                                    binding,\n                                    `Normal mode binding for \\`${bindings[binding]}\\``,\n                                    \"-b\",\n                                ),\n                        ),\n                ),\n            \"-e\": (options, query) =>\n                options.concat(\n                    fns\n                        .filter(\n                            ([name, fn]) =>\n                                !fn.hidden && name.startsWith(query),\n                        )\n                        .map(\n                            ([name, fn]) =>\n                                new HelpCompletionOption(\n                                    name,\n                                    `Excmd. ${fn.doc}`,\n                                    \"-e\",\n                                ),\n                        ),\n                ),\n            \"-s\": (options, query) =>\n                options.concat(\n                    Object.keys(settings)\n                        .filter(x => x.startsWith(query))\n                        .map(setting => {\n                            const member = default_config.getMember(setting)\n                            let doc = \"\"\n                            if (member !== undefined) {\n                                doc = member.doc\n                            }\n                            return new HelpCompletionOption(\n                                setting,\n                                `Setting. ${doc}`,\n                                \"-s\",\n                            )\n                        }),\n                ),\n        }\n\n        const args = query.split(\" \")\n        let opts = []\n        if (Object.keys(flags).includes(args[0])) {\n            opts = flags[args[0]](opts, args.slice(1).join(\" \"))\n        } else {\n            opts = Object.keys(flags).reduce(\n                (acc, curFlag) => flags[curFlag](acc, query),\n                [],\n            )\n        }\n\n        this.options = opts\n        this.options.sort((compopt1, compopt2) =>\n            compopt1.name.localeCompare(compopt2.name),\n        )\n        return this.updateChain()\n    }\n\n    updateChain() {\n        // Options are pre-trimmed to the right length.\n        this.options.forEach(option => (option.state = \"normal\"))\n\n        // Call concrete class\n        return this.updateDisplay()\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\nimport * as providers from \"@src/completions/providers\"\n\nclass HistoryCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(page: any, options: string) {\n        super()\n        if (!page.title) {\n            page.title = new URL(page.url).host\n        }\n\n        this.value = page.search ? options + page.title : options + page.url\n\n        let preplain = page.bmark ? \"B\" : \"\"\n        preplain += page.search ? \"S\" : \"\"\n        let pre = preplain\n        if (config.get(\"completions\", \"Tab\", \"statusstylepretty\") === \"true\") {\n            pre = page.bmark ? \"\\u2B50\" : \"\"\n            pre += page.search ? \"\\u{1F50D}\" : \"\"\n        }\n\n        // Push properties we want to fuzmatch on\n        this.fuseKeys.push(preplain, page.title, page.url) // weight by page.visitCount\n\n        // Create HTMLElement\n        this.html = html`<tr class=\"HistoryCompletionOption option\">\n            <td class=\"prefix\">${pre}</td>\n            <td class=\"prefixplain\" hidden>${preplain}</td>\n            <td class=\"title\">${page.title}</td>\n            <td class=\"content\">\n                ${page.search ? \"Search \" : \"\"}\n                <a class=\"url\" target=\"_blank\" href=${page.url}>${page.url}</a>\n            </td>\n        </tr>`\n    }\n}\n\nexport class HistoryCompletionSource extends Completions.CompletionSourceFuse {\n    static readonly DEFAULT_SECTION_HEADER = \"History and bookmarks\"\n    public options: Completions.CompletionOptionFuse[]\n\n    constructor(private _parent) {\n        super(\n            [\"open\", \"tabopen\", \"winopen\"],\n            \"HistoryCompletionSource\",\n            HistoryCompletionSource.DEFAULT_SECTION_HEADER,\n        )\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        const prevStr = this.lastExstr\n        this.lastExstr = exstr\n        let [prefix, query] = this.splitOnPrefix(exstr)\n        let options = \"\"\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const headerPostfix = []\n\n        // Ignoring command-specific arguments\n        // It's terrible but it's ok because it's just a stopgap until an actual commandline-parsing API is implemented\n        if (prefix === \"tabopen\") {\n            if (query.startsWith(\"-c \")) {\n                const args = query.split(\" \")\n                if (args.length > 2) {\n                    options = args.slice(0, 2).join(\" \")\n                    headerPostfix.push(\"container: \" + args[1])\n                }\n            }\n            if (query.startsWith(\"-b \")) {\n                const args = query.split(\" \")\n                options = args.slice(0, 1).join(\" \")\n                headerPostfix.push(\"background tab\")\n            }\n        } else if (prefix === \"winopen\" && query.startsWith(\"-private \")) {\n            options = \"-private\"\n            headerPostfix.push(\"private window\")\n        }\n        options += options ? \" \" : \"\"\n        query = query.substring(options.length)\n\n        this.updateSectionHeader(\n            HistoryCompletionSource.DEFAULT_SECTION_HEADER,\n            headerPostfix,\n        )\n        const tokens = query.split(\" \")\n        if (tokens.length > 1 || query.endsWith(\" \")) {\n            const match = (await providers.getSearchUrls(tokens[0])).find(\n                su => su.title === tokens[0],\n            )\n            if (match !== undefined) {\n                query = tokens.slice(1).join(\" \")\n                this.updateSectionHeader(\"Search \" + match.title, headerPostfix)\n                // Actual query sent to browser needs to be space separated\n                // list of tokens, otherwise partial matches won't be found\n                query = match.url.split(\"%s\").join(\" \") + \" \" + query\n            }\n        }\n\n        // Options are pre-trimmed to the right length.\n        // Typescript throws an error here - further investigation is probably warranted\n        this.options = (\n            (await this.scoreOptions(\n                query,\n                config.get(\"historyresults\"),\n            )) as any\n        ).map(page => new HistoryCompletionOption(page, options))\n\n        // Deselect any selected, but remember what they were.\n        const lastFocused = this.lastFocused\n        this.deselect()\n\n        // Set initial state to normal, unless the option was selected a moment\n        // ago, then reselect it so that users don't lose their selections.\n        this.options.forEach(option => (option.state = \"normal\"))\n        for (const option of this.options) {\n            if (\n                lastFocused !== undefined &&\n                lastFocused.value === option.value &&\n                prevStr.length <= exstr.length\n            ) {\n                this.select(option)\n                break\n            }\n        }\n\n        return this.updateDisplay()\n    }\n\n    // We don't need this inherited function\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    updateChain() {}\n\n    private async scoreOptions(query: string, n: number) {\n        if (!query || config.get(\"historyresults\") === 0) {\n            return (await providers.getTopSites()).slice(0, n)\n        } else {\n            return (await providers.getCombinedHistoryBmarks(query)).slice(0, n)\n        }\n    }\n\n    private updateSectionHeader(newTitle: string, postfix: string[]) {\n        if (postfix.length > 0) {\n            newTitle += \" (\" + postfix.join(\", \") + \")\"\n        }\n        const headerNode = this.node.firstElementChild\n        const oldTitle = headerNode.innerHTML\n        if (newTitle !== oldTitle) {\n            headerNode.innerHTML = newTitle\n        }\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as Native from \"@src/lib/native\"\n\nclass PreferenceCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public value: string, public prefvalue: string) {\n        super()\n        this.fuseKeys.push(value)\n        this.html = html`<tr class=\"PreferenceCompletionOption option\">\n            <td class=\"name\">${value}</td>\n            <td class=\"value\">${prefvalue}</td>\n        </tr>`\n    }\n}\n\nexport class PreferenceCompletionSource extends Completions.CompletionSourceFuse {\n    public options: PreferenceCompletionOption[]\n\n    constructor(private _parent) {\n        super([\"setpref\"], \"PreferenceCompletionSource\", \"Preference\")\n\n        this._parent.appendChild(this.node)\n    }\n\n    public onInput(exstr: string) {\n        return this.filter(exstr)\n    }\n\n    public async filter(exstr: string) {\n        if (!exstr) {\n            this.state = \"hidden\"\n            return\n        }\n        const pref = this.splitOnPrefix(exstr)[1]\n        if (pref === undefined) {\n            this.state = \"hidden\"\n            return\n        }\n        this.lastExstr = exstr\n        const preferences = await Native.getPrefs()\n        this.options = Object.keys(preferences)\n            .filter(key => key.startsWith(pref))\n            .map(key => new PreferenceCompletionOption(key, preferences[key]))\n        if (this.options.length > 0) this.state = \"normal\"\n        return this.updateChain()\n    }\n}\n", "import * as Messaging from \"@src/lib/messaging\"\nimport * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\n\nclass RssCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public url, public title, public type) {\n        super()\n        this.value = `${url} ${type} ${title}`\n        this.fuseKeys.push(url)\n        this.fuseKeys.push(title)\n\n        this.html = html`<tr class=\"RssCompletionOption option\">\n            <td class=\"title\">${title}</td>\n            <td class=\"content\">\n                <a class=\"url\" target=\"_blank\" href=${url}>${url}</a>\n            </td>\n            <td class=\"type\">${type}</td>\n        </tr>`\n    }\n}\n\nexport class RssCompletionSource extends Completions.CompletionSourceFuse {\n    public options: RssCompletionOption[] = []\n    private shouldSetStateFromScore = true\n\n    constructor(private _parent) {\n        super([\"rssexec\"], \"RssCompletionSource\", \"Feeds\")\n\n        this.updateOptions()\n        this.shouldSetStateFromScore =\n            config.get(\"completions\", \"Rss\", \"autoselect\") === \"true\"\n        this._parent.appendChild(this.node)\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, this.shouldSetStateFromScore)\n    }\n\n    onInput(...whatever) {\n        return this.updateOptions(...whatever)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        if (this.options.length < 1) {\n            this.options = (\n                await Messaging.messageOwnTab(\n                    \"excmd_content\",\n                    \"getRssLinks\",\n                    [],\n                )\n            ).map(link => {\n                const opt = new RssCompletionOption(\n                    link.url,\n                    link.title,\n                    link.type,\n                )\n                opt.state = \"normal\"\n                return opt\n            })\n        }\n        return this.updateChain()\n    }\n}\n", "import { browserBg } from \"@src/lib/webext\"\nimport * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\n\nfunction computeDate(session) {\n    let howLong = Math.round(\n        ((new Date() as any) - session.lastModified) / 1000,\n    )\n    let qualifier = \"s\"\n    if (Math.abs(howLong) > 60) {\n        qualifier = \"m\"\n        howLong = Math.round(howLong / 60)\n        if (Math.abs(howLong) > 60) {\n            qualifier = \"h\"\n            howLong = Math.round(howLong / 60)\n            if (Math.abs(howLong) > 24) {\n                qualifier = \"d\"\n                howLong = Math.round(howLong / 24)\n            }\n        }\n    }\n    return [howLong, qualifier]\n}\n\nfunction getTabInfo(session) {\n    let tab\n    let extraInfo\n    if (session.tab) {\n        tab = session.tab\n        extraInfo = tab.url\n    } else {\n        tab = session.window.tabs.sort(\n            (a, b) => b.lastAccessed - a.lastAccessed,\n        )[0]\n        const tabCount = session.window.tabs.length\n        if (tabCount < 2) {\n            extraInfo = tab.url\n        } else {\n            extraInfo = `${tabCount - 1} more tab${tabCount > 2 ? \"s\" : \"\"}.`\n        }\n    }\n    return [tab, extraInfo]\n}\n\nclass SessionCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public session) {\n        super()\n        this.value = (session.tab || session.window).sessionId\n        const [howLong, qualifier] = computeDate(session)\n        const [tab, extraInfo] = getTabInfo(session)\n        this.fuseKeys.push(tab.title, tab.url)\n        this.html = html`<tr class=\"SessionCompletionOption option\">\n            <td class=\"type\">${session.tab ? \"T\" : \"W\"}</td>\n            <td class=\"time\">${howLong}${qualifier}</td>\n            <td class=\"icon\">\n                <img src=\"${tab.favIconUrl || Completions.DEFAULT_FAVICON}\" />\n            </td>\n            <td class=\"title\">${tab.title}</td>\n            <td class=\"extraInfo\">${extraInfo}</td>\n        </tr>`\n    }\n}\n\nexport class SessionsCompletionSource extends Completions.CompletionSourceFuse {\n    public options: SessionCompletionOption[]\n    private shouldSetStateFromScore = true\n\n    constructor(private _parent) {\n        super([\"undo\"], \"SessionCompletionSource\", \"sessions\")\n\n        this.updateOptions()\n        this.shouldSetStateFromScore =\n            config.get(\"completions\", \"Sessions\", \"autoselect\") === \"true\"\n        this._parent.appendChild(this.node)\n    }\n\n    async onInput(exstr) {\n        return this.updateOptions(exstr)\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, this.shouldSetStateFromScore)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const sessions = await browserBg.sessions.getRecentlyClosed()\n        this.options = sessions.map(s => new SessionCompletionOption(s))\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\nimport * as metadata from \"@src/.metadata.generated\"\n\nclass SettingsCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(\n        public value: string,\n        setting: { name: string; value: string; type: string; doc: string },\n    ) {\n        super()\n        this.html = html`<tr class=\"SettingsCompletionOption option\">\n            <td class=\"title\">${setting.name}</td>\n            <td class=\"content\">${setting.value}</td>\n            <td class=\"type\">${setting.type}</td>\n            <td class=\"doc\">${setting.doc}</td>\n        </tr>`\n    }\n}\n\nexport class SettingsCompletionSource extends Completions.CompletionSourceFuse {\n    public options: SettingsCompletionOption[]\n\n    constructor(private _parent) {\n        super(\n            [\"set\", \"get\", \"unset\", \"seturl\", \"unseturl\", \"viewconfig\"],\n            \"SettingsCompletionSource\",\n            \"Settings\",\n        )\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        let [prefix, query] = this.splitOnPrefix(exstr)\n        let options = \"\"\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        // Ignoring command-specific arguments\n        // It's terrible but it's ok because it's just a stopgap until an actual commandline-parsing API is implemented\n        // copy pasting code is fun and good\n        if (\n            prefix === \"seturl\" ||\n            prefix === \"unseturl\" ||\n            (prefix === \"viewconfig\" &&\n                (query.startsWith(\"--user\") || query.startsWith(\"--default\")))\n        ) {\n            const args = query.split(\" \")\n            options = args.slice(0, 1).join(\" \")\n            query = args.slice(1).join(\" \")\n        }\n\n        options += options ? \" \" : \"\"\n\n        const file = metadata.everything.getFile(\"src/lib/config.ts\")\n        const default_config = file.getClass(\"default_config\")\n        const settings = config.get()\n\n        if (default_config === undefined || settings === undefined) {\n            return\n        }\n\n        this.options = Object.keys(settings)\n            .filter(x => x.startsWith(query))\n            .sort()\n            .map(setting => {\n                const md = default_config.getMember(setting)\n                let doc = \"\"\n                let type = \"\"\n                if (md !== undefined) {\n                    doc = md.doc\n                    type = md.type.toString()\n                }\n                return new SettingsCompletionOption(options + setting, {\n                    name: setting,\n                    value: JSON.stringify(settings[setting]),\n                    doc,\n                    type,\n                })\n            })\n\n        return this.updateChain()\n    }\n\n    updateChain() {\n        // Options are pre-trimmed to the right length.\n        this.options.forEach(option => (option.state = \"normal\"))\n\n        // Call concrete class\n        return this.updateDisplay()\n    }\n}\n", "/**\n * Library used for measuring performance. The basic steps are as follows:\n *\n * 1. Set up a persistent StatsLogger object to store samples.\n * 2. Invoke listenForCounters with the StatsLogger to start logging\n *    performance counters to the stats logger.\n * 3. If you have other scripts (content, iframes, web workers, etc),\n *    set up to receive stats from those other sources:\n *    * Set the stats logger up with an attributeCaller receiving messages as\n *      \"performance_background\".\n *    * For each other context, invoke listenForCounters without arguments and\n *      hold on to the resulting object.\n * 4. Instrument methods using the @measured or @measuredAsync\n *    decorators (for class methods) or by using Marker objects in\n *    your functions.\n * 5. Collect data!\n * 6. Use getEntries to retrieve data from the statsLogger.\n */\n\nimport * as messaging from \"@src/lib/messaging\"\nimport * as config from \"@src/lib/config\"\nimport * as math from \"@src/lib/math\"\nimport * as logging from \"@src/lib/logging\"\n\nconst logger = new logging.Logger(\"performance\")\n\n/**\n * Decorator for performance measuring. If performance is enabled,\n * wraps the function call with performance marks and a measure that\n * can be used for profiling. The mark's ownerName will be the name of\n * the containing class and the functionName will be the name of the\n * function. For example:\n *\n * class Foo {\n *   @Perf.measured\n *   function doFoos() { stuff() }\n * }\n *\n * These counters can be obtained using listenForCounters and a\n * StatsLogger.\n *\n */\nexport function measured(\n    cls: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n): PropertyDescriptor {\n    if (!performanceApiAvailable()) return\n\n    const originalMethod = descriptor.value\n    descriptor.value = function (this, ...args) {\n        const marker = new Marker(cls.constructor.name, propertyKey).start()\n        const result = originalMethod.apply(this, args)\n        marker.end()\n        return result\n    }\n    return descriptor\n}\n\n/**\n * Like the @measured decorator, but properly handles async functions\n * by chaining a resolution onto the promise that marks completion\n * when the function resolves its promise.\n */\nexport function measuredAsync(\n    cls: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n): PropertyDescriptor {\n    if (!performanceApiAvailable()) return\n\n    const originalMethod = descriptor.value\n    descriptor.value = async function (this, ...args) {\n        const marker = new Marker(cls.constructor.name, propertyKey).start()\n        const result = await originalMethod.apply(this, args)\n        marker.end()\n        return result\n    }\n    return descriptor\n}\n\n/**\n * Convenience object for collecting timing information. Create it and\n * call start() to create a mark entry for the start of the duration\n * to measure. Later, call end() to create a mark entry for the end of\n * the duration and a measure entry for the duration from the start\n * mark to the end mark. Marks are given a unique identifier to ensure\n * that async, multi-threaded, or reentrant code doesn't have collisions.\n *\n * WARNING! Will SILENTLY DEACTIVATE ITSELF if the \"perfcounters\"\n * config option is not set to \"true\"! This is done to minimize the\n * performance overhead of instrumentation when performance counters\n * are turned off.\n *\n * The ownerName and functionName are encoded into the name of the\n * performance entry in a way that allows entries to be retrieved\n * using StatsFilters.\n *\n */\nexport class Marker {\n    constructor(\n        ownerName: string,\n        functionName: string,\n        private readonly active: boolean = performanceApiAvailable() &&\n            config.get(\"perfcounters\") === \"true\",\n        private readonly metricName: MetricName = new MetricName(\n            ownerName,\n            functionName,\n        ),\n    ) {}\n\n    public start() {\n        if (!this.active) return this\n        logger.debug(\n            \"Marking startpoint of performance counter for %o\",\n            this.metricName,\n        )\n        performance.mark(this.metricName.startName)\n        return this\n    }\n\n    public end() {\n        if (!this.active) return this\n        logger.debug(\n            \"Marking endpoint of performance counter for %o\",\n            this.metricName,\n        )\n        performance.mark(this.metricName.endName)\n        performance.measure(\n            this.metricName.fullName,\n            this.metricName.startName,\n            this.metricName.endName,\n        )\n        return this\n    }\n}\n\n/**\n * Start listening for performance counters. Note that you _must_\n * attach the returned PerformanceObserver to some long-lived object\n * like the window; there's some kind of bug that causes\n * PerformanceObservers to be incorrectly garbage-collected even if\n * they're still attached and observing.\n *\n * @param statsLogger If given, stats will be logged directly to the\n * given stats logger. If absent, stats will be sent to the\n * performance_background receiver using messaging.\n */\nexport function listenForCounters(\n    statsLogger?: StatsLogger,\n): PerformanceObserver {\n    let callback: (\n        list: PerformanceObserverEntryList,\n        observer: PerformanceObserver,\n    ) => void\n    if (statsLogger === undefined) {\n        callback = (list) => {\n            sendStats(list.getEntries())\n        }\n    } else {\n        callback = (list) => {\n            statsLogger.pushList(list.getEntries())\n        }\n    }\n\n    const perfObserver = new PerformanceObserver(callback)\n    perfObserver.observe({ entryTypes: [\"mark\", \"measure\"] })\n    return perfObserver\n}\n\n/**\n * Configuration for filtering performance samples.\n */\nexport type StatsFilterConfig =\n    // a filter with kind functionName permits only samples with\n    // functionName equal to the given functionName.\n    | { kind: \"functionName\"; functionName: string }\n    // a filter with kind ownerName permits only samples with\n    // ownerName equal to the given ownerName.\n    | { kind: \"ownerName\"; ownerName: string }\n    // a filter with kind eventType permits only samples of the given\n    // eventType.\n    | { kind: \"eventType\"; eventType: \"start\" | \"end\" | \"measure\" }\n\n/**\n * Stores a bounded-size buffer of performance entries and provides\n * convenience functions for accessing subsets of the buffer. Very\n * simple circular buffer.\n */\nexport class StatsLogger {\n    // TODO: Consider mapping each name to a symbol and storing the\n    // mapped symbol instead of the name so we're storing more like 50\n    // bytes per sample instead of 130 @_@\n    public buffer: PerformanceEntry[] = []\n    private idx = 0\n    private buffersize = 10000\n    private lastError = 0\n\n    /**\n     * Target for receiving stats entries from other threads - there\n     * was some issue with encoding that I couldn't figure out so I\n     * just kludged it.\n     */\n    public receiveStatsJson(entriesJson: string) {\n        this.pushList(JSON.parse(entriesJson) as PerformanceEntry[])\n    }\n\n    /**\n     * Ingests the given performance entries into the buffer.\n     */\n    public pushList(entries: PerformanceEntry[]) {\n        for (const entry of entries) {\n            this.pushEntry(entry)\n        }\n    }\n\n    /**\n     * Returns only entries that match _all_ of the given filter\n     * configs.\n     */\n    public getEntries(...filterConfigs: StatsFilterConfig[]) {\n        // Explicit stream fusion, wheeeee.\n        //\n        // Well, sort of. We're not fusing all the way up to the regex\n        // match, so that's a ton of duplicated work. Not that it\n        // matters, since this should only ever be invoked when a\n        // developer asks for data.\n        const filters: StatsFilter[] = filterConfigs.map(\n            fc => new StatsFilter(fc),\n        )\n        const filterFun: (input: PerformanceEntry) => boolean = e =>\n            filters.every(f => f.matches(e))\n        return this.buffer.filter(filterFun)\n    }\n\n    public updateBuffersize() {\n        // Changing the buffer length while this is running will\n        // probably result in weirdness, but that shouldn't be a major\n        // issue - it's not like we need these to be in order or\n        // otherwise coherent, we're just trying to store a big pile\n        // of recent-ish samples.\n        const perfsamples = Number(config.get(\"perfsamples\"))\n        // Check for NaN or non-integer\n        if (Number.isInteger(perfsamples)) {\n            this.buffersize = perfsamples\n        } else {\n            // This function could be called a hundred times a second\n            // and would error out every single time if someone has\n            // given an invalid config, so rate-limit the error log -\n            // one every five seconds.\n            if (performance.now() - this.lastError > 5000) {\n                this.lastError = performance.now()\n                logger.error(\n                    \"perfsamples must be an integer, is %O\",\n                    perfsamples,\n                )\n            }\n        }\n    }\n\n    private pushEntry(entry: PerformanceEntry) {\n        logger.debug(\n            \"Pushing performance entry %o into performance counters\",\n            entry,\n        )\n\n        // Drop samples that aren't for tridactyl, since performance\n        // events are global and there are some badly-behaved\n        // libraries spamming them all over our own data.\n        if (!entry.name.startsWith(TRI_PERFORMANCE_NAME_PREFIX)) return\n\n        // We depend on arrays auto-vivifying when elements past the\n        // end are set to make this easy.\n        this.buffer[this.idx] = entry\n        this.incrementIdx()\n    }\n\n    private incrementIdx() {\n        this.idx = (this.idx + 1) % this.buffersize\n    }\n}\n\n/**\n * Pretty-prints a pile of performance samples of type measure (others\n * won't work because they have duration zero or undefined) as a\n * horizontal ASCII histogram. Useful if you just want basic\n * statistics about performance and don't want to spend a bunch of\n * time mucking about in python or julia.\n *\n * A very small example of what you'll get:\n *\n *   0     ####\n *   125   ##########\n *   250   ###############\n *   375   ######\n *   500   ##\n *\n * @param samples A set of samples to plot.\n * @param buckets The number of bins to divide the samples into.\n * @param width The width of the chart.\n */\nexport function renderStatsHistogram(\n    samples: PerformanceEntry[],\n    buckets = 15,\n    width = 80,\n): string {\n    const durs: number[] = samples.map(sample => sample.duration)\n\n    const min = durs.reduce((a, b) => Math.min(a, b))\n    const max = durs.reduce((a, b) => Math.max(a, b))\n\n    const bucketvals: number[] = math.linspace(min, max, buckets)\n\n    const bucketed: Map<number, number> = math.bucketize(durs, bucketvals)\n    const maxcount: number = Array.from(bucketed.values()).reduce(\n        (a, b) => Math.max(a, b),\n        0,\n    )\n\n    const labelwidth = 20\n    const barwidth = width - labelwidth\n    const tobarwidth = n => (barwidth * n) / maxcount\n\n    const result = []\n    for (const [bucketval, bucketcount] of bucketed.entries()) {\n        const bar = \"#\".repeat(tobarwidth(bucketcount))\n        const label = bucketval.toString().padEnd(labelwidth)\n        result.push(label + bar)\n    }\n    return result.join(\"\\n\")\n}\n\n/**\n * Implements filtering of performance entries using the\n * StatsFilterConfig. Exposed so users of the library can do more\n * filtering themselves if they want to.\n */\nexport class StatsFilter {\n    constructor(private readonly config: StatsFilterConfig) {}\n\n    matches(entry: PerformanceEntry): boolean {\n        const metricNameInfo = extractMetricName(entry.name)\n        return !(\n            (this.config.kind === \"functionName\" && this.config.functionName !== metricNameInfo.functionName) ||\n            (this.config.kind === \"ownerName\" && this.config.ownerName !== metricNameInfo.ownerName) ||\n            (this.config.kind === \"eventType\" && this.config.eventType !== entry.entryType)\n        )\n    }\n}\n\nconst TRI_PERFORMANCE_NAME_PREFIX = \"tri\"\n\nfunction performanceApiAvailable(): boolean {\n    return performance.mark !== undefined\n}\n\ninterface MetricNameInfo {\n    ownerName: string\n    functionName: string\n    uniqueSuffix: string\n}\n\nconst extractRegExp = new RegExp(\n    `^${TRI_PERFORMANCE_NAME_PREFIX}` +\n        // owner name\n        `/([^/]+)` +\n        // function name\n        `/([^:]+)` +\n        // unique suffix\n        `:([^:]+)`,\n    // No need to handle :start/:end\n    // because we can get that from the\n    // sample itself.\n)\nfunction extractMetricName(counterName: string): MetricNameInfo {\n    const matchresult = extractRegExp.exec(counterName)\n    if (!matchresult) return\n    const [ownerName, functionName, uniqueSuffix] = matchresult.slice(1)\n\n    return {\n        ownerName,\n        functionName,\n        uniqueSuffix,\n    }\n}\n\nclass MetricName {\n    public readonly fullName: string\n    public readonly startName: string\n    public readonly endName: string\n\n    constructor(ownerName: string, functionName: string) {\n        const uniqueSuffix = Math.floor(\n            Math.random() * Math.floor(1e6),\n        ).toString()\n\n        this.fullName = `${TRI_PERFORMANCE_NAME_PREFIX}/${ownerName}/${functionName}:${uniqueSuffix}`\n        this.startName = `${this.fullName}:start`\n        this.endName = `${this.fullName}:end`\n    }\n}\n\nfunction sendStats(list: PerformanceEntryList) {\n    messaging.message(\n        \"performance_background\",\n        \"receiveStatsJson\",\n        JSON.stringify(list),\n    )\n}\n", "import { browserBg } from \"@src/lib/webext\"\nimport Fuse from \"fuse.js\"\nimport * as Logging from \"@src/lib/logging\"\nconst logger = new Logging.Logger(\"containers\")\n\n// As per Mozilla specification: https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/contextualIdentities/ContextualIdentity\nconst ContainerColor = [\n    \"blue\",\n    \"turquoise\",\n    \"green\",\n    \"yellow\",\n    \"orange\",\n    \"red\",\n    \"pink\",\n    \"purple\",\n]\n\n// As per Mozilla specification: https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/contextualIdentities/ContextualIdentity\nconst ContainerIcon = [\n    \"fingerprint\",\n    \"briefcase\",\n    \"dollar\",\n    \"cart\",\n    \"circle\",\n    \"gift\",\n    \"vacation\",\n    \"food\",\n    \"fruit\",\n    \"pet\",\n    \"tree\",\n    \"chill\",\n]\n\nexport const DefaultContainer = Object.freeze(\n    fromString(\"default\", \"invisible\", \"noicond\", \"firefox-default\"),\n)\n\n/** Creates a container from the specified parameters.Does not allow multiple containers with the same name.\n    @param name  The container name.\n    @param color  The container color, must be one of: \"blue\", \"turquoise\", \"green\", \"yellow\", \"orange\", \"red\", \"pink\" or \"purple\". If nothing is supplied, it selects one at random.\n    @param icon  The container icon, must be one of: \"fingerprint\", \"briefcase\", \"dollar\", \"cart\", \"circle\", \"gift\", \"vacation\", \"food\", \"fruit\", \"pet\", \"tree\", \"chill\"\n */\nexport async function create(\n    name: string,\n    color = \"random\",\n    icon = \"fingerprint\",\n): Promise<string> {\n    if (color === \"random\") color = chooseRandomColor()\n    const container = fromString(name, color, icon)\n    // browser.contextualIdentities.create does not accept a cookieStoreId property.\n    delete container.cookieStoreId\n    logger.debug(container)\n\n    if (await exists(name)) {\n        logger.debug(`[Container.create] container already exists ${container}`)\n        throw new Error(\n            `[Container.create] container already exists, aborting.`,\n        )\n    } else {\n        const res = await browser.contextualIdentities.create(container)\n        return res.cookieStoreId\n    }\n}\n\n/** Removes specified container. No fuzzy matching is intentional here. If there are multiple containers with the same name (allowed by other container plugins), it chooses the one with the lowest cookieStoreId\n    @param name The container name\n */\nexport async function remove(name: string) {\n    logger.debug(name)\n    const id = await getId(name)\n    const res = await browser.contextualIdentities.remove(id)\n    logger.debug(\"[Container.remove] removed container:\", res.cookieStoreId)\n}\n\n/** Updates the specified container.\n    TODO: pass an object to this when tridactyl gets proper flag parsing\n    NOTE: while browser.contextualIdentities.create does check for valid color/icon combos, browser.contextualIdentities.update does not.\n    @param containerId Expects a cookieStringId e.g. \"firefox-container-n\".\n    @param name the new name of the container\n    @param color the new color of the container\n    @param icon the new icon of the container\n */\nexport function update(\n    containerId: string,\n    updateObj: {\n        name: string\n        color: string\n        icon: string\n    },\n) {\n    const { name, color, icon } = updateObj\n    if (!isValidColor(color)) {\n        logger.debug(updateObj)\n        throw new Error(\"[Container.update] invalid container color: \" + color)\n    }\n    if (!isValidIcon(icon)) {\n        logger.debug(updateObj)\n        throw new Error(\"[Container.update] invalid container icon: \" + icon)\n    }\n    browser.contextualIdentities.update(containerId, { name, color, icon })\n}\n\n/** Gets a container object from a supplied container id string. If no container corresponds to containerId, returns a default empty container.\n    @param containerId Expects a cookieStringId e.g. \"firefox-container-n\"\n */\nexport async function getFromId(\n    containerId: string,\n): Promise<browser.contextualIdentities.ContextualIdentity> {\n    try {\n        return await browserBg.contextualIdentities.get(containerId)\n    } catch (e) {\n        return DefaultContainer\n    }\n}\n\n/** Fetches all containers from Firefox's contextual identities API and checks if one exists with the specified name.\n    Note: This operation is entirely case-insensitive.\n    @param string cname\n    @returns boolean Returns true when cname matches an existing container or on query error.\n */\nexport async function exists(cname: string): Promise<boolean> {\n    let exists = false\n    try {\n        const containers = await getAll()\n        const res = containers.filter(\n            c => c.name.toLowerCase() === cname.toLowerCase(),\n        )\n        if (res.length > 0) {\n            exists = true\n        }\n    } catch (e) {\n        exists = true // Make sure we don't accidentally break the constraint on query error.\n        logger.error(\n            \"[Container.exists] Error querying contextualIdentities:\",\n            e,\n        )\n    }\n    return exists\n}\n\n/** Takes string parameters and returns them as a pseudo container object\n    for use in other functions in the library.\n    @param name\n    @param color\n    @param icon\n */\nexport function fromString(name: string, color: string, icon: string, id = \"\") {\n    return {\n        name,\n        color,\n        icon,\n        cookieStoreId: id,\n    } as browser.contextualIdentities.ContextualIdentity // rules are made to be broken\n}\n\n/**\n *  @returns An array representation of all containers.\n */\nexport async function getAll(): Promise<any[]> {\n    return browser.contextualIdentities.query({})\n}\n\n/** Fetches the cookieStoreId of a given container\n\n Note: all checks are case insensitive.\n\n @param name The container name\n @returns The cookieStoreId of the first match of the query.\n */\nexport async function getId(name: string): Promise<string> {\n    const containers = await getAll()\n    const res = containers.filter(\n        c => c.name.toLowerCase() === name.toLowerCase(),\n    )\n    if (res.length !== 1) {\n        throw new Error(`Container '${name}' does not exist.`)\n    } else {\n        return res[0].cookieStoreId\n    }\n}\n\n/** Tries some simple ways to match containers to your input.\n    Fuzzy matching is entirely case-insensitive.\n    @param partialName The (partial) name of the container.\n */\nexport async function fuzzyMatch(partialName: string): Promise<string> {\n    const fuseOptions = {\n        id: \"cookieStoreId\",\n        shouldSort: true,\n        threshold: 0.5,\n        location: 0,\n        distance: 100,\n        mimMatchCharLength: 3,\n        keys: [\"name\"],\n    }\n\n    const containers = await getAll()\n    const fuse = new Fuse(containers, fuseOptions)\n    const res = fuse.search(partialName)\n\n    if (res.length >= 1) return res[0].item.cookieStoreId\n    else {\n        throw new Error(\n            \"[Container.fuzzyMatch] no container matched that string\",\n        )\n    }\n}\n\n/** Helper function for create, returns a random valid IdentityColor for use if no color is applied at creation.*/\nfunction chooseRandomColor(): string {\n    const max = Math.floor(ContainerColor.length)\n    const n = Math.floor(Math.random() * max)\n    return ContainerColor[n]\n}\n\nfunction isValidColor(color: string): boolean {\n    return ContainerColor.indexOf(color) > -1\n}\n\nfunction isValidIcon(icon: string): boolean {\n    return ContainerIcon.indexOf(icon) > -1\n}\n", "import * as Perf from \"@src/perf\"\nimport { browserBg, getSortedTabs, prevActiveTab } from \"@src/lib/webext\"\nimport { enumerate } from \"@src/lib/itertools\"\nimport * as Containers from \"@src/lib/containers\"\nimport * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\nimport * as Messaging from \"@src/lib/messaging\"\n\nclass BufferCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n    public tabId: number\n\n    constructor(\n        public value: string,\n        tab: browser.tabs.Tab,\n        public isAlternative = false,\n        container: browser.contextualIdentities.ContextualIdentity,\n        public tabIndex: number,\n    ) {\n        super()\n\n        this.tabId = tab.id\n\n        // pre contains max four uppercase characters for tab status.\n        // If statusstylepretty is set to true replace use unicode characters,\n        // but keep plain letters in hidden column for completion.\n        let preplain = \"\"\n        if (tab.active) preplain += \"%\"\n        else if (isAlternative) {\n            preplain += \"#\"\n            this.value = \"#\"\n        }\n        let pre = preplain\n        if (tab.pinned) preplain += \"P\"\n        if (tab.audible) preplain += \"A\"\n        if (tab.mutedInfo.muted) preplain += \"M\"\n        if (tab.discarded) preplain += \"D\"\n\n        if (config.get(\"completions\", \"Tab\", \"statusstylepretty\") === \"true\") {\n            if (tab.pinned) pre += \"\\uD83D\\uDCCC\"\n            if (tab.audible) pre += \"\\uD83D\\uDD0A\"\n            if (tab.mutedInfo.muted) pre += \"\\uD83D\\uDD07\"\n            if (tab.discarded) pre += \"\\u2296\"\n        } else {\n            pre = preplain\n        }\n\n        // Push prefix before padding so we don't match on whitespace\n        this.fuseKeys.push(pre)\n        this.fuseKeys.push(preplain)\n\n        // Push properties we want to fuzmatch on\n        this.fuseKeys.push(String(tab.index + 1), tab.title, tab.url)\n\n        // Create HTMLElement\n        const favIconUrl = tab.favIconUrl\n            ? tab.favIconUrl\n            : Completions.DEFAULT_FAVICON\n        const indicator = tab.audible ? String.fromCodePoint(0x1f50a) : \"\"\n        this.html = html`<tr\n            class=\"BufferCompletionOption option container_${container.color} container_${container.icon} container_${container.name}\"\n        >\n            <td class=\"prefix\">${pre}</td>\n            <td class=\"prefixplain\" hidden>${preplain}</td>\n            <td class=\"container\"></td>\n            <td class=\"icon\"><img loading=\"lazy\" src=\"${favIconUrl}\" /></td>\n            <td class=\"title\">\n                ${this.tabIndex + 1}: ${indicator} ${tab.title}\n            </td>\n            <td class=\"content\">\n                <a class=\"url\" target=\"_blank\" href=${tab.url}>${tab.url}</a>\n            </td>\n        </tr>`\n    }\n}\n\nexport class BufferCompletionSource extends Completions.CompletionSourceFuse {\n    public options: BufferCompletionOption[]\n    private shouldSetStateFromScore = true\n\n    // TODO:\n    //     - store the exstr and trigger redraws on user or data input without\n    //       callback faffery\n    //     - sort out the element redrawing.\n\n    constructor(private _parent) {\n        super(\n            [\n                \"tab\",\n                \"tabclose\",\n                \"tabdetach\",\n                \"tabduplicate\",\n                \"tabmove\",\n                \"tabrename\",\n            ],\n            \"BufferCompletionSource\",\n            \"Tabs\",\n        )\n        this.sortScoredOptions = true\n        this.shouldSetStateFromScore =\n            config.get(\"completions\", \"Tab\", \"autoselect\") === \"true\"\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n\n        Messaging.addListener(\"tab_changes\", () => this.reactToTabChanges())\n    }\n\n    async onInput(exstr) {\n        // Schedule an update, if you like. Not very useful for tabs, but\n        // will be for other things.\n        return this.updateOptions(exstr)\n    }\n\n    async filter(exstr) {\n        this.lastExstr = exstr\n        const prefix = this.splitOnPrefix(exstr).shift()\n        if (prefix === \"tabrename\") this.shouldSetStateFromScore = false\n        return this.onInput(exstr)\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, this.shouldSetStateFromScore)\n    }\n\n    /** Score with fuse unless query is a single # or looks like a tab index */\n    scoredOptions(\n        query: string,\n        options = this.options,\n    ): Completions.ScoredOption[] {\n        const args = query.trim().split(/\\s+/gu)\n        if (args.length === 1) {\n            // if query is an integer n and |n| < options.length\n            if (Number.isInteger(Number(args[0]))) {\n                let index = Number(args[0]) - 1\n                if (Math.abs(index) < options.length) {\n                    index = index.mod(options.length)\n                    // options order might change by scored sorting\n                    return this.TabscoredOptionsStartsWithN(index, options)\n                }\n            } else if (args[0] === \"#\") {\n                for (const [index, option] of enumerate(options)) {\n                    if (option.isAlternative) {\n                        return [\n                            {\n                                index,\n                                option,\n                                score: 0,\n                            },\n                        ]\n                    }\n                }\n            }\n        }\n\n        // If not yet returned...\n        return super.scoredOptions(query)\n    }\n\n    /** Return the scoredOption[] result for the tab index startswith n */\n    private TabscoredOptionsStartsWithN(\n        n: number,\n        options: BufferCompletionOption[],\n    ): Completions.ScoredOption[] {\n        const nstr = (n + 1).toString()\n        const res = []\n        for (const [index, option] of enumerate(options)) {\n            if ((option.tabIndex + 1).toString().startsWith(nstr)) {\n                res.push({\n                    index, // index is not tabIndex, changed by score\n                    option,\n                    score: 0,\n                })\n            }\n        }\n\n        // old input will change order: 12 => 123 => 12\n        res.sort((a, b) => a.option.tabIndex - b.option.tabIndex)\n        return res\n    }\n\n    private async fillOptions(prefix: string) {\n        // Get alternative tab, defined as last accessed tab in any group in\n        // this window.\n\n        const altTab = await prevActiveTab()\n        // Since tabmove always uses absolute tab indices, we need\n        // to override possible MRU setting to match tabmove behavior\n        const forceSort = prefix === \"tabmove\" ? \"default\" : undefined\n        const tabs = await getSortedTabs(forceSort)\n        const options = []\n\n        const container_all = await browserBg.contextualIdentities.query({})\n        const container_map = new Map()\n        container_all.forEach(elem =>\n            container_map.set(elem.cookieStoreId, elem),\n        )\n        // firefox-default is not in contextualIdenetities\n        container_map.set(\"firefox-default\", Containers.DefaultContainer)\n        for (const [index, tab] of tabs.entries()) {\n            let tab_container = container_map.get(tab.cookieStoreId)\n            if (!tab_container) {\n                tab_container = Containers.DefaultContainer\n            }\n            options.push(\n                new BufferCompletionOption(\n                    (index + 1).toString(),\n                    tab,\n                    tab.index === altTab.index,\n                    tab_container,\n                    index,\n                ),\n            )\n        }\n\n        this.options = options\n    }\n\n    // Eslint doesn't like this decorator but there's nothing we can do about it\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    @Perf.measuredAsync\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix, query] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        // When the user is asking for tabmove completions, don't autoselect if the query looks like a relative move https://github.com/tridactyl/tridactyl/issues/825\n        if (prefix === \"tabmove\")\n            this.shouldSetStateFromScore = !/^[+-][0-9]+$/.exec(query)\n\n        await this.fillOptions(prefix)\n        this.completion = undefined\n\n        /* console.log('updateOptions', this.optionContainer) */\n        if (query && query.trim().length > 0) {\n            this.setStateFromScore(this.scoredOptions(query))\n        } else {\n            this.options.forEach(option => (option.state = \"normal\"))\n        }\n        return this.updateDisplay()\n    }\n\n    /**\n     * Update the list of possible tab options and select (focus on)\n     * the appropriate option.\n     */\n    private async reactToTabChanges(): Promise<void> {\n        const prevOptions = this.options\n        await this.updateOptions(this.lastExstr)\n\n        if (!prevOptions || !this.options || !this.lastFocused) return\n\n        // Determine which option to focus on\n        const diff: BufferCompletionOption[] = []\n        for (const prevOption of prevOptions) {\n            if (\n                !this.options.find(\n                    newOption => prevOption.tabId === newOption.tabId,\n                )\n            )\n                diff.push(prevOption)\n        }\n        const lastFocusedTabCompletion = this\n            .lastFocused as BufferCompletionOption\n\n        // If the focused option was removed then focus on the next option\n        if (\n            diff.length === 1 &&\n            diff[0].tabId === lastFocusedTabCompletion.tabId\n        ) {\n            this.select(this.getTheNextTabOption(lastFocusedTabCompletion))\n        }\n    }\n\n    /**\n     * Gets the next option in this BufferCompletionSource assuming\n     * that this BufferCompletionSource length has been reduced by 1\n     */\n    private getTheNextTabOption(option: BufferCompletionOption) {\n        if (option.tabIndex === this.options.length) {\n            return this.options[this.options.length - 1]\n        }\n        return this.options[option.tabIndex]\n    }\n}\n", "import {\n    activeTabId,\n    activeWindowId,\n    browserBg,\n    removeActiveWindowValue,\n} from \"./webext\"\n\n/**\n * Return a set of the current window's tab groups (empty if there are none).\n *\n */\nexport async function tgroups() {\n    const groups = await browserBg.sessions.getWindowValue(\n        await activeWindowId(),\n        \"tridactyl-tgroups\",\n    )\n    return new Set<string>(groups as string[])\n}\n\n/**\n * Set the current window's tab groups.\n *\n * @param groups The set of groups.\n *\n */\nexport async function setTgroups(groups: Set<string>) {\n    return browserBg.sessions.setWindowValue(\n        await activeWindowId(),\n        \"tridactyl-tgroups\",\n        [...groups],\n    )\n}\n\n/**\n * Clear the current window's tab groups.\n *\n */\nexport function clearTgroups() {\n    return removeActiveWindowValue(\"tridactyl-tgroups\")\n}\n\n/**\n * Return the active tab group for the a window or undefined.\n *\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function windowTgroup(id?: number) {\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n    return browserBg.sessions.getWindowValue(\n        id,\n        \"tridactyl-active-tgroup\",\n    ) as unknown as string\n}\n\n/**\n * Set the active tab group for a window.\n *\n * @param name The name of the new active tab group.\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function setWindowTgroup(name: string, id?: number) {\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n    return browserBg.sessions.setWindowValue(\n        id,\n        \"tridactyl-active-tgroup\",\n        name,\n    )\n}\n\n/*\n * Return the last active tab group for a window or undefined.\n *\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function windowLastTgroup(id?: number) {\n    const otherGroupsTabs = await tgroupTabs(await windowTgroup(id), true)\n    if (otherGroupsTabs.length === 0) {\n        return undefined\n    }\n    otherGroupsTabs.sort((a, b) => b.lastAccessed - a.lastAccessed)\n    const lastTabId = otherGroupsTabs[0].id\n    return tabTgroup(lastTabId)\n}\n\n/**\n * Clear the active tab group for the current window.\n *\n */\nexport function clearWindowTgroup() {\n    return removeActiveWindowValue(\"tridactyl-active-tgroup\")\n}\n\n/**\n * Return a tab's tab group.\n *\n * @param id The id of the tab. Use the current tab if not specified.\n *\n */\nexport async function tabTgroup(id?: number) {\n    if (id === undefined) {\n        id = await activeTabId()\n    }\n    return browserBg.sessions.getTabValue(\n        id,\n        \"tridactyl-tgroup\",\n    ) as unknown as string\n}\n\n/**\n * Return a list of tab ids.\n *\n * @param id An id, a list of ids, or undefined.\n *\n * If id is undefined, return a list of the current tab id.\n *\n */\nasync function tabIdsOrCurrent(ids?: number | number[]): Promise<number[]> {\n    if (!ids) {\n        ids = [await activeTabId()]\n    } else if (!Array.isArray(ids)) {\n        ids = [ids]\n    }\n    return ids\n}\n\n/**\n * Set the a tab's tab group.\n *\n * @param name The name of the tab group.\n * @param id The id(s) of the tab(s). Use the current tab if not specified.\n *\n */\nexport async function setTabTgroup(name: string, id?: number | number[]) {\n    const ids = await tabIdsOrCurrent(id)\n    return Promise.all(\n        ids.map(id => {\n            browserBg.sessions.setTabValue(id, \"tridactyl-tgroup\", name)\n        }),\n    )\n}\n\n/**\n * Clear all the tab groups.\n *\n * @param id The id(s) of the tab(s). Use the current tab if not specified.\n *\n */\nexport async function clearTabTgroup(id?: number | number[]) {\n    const ids = await tabIdsOrCurrent(id)\n    return Promise.all(\n        ids.map(id => {\n            browserBg.sessions.removeTabValue(id, \"tridactyl-tgroup\")\n        }),\n    )\n}\n\n/**\n * Return a list of all tabs in a tab group.\n *\n * @param name The name of the tab group.\n * @param other Whether to return the tabs not in the tab group instead.\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function tgroupTabs(\n    name: string,\n    other = false,\n    id?: number,\n): Promise<browser.tabs.Tab[]> {\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n    return browserBg.tabs.query({ windowId: id }).then(async tabs => {\n        const sameGroupIndices = await Promise.all(\n            tabs.map(async ({ id }) => {\n                const groupMatched = (await tabTgroup(id)) == name\n                return other ? !groupMatched : groupMatched\n            }),\n        )\n        tabs = tabs.filter((_, index) => sameGroupIndices[index])\n        return tabs\n    })\n}\n\n/**\n * Return the id of the last selected tab in a tab group.\n *\n * @param name The name of the tab group.\n * @param previous Whether to return the tab selected before the last tab.\n *\n */\nexport async function tgroupLastTabId(name: string, previous = false) {\n    const tabs = await tgroupTabs(name)\n    tabs.sort((a, b) => b.lastAccessed - a.lastAccessed)\n    if (previous) {\n        return tabs[1].id\n    } else {\n        return tabs[0].id\n    }\n}\n\n/**\n * Clear stored information for a tab group.\n *\n * @param name The name of the tab group.\n * @param newName A name to rename the group to.\n * @param id The id of the window. Use the current window if not specified.\n *\n * If newName is specified, add it as a stored group (if it doesn't already\n * exist), set the current window group to it, and set the group for all tabs in\n * the old group to it.\n *\n */\nexport async function tgroupClearOldInfo(\n    oldName: string,\n    newName?: string,\n    id?: number,\n) {\n    const promises = []\n    const groups = await tgroups()\n    groups.delete(oldName)\n    if (newName) {\n        groups.add(newName)\n    }\n    promises.push(setTgroups(groups))\n\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n\n    if (newName) {\n        promises.push(setWindowTgroup(newName, id))\n        promises.push(\n            tgroupTabs(oldName, false, id).then(tabs => {\n                setTabTgroup(\n                    newName,\n                    tabs.map(tab => tab.id),\n                )\n            }),\n        )\n    }\n    return Promise.all(promises)\n}\n\n/**\n * Activate the previously active tab in a tab group.\n *\n * @param name The name of the tab group to switch to.\n *\n */\nexport async function tgroupActivate(name: string) {\n    const lastActiveTabId = await tgroupLastTabId(name)\n    // this will trigger tgroupHandleTabActivated\n    return browserBg.tabs.update(lastActiveTabId, { active: true })\n}\n\n/**\n * Activate the last active tab in the last active tab group.\n *\n * Return the name of activated tab group.\n *\n */\nexport async function tgroupActivateLast() {\n    const lastTabGroup = await windowLastTgroup()\n    return tgroupActivate(lastTabGroup).then(() => lastTabGroup)\n}\n\n/**\n * Clear all stored tab group information.\n *\n */\nexport async function clearAllTgroupInfo() {\n    return Promise.all([\n        clearTgroups(),\n        clearWindowTgroup(),\n        browser.tabs.query({ currentWindow: true }).then(async tabs => {\n            const ids = tabs.map(tab => tab.id)\n            await browser.tabs.show(ids)\n            return clearTabTgroup(ids)\n        }),\n    ])\n}\n\n/**\n * Set the tab's tab group to its window's active tab group if there is one.\n *\n * Do nothing if the tab is already associated with a tab group.\n *\n * @param tab The tab that was just created.\n *\n */\nexport async function tgroupHandleTabCreated(tab: browser.tabs.Tab) {\n    const windowGroup = await windowTgroup(tab.windowId)\n\n    if (windowGroup) {\n        const tabGroup = await tabTgroup(tab.id)\n        if (!tabGroup) {\n            return setTabTgroup(windowGroup, tab.id)\n        }\n    }\n}\n\n/**\n * Set the tab's tab group to its window's active tab group if there is one.\n *\n * @param tabId The id of the tab that was just attached to this window.\n *\n */\nexport async function tgroupHandleTabAttached(tabId: number, attachInfo) {\n    // NOTE this doesn't need to worry about a tab on another window previously\n    // being pinned because tabs become unpinned when you move them between\n    // windows\n    const windowGroup = await windowTgroup(attachInfo.newWindowId)\n    if (windowGroup) {\n        return setTabTgroup(windowGroup, tabId)\n    }\n}\n\n/**\n * Handle tab activation, possibly switching tab groups.\n *\n * If the new tab is from a different tab group, set it as the new tab group,\n * show all its tabs, and hide all tabs from the old tab group.\n */\nexport async function tgroupHandleTabActivated(activeInfo) {\n    const windowGroup = await windowTgroup(activeInfo.windowId)\n    const tabGroup = await tabTgroup(activeInfo.tab)\n    const promises = []\n    if (windowGroup && tabGroup && windowGroup != tabGroup) {\n        await setWindowTgroup(tabGroup, activeInfo.windowId)\n\n        promises.push(\n            tgroupTabs(tabGroup, false, activeInfo.windowId).then(tabs =>\n                browserBg.tabs.show(tabs.map(tab => tab.id)),\n            ),\n        )\n        promises.push(\n            tgroupTabs(tabGroup, true, activeInfo.windowId).then(tabs =>\n                browserBg.tabs.hide(tabs.map(tab => tab.id)),\n            ),\n        )\n    }\n    return Promise.all(promises)\n}\n\n/**\n * Set or clear a tab's group if it was pinned or unpinned respectively.\n *\n * @param tabId The id of the tab that was just updated.\n *\n */\nexport async function tgroupHandleTabUpdated(\n    tabId: number,\n    changeInfo,\n    tab: browser.tabs.Tab,\n) {\n    if (changeInfo.pinned !== undefined) {\n        const windowGroup = await windowTgroup(tab.windowId)\n        if (windowGroup) {\n            if (changeInfo.pinned) {\n                return clearTabTgroup(tabId)\n            } else {\n                return setTabTgroup(windowGroup, tabId)\n            }\n        }\n    }\n}\n\n/**\n * Handle the last tab in a tab group being closed.\n *\n * Clear its information.\n *\n */\nexport async function tgroupHandleTabRemoved(_tabId: number, removeInfo) {\n    if (!removeInfo.isWindowClosing) {\n        const windowGroup = await windowTgroup(removeInfo.windowId)\n        const tabCount = await tgroupTabs(\n            windowGroup,\n            false,\n            removeInfo.windowId,\n        ).then(tabs => tabs.length)\n        if (tabCount == 0) {\n            return tgroupClearOldInfo(\n                windowGroup,\n                undefined,\n                removeInfo.windowId,\n            )\n        }\n    }\n}\n\n/**\n * Handle the last tab in a tab group being moved to another window.\n *\n * Clear its information.\n *\n */\nexport async function tgroupHandleTabDetached(tabId: number, detachInfo) {\n    // clear tab's stored group; will automatically be changed if there are\n    // groups on the other window but otherwise it will still show up in the\n    // mode indicator\n    clearTabTgroup(tabId)\n\n    const windowGroup = await windowTgroup(detachInfo.oldWindowId)\n    const tabCount = await tgroupTabs(\n        windowGroup,\n        false,\n        detachInfo.oldWindowId,\n    ).then(tabs => tabs.length)\n    if (tabCount == 0) {\n        return tgroupClearOldInfo(\n            windowGroup,\n            undefined,\n            detachInfo.oldWindowId,\n        )\n    }\n}\n", "import * as Perf from \"@src/perf\"\nimport { browserBg, prevActiveTab } from \"@src/lib/webext\"\nimport * as Containers from \"@src/lib/containers\"\nimport * as Completions from \"@src/completions\"\nimport * as Messaging from \"@src/lib/messaging\"\nimport * as config from \"@src/lib/config\"\nimport { tabTgroup } from \"@src/lib/tab_groups\"\n\nclass TabAllCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n    public tab: browser.tabs.Tab\n    constructor(\n        public value: string,\n        tab: browser.tabs.Tab,\n        isAlternative: boolean,\n        isCurrent: boolean,\n        winindex: number,\n        container: browser.contextualIdentities.ContextualIdentity,\n        incognito: boolean,\n        tgroupname: string,\n    ) {\n        super()\n        const valueStr = `${winindex}.${tab.index + 1}`\n        this.value = valueStr\n        this.fuseKeys.push(this.value, tab.title, tab.url)\n        this.tab = tab\n\n        // pre contains max four uppercase characters for tab status.\n        // If statusstylepretty is set to true replace use unicode characters,\n        // but keep plain letters in hidden column for completion.\n        let preplain = \"\"\n        if (isCurrent) {\n            preplain += \"%\"\n        } else if (isAlternative) {\n            preplain += \"#\"\n            this.value = \"#\"\n        }\n        let pre = preplain\n        if (tab.pinned) preplain += \"P\"\n        if (tab.audible) preplain += \"A\"\n        if (tab.mutedInfo.muted) preplain += \"M\"\n        if (tab.discarded) preplain += \"D\"\n\n        if (config.get(\"completions\", \"Tab\", \"statusstylepretty\") === \"true\") {\n            if (tab.pinned) pre += \"\\uD83D\\uDCCC\"\n            if (tab.audible) pre += \"\\uD83D\\uDD0A\"\n            if (tab.mutedInfo.muted) pre += \"\\uD83D\\uDD07\"\n            if (tab.discarded) pre += \"\\u2296\"\n        } else {\n            pre = preplain\n        }\n\n        tgroupname = tgroupname === undefined ? \"\" : tgroupname\n\n        // Push prefix before padding so we don't match on whitespace\n        this.fuseKeys.push(pre)\n        this.fuseKeys.push(preplain)\n        this.fuseKeys.push(tgroupname)\n\n        // Push properties we want to fuzmatch on\n        this.fuseKeys.push(String(tab.index + 1), tab.title, tab.url)\n\n        // Create HTMLElement\n        const favIconUrl = tab.favIconUrl\n            ? tab.favIconUrl\n            : Completions.DEFAULT_FAVICON\n        this.html = html`<tr\n            class=\"BufferAllCompletionOption option container_${container.color} container_${container.icon} container_${container.name} ${incognito\n                ? \"incognito\"\n                : \"\"}\"\n        >\n            <td class=\"prefix\">${pre}</td>\n            <td class=\"prefixplain\" hidden>${preplain}</td>\n            <td class=\"privatewindow\"></td>\n            <td class=\"container\"></td>\n            <td class=\"icon\"><img src=\"${favIconUrl}\" /></td>\n            <td class=\"title\">${valueStr}: ${tab.title}</td>\n            <td class=\"content\">\n                <a class=\"url\" target=\"_blank\" href=${tab.url}>${tab.url}</a>\n            </td>\n            <td class=\"tgroup\">${tgroupname}</td>\n        </tr>`\n    }\n}\n\nexport class TabAllCompletionSource extends Completions.CompletionSourceFuse {\n    public options: TabAllCompletionOption[]\n    private shouldSetStateFromScore = true\n\n    constructor(private _parent) {\n        super([\"taball\", \"tabgrab\"], \"TabAllCompletionSource\", \"All Tabs\")\n\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n        this.shouldSetStateFromScore =\n            config.get(\"completions\", \"TabAll\", \"autoselect\") === \"true\"\n\n        Messaging.addListener(\"tab_changes\", () => this.reactToTabChanges())\n    }\n\n    async onInput(exstr) {\n        return this.updateOptions(exstr)\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, this.shouldSetStateFromScore)\n    }\n\n    /**\n     * Map all windows into a {[windowId]: window} object\n     */\n    private async getWindows() {\n        const windows = await browserBg.windows.getAll()\n        const response: { [windowId: number]: browser.windows.Window } = {}\n        windows.forEach(win => (response[win.id] = win))\n        return response\n    }\n\n    /**\n     * Update the list of possible tab options and select (focus on)\n     * the appropriate option.\n     */\n    private async reactToTabChanges(): Promise<void> {\n        // const prevOptions = this.options\n        await this.updateOptions(this.lastExstr)\n\n        // TODO: update this from Tab.ts for TabAll.ts\n        // if (!prevOptions || !this.options || !this.lastFocused) return\n\n        // // Determine which option to focus on\n        // const diff = R.differenceWith(\n        //     (x, y) => x.tab.id === y.tab.id,\n        //     prevOptions,\n        //     this.options,\n        // )\n        // const lastFocusedTabCompletion = this\n        //     .lastFocused as TabAllCompletionOption\n\n        // // If the focused option was removed then focus on the next option\n        // if (\n        //    diff.length === 1 &&\n        //    diff[0].tab.id === lastFocusedTabCompletion.tab.id\n        // ) {\n        //    //this.select(this.getTheNextTabOption(lastFocusedTabCompletion))\n        // }\n    }\n\n    /**\n     * Gets the next option in this BufferCompletionSource assuming\n     * that this BufferCompletionSource length has been reduced by 1\n     *\n     * TODO: this ain't going to work, need to work out position based on win.tab\n     */\n    // private getTheNextTabOption(option: TabAllCompletionOption) {\n    //     if (option.tab.index === this.options.length) {\n    //         return this.options[this.options.length - 1]\n    //     }\n    //     return this.options[option.tab.index]\n    // }\n\n    // Eslint doesn't like this decorator but there's nothing we can do about it\n    // eslint-disable-next-line @typescript-eslint/member-ordering\n    @Perf.measuredAsync\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const tabsPromise = browserBg.tabs.query({})\n        const windowsPromise = this.getWindows()\n        const [tabs, windows] = await Promise.all([tabsPromise, windowsPromise])\n\n        const options = []\n\n        tabs.sort((a, b) => {\n            if (a.windowId === b.windowId) return a.index - b.index\n            return a.windowId - b.windowId\n        })\n\n        const altTab = await prevActiveTab()\n\n        // Check to see if this is a command that needs to exclude the current\n        // window\n        const excludeCurrentWindow = [\"tabgrab\"].includes(prefix.trim())\n        const currentWindow = await browserBg.windows.getCurrent()\n        // Window Ids don't make sense so we're using LASTID and WININDEX to compute a window index\n        // This relies on the fact that tabs are sorted by window ids\n        let lastId = 0\n        let winindex = 0\n        for (const tab of tabs) {\n            if (lastId !== tab.windowId) {\n                lastId = tab.windowId\n                winindex += 1\n            }\n            // if we are excluding the current window and this tab is in the current window\n            // then skip it\n            if (excludeCurrentWindow && tab.windowId === currentWindow.id)\n                continue\n            options.push(\n                new TabAllCompletionOption(\n                    tab.id.toString(),\n                    tab,\n                    tab.index === altTab.index &&\n                        tab.windowId === altTab.windowId,\n                    tab.active &&\n                        tab.windowId === currentWindow.id,\n                    winindex,\n                    await Containers.getFromId(tab.cookieStoreId),\n                    windows[tab.windowId].incognito,\n                    await tabTgroup(tab.id),\n                ),\n            )\n        }\n\n        this.completion = undefined\n        this.options = options\n        return this.updateChain()\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport { staticThemes } from \"@src/.metadata.generated\"\nimport * as config from \"@src/lib/config\"\n\nexport class ThemeCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n    constructor(public value: string, public documentation: string = \"\") {\n        super()\n        this.fuseKeys.push(this.value)\n\n        // Create HTMLElement\n        this.html = html`<tr class=\"ThemeCompletionOption option\">\n            <td class=\"theme\">${value}</td>\n        </tr>`\n    }\n}\n\nexport class ThemeCompletionSource extends Completions.CompletionSourceFuse {\n    public options: ThemeCompletionOption[]\n\n    constructor(private _parent) {\n        super([\"set theme\", \"colourscheme\"], \"ThemeCompletionSource\", \"Themes\")\n\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n    }\n\n    async filter(exstr) {\n        this.lastExstr = exstr\n        return this.onInput(exstr)\n    }\n\n    async onInput(exstr) {\n        return this.updateOptions(exstr)\n    }\n\n    setStateFromScore(scoredOpts: Completions.ScoredOption[]) {\n        super.setStateFromScore(scoredOpts, false)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n\n        const themes = staticThemes.concat(\n            Object.keys(await config.get(\"customthemes\")),\n        )\n        const [prefix, query] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        // Add all excmds that start with exstr and that tridactyl has metadata about to completions\n        this.options = this.scoreOptions(\n            themes\n                .filter(name => name.startsWith(query))\n                .map(name => new ThemeCompletionOption(name)),\n        )\n\n        this.options.forEach(o => (o.state = \"normal\"))\n        return this.updateChain()\n    }\n\n    private scoreOptions(options: ThemeCompletionOption[]) {\n        return options.sort((o1, o2) => o1.value.localeCompare(o2.value))\n\n        // Too slow with large profiles\n        // let histpos = state.cmdHistory.map(s => s.split(\" \")[0]).reverse()\n        // return exstrs.sort((a, b) => {\n        //     let posa = histpos.findIndex(x => x == a)\n        //     let posb = histpos.findIndex(x => x == b)\n        //     // If two ex commands have the same position, sort lexically\n        //     if (posa == posb) return a < b ? -1 : 1\n        //     // If they aren't found in the list they get lower priority\n        //     if (posa == -1) return 1\n        //     if (posb == -1) return -1\n        //     // Finally, sort by history position\n        //     return posa < posb ? -1 : 1\n        // })\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport { browserBg } from \"@src/lib/webext\"\n\nclass TabHistoryCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(public value: string, tab) {\n        super()\n        this.fuseKeys.push(this.value, tab.title)\n\n        const index = tab.id ? tab.id : \"\"\n        const timeSpan = tab.formatTimeSpan\n\n        this.fuseKeys.push(String(index))\n\n        this.html = html`<tr class=\"TabHistoryCompletionOption option\">\n            <td class=\"prefix\">${index}</td>\n            <td class=\"container\"></td>\n            <td class=\"title\">${tab.prefix}${tab.title}</td>\n            <td class=\"content\">\n                <a class=\"url\" href=\"${tab.href}\">${tab.href}</a>\n            </td>\n            <td class=\"time\">${timeSpan}</td>\n        </tr>`\n    }\n}\n\nexport class TabHistoryCompletionSource extends Completions.CompletionSourceFuse {\n    public options: TabHistoryCompletionOption[]\n\n    constructor(private _parent) {\n        super([\"back\", \"forward\"], \"TabHistoryCompletionSource\", \"Tab history\")\n\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n    }\n\n    async filter(exstr) {\n        this.lastExstr = exstr\n        return this.onInput(exstr)\n    }\n\n    async onInput(exstr) {\n        return this.updateOptions(exstr)\n    }\n\n    private makeTree(nodes, parentId = null, level = 0) {\n        return nodes\n            .filter(node => node[\"parent\"] === parentId)\n            .reduce(\n                (tree, node) => [\n                    ...tree,\n                    {\n                        ...node,\n                        children: this.makeTree(nodes, node[\"id\"], level + 1),\n                        level,\n                    },\n                ],\n                [],\n            )\n    }\n\n    private flattenTree(node, flat = []) {\n        flat.push({\n            title: node[\"title\"],\n            href: node[\"href\"],\n            parent: node[\"parent\"],\n            id: node[\"id\"],\n            level: node[\"level\"] === 0 ? node[\"level\"] : node[\"level\"] - 1,\n            time: node[\"time\"],\n        })\n        for (const child of node[\"children\"]) {\n            this.flattenTree(child, flat)\n        }\n        return flat\n    }\n\n    private addFormatTimeSpan(tree) {\n        const now = Date.now()\n        for (const node of tree) {\n            const past = now - node[\"time\"]\n            node[\"formatTimeSpan\"] = this.formatTimeSpan(past)\n        }\n    }\n    private formatTimeSpan(ms) {\n        const s = Math.floor(ms / 1000)\n        const m = Math.floor(s / 60)\n        const h = Math.floor(m / 60)\n        const day = Math.floor(h / 24)\n\n        if (m < 1) return `${s} second${s == 1 ? \"\" : \"s\"} ago`\n        else if (m < 10) return `${m}m ${s % 60}s ago`\n        else if (h < 1) return `${m} min${m == 1 ? \"\" : \"s\"} ago`\n        else if (h < 10) return `${h}h ${m % 60}m ago`\n        else if (day < 1) return `${h} hour${h == 1 ? \"\" : \"s\"} ago`\n        else if (day < 10)\n            return `${day} day${day == 1 ? \"\" : \"s\"} ${h % 24}h ago`\n        else return `${day} day${day == 1 ? \"\" : \"s\"} ago`\n    }\n\n    private addIndicies(tree) {\n        for (const node of tree) {\n            const parentCount = node[\"level\"]\n            let string = \"  \"\n            for (let i = 0; i <= parentCount; ++i) {\n                if (i === parentCount - 1) {\n                    string += \"\u250C\u2500\"\n                } else if ( i < parentCount ) {\n                    string += \"\u2003\u2003\" // NB: non-breaking space\n                } else {\n                    string += \"\u00B7 \"\n                }\n            }\n            node[\"prefix\"] = string\n        }\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n\n        const tab = await browserBg.tabs.query({\n            active: true,\n            currentWindow: true,\n        })\n        let history = await browserBg.sessions.getTabValue(tab[0].id, \"history\")\n        if (!history) history = { list: [] }\n        const tree = this.makeTree(history[\"list\"])\n        history[\"list\"] = this.flattenTree(tree[0]).reverse()\n        this.addIndicies(history[\"list\"])\n        this.addFormatTimeSpan(history[\"list\"])\n\n        this.options = this.scoreOptions(\n            history[\"list\"].map(\n                item =>\n                    new TabHistoryCompletionOption(item.href, {\n                        href: item.href,\n                        id: item.index,\n                        title: item.title,\n                        prefix: item.prefix,\n                        index: item.level,\n                        formatTimeSpan: item.formatTimeSpan,\n                    }),\n            ),\n        )\n        this.updateChain()\n    }\n\n    private scoreOptions(options: TabHistoryCompletionOption[]) {\n        return options\n    }\n}\n", "import { browserBg } from \"@src/lib/webext\"\nimport * as Completions from \"@src/completions\"\n\nclass WindowCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(win: browser.windows.Window) {\n        super()\n        this.value = win.id\n        this.fuseKeys.push(`${win.title}`)\n        this.fuseKeys.push(`${win.id}`)\n\n        // Create HTMLElement\n        this.html = html`<tr\n            class=\"WindowCompletionOption option ${win.incognito\n                ? \"incognito\"\n                : \"\"}\"\n        >\n            <td class=\"privatewindow\"></td>\n            <td class=\"prefix\">${win.focused ? \"%\" : \"\"}</td>\n            <td class=\"id\">${win.id}</td>\n            <td class=\"title\">${win.title}</td>\n            <td class=\"tabcount\">\n                ${win.tabs.length} tab${win.tabs.length !== 1 ? \"s\" : \"\"}\n            </td>\n        </tr>`\n    }\n}\n\nexport class WindowCompletionSource extends Completions.CompletionSourceFuse {\n    public options: WindowCompletionOption[]\n\n    constructor(private _parent) {\n        super(\n            [\"tabpush\", \"winclose\", \"winmerge\"],\n            \"WindowCompletionSource\",\n            \"Windows\",\n        )\n\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n    }\n\n    async onInput(exstr) {\n        // Schedule an update, if you like. Not very useful for windows, but\n        // will be for other things.\n        return this.updateOptions(exstr)\n    }\n\n    async filter(exstr) {\n        this.lastExstr = exstr\n        return this.onInput(exstr)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const excludeCurrentWindow = [\"tabpush\"].includes(prefix.trim())\n        this.options = (await browserBg.windows.getAll({ populate: true }))\n        .filter( win => !(excludeCurrentWindow && win.focused))\n        .map(\n            win => {\n                const o = new WindowCompletionOption(win)\n                o.state = \"normal\"\n                return o\n            },\n        )\n        return this.updateDisplay()\n    }\n}\n", "import * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\n\nclass ProxyCompletionOption extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(\n        public value: string,\n        proxy: { name: string; value: string; },\n    ) {\n        super()\n        this.html = html`<tr class=\"ProxyCompletionOption option\">\n            <td class=\"name\">${proxy.name}</td>\n            <td class=\"content\">${proxy.value}</td>\n        </tr>`\n    }\n}\n\nexport class ProxyCompletionSource extends Completions.CompletionSourceFuse {\n    public options: ProxyCompletionOption[]\n\n    constructor(private _parent) {\n        super(\n            [\"proxyadd\", \"proxyremove\"],\n            \"ProxyCompletionSource\",\n            \"Proxy\",\n        )\n\n        this._parent.appendChild(this.node)\n    }\n\n    public async filter(exstr: string) {\n        this.lastExstr = exstr\n        let [prefix, query] = this.splitOnPrefix(exstr)\n        const args = query ? query.split(/\\s+/) : []\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const proxies = config.get(\"proxies\")\n\n        if (!proxies) {\n            this.options = []\n            return this.updateChain()\n        }\n\n        query = args.join(\" \").toLowerCase()\n        this.options = Object.keys(proxies)\n            .filter(x => x.toLowerCase().startsWith(query))\n            .sort()\n            .map(\n                key =>\n                    new ProxyCompletionOption(key, {\n                        name: key,\n                        value: JSON.stringify(proxies[key]),\n                    }\n                ),\n            )\n\n        return this.updateChain()\n    }\n\n    updateChain() {\n        // Options are pre-trimmed to the right length.\n        this.options.forEach(option => (option.state = \"normal\"))\n\n        // Call concrete class\n        return this.updateDisplay()\n    }\n}\n", "import Logger from \"@src/lib/logging\"\nconst logger = new Logger(\"state\")\n\nexport type ModeName =\n    | \"normal\"\n    | \"insert\"\n    | \"hint\"\n    | \"ignore\"\n    | \"gobble\"\n    | \"input\"\n    | \"visual\"\n    | \"nmode\"\n\nexport class PrevInput {\n    inputId: string\n    tab: number\n    jumppos?: number\n}\n\nclass ContentState {\n    mode: ModeName = \"normal\"\n    suffix = \"\"\n    group = \"\"\n    current_cmdline = \"\"\n    cmdline_filter = \"\"\n}\n\nexport type ContentStateProperty =\n    | \"mode\"\n    | \"cmdHistory\"\n    | \"prevInputs\"\n    | \"suffix\"\n    | \"group\"\n\nexport type ContentStateChangedCallback = (\n    property: ContentStateProperty,\n    oldValue: any,\n    newValue: any,\n    suffix: any,\n) => void\n\nconst onChangedListeners: ContentStateChangedCallback[] = []\n\nexport function addContentStateChangedListener(\n    callback: ContentStateChangedCallback,\n) {\n    onChangedListeners.push(callback)\n}\n\nexport const contentState = (new Proxy(\n    { mode: \"normal\" },\n    {\n        get(target, property: ContentStateProperty) {\n            return target[property]\n        },\n\n        set(target, property: ContentStateProperty, newValue) {\n            logger.debug(\"Content state changed!\", property, newValue)\n\n            const oldValue = target[property]\n            const mode = target.mode\n            target[property] = newValue\n\n            for (const listener of onChangedListeners) {\n                listener(property, mode, oldValue, newValue)\n            }\n            return true\n        },\n    },\n) as any) as ContentState\n", "import { staticThemes } from \"@src/.metadata.generated\"\nimport * as config from \"@src/lib/config\"\nimport * as Logging from \"@src/lib/logging\"\nimport { browserBg, ownTabId } from \"@src/lib/webext\"\n\nconst logger = new Logging.Logger(\"styling\")\n\nexport const THEMES = staticThemes\n\nfunction capitalise(str) {\n    if (str === \"\") return str\n    return str[0].toUpperCase() + str.slice(1)\n}\n\nfunction prefixTheme(name) {\n    return \"TridactylTheme\" + capitalise(name)\n}\n\n// At the moment elements are only ever `:root` and so this array and stuff is all a bit overdesigned.\nconst THEMED_ELEMENTS = []\n\nlet insertedCSS = false\nconst customCss = {\n    allFrames: true,\n    matchAboutBlank: true,\n    code: \"\",\n}\n\nexport async function theme(element) {\n    // Remove any old theme\n\n    /**\n     * DEPRECATED\n     *\n     * You don't need to add weird classnames to your themes any more, but you can if you want.\n     *\n     * Retained for backwards compatibility.\n     **/\n    for (const theme of THEMES.map(prefixTheme)) {\n        element.classList.remove(theme)\n    }\n    // DEPRECATION ENDS\n\n    if (insertedCSS) {\n        // Typescript doesn't seem to be aware than remove/insertCSS's tabid\n        // argument is optional\n        await browserBg.tabs.removeCSS(await ownTabId(), customCss)\n        insertedCSS = false\n    }\n\n    const newTheme = await config.getAsync(\"theme\")\n\n    /**\n     * DEPRECATED\n     *\n     * You don't need to add weird classnames to your themes any more, but you can if you want.\n     *\n     * Retained for backwards compatibility.\n     **/\n    if (newTheme !== \"default\") {\n        element.classList.add(prefixTheme(newTheme))\n    }\n    // DEPRECATION ENDS\n\n    // Insert custom css if needed\n    if (newTheme !== \"default\") {\n        customCss.code = THEMES.includes(newTheme)\n            ? \"@import url('\" +\n              browser.runtime.getURL(\n                  \"static/themes/\" + newTheme + \"/\" + newTheme + \".css\",\n              ) +\n              \"');\"\n            : await config.getAsync(\"customthemes\", newTheme)\n        if (customCss.code) {\n            await browserBg.tabs.insertCSS(await ownTabId(), customCss)\n            insertedCSS = true\n        } else {\n            logger.error(\"Theme \" + newTheme + \" couldn't be found.\")\n        }\n    }\n\n    // Record for re-theming\n    // considering only elements :root (page and cmdline_iframe)\n    // TODO:\n    //     - Find ways to check if element is already pushed\n    if (\n        THEMED_ELEMENTS.length < 2 &&\n        element.tagName.toUpperCase() === \"HTML\"\n    ) {\n        THEMED_ELEMENTS.push(element)\n    }\n}\n\nfunction retheme() {\n    THEMED_ELEMENTS.forEach(element => {\n        theme(element).catch(e => {\n            logger.warning(\n                `Failed to retheme element \"${element}\". Error: ${e}`,\n            )\n        })\n    })\n}\n\nconfig.addChangeListener(\"theme\", retheme)\n\n/**\n * DEPRECATED\n *\n * You don't need to add weird classnames to your themes any more, but you can if you want.\n *\n * Retained for backwards compatibility.\n **/\n// Sometimes pages will overwrite class names of elements. We use a MutationObserver to make sure that the HTML element always has a TridactylTheme class\n// We can't just call theme() because it would first try to remove class names from the element, which would trigger the MutationObserver before we had a chance to add the theme class and thus cause infinite recursion\nconst cb = async mutationList => {\n    const theme = await config.getAsync(\"theme\")\n    mutationList\n        .filter(m => m.target.className.search(prefixTheme(\"\")) === -1)\n        .forEach(m => m.target.classList.add(prefixTheme(theme)))\n}\n\nnew MutationObserver(cb).observe(document.documentElement, {\n    attributes: true,\n    childList: false,\n    characterData: false,\n    subtree: false,\n    attributeOldValue: false,\n    attributeFilter: [\"class\"],\n})\n// DEPRECATION ENDS\n", "/**\n * Tridactyl shared state\n *\n * __NB__: Here be dragons.\n *\n * In the background script, \"state\" can be used as a normal object. Just \"import state from \"@src/state\"\n *\n * In the content scripts, \"state\" can be set as a normal object and changes will propagate to the background script.\n *\n * In the content scripts, \"state\" must be read using \"import * as State from \"@src/state\" and \"State.getAsync(property)\". If you read it directly with `state` you should get an error at runtime. Certain methods like `concat` will not throw an error but their behaviour is not defined and should be avoided.\n */\n\nimport Logger from \"@src/lib/logging\"\nimport * as messaging from \"@src/lib/messaging\"\nimport { notBackground } from \"@src/lib/webext\"\nimport * as R from \"ramda\"\n\nconst logger = new Logger(\"state\")\n\nclass State {\n    lastSearchQuery: string = undefined\n    cmdHistory: string[] = []\n    prevInputs: Array<{ inputId: string; tab: number; jumppos?: number }> = [\n        {\n            inputId: undefined,\n            tab: undefined,\n            jumppos: undefined,\n        },\n    ]\n    last_ex_str = \"echo\"\n    globalMarks: Map<\n        string,\n        {\n            url: string\n            scrollX: number\n            scrollY: number\n            tabId: number\n        }\n    > = new Map()\n    localMarks: Map<\n        string,\n        Map<\n            string,\n            {\n                scrollX: number\n                scrollY: number\n            }\n        >\n    > = new Map()\n    beforeJumpMark: {\n        url: string\n        scrollX: number\n        scrollY: number\n        tabId: number\n    } = undefined\n}\n\n// Store these keys in the local browser storage to persist between restarts\nconst PERSISTENT_KEYS: Array<keyof State> = [\"cmdHistory\", \"globalMarks\"]\n\n// Don't change these from const or you risk breaking the Proxy below.\nconst defaults = Object.freeze(new State())\n\nconst overlay = {} as State\nbrowser.storage.local\n    .get(\"state\")\n    .then(res => {\n        if (\"state\" in res) {\n            logger.debug(\"Loaded initial state:\", res.state)\n            Object.assign(overlay, res.state)\n        }\n    })\n    .catch((...args) => logger.error(...args))\n\nconst state = new Proxy(overlay, {\n    /** Give defaults if overlay doesn't have the key */\n    get(target, property) {\n        if (notBackground())\n            throw new Error(\n                \"State object must be accessed with getAsync in content\",\n            )\n        if (property in target) {\n            return target[property]\n        } else {\n            return defaults[property]\n        }\n    },\n\n    set(target, property: keyof State, value) {\n        logger.debug(\"State changed!\", property, value)\n        if (notBackground()) {\n            const inIncognitoContext = browser.extension.inIncognitoContext\n            browser.runtime.sendMessage({\n                type: \"state\",\n                command: \"stateUpdate\",\n                args: { property, value, inIncognitoContext },\n            })\n            return true\n        }\n        // Do we need a global storage lock?\n        target[property] = value\n\n        // Persist \"sets\" to storage in the background for some keys\n        if (PERSISTENT_KEYS.includes(property)) {\n            // Ensure we don't accidentally store anything sensitive\n            if (browser.extension.inIncognitoContext) {\n                console.error(\n                    \"Attempted to write to storage in private window.\",\n                )\n                return false\n            }\n            browser.storage.local.set({\n                state: R.pick(PERSISTENT_KEYS, target),\n            } as any)\n        }\n        return true\n    },\n})\n\nexport async function getAsync<K extends keyof State>(\n    property: K,\n): Promise<State[K]> {\n    if (notBackground())\n        return browser.runtime.sendMessage({\n            type: \"state\",\n            command: \"stateGet\",\n            args: [{ prop: property }],\n        })\n    else return state[property]\n}\n\n// Skip this in mock testing - the mock doesn't like notBackground\n// Keep instances of state.ts synchronised with each other\nnotBackground &&\n    !notBackground() &&\n    messaging.addListener(\"state\", (message, sender, sendResponse) => {\n        if (message.command == \"stateUpdate\") {\n            const property = message.args.property\n            const value = message.args.value\n            // Ensure we don't accidentally store anything sensitive\n            const inIncognitoContext = message.args.inIncognitoContext\n            if (inIncognitoContext) {\n                console.error(\n                    \"Attempted to write to storage in private window.\",\n                )\n                return\n            }\n            logger.debug(\"State changed!\", property, value)\n            state[property] = value\n        } else if (message.command == \"stateGet\") {\n            sendResponse(state[message.args[0].prop])\n        } else\n            throw new Error(\n                \"Unsupported message to state, type \" + message.command,\n            )\n    })\n\nexport { state as default }\n", "import { messageOwnTab } from \"@src/lib/messaging\"\nimport * as State from \"@src/state\"\nimport { contentState } from \"@src/content/state_content\"\n\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\n\nasync function awaitProxyEq(proxy, a: string, b: string) {\n    let counter = 0\n    while (proxy[a] != proxy[b] && counter < 50) {\n        await sleep(10)\n        counter += 1\n    }\n    return proxy[a] == proxy[b]\n}\n\n// One day we'll use typeof commandline_state from commandline_frame.ts\nexport function getCommandlineFns(cmdline_state: {\n    [otherStuff: string]: any\n    fns: ReturnType<typeof getCommandlineFns>\n}) {\n    return {\n        /**\n         * Insert the first command line history line that starts with the content of the command line in the command line.\n         */\n        complete: async () => {\n            const fragment = cmdline_state.clInput.value\n            const matches = (await State.getAsync(\"cmdHistory\")).filter(key =>\n                key.startsWith(fragment),\n            )\n            const mostrecent = matches[matches.length - 1]\n            if (mostrecent !== undefined)\n                cmdline_state.clInput.value = mostrecent\n            return cmdline_state.refresh_completions(\n                cmdline_state.clInput.value,\n            )\n        },\n\n        /**\n         * Selects the next completion.\n         */\n        next_completion: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp => comp.next())\n        },\n\n        /**\n         * Selects the previous completion.\n         */\n        prev_completion: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp => comp.prev())\n        },\n\n        /**\n         * Deselects the currently selected completion.\n         */\n        deselect_completion: () => {\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp => comp.deselect())\n        },\n\n        /**\n         * Inserts the currently selected completion and a space in the command line.\n         */\n        insert_completion: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            const command = cmdline_state.getCompletion()\n            if (cmdline_state.activeCompletions) {\n                cmdline_state.activeCompletions.forEach(\n                    comp => (comp.completion = undefined),\n                )\n            }\n            let result = Promise.resolve([])\n            if (command) {\n                cmdline_state.clInput.value = command + \" \"\n                result = cmdline_state.refresh_completions(\n                    cmdline_state.clInput.value,\n                )\n            }\n            return result\n        },\n\n        /**\n         * If a completion is selected, inserts it in the command line with a space.\n         * If no completion is selected, inserts a space where the caret is.\n         */\n        insert_space_or_completion: () => {\n            const command = cmdline_state.getCompletion()\n            if (cmdline_state.activeCompletions) {\n                cmdline_state.activeCompletions.forEach(\n                    comp => (comp.completion = undefined),\n                )\n            }\n            if (command) {\n                cmdline_state.clInput.value = command + \" \"\n            } else {\n                space(cmdline_state)\n            }\n            return cmdline_state.refresh_completions(\n                cmdline_state.clInput.value,\n            )\n        },\n\n        /**\n         * Insert a space\n         */\n        insert_space: () => {\n            space(cmdline_state)\n        },\n\n        /** Hide the command line and cmdline_state.clear its content without executing it. **/\n        hide_and_clear: () => {\n            cmdline_state.clear(true)\n            cmdline_state.keyEvents = []\n\n            // Try to make the close cmdline animation as smooth as possible.\n            messageOwnTab(\"commandline_content\", \"hide\")\n            messageOwnTab(\"commandline_content\", \"blur\")\n            // Delete all completion sources - I don't think this is required, but this\n            // way if there is a transient bug in completions it shouldn't persist.\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp =>\n                    cmdline_state.completionsDiv.removeChild(comp.node),\n                )\n            cmdline_state.activeCompletions = undefined\n            cmdline_state.isVisible = false\n        },\n\n        /**\n         * Check if the command is valid\n         */\n        is_valid_commandline: (command: string): boolean => {\n            if (command === undefined) return false\n\n            const func = command.trim().split(/\\s+/)[0]\n\n            return !(func.length === 0 || func.startsWith(\"#\"))\n        },\n\n        /**\n         * Save non-secret commands to the cmdHistory and update the cmdline_history_position\n         */\n        store_ex_string: (command: string) => {\n            const [func, ...args] = command.trim().split(/\\s+/)\n\n            // Save non-secret commandlines to the history.\n            if (\n                !browser.extension.inIncognitoContext &&\n                !(func === \"winopen\" && args[0] === \"-private\")\n            ) {\n                State.getAsync(\"cmdHistory\").then(c => {\n                    cmdline_state.state.cmdHistory = c.concat([command])\n                })\n                cmdline_state.cmdline_history_position = 0\n            }\n        },\n\n        /**\n         * Selects the next history line.\n         */\n        next_history: () => cmdline_state.history(1),\n\n        /**\n         * Selects the prev history line.\n         */\n        prev_history: () => cmdline_state.history(-1),\n        /**\n         * Execute the content of the command line and hide it.\n         **/\n        accept_line: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            const command =\n                cmdline_state.getCompletion() || cmdline_state.clInput.value\n\n            cmdline_state.fns.hide_and_clear()\n\n            if (cmdline_state.fns.is_valid_commandline(command) === false)\n                return\n\n            cmdline_state.fns.store_ex_string(command)\n\n            // Send excmds directly to our own tab, which fixes the\n            // old bug where a command would be issued in one tab but\n            // land in another because the active tab had\n            // changed. Background-mode excmds will be received by the\n            // own tab's content script and then bounced through a\n            // shim to the background, but the latency increase should\n            // be acceptable becuase the background-mode excmds tend\n            // to be a touch less latency-sensitive.\n            return messageOwnTab(\"controller_content\", \"acceptExCmd\", [command])\n        },\n\n        execute_ex_on_completion_args: (excmd: string) =>\n            execute_ex_on_x(true, cmdline_state, excmd),\n\n        execute_ex_on_completion: (excmd: string) =>\n            execute_ex_on_x(false, cmdline_state, excmd),\n\n        copy_completion: () => {\n            const command = cmdline_state.getCompletion()\n            cmdline_state.fns.hide_and_clear()\n            return messageOwnTab(\"controller_content\", \"acceptExCmd\", [\n                \"clipboard yank \" + command,\n            ])\n        },\n    }\n}\n\nfunction execute_ex_on_x(args_only: boolean, cmdline_state, excmd: string) {\n    const args =\n        cmdline_state.getCompletion(args_only) || cmdline_state.clInput.value\n\n    const cmdToExec = (excmd ? excmd + \" \" : \"\") + args\n    cmdline_state.fns.store_ex_string(cmdToExec)\n\n    return messageOwnTab(\"controller_content\", \"acceptExCmd\", [cmdToExec])\n}\n\nfunction space(cmdline_state) {\n    const selectionStart = cmdline_state.clInput.selectionStart\n    const selectionEnd = cmdline_state.clInput.selectionEnd\n    cmdline_state.clInput.value =\n        cmdline_state.clInput.value.substring(0, selectionStart) +\n        \" \" +\n        cmdline_state.clInput.value.substring(selectionEnd)\n    cmdline_state.clInput.selectionStart = cmdline_state.clInput.selectionEnd =\n        selectionStart + 1\n}\n", "/** # Editor Functions\n *\n * This file contains functions to manipulate the content of textareas/input fields/contenteditable elements.\n *\n * If you want to bind them to keyboard shortcuts, be sure to prefix them with \"text.\". For example, if you want to bind control-a to `beginning_of_line` in all modes, use:\n *\n * ```\n * bind --mode=ex <C-a> text.beginning_of_line\n * bind --mode=input <C-a> text.beginning_of_line\n * bind --mode=insert <C-a> text.begining_of_line\n * ```\n *\n * Also keep in mind that if you want to bind something in insert mode, you'll probably also want to bind it in input mode (insert mode is entered by clicking on text areas while input mode is entered by using `gi`).\n *\n * If you're looking for command-line only functions, go [there](/static/docs/modules/_src_commandline_frame_.html).\n *\n * Contrary to the main tridactyl help page, this one doesn't tell you whether a specific function is bound to something. For now, you'll have to make do with with `:bind` and `:viewconfig`.\n *\n */\n/** ignore this line */\n\nimport {\n    wrap_input,\n    needs_text,\n    getWordBoundaries,\n    wordAfterPos,\n    rot13_helper,\n    jumble_helper\n} from \"@src/lib/editor_utils\"\n\n/**\n * Behaves like readline's [delete_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. deletes the character to the right of the caret.\n **/\nexport const delete_char = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) => {\n        if (selectionStart !== selectionEnd) {\n            // If the user selected text, then we need to delete that instead of a single char\n            text =\n                text.substring(0, selectionStart) + text.substring(selectionEnd)\n        } else {\n            text =\n                text.substring(0, selectionStart) +\n                text.substring(selectionStart + 1)\n        }\n        return [text, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [delete_backward_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. deletes the character to the left of the caret.\n **/\nexport const delete_backward_char = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) => {\n        if (selectionStart !== selectionEnd) {\n            text =\n                text.substring(0, selectionStart) + text.substring(selectionEnd)\n        } else {\n            text =\n                text.substring(0, selectionStart - 1) +\n                text.substring(selectionStart)\n        }\n        selectionStart -= 1\n        return [text, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [tab_insert](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. inserts a tab character to the left of the caret.\n **/\nexport const tab_insert = wrap_input((text, selectionStart, selectionEnd) => {\n    if (selectionStart !== selectionEnd) {\n        text =\n            text.substring(0, selectionStart) +\n            \"\\t\" +\n            text.substring(selectionEnd)\n    } else {\n        text =\n            text.substring(0, selectionStart) +\n            \"\\t\" +\n            text.substring(selectionStart)\n    }\n    selectionStart += 1\n    return [text, selectionStart, null]\n})\n\n/**\n * Behaves like readline's [transpose_chars](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. transposes the character to the left of the caret with the character to the right of the caret and then moves the caret one character to the right. If there are no characters to the right or to the left of the caret, uses the two characters the closest to the caret.\n **/\nexport const transpose_chars = wrap_input(\n    (text, selectionStart) => {\n        if (text.length < 2) return [null, null, null]\n        // When at the beginning of the text, transpose the first and second characters\n        if (selectionStart === 0) selectionStart = 1\n        // When at the end of the text, transpose the last and second-to-last characters\n        if (selectionStart >= text.length) selectionStart = text.length - 1\n\n        text =\n            text.substring(0, selectionStart - 1) +\n            text.substring(selectionStart, selectionStart + 1) +\n            text.substring(selectionStart - 1, selectionStart) +\n            text.substring(selectionStart + 1)\n        selectionStart += 1\n        return [text, selectionStart, null]\n    },\n)\n\n/** @hidden\n * Applies a function to the word the caret is in, or to the next word if the caret is not in a word, or to the previous word if the current word is empty.\n */\nfunction applyWord(\n    text: string,\n    selectionStart,\n    selectionEnd,\n    fn: (s: string) => string,\n): [string, number, number] {\n    if (text.length === 0) return [null, null, null]\n    // If the caret is at the end of the text, move it just before the last character\n    if (selectionStart >= text.length) {\n        selectionStart = text.length - 1\n    }\n    const boundaries = getWordBoundaries(text, selectionStart, false)\n    const beginning =\n        text.substring(0, boundaries[0]) +\n        fn(text.substring(boundaries[0], boundaries[1]))\n    text = beginning + text.substring(boundaries[1])\n    selectionStart = beginning.length + 1\n    return [text, selectionStart, null]\n}\n\n/**\n * Behaves like readline's [transpose_words](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Basically equivalent to [[im_transpose_chars]], but using words as defined by the wordpattern setting.\n **/\nexport const transpose_words = wrap_input(\n    needs_text((text, selectionStart) => {\n        if (selectionStart >= text.length) {\n            selectionStart = text.length - 1\n        }\n        // Find the word the caret is in\n        let firstBoundaries = getWordBoundaries(text, selectionStart, false)\n        let secondBoundaries = firstBoundaries\n        // If there is a word after the word the caret is in, use it for the transselectionStartition, otherwise use the word before it\n        const nextWord = wordAfterPos(text, firstBoundaries[1])\n        if (nextWord > -1) {\n            secondBoundaries = getWordBoundaries(text, nextWord, false)\n        } else {\n            firstBoundaries = getWordBoundaries(\n                text,\n                firstBoundaries[0] - 1,\n                true,\n            )\n        }\n        const firstWord = text.substring(firstBoundaries[0], firstBoundaries[1])\n        const secondWord = text.substring(\n            secondBoundaries[0],\n            secondBoundaries[1],\n        )\n        const beginning =\n            text.substring(0, firstBoundaries[0]) +\n            secondWord +\n            text.substring(firstBoundaries[1], secondBoundaries[0])\n        selectionStart = beginning.length\n        return [\n            beginning + firstWord + text.substring(secondBoundaries[1]),\n            selectionStart,\n            null,\n        ]\n    }),\n)\n\n/**\n * Behaves like readline's [upcase_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Makes the word the caret is in uppercase.\n **/\nexport const upcase_word = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) =>\n        applyWord(text, selectionStart, selectionEnd, word =>\n            word.toUpperCase(),\n        ),\n    ),\n)\n\n/**\n * Behaves like readline's [downcase_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Makes the word the caret is in lowercase.\n **/\nexport const downcase_word = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) =>\n        applyWord(text, selectionStart, selectionEnd, word =>\n            word.toLowerCase(),\n        ),\n    ),\n)\n\n/**\n * Behaves like readline's [capitalize_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Makes the initial character of the word the caret is in uppercase.\n **/\nexport const capitalize_word = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) =>\n        applyWord(\n            text,\n            selectionStart,\n            selectionEnd,\n            word => word[0].toUpperCase() + word.substring(1),\n        ),\n    ),\n)\n\n/**\n * Behaves like readline's [kill_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15), i.e. deletes every character to the right of the caret until reaching either the end of the text or the newline character (\\n).\n **/\nexport const kill_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        let newLine = text.substring(selectionStart).search(\"\\n\")\n        if (newLine !== -1) {\n            // If the caret is right before the newline, kill the newline\n            if (newLine === 0) newLine = 1\n            text =\n                text.substring(0, selectionStart) +\n                text.substring(selectionStart + newLine)\n        } else {\n            text = text.substring(0, selectionStart)\n        }\n        return [text, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [backward_kill_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15), i.e. deletes every character to the left of the caret until either the beginning of the text is found or a newline character (\"\\n\") is reached.\n **/\nexport const backward_kill_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        // If the caret is at the beginning of a line, join the lines\n        if (selectionStart > 0 && text[selectionStart - 1] === \"\\n\") {\n            return [\n                text.substring(0, selectionStart - 1) +\n                    text.substring(selectionStart),\n                selectionStart,\n                null,\n            ]\n        }\n        let newLine\n        // Find the closest newline\n        for (\n            newLine = selectionStart;\n            newLine > 0 && text[newLine - 1] !== \"\\n\";\n            --newLine\n        );\n        // Remove everything between the newline and the caret\n        return [\n            text.substring(0, newLine) + text.substring(selectionStart),\n            newLine,\n            null,\n        ]\n    }),\n)\n\n/**\n * Behaves like readline's [kill_whole_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15). Deletes every character between the two newlines the caret is in. If a newline can't be found on the left of the caret, everything is deleted until the beginning of the text is reached. If a newline can't be found on the right, everything is deleted until the end of the text is found.\n **/\nexport const kill_whole_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        let firstNewLine\n        let secondNewLine\n        // Find the newline before the caret\n        for (\n            firstNewLine = selectionStart;\n            firstNewLine > 0 && text[firstNewLine - 1] !== \"\\n\";\n            --firstNewLine\n        );\n        // Find the newline after the caret\n        for (\n            secondNewLine = selectionStart;\n            secondNewLine < text.length && text[secondNewLine - 1] !== \"\\n\";\n            ++secondNewLine\n        );\n        // Remove everything between the newline and the caret\n        return [\n            text.substring(0, firstNewLine) + text.substring(secondNewLine),\n            firstNewLine,\n            null,\n        ]\n    }),\n)\n\n/**\n * Behaves like readline's [kill_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15). Deletes every character from the caret to the end of a word, with words being defined by the wordpattern setting.\n **/\nexport const kill_word = wrap_input(\n    needs_text((text, selectionStart) => {\n        const boundaries = getWordBoundaries(text, selectionStart, false)\n        if (selectionStart < boundaries[1]) {\n            boundaries[0] = selectionStart\n            // Remove everything between the newline and the caret\n            return [\n                text.substring(0, boundaries[0]) +\n                    text.substring(boundaries[1]),\n                boundaries[0],\n                null,\n            ]\n        } else {\n            return [null, selectionStart, null]\n        }\n    }),\n)\n\n/**\n * Behaves like readline's [backward_kill_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15). Deletes every character from the caret to the beginning of a word with word being defined by the wordpattern setting.\n **/\nexport const backward_kill_word = wrap_input(\n    needs_text((text, selectionStart) => {\n        const boundaries = getWordBoundaries(text, selectionStart, true)\n        if (selectionStart > boundaries[0]) {\n            boundaries[1] = selectionStart\n            // Remove everything between the newline and the caret\n            return [\n                text.substring(0, boundaries[0]) +\n                    text.substring(boundaries[1]),\n                boundaries[0],\n                null,\n            ]\n        } else {\n            return [null, selectionStart, null]\n        }\n    }),\n)\n\n/**\n * Behaves like readline's [beginning_of_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret to the right of the first newline character found at the left of the caret. If no newline can be found, move the caret to the beginning of the text.\n **/\nexport const beginning_of_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        while (\n            text[selectionStart - 1] !== undefined &&\n            text[selectionStart - 1] !== \"\\n\"\n        )\n            selectionStart -= 1\n        return [null, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [end_of_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret to the left of the first newline character found at the right of the caret. If no newline can be found, move the caret to the end of the text.\n **/\nexport const end_of_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        while (\n            text[selectionStart] !== undefined &&\n            text[selectionStart] !== \"\\n\"\n        )\n            selectionStart += 1\n        return [null, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [forward_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one character to the right.\n **/\nexport const forward_char = wrap_input((text, selectionStart) => [\n    null,\n    selectionStart + 1,\n    null,\n])\n\n/**\n * Behaves like readline's [backward_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one character to the left.\n **/\nexport const backward_char = wrap_input(\n    (text, selectionStart) => [null, selectionStart - 1, null],\n)\n\n/**\n * Behaves like readline's [forward_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one word to the right, with words being defined by the wordpattern setting.\n **/\nexport const forward_word = wrap_input(\n    needs_text((text, selectionStart) => {\n        if (selectionStart === text.length) return [null, null, null]\n        const boundaries = getWordBoundaries(text, selectionStart, false)\n        return [null, boundaries[1], null]\n    }),\n)\n\n/**\n * Behaves like readline's [backward_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one word to the left, with words being defined by the wordpattern setting.\n **/\nexport const backward_word = wrap_input(\n    (text, selectionStart) => {\n        if (selectionStart === 0) return [null, null, null]\n        const boundaries = getWordBoundaries(text, selectionStart, true)\n        return [null, boundaries[0], null]\n    },\n)\n\n/**\n * Insert text in the current input.\n **/\nexport const insert_text = wrap_input(\n    (text, selectionStart, selectionEnd, arg) => [\n        text.slice(0, selectionStart) + arg + text.slice(selectionEnd),\n        selectionStart + arg.length,\n        null,\n    ],\n)\n\nexport const rot13 = wrap_input((text, selectionStart, selectionEnd) => [\n    rot13_helper(text.slice(0, selectionStart) + text.slice(selectionEnd)),\n    selectionStart,\n    null,\n])\n\nexport const jumble = wrap_input((text, selectionStart, selectionEnd) => [\n    jumble_helper(text.slice(0, selectionStart) + text.slice(selectionEnd)),\n    selectionStart,\n    null,\n])\n", "// We have a single dependency on config: getting the value of the WORDPATTERN setting\n// Perhaps we could find a way to get rid of it?\nimport * as config from \"@src/lib/config\"\n\nexport type editor_function = (\n    text: string,\n    start: number,\n    end: number,\n    arg?: any,\n) => [string, number, number]\n\n/**\n * Applies a function to an element. If the element is an HTMLInputElement and its type isn't \"text\", it is first turned into a \"text\" element. This is necessary because some elements (e.g. \"email\") do not have a selectionStart/selectionEnd.\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange .\n **/\nexport function applyToElem(e, fn) {\n    let result\n    if (e instanceof HTMLInputElement && e.type !== \"text\") {\n        const t = e.type\n        e.type = \"text\"\n        result = fn(e)\n        e.type = t\n    } else {\n        result = fn(e)\n    }\n    return result\n}\n\n/**\n * Returns values necessary for editor functions to work on textarea/input elements\n *\n * @param e the element\n * @return [string, number, number] The content of the element, the position of the caret, the position of the end of the visual selection\n */\nexport function getSimpleValues(e: any) {\n    return applyToElem(e, e => [e.value, e.selectionStart, e.selectionEnd])\n}\n\n/**\n * Returns values necessary for editor functions to work on contentEditable elements\n *\n * @param e a contentEditable element\n * @return [string, number, number] The content of the element, the position of the caret, the position of the end of the visual selection\n */\nexport function getContentEditableValues(e: any): [string, number, number] {\n    const selection = e.ownerDocument.getSelection()\n    // The selection might actually not be in e so we need to make sure it is\n    let n = selection.anchorNode\n    while (n && n !== e) n = n.parentNode\n    // The selection isn't for e, so we can't do anything\n    if (!n) return [null, null, null]\n    // selection might span multiple elements, might not start with the first element in e or end with the last element in e so the easiest way to compute caret position from beginning of e is to first compute distance from caret to end of e, then move beginning of selection to beginning of e and then use distance from end of selection to compute distance from beginning of selection\n    const r = selection.getRangeAt(0).cloneRange()\n    const selectionLength = r.toString().length\n    r.setEnd(e, e.childNodes.length)\n    const lengthFromCaretToEndOfText = r.toString().length\n    r.setStart(e, 0)\n    const s = r.toString()\n    const caretPos = s.length - lengthFromCaretToEndOfText\n    return [s, caretPos, caretPos + selectionLength]\n}\n\n/**\n * Change text in regular textarea/input fields. Note: this destroys the field's history (i.e. C-z won't work).\n *\n * @param e The element\n * @param text The new content of the element, null if it shouldn't change\n * @param start The new position of the caret, null if the caret shouldn't move\n * @param end The end of the visual selection, null if you just want to move the caret\n */\nexport function setSimpleValues(e, text, start, end) {\n    return applyToElem(e, e => {\n        if (text !== null) e.value = text\n        if (start !== null) {\n            if (end === null) end = start\n            e.selectionStart = start\n            e.selectionEnd = end\n        }\n    })\n}\n\n/**\n * Change text in contentEditable elements in a non-destructive way (i.e. C-z will undo changes).\n * @param e The content editable element\n * @param text The new content the element should have. null if you just want to move the caret around\n * @param start The new caret position. null if you just want to change text.\n * @param end The end of the visual selection. null if you just want to move the caret.\n */\nexport function setContentEditableValues(e, text, start, end) {\n    const selection = e.ownerDocument.getSelection()\n    if (selection.rangeCount < 1) {\n        const r = new Range()\n        r.setStart(e, 0)\n        r.setEnd(e, e.childNodes.length)\n        selection.addRange(r)\n    }\n    if (text !== null) {\n        const range = selection.getRangeAt(0)\n        const anchorNode = selection.anchorNode\n        const focusNode = selection.focusNode\n        range.setStart(anchorNode, 0)\n        range.setEndAfter(focusNode, focusNode.length)\n        e.ownerDocument.execCommand(\"insertText\", false, text)\n    }\n    if (start !== null) {\n        if (end === null) end = start\n        let range = selection.getRangeAt(0)\n        range.setStart(range.startContainer, start)\n        range = selection.getRangeAt(0)\n        range.setEnd(range.startContainer, end)\n    }\n}\n\n/**\n * Take an editor function as parameter and return it wrapped in a function that will handle grabbing text and caret position from the HTML element it takes as parameter\n *\n * @param editor_function A function that takes a [string, selectionStart, selectionEnd] tuple as argument and returns a [string, selectionStart, selectionEnd] tuple corresponding to the new state of the text.\n *\n * @return boolean Whether the editor function was actually called or not\n *\n **/\nexport function wrap_input(\n    fn: editor_function,\n): (e: HTMLElement, arg?: any) => boolean {\n    return (e: HTMLElement, arg?: any) => {\n        let getValues = getSimpleValues\n        let setValues = setSimpleValues\n        if (e.isContentEditable) {\n            getValues = getContentEditableValues\n            setValues = setContentEditableValues\n        }\n        const [origText, origStart, origEnd] = getValues(e)\n        if (origText === null || origStart === null) return false\n        setValues(e, ...fn(origText, origStart, origEnd, arg))\n        return true\n    }\n}\n\n/**\n * Take an editor function as parameter and wrap it in a function that will handle error conditions\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nexport function needs_text(fn: editor_function, arg?: any): editor_function {\n    return (\n        text: string,\n        selectionStart: number,\n        selectionEnd: number,\n        arg?: any,\n    ) => {\n        if (\n            text.length === 0 ||\n            selectionStart === null ||\n            selectionStart === undefined\n        )\n            return [null, null, null]\n        return fn(\n            text,\n            selectionStart,\n            typeof selectionEnd === \"number\" ? selectionEnd : selectionStart,\n            arg,\n        )\n    }\n}\n\n/**\n * Returns line and column number.\n */\nexport function getLineAndColNumber(\n    text: string,\n    start: number,\n): [string, number, number] {\n    const lines = text.split(\"\\n\")\n    let totalChars = 0\n    for (let i = 0; i < lines.length; ++i) {\n        // +1 because we also need to take '\\n' into account\n        if (totalChars + lines[i].length + 1 > start) {\n            return [text, i + 1, start - totalChars]\n        }\n        totalChars += lines[i].length + 1\n    }\n    return [text, lines.length, 1]\n}\n\n/**\n * Detects the boundaries of a word in text according to the wordpattern setting. If POSITION is in a word, the boundaries of this word are returned. If POSITION is out of a word and BEFORE is true, the word before POSITION is returned. If BEFORE is false, the word after the caret is returned.\n */\nexport function getWordBoundaries(\n    text: string,\n    position: number,\n    before: boolean,\n): [number, number] {\n    if (position < 0 || position > text.length)\n        throw new Error(\n            `getWordBoundaries: position (${position}) should be within text (\"${text}\") boundaries (0, ${text.length})`,\n        )\n    const pattern = new RegExp(config.get(\"wordpattern\"), \"g\")\n    let boundary1 = position < text.length ? position : text.length\n    const direction = before ? -1 : 1\n    // if the caret is not in a word, try to find the word before or after it\n    // For `before`, we should check the char before the caret\n    if (before && boundary1 > 0) boundary1 -= 1\n    while (\n        boundary1 >= 0 &&\n        boundary1 < text.length &&\n        !text[boundary1].match(pattern)\n    ) {\n        boundary1 += direction\n    }\n\n    if (boundary1 < 0) boundary1 = 0\n    else if (boundary1 >= text.length) boundary1 = text.length - 1\n\n    // if a word couldn't be found in this direction, try the other one\n    while (\n        boundary1 >= 0 &&\n        boundary1 < text.length &&\n        !text[boundary1].match(pattern)\n    ) {\n        boundary1 -= direction\n    }\n\n    if (boundary1 < 0) boundary1 = 0\n    else if (boundary1 >= text.length) boundary1 = text.length - 1\n\n    if (!text[boundary1].match(pattern)) {\n        // there is no word in text\n        throw new Error(\n            `getWordBoundaries: no characters matching wordpattern (${pattern.source}) in text (${text})`,\n        )\n    }\n\n    // now that we know the caret is in a word (it could be in the middle depending on POSITION!), try to find its beginning/end\n    while (\n        boundary1 >= 0 &&\n        boundary1 < text.length &&\n        !!text[boundary1].match(pattern)\n    ) {\n        boundary1 += direction\n    }\n    // boundary1 is now outside of the word, bring it back inside of it\n    boundary1 -= direction\n\n    let boundary2 = boundary1\n    // now that we know the caret is at the beginning/end of a word, we need to find the other boundary\n    while (\n        boundary2 >= 0 &&\n        boundary2 < text.length &&\n        !!text[boundary2].match(pattern)\n    ) {\n        boundary2 -= direction\n    }\n    // boundary2 is outside of the word, bring it back in\n    boundary2 += direction\n\n    // Add 1 to the end boundary because the end of a word is marked by the character after said word\n    if (boundary1 > boundary2) return [boundary2, boundary1 + 1]\n    return [boundary1, boundary2 + 1]\n}\n\n/** @hidden\n * Finds the next word as defined by the wordpattern setting after POSITION. If POSITION is in a word, POSITION is moved forward until it is out of the word.\n * @return number The position of the next word in text or -1 if the next word can't be found.\n */\nexport function wordAfterPos(text: string, position: number) {\n    if (position < 0)\n        throw new Error(`wordAfterPos: position (${position}) is less that 0`)\n    const pattern = new RegExp(config.get(\"wordpattern\"), \"g\")\n    // move position out of the current word\n    while (position < text.length && !!text[position].match(pattern))\n        position += 1\n    // try to find characters that match wordpattern\n    while (position < text.length && !text[position].match(pattern))\n        position += 1\n    if (position >= text.length) return -1\n    return position\n}\n\n/** @hidden\n * Rots by 13.\n */\nexport const rot13_helper = (s: string, n = 13): string => {\n    let sa = s.split(\"\")\n    sa = sa.map(x => charesar(x, n))\n    return sa.join(\"\")\n}\n\nexport const charesar = (c: string, n = 13): string => {\n    const cn = c.charCodeAt(0)\n    if (cn >= 65 && cn <= 90)\n        return String.fromCharCode(((cn - 65 + n) % 26) + 65)\n    if (cn >= 97 && cn <= 122)\n        return String.fromCharCode(((cn - 97 + n) % 26) + 97)\n    return c\n}\n\n/** @hidden\n * Shuffles only letters except for the first and last letter in a word, where \"word\"\n * is a sequence of one of: only lowercase letters OR 5 or more uppercase letters OR an uppercase letter followed\n * by only lowercase letters.\n */\nexport const jumble_helper = (text: string): string => {\n    const wordSplitRegex = new RegExp(\"([^a-zA-Z]|[A-Z][a-z]+)\")\n    return text.split(wordSplitRegex).map(jumbleWord).join(\"\")\n}\n\nfunction jumbleWord(word: string): string {\n    if (word.length < 4 || isAcronym()) {\n        return word\n    }\n    const innerText = word.slice(1, -1)\n    return word.charAt(0) + shuffle(innerText) + word.charAt(word.length - 1)\n\n    function isAcronym() {\n        return word.length < 5 && word.toUpperCase() === word\n    }\n}\n\n/**\n * Shuffles input string\n * @param text string to be shuffled\n */\nexport const shuffle = (text: string): string => {\n    const arr = text.split(\"\")\n    for (let i = arr.length - 1; i >= 0; i--) {\n        const j = Math.floor(Math.random() * i + 1)\n        const t = arr[i]\n        arr[i] = arr[j]\n        arr[j] = t\n    }\n    return arr.join(\"\")\n}\n", "(function(window) {\n    \"use strict\"\n\n    // test for es6 support of needed functionality\n    try {\n        // spread operator and template strings support\n        (function testSpreadOpAndTemplate() {\n            const tag = function tag() {\n                return\n            }\n            // We don't need this value - we're just checking if its attempted creation causes any errors\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            tag`test`\n        })()\n\n        // template tag and Array.from support\n        if (\n            !(\n                \"content\" in document.createElement(\"template\") &&\n                \"from\" in Array\n            )\n        ) {\n            throw new Error()\n        }\n    } catch (e) {\n        // missing support;\n        console.log(\n            \"Your browser does not support the needed functionality to use the html tagged template\",\n        )\n        return\n    }\n\n    if (typeof window.html === \"undefined\") {\n        // --------------------------------------------------\n        // constants\n        // --------------------------------------------------\n\n        const SUBSTITUTION_INDEX = \"substitutionindex:\" // tag names are always all lowercase\n        const SUBSTITUTION_REGEX = new RegExp(\n            SUBSTITUTION_INDEX + \"([0-9]+):\",\n            \"g\",\n        )\n\n        // rejection string is used to replace xss attacks that cannot be escaped either\n        // because the escaped string is still executable\n        // (e.g. setTimeout(/* escaped string */)) or because it produces invalid results\n        // (e.g. <h${xss}> where xss='><script>alert(1337)</script')\n        // @see https://developers.google.com/closure/templates/docs/security#in_tags_and_attrs\n        const REJECTION_STRING = \"zXssPreventedz\"\n\n        // which characters should be encoded in which contexts\n        const ENCODINGS = {\n            attribute: {\n                \"&\": \"&amp;\",\n                \"<\": \"&lt;\",\n                \">\": \"&gt;\",\n            },\n            uri: {\n                \"&\": \"&amp;\",\n            },\n        }\n\n        // which attributes are DOM Level 0 events\n        // taken from https://en.wikipedia.org/wiki/DOM_events#DOM_Level_0\n        const DOM_EVENTS = [\n            \"onclick\",\n            \"ondblclick\",\n            \"onmousedown\",\n            \"onmouseup\",\n            \"onmouseover\",\n            \"onmousemove\",\n            \"onmouseout\",\n            \"ondragstart\",\n            \"ondrag\",\n            \"ondragenter\",\n            \"ondragleave\",\n            \"ondragover\",\n            \"ondrop\",\n            \"ondragend\",\n            \"onkeydown\",\n            \"onkeypress\",\n            \"onkeyup\",\n            \"onload\",\n            \"onunload\",\n            \"onabort\",\n            \"onerror\",\n            \"onresize\",\n            \"onscroll\",\n            \"onselect\",\n            \"onchange\",\n            \"onsubmit\",\n            \"onreset\",\n            \"onfocus\",\n            \"onblur\",\n            \"onpointerdown\",\n            \"onpointerup\",\n            \"onpointercancel\",\n            \"onpointermove\",\n            \"onpointerover\",\n            \"onpointerout\",\n            \"onpointerenter\",\n            \"onpointerleave\",\n            \"ongotpointercapture\",\n            \"onlostpointercapture\",\n            \"oncut\",\n            \"oncopy\",\n            \"onpaste\",\n            \"onbeforecut\",\n            \"onbeforecopy\",\n            \"onbeforepaste\",\n            \"onafterupdate\",\n            \"onbeforeupdate\",\n            \"oncellchange\",\n            \"ondataavailable\",\n            \"ondatasetchanged\",\n            \"ondatasetcomplete\",\n            \"onerrorupdate\",\n            \"onrowenter\",\n            \"onrowexit\",\n            \"onrowsdelete\",\n            \"onrowinserted\",\n            \"oncontextmenu\",\n            \"ondrag\",\n            \"ondragstart\",\n            \"ondragenter\",\n            \"ondragover\",\n            \"ondragleave\",\n            \"ondragend\",\n            \"ondrop\",\n            \"onselectstart\",\n            \"help\",\n            \"onbeforeunload\",\n            \"onstop\",\n            \"beforeeditfocus\",\n            \"onstart\",\n            \"onfinish\",\n            \"onbounce\",\n            \"onbeforeprint\",\n            \"onafterprint\",\n            \"onpropertychange\",\n            \"onfilterchange\",\n            \"onreadystatechange\",\n            \"onlosecapture\",\n            \"DOMMouseScroll\",\n            \"ondragdrop\",\n            \"ondragenter\",\n            \"ondragexit\",\n            \"ondraggesture\",\n            \"ondragover\",\n            \"onclose\",\n            \"oncommand\",\n            \"oninput\",\n            \"DOMMenuItemActive\",\n            \"DOMMenuItemInactive\",\n            \"oncontextmenu\",\n            \"onoverflow\",\n            \"onoverflowchanged\",\n            \"onunderflow\",\n            \"onpopuphidden\",\n            \"onpopuphiding\",\n            \"onpopupshowing\",\n            \"onpopupshown\",\n            \"onbroadcast\",\n            \"oncommandupdate\",\n        ]\n\n        // which attributes take URIs\n        // taken from https://www.w3.org/TR/html4/index/attributes.html\n        const URI_ATTRIBUTES = [\n            \"action\",\n            \"background\",\n            \"cite\",\n            \"classid\",\n            \"codebase\",\n            \"data\",\n            \"href\",\n            \"longdesc\",\n            \"profile\",\n            \"src\",\n            \"usemap\",\n        ]\n\n        const ENCODINGS_REGEX = {\n            attribute: new RegExp(\n                \"[\" + Object.keys(ENCODINGS.attribute).join(\"\") + \"]\",\n                \"g\",\n            ),\n            uri: new RegExp(\n                \"[\" + Object.keys(ENCODINGS.uri).join(\"\") + \"]\",\n                \"g\",\n            ),\n        }\n\n        // find all attributes after the first whitespace (which would follow the tag\n        // name. Only used when the DOM has been clobbered to still parse attributes\n        const ATTRIBUTE_PARSER_REGEX = /\\s([^\">=\\s]+)(?:=\"[^\"]+\")?/g\n\n        // test if a javascript substitution is wrapped with quotes\n        const WRAPPED_WITH_QUOTES_REGEX = /^('|\")[\\s\\S]*\\1$/\n\n        // allow custom attribute names that start or end with url or ui to do uri escaping\n        // @see https://developers.google.com/closure/templates/docs/security#in_urls\n        const CUSTOM_URI_ATTRIBUTES_REGEX = /\\bur[il]|ur[il]s?$/i\n\n        // --------------------------------------------------\n        // private functions\n        // --------------------------------------------------\n\n        /**\n         * Escape HTML entities in an attribute.\n         * @private\n         *\n         * @param {string} str - String to escape.\n         *\n         * @returns {string}\n         */\n        function encodeAttributeHTMLEntities(str) {\n            return str.replace(ENCODINGS_REGEX.attribute, function(match) {\n                return ENCODINGS.attribute[match]\n            })\n        }\n\n        /**\n         * Escape entities in a URI.\n         * @private\n         *\n         * @param {string} str - URI to escape.\n         *\n         * @returns {string}\n         */\n        function encodeURIEntities(str) {\n            return str.replace(ENCODINGS_REGEX.uri, function(match) {\n                return ENCODINGS.uri[match]\n            })\n        }\n\n        // --------------------------------------------------\n        // html tagged template function\n        // --------------------------------------------------\n\n        /**\n         * Safely convert a DOM string into DOM nodes using by using E4H and contextual\n         * auto-escaping techniques to prevent xss attacks.\n         *\n         * @param {string[]} strings - Safe string literals.\n         * @param {*} values - Unsafe substitution expressions.\n         *\n         * @returns {HTMLElement|DocumentFragment}\n         */\n        window.html = function(strings, ...values) {\n            // break early if called with empty content\n            if (!strings[0] && values.length === 0) {\n                return\n            }\n\n            /**\n             * Replace a string with substitution placeholders with its substitution values.\n             * @private\n             *\n             * @param {string} match - Matched substitution placeholder.\n             * @param {string} index - Substitution placeholder index.\n             */\n            function replaceSubstitution(match, index) {\n                return values[parseInt(index, 10)]\n            }\n\n            // insert placeholders into the generated string so we can run it through the\n            // HTML parser without any malicious content.\n            // (this particular placeholder will even work when used to create a DOM element)\n            let str = strings[0]\n            for (let i = 0; i < values.length; i++) {\n                str += SUBSTITUTION_INDEX + i + \":\" + strings[i + 1]\n            }\n\n            // template tags allow any HTML (even <tr> elements out of context)\n            // @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template\n            const template = document.createElement(\"template\")\n            template.innerHTML = str\n\n            // find all substitution values and safely encode them using DOM APIs and\n            // contextual auto-escaping\n            const walker = document.createNodeIterator(\n                template.content,\n                NodeFilter.SHOW_ALL,\n            )\n            let node\n            while ((node = walker.nextNode())) {\n                let tag = null\n                const attributesToRemove = []\n\n                // --------------------------------------------------\n                // node name substitution\n                // --------------------------------------------------\n\n                let nodeName = node.nodeName.toLowerCase()\n                if (nodeName.indexOf(SUBSTITUTION_INDEX) !== -1) {\n                    nodeName = nodeName.replace(\n                        SUBSTITUTION_REGEX,\n                        replaceSubstitution,\n                    )\n\n                    // createElement() should not need to be escaped to prevent XSS?\n\n                    // this will throw an error if the tag name is invalid (e.g. xss tried\n                    // to escape out of the tag using '><script>alert(1337)</script><')\n                    // instead of replacing the tag name we'll just let the error be thrown\n                    tag = document.createElement(nodeName)\n\n                    // mark that this node needs to be cleaned up later with the newly\n                    // created node\n                    node._replacedWith = tag\n\n                    // use insertBefore() instead of replaceChild() so that the node Iterator\n                    // doesn't think the new tag should be the next node\n                    node.parentNode.insertBefore(tag, node)\n\n                // special case for script tags:\n                // using innerHTML with a string that contains a script tag causes the script\n                // tag to not be executed when added to the DOM. We'll need to create a script\n                // tag and append its contents which will make it execute correctly.\n                // @see http://stackoverflow.com/questions/1197575/can-scripts-be-inserted-with-innerhtml\n                } else if (node.nodeName === \"SCRIPT\") {\n                    const script = document.createElement(\"script\")\n                    tag = script\n\n                    node._replacedWith = script\n                    node.parentNode.insertBefore(script, node)\n                }\n\n                // --------------------------------------------------\n                // attribute substitution\n                // --------------------------------------------------\n\n                let attributes\n                if (node.attributes) {\n                    // if the attributes property is not of type NamedNodeMap then the DOM\n                    // has been clobbered. E.g. <form><input name=\"attributes\"></form>.\n                    // We'll manually build up an array of objects that mimic the Attr\n                    // object so the loop will still work as expected.\n                    if (!(node.attributes instanceof NamedNodeMap)) {\n                        // first clone the node so we can isolate it from any children\n                        const temp = node.cloneNode()\n\n                        // parse the node string for all attributes\n                        const attributeMatches = temp.outerHTML.match(\n                            ATTRIBUTE_PARSER_REGEX,\n                        )\n\n                        // get all attribute names and their value\n                        attributes = []\n                        for (const attribute of attributeMatches.length) {\n                            const attributeName = attribute\n                                .trim()\n                                .split(\"=\")[0]\n                            const attributeValue = node.getAttribute(\n                                attributeName,\n                            )\n\n                            attributes.push({\n                                name: attributeName,\n                                value: attributeValue,\n                            })\n                        }\n                    } else {\n                        // Windows 10 Firefox 44 will shift the attributes NamedNodeMap and\n                        // push the attribute to the end when using setAttribute(). We'll have\n                        // to clone the NamedNodeMap so the order isn't changed for setAttribute()\n                        attributes = Array.from(node.attributes)\n                    }\n\n                    for (const attribute of attributes) {\n                        let name = attribute.name\n                        let value = attribute.value\n                        let hasSubstitution = false\n\n                        // name has substitution\n                        if (name.indexOf(SUBSTITUTION_INDEX) !== -1) {\n                            name = name.replace(\n                                SUBSTITUTION_REGEX,\n                                replaceSubstitution,\n                            )\n\n                            // ensure substitution was with a non-empty string\n                            if (name && typeof name === \"string\") {\n                                hasSubstitution = true\n                            }\n\n                            // remove old attribute\n                            attributesToRemove.push(attribute.name)\n                        }\n\n                        // value has substitution - only check if name exists (only happens\n                        // when name is a substitution with an empty value)\n                        if (name && value.indexOf(SUBSTITUTION_INDEX) !== -1) {\n                            hasSubstitution = true\n\n                            // if an uri attribute has been rejected\n                            let isRejected = false\n\n                            value = value.replace(SUBSTITUTION_REGEX, function(\n                                match,\n                                index,\n                                offset,\n                            ) {\n                                if (isRejected) {\n                                    return \"\"\n                                }\n\n                                let substitutionValue =\n                                    values[parseInt(index, 10)]\n\n                                // contextual auto-escaping:\n                                // if attribute is a DOM Level 0 event then we need to ensure it\n                                // is quoted\n                                if (\n                                    DOM_EVENTS.indexOf(name) !== -1 &&\n                                    typeof substitutionValue === \"string\" &&\n                                    !WRAPPED_WITH_QUOTES_REGEX.test(\n                                        substitutionValue,\n                                    )\n                                ) {\n                                    substitutionValue =\n                                        '\"' + substitutionValue + '\"'\n\n                                // contextual auto-escaping:\n                                // if the attribute is a uri attribute then we need to uri encode it and\n                                // remove bad protocols\n                                } else if (\n                                    URI_ATTRIBUTES.indexOf(name) !== -1 ||\n                                    CUSTOM_URI_ATTRIBUTES_REGEX.test(name)\n                                ) {\n                                    // percent encode if the value is inside of a query parameter\n                                    const queryParamIndex = value.indexOf(\"=\")\n                                    if (\n                                        queryParamIndex !== -1 &&\n                                        offset > queryParamIndex\n                                    ) {\n                                        substitutionValue = encodeURIComponent(\n                                            substitutionValue,\n                                        )\n\n                                    // entity encode if value is part of the URL\n                                    } else {\n                                        substitutionValue = encodeURI(\n                                            encodeURIEntities(\n                                                substitutionValue,\n                                            ),\n                                        )\n\n                                        // only allow the : when used after http or https otherwise reject\n                                        // the entire url (will not allow any 'javascript:' or filter\n                                        // evasion techniques)\n                                        if (\n                                            offset === 0 &&\n                                            substitutionValue.indexOf(\":\") !==\n                                                -1\n                                        ) {\n                                            const authorized_protocols = [\n                                                \"http://\",\n                                                \"https://\",\n                                                \"moz-extension://\",\n                                                \"about://\",\n                                                \"data:image/png;base64\",\n                                                \"data:image/gif;base64\",\n                                                \"data:image/jpg;base64\",\n                                                \"data:image/jpeg;base64\",\n                                                \"data:image/x-icon;base64\",\n                                                // NB: THIS V COULD BE DANGEROUS\n                                                \"data:image/svg+xml;base64\", \n                                                // NB: THIS ^ COULD BE DANGEROUS\n                                            ]\n                                            // If substitutionValue doesn't start with any of the authorized protocols\n                                            if (\n                                                !authorized_protocols.find(p =>\n                                                    substitutionValue.startsWith(\n                                                        p,\n                                                    ),\n                                                )\n                                            ) {\n                                                isRejected = true\n                                            }\n                                        }\n                                    }\n\n                                // contextual auto-escaping:\n                                // HTML encode attribute value if it is not a URL or URI to prevent\n                                // DOM Level 0 event handlers from executing xss code\n                                } else if (\n                                    typeof substitutionValue === \"string\"\n                                ) {\n                                    substitutionValue = encodeAttributeHTMLEntities(\n                                        substitutionValue,\n                                    )\n                                }\n\n                                return substitutionValue\n                            })\n\n                            if (isRejected) {\n                                value = \"#\" + REJECTION_STRING\n                            }\n                        }\n\n                        // add the attribute to the new tag or replace it on the current node\n                        // setAttribute() does not need to be escaped to prevent XSS since it does\n                        // all of that for us\n                        // @see https://www.mediawiki.org/wiki/DOM-based_XSS\n                        if (tag || hasSubstitution) {\n                            const el = tag || node\n\n                            // optional attribute\n                            if (name.substr(-1) === \"?\") {\n                                el.removeAttribute(name)\n\n                                if (value === \"true\") {\n                                    name = name.slice(0, -1)\n                                    el.setAttribute(name, \"\")\n                                }\n                            } else {\n                                el.setAttribute(name, value)\n                            }\n                        }\n                    }\n                }\n\n                // remove placeholder attributes outside of the attribute loop since it\n                // will modify the attributes NamedNodeMap indices.\n                // @see https://github.com/straker/html-tagged-template/issues/13\n                attributesToRemove.forEach(function(attribute) {\n                    node.removeAttribute(attribute)\n                })\n\n                // append the current node to a replaced parent\n                let parentNode\n                if (node.parentNode && node.parentNode._replacedWith) {\n                    parentNode = node.parentNode\n                    node.parentNode._replacedWith.appendChild(node)\n                }\n\n                // remove the old node from the DOM\n                if (\n                    (node._replacedWith && node.childNodes.length === 0) ||\n                    (parentNode && parentNode.childNodes.length === 0)\n                ) {\n                    (parentNode || node).remove()\n                }\n\n                // --------------------------------------------------\n                // text content substitution\n                // --------------------------------------------------\n\n                if (\n                    node.nodeType === 3 &&\n                    node.nodeValue.indexOf(SUBSTITUTION_INDEX) !== -1\n                ) {\n                    const nodeValue = node.nodeValue.replace(\n                        SUBSTITUTION_REGEX,\n                        replaceSubstitution,\n                    )\n\n                    // createTextNode() should not need to be escaped to prevent XSS?\n                    const text = document.createTextNode(nodeValue)\n\n                    // since the parent node has already gone through the iterator, we can use\n                    // replaceChild() here\n                    node.parentNode.replaceChild(text, node)\n                }\n            }\n\n            // return the documentFragment for multiple nodes\n            if (template.content.childNodes.length > 1) {\n                return template.content\n            }\n\n            return template.content.firstChild\n        }\n    }\n})(window)\n", "/*\n * Clamp a number n between two values lo, hi\n * such that if n is in [lo, hi], we return n\n * otherwise if n < lo, return lo\n * else return hi.\n */\nNumber.prototype.clamp = function (\n    this: number,\n    lo: number,\n    hi: number,\n): number {\n    return Math.max(lo, Math.min(this, hi))\n}\n\nexport {}\n", "/** Tridactyl helper mode */\n\nimport * as keyseq from \"@src/lib/keyseq\"\n\nexport function parser(conf, keys: keyseq.MinimalKey[]): keyseq.ParserResponse {\n    const maps = keyseq.keyMap(conf)\n    return keyseq.parse(keys, maps)\n}\n", "import * as Completions from \"@src/completions\"\nimport * as config from \"@src/lib/config\"\nimport {\n    tgroups,\n    windowTgroup,\n    windowLastTgroup,\n    tgroupTabs,\n} from \"@src/lib/tab_groups\"\n\nclass TabGroupCompletionOption\n    extends Completions.CompletionOptionHTML\n    implements Completions.CompletionOptionFuse {\n    public fuseKeys = []\n\n    constructor(\n        group: string,\n        tabCount: number,\n        current: boolean,\n        alternate: boolean,\n        audible: boolean,\n        urls: string[],\n    ) {\n        super()\n        this.value = group\n        let preplain = \"\"\n        if (current) {\n            preplain += \"%\"\n        }\n        if (alternate) {\n            preplain += \"#\"\n        }\n        let pre = preplain\n        if (audible) {\n            preplain += \"A\"\n        }\n        if (config.get(\"completions\", \"Tab\", \"statusstylepretty\") === \"true\") {\n            if (audible) {\n                pre += \"\\uD83D\\uDD0A\"\n            }\n        } else {\n            pre = preplain\n        }\n\n        this.fuseKeys.push(group)\n        this.fuseKeys.push(pre)\n        this.fuseKeys.push(preplain)\n        this.fuseKeys.push(urls)\n\n        this.html = html`<tr class=\"TabGroupCompletionOption option\">\n            <td class=\"prefix\">${pre}</td>\n            <td class=\"prefixplain\" hidden>${preplain}</td>\n            <td class=\"title\">${group}</td>\n            <td class=\"tabcount\">\n                ${tabCount} tab${tabCount !== 1 ? \"s\" : \"\"}\n            </td>\n            <td class=\"content\"></td>\n        </tr>`\n        const urlMarkup = urls.map(\n            u => `<a class=\"url\" target=\"_blank\" href=\"${u}\">${u}</a>`,\n        )\n        this.html.lastElementChild.innerHTML = urlMarkup.join(\", \")\n    }\n}\n\nexport class TabGroupCompletionSource extends Completions.CompletionSourceFuse {\n    public options: TabGroupCompletionOption[]\n\n    constructor(private _parent: any) {\n        super(\n            [\"tgroupswitch\", \"tgroupmove\", \"tgroupclose\"],\n            \"TabGroupCompletionSource\",\n            \"Tab Groups\",\n        )\n\n        this.updateOptions()\n        this._parent.appendChild(this.node)\n    }\n\n    async onInput(exstr) {\n        return this.updateOptions(exstr)\n    }\n\n    private async updateOptions(exstr = \"\") {\n        this.lastExstr = exstr\n        const [prefix] = this.splitOnPrefix(exstr)\n\n        // Hide self and stop if prefixes don't match\n        if (prefix) {\n            // Show self if prefix and currently hidden\n            if (this.state === \"hidden\") {\n                this.state = \"normal\"\n            }\n        } else {\n            this.state = \"hidden\"\n            return\n        }\n\n        const currentGroup = await windowTgroup()\n        const alternateGroup = await windowLastTgroup()\n        const groups = [...(await tgroups())]\n        this.options = await Promise.all(\n            groups.map(async group => {\n                const tabs = await tgroupTabs(group)\n                const audible = tabs.some(t => t.audible)\n                tabs.sort((a, b) => b.lastAccessed - a.lastAccessed)\n                const urls = tabs.map(t => t.url)\n                const o = new TabGroupCompletionOption(\n                    group,\n                    tabs.length,\n                    group === currentGroup,\n                    group === alternateGroup,\n                    audible,\n                    urls,\n                )\n                o.state = \"normal\"\n                return o\n            }),\n        )\n        this.completion = undefined\n        return this.updateChain()\n    }\n}\n"],
  "mappings": "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",
  "names": ["State", "state", "Parser", "grammar", "index", "Grammar", "message", "pad", "type", "rules", "m", "index", "identity", "sourceFile", "map", "search", "index", "index", "needle", "section", "map", "read", "error", "map", "index", "map", "map", "keys", "id", "obj", "path", "index", "norm", "value", "score", "pattern", "result", "query", "item", "searchers", "type", "index", "curryN", "XWrap", "bind", "XMap", "_xmap", "toString", "_isArguments", "contains", "keys", "map", "type", "slice", "reverse", "b", "equals", "pad", "_toISOString", "XFilter", "_xfilter", "filter", "reject", "_Set", "type", "XUniqBy", "_xuniqBy", "is", "mergeLeft", "mergeRight", "pick", "when", "Parser", "grammar", "reject", "Parser", "modifiers", "rest", "parse", "map", "get", "modifiers", "get", "get", "url", "target", "get", "get", "triggerChangeListeners", "get", "prefixes", "get", "query", "index", "o", "type", "type", "query", "default_config", "get", "query", "index", "slice", "get", "index", "options", "message", "engine", "get", "message", "message", "type", "message", "type", "message", "type", "message", "get", "rest", "query", "get", "query", "get", "history", "get", "query", "get", "o", "get", "o", "init", "query", "logger", "logger", "logger", "semverCompare", "logger", "get", "semverCompare", "profile", "get", "regex", "get", "query", "query", "default_config", "get", "get", "query", "type", "get", "get", "query", "default_config", "get", "type", "logger", "get", "logger", "logger", "id", "get", "query", "index", "id", "id", "id", "id", "index", "get", "windows", "get", "query", "o", "index", "history", "o", "query", "get", "logger", "logger", "logger", "theme", "logger", "getAsync", "message", "sleep", "getAsync", "e", "arg", "get", "firstWord", "window", "tag", "index", "template", "keys", "parse", "get", "o", "logger", "keys", "getAsync"]
}
