{
  "version": 3,
  "sources": ["../node_modules/ramda/es/F.js", "../node_modules/ramda/es/T.js", "../node_modules/ramda/es/__.js", "../node_modules/ramda/es/internal/_isPlaceholder.js", "../node_modules/ramda/es/internal/_curry1.js", "../node_modules/ramda/es/internal/_curry2.js", "../node_modules/ramda/es/add.js", "../node_modules/ramda/es/internal/_concat.js", "../node_modules/ramda/es/internal/_arity.js", "../node_modules/ramda/es/internal/_curryN.js", "../node_modules/ramda/es/curryN.js", "../node_modules/ramda/es/addIndex.js", "../node_modules/ramda/es/internal/_curry3.js", "../node_modules/ramda/es/adjust.js", "../node_modules/ramda/es/internal/_isArray.js", "../node_modules/ramda/es/internal/_isTransformer.js", "../node_modules/ramda/es/internal/_dispatchable.js", "../node_modules/ramda/es/internal/_reduced.js", "../node_modules/ramda/es/internal/_xfBase.js", "../node_modules/ramda/es/internal/_xall.js", "../node_modules/ramda/es/all.js", "../node_modules/ramda/es/max.js", "../node_modules/ramda/es/internal/_map.js", "../node_modules/ramda/es/internal/_isString.js", "../node_modules/ramda/es/internal/_isArrayLike.js", "../node_modules/ramda/es/internal/_xwrap.js", "../node_modules/ramda/es/bind.js", "../node_modules/ramda/es/internal/_reduce.js", "../node_modules/ramda/es/internal/_xmap.js", "../node_modules/ramda/es/internal/_has.js", "../node_modules/ramda/es/internal/_isArguments.js", "../node_modules/ramda/es/keys.js", "../node_modules/ramda/es/map.js", "../node_modules/ramda/es/internal/_isInteger.js", "../node_modules/ramda/es/nth.js", "../node_modules/ramda/es/prop.js", "../node_modules/ramda/es/pluck.js", "../node_modules/ramda/es/reduce.js", "../node_modules/ramda/es/allPass.js", "../node_modules/ramda/es/always.js", "../node_modules/ramda/es/and.js", "../node_modules/ramda/es/internal/_xany.js", "../node_modules/ramda/es/any.js", "../node_modules/ramda/es/anyPass.js", "../node_modules/ramda/es/ap.js", "../node_modules/ramda/es/internal/_aperture.js", "../node_modules/ramda/es/internal/_xaperture.js", "../node_modules/ramda/es/aperture.js", "../node_modules/ramda/es/append.js", "../node_modules/ramda/es/apply.js", "../node_modules/ramda/es/values.js", "../node_modules/ramda/es/applySpec.js", "../node_modules/ramda/es/applyTo.js", "../node_modules/ramda/es/ascend.js", "../node_modules/ramda/es/internal/_assoc.js", "../node_modules/ramda/es/isNil.js", "../node_modules/ramda/es/assocPath.js", "../node_modules/ramda/es/assoc.js", "../node_modules/ramda/es/nAry.js", "../node_modules/ramda/es/binary.js", "../node_modules/ramda/es/internal/_isFunction.js", "../node_modules/ramda/es/liftN.js", "../node_modules/ramda/es/lift.js", "../node_modules/ramda/es/both.js", "../node_modules/ramda/es/call.js", "../node_modules/ramda/es/internal/_makeFlat.js", "../node_modules/ramda/es/internal/_forceReduced.js", "../node_modules/ramda/es/internal/_flatCat.js", "../node_modules/ramda/es/internal/_xchain.js", "../node_modules/ramda/es/chain.js", "../node_modules/ramda/es/clamp.js", "../node_modules/ramda/es/internal/_cloneRegExp.js", "../node_modules/ramda/es/type.js", "../node_modules/ramda/es/internal/_clone.js", "../node_modules/ramda/es/clone.js", "../node_modules/ramda/es/collectBy.js", "../node_modules/ramda/es/comparator.js", "../node_modules/ramda/es/not.js", "../node_modules/ramda/es/complement.js", "../node_modules/ramda/es/internal/_pipe.js", "../node_modules/ramda/es/internal/_checkForMethod.js", "../node_modules/ramda/es/slice.js", "../node_modules/ramda/es/tail.js", "../node_modules/ramda/es/pipe.js", "../node_modules/ramda/es/reverse.js", "../node_modules/ramda/es/compose.js", "../node_modules/ramda/es/head.js", "../node_modules/ramda/es/internal/_identity.js", "../node_modules/ramda/es/identity.js", "../node_modules/ramda/es/pipeWith.js", "../node_modules/ramda/es/composeWith.js", "../node_modules/ramda/es/internal/_arrayFromIterator.js", "../node_modules/ramda/es/internal/_includesWith.js", "../node_modules/ramda/es/internal/_functionName.js", "../node_modules/ramda/es/internal/_objectIs.js", "../node_modules/ramda/es/internal/_equals.js", "../node_modules/ramda/es/equals.js", "../node_modules/ramda/es/internal/_indexOf.js", "../node_modules/ramda/es/internal/_includes.js", "../node_modules/ramda/es/internal/_quote.js", "../node_modules/ramda/es/internal/_toISOString.js", "../node_modules/ramda/es/internal/_complement.js", "../node_modules/ramda/es/internal/_filter.js", "../node_modules/ramda/es/internal/_isObject.js", "../node_modules/ramda/es/internal/_xfilter.js", "../node_modules/ramda/es/filter.js", "../node_modules/ramda/es/reject.js", "../node_modules/ramda/es/internal/_toString.js", "../node_modules/ramda/es/toString.js", "../node_modules/ramda/es/concat.js", "../node_modules/ramda/es/cond.js", "../node_modules/ramda/es/curry.js", "../node_modules/ramda/es/constructN.js", "../node_modules/ramda/es/construct.js", "../node_modules/ramda/es/converge.js", "../node_modules/ramda/es/count.js", "../node_modules/ramda/es/internal/_xreduceBy.js", "../node_modules/ramda/es/reduceBy.js", "../node_modules/ramda/es/countBy.js", "../node_modules/ramda/es/dec.js", "../node_modules/ramda/es/defaultTo.js", "../node_modules/ramda/es/descend.js", "../node_modules/ramda/es/internal/_Set.js", "../node_modules/ramda/es/difference.js", "../node_modules/ramda/es/differenceWith.js", "../node_modules/ramda/es/remove.js", "../node_modules/ramda/es/internal/_dissoc.js", "../node_modules/ramda/es/dissocPath.js", "../node_modules/ramda/es/dissoc.js", "../node_modules/ramda/es/divide.js", "../node_modules/ramda/es/internal/_xdrop.js", "../node_modules/ramda/es/drop.js", "../node_modules/ramda/es/internal/_xtake.js", "../node_modules/ramda/es/take.js", "../node_modules/ramda/es/internal/_dropLast.js", "../node_modules/ramda/es/internal/_xdropLast.js", "../node_modules/ramda/es/dropLast.js", "../node_modules/ramda/es/internal/_dropLastWhile.js", "../node_modules/ramda/es/internal/_xdropLastWhile.js", "../node_modules/ramda/es/dropLastWhile.js", "../node_modules/ramda/es/internal/_xdropRepeatsWith.js", "../node_modules/ramda/es/last.js", "../node_modules/ramda/es/dropRepeatsWith.js", "../node_modules/ramda/es/dropRepeats.js", "../node_modules/ramda/es/internal/_xdropWhile.js", "../node_modules/ramda/es/dropWhile.js", "../node_modules/ramda/es/or.js", "../node_modules/ramda/es/either.js", "../node_modules/ramda/es/internal/_isTypedArray.js", "../node_modules/ramda/es/empty.js", "../node_modules/ramda/es/takeLast.js", "../node_modules/ramda/es/endsWith.js", "../node_modules/ramda/es/eqBy.js", "../node_modules/ramda/es/eqProps.js", "../node_modules/ramda/es/evolve.js", "../node_modules/ramda/es/internal/_xfind.js", "../node_modules/ramda/es/find.js", "../node_modules/ramda/es/internal/_xfindIndex.js", "../node_modules/ramda/es/findIndex.js", "../node_modules/ramda/es/internal/_xfindLast.js", "../node_modules/ramda/es/findLast.js", "../node_modules/ramda/es/internal/_xfindLastIndex.js", "../node_modules/ramda/es/findLastIndex.js", "../node_modules/ramda/es/flatten.js", "../node_modules/ramda/es/flip.js", "../node_modules/ramda/es/forEach.js", "../node_modules/ramda/es/forEachObjIndexed.js", "../node_modules/ramda/es/fromPairs.js", "../node_modules/ramda/es/groupBy.js", "../node_modules/ramda/es/groupWith.js", "../node_modules/ramda/es/gt.js", "../node_modules/ramda/es/gte.js", "../node_modules/ramda/es/hasPath.js", "../node_modules/ramda/es/has.js", "../node_modules/ramda/es/hasIn.js", "../node_modules/ramda/es/identical.js", "../node_modules/ramda/es/ifElse.js", "../node_modules/ramda/es/inc.js", "../node_modules/ramda/es/includes.js", "../node_modules/ramda/es/indexBy.js", "../node_modules/ramda/es/indexOf.js", "../node_modules/ramda/es/init.js", "../node_modules/ramda/es/innerJoin.js", "../node_modules/ramda/es/insert.js", "../node_modules/ramda/es/insertAll.js", "../node_modules/ramda/es/internal/_xuniqBy.js", "../node_modules/ramda/es/uniqBy.js", "../node_modules/ramda/es/uniq.js", "../node_modules/ramda/es/intersection.js", "../node_modules/ramda/es/intersperse.js", "../node_modules/ramda/es/internal/_objectAssign.js", "../node_modules/ramda/es/objOf.js", "../node_modules/ramda/es/internal/_stepCat.js", "../node_modules/ramda/es/into.js", "../node_modules/ramda/es/invert.js", "../node_modules/ramda/es/invertObj.js", "../node_modules/ramda/es/invoker.js", "../node_modules/ramda/es/is.js", "../node_modules/ramda/es/isEmpty.js", "../node_modules/ramda/es/join.js", "../node_modules/ramda/es/juxt.js", "../node_modules/ramda/es/keysIn.js", "../node_modules/ramda/es/lastIndexOf.js", "../node_modules/ramda/es/internal/_isNumber.js", "../node_modules/ramda/es/length.js", "../node_modules/ramda/es/lens.js", "../node_modules/ramda/es/update.js", "../node_modules/ramda/es/lensIndex.js", "../node_modules/ramda/es/paths.js", "../node_modules/ramda/es/path.js", "../node_modules/ramda/es/lensPath.js", "../node_modules/ramda/es/lensProp.js", "../node_modules/ramda/es/lt.js", "../node_modules/ramda/es/lte.js", "../node_modules/ramda/es/mapAccum.js", "../node_modules/ramda/es/mapAccumRight.js", "../node_modules/ramda/es/mapObjIndexed.js", "../node_modules/ramda/es/match.js", "../node_modules/ramda/es/mathMod.js", "../node_modules/ramda/es/maxBy.js", "../node_modules/ramda/es/sum.js", "../node_modules/ramda/es/mean.js", "../node_modules/ramda/es/median.js", "../node_modules/ramda/es/memoizeWith.js", "../node_modules/ramda/es/mergeAll.js", "../node_modules/ramda/es/mergeWithKey.js", "../node_modules/ramda/es/mergeDeepWithKey.js", "../node_modules/ramda/es/mergeDeepLeft.js", "../node_modules/ramda/es/mergeDeepRight.js", "../node_modules/ramda/es/mergeDeepWith.js", "../node_modules/ramda/es/mergeLeft.js", "../node_modules/ramda/es/mergeRight.js", "../node_modules/ramda/es/mergeWith.js", "../node_modules/ramda/es/min.js", "../node_modules/ramda/es/minBy.js", "../node_modules/ramda/es/internal/_modify.js", "../node_modules/ramda/es/modifyPath.js", "../node_modules/ramda/es/modify.js", "../node_modules/ramda/es/modulo.js", "../node_modules/ramda/es/move.js", "../node_modules/ramda/es/multiply.js", "../node_modules/ramda/es/partialObject.js", "../node_modules/ramda/es/negate.js", "../node_modules/ramda/es/none.js", "../node_modules/ramda/es/nthArg.js", "../node_modules/ramda/es/o.js", "../node_modules/ramda/es/internal/_of.js", "../node_modules/ramda/es/of.js", "../node_modules/ramda/es/omit.js", "../node_modules/ramda/es/on.js", "../node_modules/ramda/es/once.js", "../node_modules/ramda/es/internal/_assertPromise.js", "../node_modules/ramda/es/otherwise.js", "../node_modules/ramda/es/over.js", "../node_modules/ramda/es/pair.js", "../node_modules/ramda/es/internal/_createPartialApplicator.js", "../node_modules/ramda/es/partial.js", "../node_modules/ramda/es/partialRight.js", "../node_modules/ramda/es/partition.js", "../node_modules/ramda/es/pathEq.js", "../node_modules/ramda/es/pathOr.js", "../node_modules/ramda/es/pathSatisfies.js", "../node_modules/ramda/es/pick.js", "../node_modules/ramda/es/pickAll.js", "../node_modules/ramda/es/pickBy.js", "../node_modules/ramda/es/prepend.js", "../node_modules/ramda/es/product.js", "../node_modules/ramda/es/useWith.js", "../node_modules/ramda/es/project.js", "../node_modules/ramda/es/internal/_promap.js", "../node_modules/ramda/es/internal/_xpromap.js", "../node_modules/ramda/es/promap.js", "../node_modules/ramda/es/propEq.js", "../node_modules/ramda/es/propIs.js", "../node_modules/ramda/es/propOr.js", "../node_modules/ramda/es/propSatisfies.js", "../node_modules/ramda/es/props.js", "../node_modules/ramda/es/range.js", "../node_modules/ramda/es/reduceRight.js", "../node_modules/ramda/es/reduceWhile.js", "../node_modules/ramda/es/reduced.js", "../node_modules/ramda/es/times.js", "../node_modules/ramda/es/repeat.js", "../node_modules/ramda/es/replace.js", "../node_modules/ramda/es/scan.js", "../node_modules/ramda/es/sequence.js", "../node_modules/ramda/es/set.js", "../node_modules/ramda/es/sort.js", "../node_modules/ramda/es/sortBy.js", "../node_modules/ramda/es/sortWith.js", "../node_modules/ramda/es/split.js", "../node_modules/ramda/es/splitAt.js", "../node_modules/ramda/es/splitEvery.js", "../node_modules/ramda/es/splitWhen.js", "../node_modules/ramda/es/splitWhenever.js", "../node_modules/ramda/es/startsWith.js", "../node_modules/ramda/es/subtract.js", "../node_modules/ramda/es/symmetricDifference.js", "../node_modules/ramda/es/symmetricDifferenceWith.js", "../node_modules/ramda/es/takeLastWhile.js", "../node_modules/ramda/es/internal/_xtakeWhile.js", "../node_modules/ramda/es/takeWhile.js", "../node_modules/ramda/es/internal/_xtap.js", "../node_modules/ramda/es/tap.js", "../node_modules/ramda/es/internal/_isRegExp.js", "../node_modules/ramda/es/test.js", "../node_modules/ramda/es/andThen.js", "../node_modules/ramda/es/toLower.js", "../node_modules/ramda/es/toPairs.js", "../node_modules/ramda/es/toPairsIn.js", "../node_modules/ramda/es/toUpper.js", "../node_modules/ramda/es/transduce.js", "../node_modules/ramda/es/transpose.js", "../node_modules/ramda/es/traverse.js", "../node_modules/ramda/es/trim.js", "../node_modules/ramda/es/tryCatch.js", "../node_modules/ramda/es/unapply.js", "../node_modules/ramda/es/unary.js", "../node_modules/ramda/es/uncurryN.js", "../node_modules/ramda/es/unfold.js", "../node_modules/ramda/es/union.js", "../node_modules/ramda/es/internal/_xuniqWith.js", "../node_modules/ramda/es/uniqWith.js", "../node_modules/ramda/es/unionWith.js", "../node_modules/ramda/es/unless.js", "../node_modules/ramda/es/unnest.js", "../node_modules/ramda/es/until.js", "../node_modules/ramda/es/unwind.js", "../node_modules/ramda/es/valuesIn.js", "../node_modules/ramda/es/view.js", "../node_modules/ramda/es/when.js", "../node_modules/ramda/es/where.js", "../node_modules/ramda/es/whereAny.js", "../node_modules/ramda/es/whereEq.js", "../node_modules/ramda/es/without.js", "../node_modules/ramda/es/xor.js", "../node_modules/ramda/es/xprod.js", "../node_modules/ramda/es/zip.js", "../node_modules/ramda/es/zipObj.js", "../node_modules/ramda/es/zipWith.js", "../node_modules/ramda/es/thunkify.js", "../node_modules/ramda/es/index.js", "../src/lib/number.mod.ts", "../src/lib/itertools.ts", "../node_modules/nearley/lib/nearley.js", "../src/lib/nearley_utils.ts", "../src/grammars/.bracketexpr.generated.ts", "../src/lib/keyseq.ts", "../src/lib/binding.ts", "../src/lib/platform.ts", "../src/lib/config.ts", "../src/lib/logging.ts", "../src/content/state_content.ts", "../src/lib/convert.ts", "../src/lib/browser_proxy.ts", "../src/lib/url_util.ts", "../src/lib/patience.ts", "../src/lib/webext.ts", "../src/lib/messaging.ts", "../src/state.ts", "../src/lib/commandline_cmds.ts", "../src/lib/dom.ts", "../src/lib/editor_utils.ts", "../src/lib/editor.ts", "../compiler/types/AnyType.ts", "../compiler/types/BooleanType.ts", "../compiler/types/FunctionType.ts", "../compiler/types/NumberType.ts", "../compiler/types/ObjectType.ts", "../compiler/types/StringType.ts", "../compiler/types/TypeReferenceType.ts", "../compiler/types/VoidType.ts", "../compiler/types/ArrayType.ts", "../compiler/types/LiteralTypeType.ts", "../compiler/types/TupleType.ts", "../compiler/types/UnionType.ts", "../compiler/types/AllTypes.ts", "../compiler/metadata/SymbolMetadata.ts", "../compiler/metadata/ClassMetadata.ts", "../compiler/metadata/FileMetadata.ts", "../compiler/metadata/ProgramMetadata.ts", "../compiler/metadata/AllMetadata.ts", "../src/.metadata.generated.ts", "../src/lib/aliases.ts", "../src/parsers/exmode.ts", "../src/lib/controller.ts", "../node_modules/semver-compare/index.js", "../src/lib/native.ts", "../src/lib/text_to_speech.ts", "../src/lib/escape.ts", "../src/lib/math.ts", "../src/content/hinting.ts", "../src/lib/hint_util.ts", "../node_modules/tridactyl-arg/index.js", "../src/lib/arg_util.ts", "../src/parsers/gobblemode.ts", "../src/parsers/genericmode.ts", "../src/parsers/nmode.ts", "../src/content/controller_content.ts", "../src/lib/number.clamp.ts", "../src/background/commandline_cmds.ts", "../src/background/editor.ts", "../src/content/styling.ts", "../src/content/commandline_content.ts", "../src/content/scrolling.ts", "../node_modules/compute-scroll-into-view/src/index.ts", "../src/content/finding.ts", "../src/content/toys.ts", "../node_modules/editor-adapter/index.js", "../node_modules/@mozilla/readability/Readability.js", "../node_modules/@mozilla/readability/Readability-readerable.js", "../node_modules/@mozilla/readability/index.js", "../src/.excmds_content.generated.ts", "../src/perf.ts", "../src/lib/updates.ts", "../src/lib/visual.ts", "../src/lib/tab_groups.ts", "../src/completions/providers.ts", "../src/lib/html-tagged-template.js", "../src/content.ts", "../src/content/commandline_cmds.ts", "../src/content/editor.ts"],
  "sourcesContent": ["/**\n * A function that always returns `false`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.T\n * @example\n *\n *      R.F(); //=> false\n */\nvar F = function () {\n  return false;\n};\n\nexport default F;", "/**\n * A function that always returns `true`. Any passed in parameters are ignored.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig * -> Boolean\n * @param {*}\n * @return {Boolean}\n * @see R.F\n * @example\n *\n *      R.T(); //=> true\n */\nvar T = function () {\n  return true;\n};\n\nexport default T;", "/**\n * A special placeholder value used to specify \"gaps\" within curried functions,\n * allowing partial application of any combination of arguments, regardless of\n * their positions.\n *\n * If `g` is a curried ternary function and `_` is `R.__`, the following are\n * equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2, _)(1, 3)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @name __\n * @constant\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @example\n *\n *      const greet = R.replace('{name}', R.__, 'Hello, {name}!');\n *      greet('Alice'); //=> 'Hello, Alice!'\n */\nexport default {\n  '@@functional/placeholder': true\n};", "export default function _isPlaceholder(a) {\n  return a != null && typeof a === 'object' && a['@@functional/placeholder'] === true;\n}", "import _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal one-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry1(fn) {\n  return function f1(a) {\n    if (arguments.length === 0 || _isPlaceholder(a)) {\n      return f1;\n    } else {\n      return fn.apply(this, arguments);\n    }\n  };\n}", "import _curry1 from \"./_curry1.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal two-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry2(fn) {\n  return function f2(a, b) {\n    switch (arguments.length) {\n      case 0:\n        return f2;\n\n      case 1:\n        return _isPlaceholder(a) ? f2 : _curry1(function (_b) {\n          return fn(a, _b);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f2 : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b);\n        }) : fn(a, b);\n    }\n  };\n}", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Adds two values.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a\n * @param {Number} b\n * @return {Number}\n * @see R.subtract\n * @example\n *\n *      R.add(2, 3);       //=>  5\n *      R.add(7)(10);      //=> 17\n */\n\nvar add =\n/*#__PURE__*/\n_curry2(function add(a, b) {\n  return Number(a) + Number(b);\n});\n\nexport default add;", "/**\n * Private `concat` function to merge two array-like objects.\n *\n * @private\n * @param {Array|Arguments} [set1=[]] An array-like object.\n * @param {Array|Arguments} [set2=[]] An array-like object.\n * @return {Array} A new, merged array.\n * @example\n *\n *      _concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n */\nexport default function _concat(set1, set2) {\n  set1 = set1 || [];\n  set2 = set2 || [];\n  var idx;\n  var len1 = set1.length;\n  var len2 = set2.length;\n  var result = [];\n  idx = 0;\n\n  while (idx < len1) {\n    result[result.length] = set1[idx];\n    idx += 1;\n  }\n\n  idx = 0;\n\n  while (idx < len2) {\n    result[result.length] = set2[idx];\n    idx += 1;\n  }\n\n  return result;\n}", "export default function _arity(n, fn) {\n  /* eslint-disable no-unused-vars */\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.apply(this, arguments);\n      };\n\n    case 1:\n      return function (a0) {\n        return fn.apply(this, arguments);\n      };\n\n    case 2:\n      return function (a0, a1) {\n        return fn.apply(this, arguments);\n      };\n\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.apply(this, arguments);\n      };\n\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.apply(this, arguments);\n      };\n\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.apply(this, arguments);\n      };\n\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.apply(this, arguments);\n      };\n\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.apply(this, arguments);\n      };\n\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.apply(this, arguments);\n      };\n\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.apply(this, arguments);\n      };\n\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.apply(this, arguments);\n      };\n\n    default:\n      throw new Error('First argument to _arity must be a non-negative integer no greater than ten');\n  }\n}", "import _arity from \"./_arity.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Internal curryN function.\n *\n * @private\n * @category Function\n * @param {Number} length The arity of the curried function.\n * @param {Array} received An array of arguments received thus far.\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curryN(length, received, fn) {\n  return function () {\n    var combined = [];\n    var argsIdx = 0;\n    var left = length;\n    var combinedIdx = 0;\n\n    while (combinedIdx < received.length || argsIdx < arguments.length) {\n      var result;\n\n      if (combinedIdx < received.length && (!_isPlaceholder(received[combinedIdx]) || argsIdx >= arguments.length)) {\n        result = received[combinedIdx];\n      } else {\n        result = arguments[argsIdx];\n        argsIdx += 1;\n      }\n\n      combined[combinedIdx] = result;\n\n      if (!_isPlaceholder(result)) {\n        left -= 1;\n      }\n\n      combinedIdx += 1;\n    }\n\n    return left <= 0 ? fn.apply(this, combined) : _arity(left, _curryN(length, combined, fn));\n  };\n}", "import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _curryN from \"./internal/_curryN.js\";\n/**\n * Returns a curried equivalent of the provided function, with the specified\n * arity. The curried function has two unusual capabilities. First, its\n * arguments needn't be provided one at a time. If `g` is `R.curryN(3, f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.5.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curry\n * @example\n *\n *      const sumArgs = (...args) => R.sum(args);\n *\n *      const curriedAddFourNumbers = R.curryN(4, sumArgs);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curryN =\n/*#__PURE__*/\n_curry2(function curryN(length, fn) {\n  if (length === 1) {\n    return _curry1(fn);\n  }\n\n  return _arity(length, _curryN(length, [], fn));\n});\n\nexport default curryN;", "import _concat from \"./internal/_concat.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Creates a new list iteration function from an existing one by adding two new\n * parameters to its callback function: the current index, and the entire list.\n *\n * This would turn, for instance, [`R.map`](#map) function into one that\n * more closely resembles `Array.prototype.map`. Note that this will only work\n * for functions in which the iteration callback function is the first\n * parameter, and where the list is the last parameter. (This latter might be\n * unimportant if the list parameter is not used.)\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Function\n * @category List\n * @sig (((a ...) -> b) ... -> [a] -> *) -> (((a ..., Int, [a]) -> b) ... -> [a] -> *)\n * @param {Function} fn A list iteration function that does not pass index or list to its callback\n * @return {Function} An altered list iteration function that passes (item, index, list) to its callback\n * @example\n *\n *      const mapIndexed = R.addIndex(R.map);\n *      mapIndexed((val, idx) => idx + '-' + val, ['f', 'o', 'o', 'b', 'a', 'r']);\n *      //=> ['0-f', '1-o', '2-o', '3-b', '4-a', '5-r']\n */\n\nvar addIndex =\n/*#__PURE__*/\n_curry1(function addIndex(fn) {\n  return curryN(fn.length, function () {\n    var idx = 0;\n    var origFn = arguments[0];\n    var list = arguments[arguments.length - 1];\n    var args = Array.prototype.slice.call(arguments, 0);\n\n    args[0] = function () {\n      var result = origFn.apply(this, _concat(arguments, [idx, list]));\n      idx += 1;\n      return result;\n    };\n\n    return fn.apply(this, args);\n  });\n});\n\nexport default addIndex;", "import _curry1 from \"./_curry1.js\";\nimport _curry2 from \"./_curry2.js\";\nimport _isPlaceholder from \"./_isPlaceholder.js\";\n/**\n * Optimized internal three-arity curry function.\n *\n * @private\n * @category Function\n * @param {Function} fn The function to curry.\n * @return {Function} The curried function.\n */\n\nexport default function _curry3(fn) {\n  return function f3(a, b, c) {\n    switch (arguments.length) {\n      case 0:\n        return f3;\n\n      case 1:\n        return _isPlaceholder(a) ? f3 : _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        });\n\n      case 2:\n        return _isPlaceholder(a) && _isPlaceholder(b) ? f3 : _isPlaceholder(a) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _curry1(function (_c) {\n          return fn(a, b, _c);\n        });\n\n      default:\n        return _isPlaceholder(a) && _isPlaceholder(b) && _isPlaceholder(c) ? f3 : _isPlaceholder(a) && _isPlaceholder(b) ? _curry2(function (_a, _b) {\n          return fn(_a, _b, c);\n        }) : _isPlaceholder(a) && _isPlaceholder(c) ? _curry2(function (_a, _c) {\n          return fn(_a, b, _c);\n        }) : _isPlaceholder(b) && _isPlaceholder(c) ? _curry2(function (_b, _c) {\n          return fn(a, _b, _c);\n        }) : _isPlaceholder(a) ? _curry1(function (_a) {\n          return fn(_a, b, c);\n        }) : _isPlaceholder(b) ? _curry1(function (_b) {\n          return fn(a, _b, c);\n        }) : _isPlaceholder(c) ? _curry1(function (_c) {\n          return fn(a, b, _c);\n        }) : fn(a, b, c);\n    }\n  };\n}", "import _concat from \"./internal/_concat.js\";\nimport _curry3 from \"./internal/_curry3.js\";\n/**\n * Applies a function to the value at the given index of an array, returning a\n * new copy of the array with the element at the given index replaced with the\n * result of the function application.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig Number -> (a -> a) -> [a] -> [a]\n * @param {Number} idx The index.\n * @param {Function} fn The function to apply.\n * @param {Array|Arguments} list An array-like object whose value\n *        at the supplied index will be replaced.\n * @return {Array} A copy of the supplied array-like object with\n *         the element at index `idx` replaced with the value\n *         returned by applying `fn` to the existing element.\n * @see R.update\n * @example\n *\n *      R.adjust(1, R.toUpper, ['a', 'b', 'c', 'd']);      //=> ['a', 'B', 'c', 'd']\n *      R.adjust(-1, R.toUpper, ['a', 'b', 'c', 'd']);     //=> ['a', 'b', 'c', 'D']\n * @symb R.adjust(-1, f, [a, b]) = [a, f(b)]\n * @symb R.adjust(0, f, [a, b]) = [f(a), b]\n */\n\nvar adjust =\n/*#__PURE__*/\n_curry3(function adjust(idx, fn, list) {\n  var len = list.length;\n\n  if (idx >= len || idx < -len) {\n    return list;\n  }\n\n  var _idx = (len + idx) % len;\n\n  var _list = _concat(list);\n\n  _list[_idx] = fn(list[_idx]);\n  return _list;\n});\n\nexport default adjust;", "/**\n * Tests whether or not an object is an array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is an array, `false` otherwise.\n * @example\n *\n *      _isArray([]); //=> true\n *      _isArray(null); //=> false\n *      _isArray({}); //=> false\n */\nexport default Array.isArray || function _isArray(val) {\n  return val != null && val.length >= 0 && Object.prototype.toString.call(val) === '[object Array]';\n};", "export default function _isTransformer(obj) {\n  return obj != null && typeof obj['@@transducer/step'] === 'function';\n}", "import _isArray from \"./_isArray.js\";\nimport _isTransformer from \"./_isTransformer.js\";\n/**\n * Returns a function that dispatches with different strategies based on the\n * object in list position (last argument). If it is an array, executes [fn].\n * Otherwise, if it has a function with one of the given method names, it will\n * execute that function (functor case). Otherwise, if it is a transformer,\n * uses transducer created by [transducerCreator] to return a new transformer\n * (transducer case).\n * Otherwise, it will default to executing [fn].\n *\n * @private\n * @param {Array} methodNames properties to check for a custom implementation\n * @param {Function} transducerCreator transducer factory if object is transformer\n * @param {Function} fn default ramda implementation\n * @return {Function} A function that dispatches on object in list position\n */\n\nexport default function _dispatchable(methodNames, transducerCreator, fn) {\n  return function () {\n    if (arguments.length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[arguments.length - 1];\n\n    if (!_isArray(obj)) {\n      var idx = 0;\n\n      while (idx < methodNames.length) {\n        if (typeof obj[methodNames[idx]] === 'function') {\n          return obj[methodNames[idx]].apply(obj, Array.prototype.slice.call(arguments, 0, -1));\n        }\n\n        idx += 1;\n      }\n\n      if (_isTransformer(obj)) {\n        var transducer = transducerCreator.apply(null, Array.prototype.slice.call(arguments, 0, -1));\n        return transducer(obj);\n      }\n    }\n\n    return fn.apply(this, arguments);\n  };\n}", "export default function _reduced(x) {\n  return x && x['@@transducer/reduced'] ? x : {\n    '@@transducer/value': x,\n    '@@transducer/reduced': true\n  };\n}", "export default {\n  init: function () {\n    return this.xf['@@transducer/init']();\n  },\n  result: function (result) {\n    return this.xf['@@transducer/result'](result);\n  }\n};", "import _curry2 from \"./_curry2.js\";\nimport _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XAll =\n/*#__PURE__*/\nfunction () {\n  function XAll(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.all = true;\n  }\n\n  XAll.prototype['@@transducer/init'] = _xfBase.init;\n\n  XAll.prototype['@@transducer/result'] = function (result) {\n    if (this.all) {\n      result = this.xf['@@transducer/step'](result, true);\n    }\n\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XAll.prototype['@@transducer/step'] = function (result, input) {\n    if (!this.f(input)) {\n      this.all = false;\n      result = _reduced(this.xf['@@transducer/step'](result, false));\n    }\n\n    return result;\n  };\n\n  return XAll;\n}();\n\nvar _xall =\n/*#__PURE__*/\n_curry2(function _xall(f, xf) {\n  return new XAll(f, xf);\n});\n\nexport default _xall;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xall from \"./internal/_xall.js\";\n/**\n * Returns `true` if all elements of the list match the predicate, `false` if\n * there are any that don't.\n *\n * Dispatches to the `all` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> Boolean\n * @param {Function} fn The predicate function.\n * @param {Array} list The array to consider.\n * @return {Boolean} `true` if the predicate is satisfied by every element, `false`\n *         otherwise.\n * @see R.any, R.none, R.transduce\n * @example\n *\n *      const equals3 = R.equals(3);\n *      R.all(equals3)([3, 3, 3, 3]); //=> true\n *      R.all(equals3)([3, 3, 1, 3]); //=> false\n */\n\nvar all =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['all'], _xall, function all(fn, list) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (!fn(list[idx])) {\n      return false;\n    }\n\n    idx += 1;\n  }\n\n  return true;\n}));\n\nexport default all;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns the larger of its two arguments.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> a\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @see R.maxBy, R.min\n * @example\n *\n *      R.max(789, 123); //=> 789\n *      R.max('a', 'b'); //=> 'b'\n */\n\nvar max =\n/*#__PURE__*/\n_curry2(function max(a, b) {\n  return b > a ? b : a;\n});\n\nexport default max;", "export default function _map(fn, functor) {\n  var idx = 0;\n  var len = functor.length;\n  var result = Array(len);\n\n  while (idx < len) {\n    result[idx] = fn(functor[idx]);\n    idx += 1;\n  }\n\n  return result;\n}", "export default function _isString(x) {\n  return Object.prototype.toString.call(x) === '[object String]';\n}", "import _curry1 from \"./_curry1.js\";\nimport _isArray from \"./_isArray.js\";\nimport _isString from \"./_isString.js\";\n/**\n * Tests whether or not an object is similar to an array.\n *\n * @private\n * @category Type\n * @category List\n * @sig * -> Boolean\n * @param {*} x The object to test.\n * @return {Boolean} `true` if `x` has a numeric length property and extreme indices defined; `false` otherwise.\n * @example\n *\n *      _isArrayLike([]); //=> true\n *      _isArrayLike(true); //=> false\n *      _isArrayLike({}); //=> false\n *      _isArrayLike({length: 10}); //=> false\n *      _isArrayLike({0: 'zero', 9: 'nine', length: 10}); //=> true\n *      _isArrayLike({nodeType: 1, length: 1}) // => false\n */\n\nvar _isArrayLike =\n/*#__PURE__*/\n_curry1(function isArrayLike(x) {\n  if (_isArray(x)) {\n    return true;\n  }\n\n  if (!x) {\n    return false;\n  }\n\n  if (typeof x !== 'object') {\n    return false;\n  }\n\n  if (_isString(x)) {\n    return false;\n  }\n\n  if (x.length === 0) {\n    return true;\n  }\n\n  if (x.length > 0) {\n    return x.hasOwnProperty(0) && x.hasOwnProperty(x.length - 1);\n  }\n\n  return false;\n});\n\nexport default _isArrayLike;", "var XWrap =\n/*#__PURE__*/\nfunction () {\n  function XWrap(fn) {\n    this.f = fn;\n  }\n\n  XWrap.prototype['@@transducer/init'] = function () {\n    throw new Error('init not implemented on XWrap');\n  };\n\n  XWrap.prototype['@@transducer/result'] = function (acc) {\n    return acc;\n  };\n\n  XWrap.prototype['@@transducer/step'] = function (acc, x) {\n    return this.f(acc, x);\n  };\n\n  return XWrap;\n}();\n\nexport default function _xwrap(fn) {\n  return new XWrap(fn);\n}", "import _arity from \"./internal/_arity.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a function that is bound to a context.\n * Note: `R.bind` does not provide the additional argument-binding capabilities of\n * [Function.prototype.bind](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/bind).\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Function\n * @category Object\n * @sig (* -> *) -> {*} -> (* -> *)\n * @param {Function} fn The function to bind to context\n * @param {Object} thisObj The context to bind `fn` to\n * @return {Function} A function that will execute in the context of `thisObj`.\n * @see R.partial\n * @example\n *\n *      const log = R.bind(console.log, console);\n *      R.pipe(R.assoc('a', 2), R.tap(log), R.assoc('a', 3))({a: 1}); //=> {a: 3}\n *      // logs {a: 2}\n * @symb R.bind(f, o)(a, b) = f.call(o, a, b)\n */\n\nvar bind =\n/*#__PURE__*/\n_curry2(function bind(fn, thisObj) {\n  return _arity(fn.length, function () {\n    return fn.apply(thisObj, arguments);\n  });\n});\n\nexport default bind;", "import _isArrayLike from \"./_isArrayLike.js\";\nimport _xwrap from \"./_xwrap.js\";\nimport bind from \"../bind.js\";\n\nfunction _arrayReduce(xf, acc, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    acc = xf['@@transducer/step'](acc, list[idx]);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    idx += 1;\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _iterableReduce(xf, acc, iter) {\n  var step = iter.next();\n\n  while (!step.done) {\n    acc = xf['@@transducer/step'](acc, step.value);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    step = iter.next();\n  }\n\n  return xf['@@transducer/result'](acc);\n}\n\nfunction _methodReduce(xf, acc, obj, methodName) {\n  return xf['@@transducer/result'](obj[methodName](bind(xf['@@transducer/step'], xf), acc));\n}\n\nvar symIterator = typeof Symbol !== 'undefined' ? Symbol.iterator : '@@iterator';\nexport default function _reduce(fn, acc, list) {\n  if (typeof fn === 'function') {\n    fn = _xwrap(fn);\n  }\n\n  if (_isArrayLike(list)) {\n    return _arrayReduce(fn, acc, list);\n  }\n\n  if (typeof list['fantasy-land/reduce'] === 'function') {\n    return _methodReduce(fn, acc, list, 'fantasy-land/reduce');\n  }\n\n  if (list[symIterator] != null) {\n    return _iterableReduce(fn, acc, list[symIterator]());\n  }\n\n  if (typeof list.next === 'function') {\n    return _iterableReduce(fn, acc, list);\n  }\n\n  if (typeof list.reduce === 'function') {\n    return _methodReduce(fn, acc, list, 'reduce');\n  }\n\n  throw new TypeError('reduce: list must be array or iterable');\n}", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XMap =\n/*#__PURE__*/\nfunction () {\n  function XMap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XMap.prototype['@@transducer/init'] = _xfBase.init;\n  XMap.prototype['@@transducer/result'] = _xfBase.result;\n\n  XMap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, this.f(input));\n  };\n\n  return XMap;\n}();\n\nvar _xmap =\n/*#__PURE__*/\n_curry2(function _xmap(f, xf) {\n  return new XMap(f, xf);\n});\n\nexport default _xmap;", "export default function _has(prop, obj) {\n  return Object.prototype.hasOwnProperty.call(obj, prop);\n}", "import _has from \"./_has.js\";\nvar toString = Object.prototype.toString;\n\nvar _isArguments =\n/*#__PURE__*/\nfunction () {\n  return toString.call(arguments) === '[object Arguments]' ? function _isArguments(x) {\n    return toString.call(x) === '[object Arguments]';\n  } : function _isArguments(x) {\n    return _has('callee', x);\n  };\n}();\n\nexport default _isArguments;", "import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport _isArguments from \"./internal/_isArguments.js\"; // cover IE < 9 keys issues\n\nvar hasEnumBug = !\n/*#__PURE__*/\n{\n  toString: null\n}.propertyIsEnumerable('toString');\nvar nonEnumerableProps = ['constructor', 'valueOf', 'isPrototypeOf', 'toString', 'propertyIsEnumerable', 'hasOwnProperty', 'toLocaleString']; // Safari bug\n\nvar hasArgsEnumBug =\n/*#__PURE__*/\nfunction () {\n  'use strict';\n\n  return arguments.propertyIsEnumerable('length');\n}();\n\nvar contains = function contains(list, item) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (list[idx] === item) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n};\n/**\n * Returns a list containing the names of all the enumerable own properties of\n * the supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own properties.\n * @see R.keysIn, R.values, R.toPairs\n * @example\n *\n *      R.keys({a: 1, b: 2, c: 3}); //=> ['a', 'b', 'c']\n */\n\n\nvar keys = typeof Object.keys === 'function' && !hasArgsEnumBug ?\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  return Object(obj) !== obj ? [] : Object.keys(obj);\n}) :\n/*#__PURE__*/\n_curry1(function keys(obj) {\n  if (Object(obj) !== obj) {\n    return [];\n  }\n\n  var prop, nIdx;\n  var ks = [];\n\n  var checkArgsLength = hasArgsEnumBug && _isArguments(obj);\n\n  for (prop in obj) {\n    if (_has(prop, obj) && (!checkArgsLength || prop !== 'length')) {\n      ks[ks.length] = prop;\n    }\n  }\n\n  if (hasEnumBug) {\n    nIdx = nonEnumerableProps.length - 1;\n\n    while (nIdx >= 0) {\n      prop = nonEnumerableProps[nIdx];\n\n      if (_has(prop, obj) && !contains(ks, prop)) {\n        ks[ks.length] = prop;\n      }\n\n      nIdx -= 1;\n    }\n  }\n\n  return ks;\n});\nexport default keys;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _map from \"./internal/_map.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xmap from \"./internal/_xmap.js\";\nimport curryN from \"./curryN.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a function and\n * a [functor](https://github.com/fantasyland/fantasy-land#functor),\n * applies the function to each of the functor's values, and returns\n * a functor of the same shape.\n *\n * Ramda provides suitable `map` implementations for `Array` and `Object`,\n * so this function may be applied to `[1, 2, 3]` or `{x: 1, y: 2, z: 3}`.\n *\n * Dispatches to the `map` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * Also treats functions as functors and will compose them together.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => (a -> b) -> f a -> f b\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {Array} list The list to be iterated over.\n * @return {Array} The new list.\n * @see R.transduce, R.addIndex, R.pluck, R.project\n * @example\n *\n *      const double = x => x * 2;\n *\n *      R.map(double, [1, 2, 3]); //=> [2, 4, 6]\n *\n *      R.map(double, {x: 1, y: 2, z: 3}); //=> {x: 2, y: 4, z: 6}\n * @symb R.map(f, [a, b]) = [f(a), f(b)]\n * @symb R.map(f, { x: a, y: b }) = { x: f(a), y: f(b) }\n * @symb R.map(f, functor_o) = functor_o.map(f)\n */\n\nvar map =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/map', 'map'], _xmap, function map(fn, functor) {\n  switch (Object.prototype.toString.call(functor)) {\n    case '[object Function]':\n      return curryN(functor.length, function () {\n        return fn.call(this, functor.apply(this, arguments));\n      });\n\n    case '[object Object]':\n      return _reduce(function (acc, key) {\n        acc[key] = fn(functor[key]);\n        return acc;\n      }, {}, keys(functor));\n\n    default:\n      return _map(fn, functor);\n  }\n}));\n\nexport default map;", "/**\n * Determine if the passed argument is an integer.\n *\n * @private\n * @param {*} n\n * @category Type\n * @return {Boolean}\n */\nexport default Number.isInteger || function _isInteger(n) {\n  return n << 0 === n;\n};", "import _curry2 from \"./internal/_curry2.js\";\nimport _isString from \"./internal/_isString.js\";\n/**\n * Returns the nth element of the given list or string. If n is negative the\n * element at index length + n is returned.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> a | Undefined\n * @sig Number -> String -> String\n * @param {Number} offset\n * @param {*} list\n * @return {*}\n * @example\n *\n *      const list = ['foo', 'bar', 'baz', 'quux'];\n *      R.nth(1, list); //=> 'bar'\n *      R.nth(-1, list); //=> 'quux'\n *      R.nth(-99, list); //=> undefined\n *\n *      R.nth(2, 'abc'); //=> 'c'\n *      R.nth(3, 'abc'); //=> ''\n * @symb R.nth(-1, [a, b, c]) = c\n * @symb R.nth(0, [a, b, c]) = a\n * @symb R.nth(1, [a, b, c]) = b\n */\n\nvar nth =\n/*#__PURE__*/\n_curry2(function nth(offset, list) {\n  var idx = offset < 0 ? list.length + offset : offset;\n  return _isString(list) ? list.charAt(idx) : list[idx];\n});\n\nexport default nth;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport nth from \"./nth.js\";\n/**\n * Returns a function that when supplied an object returns the indicated\n * property of that object, if it exists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx -> {s: a} -> a | Undefined\n * @param {String|Number} p The property name or array index\n * @param {Object} obj The object to query\n * @return {*} The value at `obj.p`.\n * @see R.path, R.props, R.pluck, R.project, R.nth\n * @example\n *\n *      R.prop('x', {x: 100}); //=> 100\n *      R.prop('x', {}); //=> undefined\n *      R.prop(0, [100]); //=> 100\n *      R.compose(R.inc, R.prop('x'))({ x: 3 }) //=> 4\n */\n\nvar prop =\n/*#__PURE__*/\n_curry2(function prop(p, obj) {\n  if (obj == null) {\n    return;\n  }\n\n  return _isInteger(p) ? nth(p, obj) : obj[p];\n});\n\nexport default prop;", "import _curry2 from \"./internal/_curry2.js\";\nimport map from \"./map.js\";\nimport prop from \"./prop.js\";\n/**\n * Returns a new list by plucking the same named property off all objects in\n * the list supplied.\n *\n * `pluck` will work on\n * any [functor](https://github.com/fantasyland/fantasy-land#functor) in\n * addition to arrays, as it is equivalent to `R.map(R.prop(k), f)`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Functor f => k -> f {k: v} -> f v\n * @param {Number|String} key The key name to pluck off of each object.\n * @param {Array} f The array or functor to consider.\n * @return {Array} The list of values for the given key.\n * @see R.project, R.prop, R.props\n * @example\n *\n *      var getAges = R.pluck('age');\n *      getAges([{name: 'fred', age: 29}, {name: 'wilma', age: 27}]); //=> [29, 27]\n *\n *      R.pluck(0, [[1, 2], [3, 4]]);               //=> [1, 3]\n *      R.pluck('val', {a: {val: 3}, b: {val: 5}}); //=> {a: 3, b: 5}\n * @symb R.pluck('x', [{x: 1, y: 2}, {x: 3, y: 4}, {x: 5, y: 6}]) = [1, 3, 5]\n * @symb R.pluck(0, [[1, 2], [3, 4], [5, 6]]) = [1, 3, 5]\n */\n\nvar pluck =\n/*#__PURE__*/\n_curry2(function pluck(p, list) {\n  return map(prop(p), list);\n});\n\nexport default pluck;", "import _curry3 from \"./internal/_curry3.js\";\nimport _reduce from \"./internal/_reduce.js\";\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to shortcut the iteration.\n *\n * The arguments' order of [`reduceRight`](#reduceRight)'s iterator function\n * is *(value, acc)*.\n *\n * Note: `R.reduce` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduce` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduce#Description\n *\n * Dispatches to the `reduce` method of the third argument, if present. When\n * doing so, it is up to the user to handle the [`R.reduced`](#reduced)\n * shortcuting, as this is not implemented by `reduce`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduced, R.addIndex, R.reduceRight\n * @example\n *\n *      R.reduce(R.subtract, 0, [1, 2, 3, 4]) // => ((((0 - 1) - 2) - 3) - 4) = -10\n *      //          -               -10\n *      //         / \\              / \\\n *      //        -   4           -6   4\n *      //       / \\              / \\\n *      //      -   3   ==>     -3   3\n *      //     / \\              / \\\n *      //    -   2           -1   2\n *      //   / \\              / \\\n *      //  0   1            0   1\n *\n * @symb R.reduce(f, a, [b, c, d]) = f(f(f(a, b), c), d)\n */\n\nvar reduce =\n/*#__PURE__*/\n_curry3(_reduce);\n\nexport default reduce;", "import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\nimport max from \"./max.js\";\nimport pluck from \"./pluck.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Takes a list of predicates and returns a predicate that returns true for a\n * given list of arguments if every one of the provided predicates is satisfied\n * by those arguments.\n *\n * The function returned is a curried function whose arity matches that of the\n * highest-arity predicate.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Logic\n * @sig [(*... -> Boolean)] -> (*... -> Boolean)\n * @param {Array} predicates An array of predicates to check\n * @return {Function} The combined predicate\n * @see R.anyPass\n * @example\n *\n *      const isQueen = R.propEq('rank', 'Q');\n *      const isSpade = R.propEq('suit', '\u2660\uFE0E');\n *      const isQueenOfSpades = R.allPass([isQueen, isSpade]);\n *\n *      isQueenOfSpades({rank: 'Q', suit: '\u2663\uFE0E'}); //=> false\n *      isQueenOfSpades({rank: 'Q', suit: '\u2660\uFE0E'}); //=> true\n */\n\nvar allPass =\n/*#__PURE__*/\n_curry1(function allPass(preds) {\n  return curryN(reduce(max, 0, pluck('length', preds)), function () {\n    var idx = 0;\n    var len = preds.length;\n\n    while (idx < len) {\n      if (!preds[idx].apply(this, arguments)) {\n        return false;\n      }\n\n      idx += 1;\n    }\n\n    return true;\n  });\n});\n\nexport default allPass;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Returns a function that always returns the given value. Note that for\n * non-primitives the value returned is a reference to the original value.\n *\n * This function is known as `const`, `constant`, or `K` (for K combinator) in\n * other languages and libraries.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> (* -> a)\n * @param {*} val The value to wrap in a function\n * @return {Function} A Function :: * -> val.\n * @example\n *\n *      const t = R.always('Tee');\n *      t(); //=> 'Tee'\n */\n\nvar always =\n/*#__PURE__*/\n_curry1(function always(val) {\n  return function () {\n    return val;\n  };\n});\n\nexport default always;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns the first argument if it is falsy, otherwise the second argument.\n * Acts as the boolean `and` statement if both inputs are `Boolean`s.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig a -> b -> a | b\n * @param {Any} a\n * @param {Any} b\n * @return {Any}\n * @see R.both, R.or\n * @example\n *\n *      R.and(true, true); //=> true\n *      R.and(true, false); //=> false\n *      R.and(false, true); //=> false\n *      R.and(false, false); //=> false\n */\n\nvar and =\n/*#__PURE__*/\n_curry2(function and(a, b) {\n  return a && b;\n});\n\nexport default and;", "import _curry2 from \"./_curry2.js\";\nimport _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XAny =\n/*#__PURE__*/\nfunction () {\n  function XAny(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.any = false;\n  }\n\n  XAny.prototype['@@transducer/init'] = _xfBase.init;\n\n  XAny.prototype['@@transducer/result'] = function (result) {\n    if (!this.any) {\n      result = this.xf['@@transducer/step'](result, false);\n    }\n\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XAny.prototype['@@transducer/step'] = function (result, input) {\n    if (this.f(input)) {\n      this.any = true;\n      result = _reduced(this.xf['@@transducer/step'](result, true));\n    }\n\n    return result;\n  };\n\n  return XAny;\n}();\n\nvar _xany =\n/*#__PURE__*/\n_curry2(function _xany(f, xf) {\n  return new XAny(f, xf);\n});\n\nexport default _xany;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xany from \"./internal/_xany.js\";\n/**\n * Returns `true` if at least one of the elements of the list match the predicate,\n * `false` otherwise.\n *\n * Dispatches to the `any` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> Boolean\n * @param {Function} fn The predicate function.\n * @param {Array} list The array to consider.\n * @return {Boolean} `true` if the predicate is satisfied by at least one element, `false`\n *         otherwise.\n * @see R.all, R.none, R.transduce\n * @example\n *\n *      const lessThan0 = R.flip(R.lt)(0);\n *      const lessThan2 = R.flip(R.lt)(2);\n *      R.any(lessThan0)([1, 2]); //=> false\n *      R.any(lessThan2)([1, 2]); //=> true\n */\n\nvar any =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['any'], _xany, function any(fn, list) {\n  var idx = 0;\n\n  while (idx < list.length) {\n    if (fn(list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}));\n\nexport default any;", "import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\nimport max from \"./max.js\";\nimport pluck from \"./pluck.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Takes a list of predicates and returns a predicate that returns true for a\n * given list of arguments if at least one of the provided predicates is\n * satisfied by those arguments.\n *\n * The function returned is a curried function whose arity matches that of the\n * highest-arity predicate.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Logic\n * @sig [(*... -> Boolean)] -> (*... -> Boolean)\n * @param {Array} predicates An array of predicates to check\n * @return {Function} The combined predicate\n * @see R.allPass\n * @example\n *\n *      const isClub = R.propEq('suit', '\u2663');\n *      const isSpade = R.propEq('suit', '\u2660');\n *      const isBlackCard = R.anyPass([isClub, isSpade]);\n *\n *      isBlackCard({rank: '10', suit: '\u2663'}); //=> true\n *      isBlackCard({rank: 'Q', suit: '\u2660'}); //=> true\n *      isBlackCard({rank: 'Q', suit: '\u2666'}); //=> false\n */\n\nvar anyPass =\n/*#__PURE__*/\n_curry1(function anyPass(preds) {\n  return curryN(reduce(max, 0, pluck('length', preds)), function () {\n    var idx = 0;\n    var len = preds.length;\n\n    while (idx < len) {\n      if (preds[idx].apply(this, arguments)) {\n        return true;\n      }\n\n      idx += 1;\n    }\n\n    return false;\n  });\n});\n\nexport default anyPass;", "import _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport map from \"./map.js\";\n/**\n * ap applies a list of functions to a list of values.\n *\n * Dispatches to the `ap` method of the second argument, if present. Also\n * treats curried functions as applicatives.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Function\n * @sig [a -> b] -> [a] -> [b]\n * @sig Apply f => f (a -> b) -> f a -> f b\n * @sig (r -> a -> b) -> (r -> a) -> (r -> b)\n * @param {*} applyF\n * @param {*} applyX\n * @return {*}\n * @example\n *\n *      R.ap([R.multiply(2), R.add(3)], [1,2,3]); //=> [2, 4, 6, 4, 5, 6]\n *      R.ap([R.concat('tasty '), R.toUpper], ['pizza', 'salad']); //=> [\"tasty pizza\", \"tasty salad\", \"PIZZA\", \"SALAD\"]\n *\n *      // R.ap can also be used as S combinator\n *      // when only two functions are passed\n *      R.ap(R.concat, R.toUpper)('Ramda') //=> 'RamdaRAMDA'\n * @symb R.ap([f, g], [a, b]) = [f(a), f(b), g(a), g(b)]\n */\n\nvar ap =\n/*#__PURE__*/\n_curry2(function ap(applyF, applyX) {\n  return typeof applyX['fantasy-land/ap'] === 'function' ? applyX['fantasy-land/ap'](applyF) : typeof applyF.ap === 'function' ? applyF.ap(applyX) : typeof applyF === 'function' ? function (x) {\n    return applyF(x)(applyX(x));\n  } : _reduce(function (acc, f) {\n    return _concat(acc, map(f, applyX));\n  }, [], applyF);\n});\n\nexport default ap;", "export default function _aperture(n, list) {\n  var idx = 0;\n  var limit = list.length - (n - 1);\n  var acc = new Array(limit >= 0 ? limit : 0);\n\n  while (idx < limit) {\n    acc[idx] = Array.prototype.slice.call(list, idx, idx + n);\n    idx += 1;\n  }\n\n  return acc;\n}", "import _concat from \"./_concat.js\";\nimport _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XAperture =\n/*#__PURE__*/\nfunction () {\n  function XAperture(n, xf) {\n    this.xf = xf;\n    this.pos = 0;\n    this.full = false;\n    this.acc = new Array(n);\n  }\n\n  XAperture.prototype['@@transducer/init'] = _xfBase.init;\n\n  XAperture.prototype['@@transducer/result'] = function (result) {\n    this.acc = null;\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XAperture.prototype['@@transducer/step'] = function (result, input) {\n    this.store(input);\n    return this.full ? this.xf['@@transducer/step'](result, this.getCopy()) : result;\n  };\n\n  XAperture.prototype.store = function (input) {\n    this.acc[this.pos] = input;\n    this.pos += 1;\n\n    if (this.pos === this.acc.length) {\n      this.pos = 0;\n      this.full = true;\n    }\n  };\n\n  XAperture.prototype.getCopy = function () {\n    return _concat(Array.prototype.slice.call(this.acc, this.pos), Array.prototype.slice.call(this.acc, 0, this.pos));\n  };\n\n  return XAperture;\n}();\n\nvar _xaperture =\n/*#__PURE__*/\n_curry2(function _xaperture(n, xf) {\n  return new XAperture(n, xf);\n});\n\nexport default _xaperture;", "import _aperture from \"./internal/_aperture.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xaperture from \"./internal/_xaperture.js\";\n/**\n * Returns a new list, composed of n-tuples of consecutive elements. If `n` is\n * greater than the length of the list, an empty list is returned.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category List\n * @sig Number -> [a] -> [[a]]\n * @param {Number} n The size of the tuples to create\n * @param {Array} list The list to split into `n`-length tuples\n * @return {Array} The resulting list of `n`-length tuples\n * @see R.transduce\n * @example\n *\n *      R.aperture(2, [1, 2, 3, 4, 5]); //=> [[1, 2], [2, 3], [3, 4], [4, 5]]\n *      R.aperture(3, [1, 2, 3, 4, 5]); //=> [[1, 2, 3], [2, 3, 4], [3, 4, 5]]\n *      R.aperture(7, [1, 2, 3, 4, 5]); //=> []\n */\n\nvar aperture =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xaperture, _aperture));\n\nexport default aperture;", "import _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a new list containing the contents of the given list, followed by\n * the given element.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> [a]\n * @param {*} el The element to add to the end of the new list.\n * @param {Array} list The list of elements to add a new item to.\n *        list.\n * @return {Array} A new list containing the elements of the old list followed by `el`.\n * @see R.prepend\n * @example\n *\n *      R.append('tests', ['write', 'more']); //=> ['write', 'more', 'tests']\n *      R.append('tests', []); //=> ['tests']\n *      R.append(['tests'], ['write', 'more']); //=> ['write', 'more', ['tests']]\n */\n\nvar append =\n/*#__PURE__*/\n_curry2(function append(el, list) {\n  return _concat(list, [el]);\n});\n\nexport default append;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Applies function `fn` to the argument list `args`. This is useful for\n * creating a fixed-arity function from a variadic function. `fn` should be a\n * bound function if context is significant.\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Function\n * @sig (*... -> a) -> [*] -> a\n * @param {Function} fn The function which will be called with `args`\n * @param {Array} args The arguments to call `fn` with\n * @return {*} result The result, equivalent to `fn(...args)`\n * @see R.call, R.unapply\n * @example\n *\n *      const nums = [1, 2, 3, -99, 42, 6, 7];\n *      R.apply(Math.max, nums); //=> 42\n * @symb R.apply(f, [a, b, c]) = f(a, b, c)\n */\n\nvar apply =\n/*#__PURE__*/\n_curry2(function apply(fn, args) {\n  return fn.apply(this, args);\n});\n\nexport default apply;", "import _curry1 from \"./internal/_curry1.js\";\nimport keys from \"./keys.js\";\n/**\n * Returns a list of all the enumerable own properties of the supplied object.\n * Note that the order of the output array is not guaranteed across different\n * JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {k: v} -> [v]\n * @param {Object} obj The object to extract values from\n * @return {Array} An array of the values of the object's own properties.\n * @see R.valuesIn, R.keys, R.toPairs\n * @example\n *\n *      R.values({a: 1, b: 2, c: 3}); //=> [1, 2, 3]\n */\n\nvar values =\n/*#__PURE__*/\n_curry1(function values(obj) {\n  var props = keys(obj);\n  var len = props.length;\n  var vals = [];\n  var idx = 0;\n\n  while (idx < len) {\n    vals[idx] = obj[props[idx]];\n    idx += 1;\n  }\n\n  return vals;\n});\n\nexport default values;", "import _curry1 from \"./internal/_curry1.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport apply from \"./apply.js\";\nimport curryN from \"./curryN.js\";\nimport max from \"./max.js\";\nimport pluck from \"./pluck.js\";\nimport reduce from \"./reduce.js\";\nimport keys from \"./keys.js\";\nimport values from \"./values.js\"; // Use custom mapValues function to avoid issues with specs that include a \"map\" key and R.map\n// delegating calls to .map\n\nfunction mapValues(fn, obj) {\n  return _isArray(obj) ? obj.map(fn) : keys(obj).reduce(function (acc, key) {\n    acc[key] = fn(obj[key]);\n    return acc;\n  }, {});\n}\n/**\n * Given a spec object recursively mapping properties to functions, creates a\n * function producing an object of the same structure, by mapping each property\n * to the result of calling its associated function with the supplied arguments.\n *\n * @func\n * @memberOf R\n * @since v0.20.0\n * @category Function\n * @sig {k: ((a, b, ..., m) -> v)} -> ((a, b, ..., m) -> {k: v})\n * @param {Object} spec an object recursively mapping properties to functions for\n *        producing the values for these properties.\n * @return {Function} A function that returns an object of the same structure\n * as `spec', with each property set to the value returned by calling its\n * associated function with the supplied arguments.\n * @see R.converge, R.juxt\n * @example\n *\n *      const getMetrics = R.applySpec({\n *        sum: R.add,\n *        nested: { mul: R.multiply }\n *      });\n *      getMetrics(2, 4); // => { sum: 6, nested: { mul: 8 } }\n * @symb R.applySpec({ x: f, y: { z: g } })(a, b) = { x: f(a, b), y: { z: g(a, b) } }\n */\n\n\nvar applySpec =\n/*#__PURE__*/\n_curry1(function applySpec(spec) {\n  spec = mapValues(function (v) {\n    return typeof v == 'function' ? v : applySpec(v);\n  }, spec);\n  return curryN(reduce(max, 0, pluck('length', values(spec))), function () {\n    var args = arguments;\n    return mapValues(function (f) {\n      return apply(f, args);\n    }, spec);\n  });\n});\n\nexport default applySpec;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Takes a value and applies a function to it.\n *\n * This function is also known as the `thrush` combinator.\n *\n * @func\n * @memberOf R\n * @since v0.25.0\n * @category Function\n * @sig a -> (a -> b) -> b\n * @param {*} x The value\n * @param {Function} f The function to apply\n * @return {*} The result of applying `f` to `x`\n * @example\n *\n *      const t42 = R.applyTo(42);\n *      t42(R.identity); //=> 42\n *      t42(R.add(1)); //=> 43\n */\n\nvar applyTo =\n/*#__PURE__*/\n_curry2(function applyTo(x, f) {\n  return f(x);\n});\n\nexport default applyTo;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Makes an ascending comparator function out of a function that returns a value\n * that can be compared with `<` and `>`.\n *\n * @func\n * @memberOf R\n * @since v0.23.0\n * @category Function\n * @sig Ord b => (a -> b) -> a -> a -> Number\n * @param {Function} fn A function of arity one that returns a value that can be compared\n * @param {*} a The first item to be compared.\n * @param {*} b The second item to be compared.\n * @return {Number} `-1` if fn(a) < fn(b), `1` if fn(b) < fn(a), otherwise `0`\n * @see R.descend\n * @example\n *\n *      const byAge = R.ascend(R.prop('age'));\n *      const people = [\n *        { name: 'Emma', age: 70 },\n *        { name: 'Peter', age: 78 },\n *        { name: 'Mikhail', age: 62 },\n *      ];\n *      const peopleByYoungestFirst = R.sort(byAge, people);\n *        //=> [{ name: 'Mikhail', age: 62 },{ name: 'Emma', age: 70 }, { name: 'Peter', age: 78 }]\n */\n\nvar ascend =\n/*#__PURE__*/\n_curry3(function ascend(fn, a, b) {\n  var aa = fn(a);\n  var bb = fn(b);\n  return aa < bb ? -1 : aa > bb ? 1 : 0;\n});\n\nexport default ascend;", "import _isArray from \"./_isArray.js\";\nimport _isInteger from \"./_isInteger.js\";\n/**\n * Makes a shallow clone of an object, setting or overriding the specified\n * property with the given value. Note that this copies and flattens prototype\n * properties onto the new object as well. All non-primitive properties are\n * copied by reference.\n *\n * @private\n * @param {String|Number} prop The property name to set\n * @param {*} val The new value\n * @param {Object|Array} obj The object to clone\n * @return {Object|Array} A new object equivalent to the original except for the changed property.\n */\n\nexport default function _assoc(prop, val, obj) {\n  if (_isInteger(prop) && _isArray(obj)) {\n    var arr = [].concat(obj);\n    arr[prop] = val;\n    return arr;\n  }\n\n  var result = {};\n\n  for (var p in obj) {\n    result[p] = obj[p];\n  }\n\n  result[prop] = val;\n  return result;\n}", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Checks if the input value is `null` or `undefined`.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Type\n * @sig * -> Boolean\n * @param {*} x The value to test.\n * @return {Boolean} `true` if `x` is `undefined` or `null`, otherwise `false`.\n * @example\n *\n *      R.isNil(null); //=> true\n *      R.isNil(undefined); //=> true\n *      R.isNil(0); //=> false\n *      R.isNil([]); //=> false\n */\n\nvar isNil =\n/*#__PURE__*/\n_curry1(function isNil(x) {\n  return x == null;\n});\n\nexport default isNil;", "import _curry3 from \"./internal/_curry3.js\";\nimport _has from \"./internal/_has.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport _assoc from \"./internal/_assoc.js\";\nimport isNil from \"./isNil.js\";\n/**\n * Makes a shallow clone of an object, setting or overriding the nodes required\n * to create the given path, and placing the specific value at the tail end of\n * that path. Note that this copies and flattens prototype properties onto the\n * new object as well. All non-primitive properties are copied by reference.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> a -> {a} -> {a}\n * @param {Array} path the path to set\n * @param {*} val The new value\n * @param {Object} obj The object to clone\n * @return {Object} A new object equivalent to the original except along the specified path.\n * @see R.dissocPath\n * @example\n *\n *      R.assocPath(['a', 'b', 'c'], 42, {a: {b: {c: 0}}}); //=> {a: {b: {c: 42}}}\n *\n *      // Any missing or non-object keys in path will be overridden\n *      R.assocPath(['a', 'b', 'c'], 42, {a: 5}); //=> {a: {b: {c: 42}}}\n */\n\nvar assocPath =\n/*#__PURE__*/\n_curry3(function assocPath(path, val, obj) {\n  if (path.length === 0) {\n    return val;\n  }\n\n  var idx = path[0];\n\n  if (path.length > 1) {\n    var nextObj = !isNil(obj) && _has(idx, obj) ? obj[idx] : _isInteger(path[1]) ? [] : {};\n    val = assocPath(Array.prototype.slice.call(path, 1), val, nextObj);\n  }\n\n  return _assoc(idx, val, obj);\n});\n\nexport default assocPath;", "import _curry3 from \"./internal/_curry3.js\";\nimport assocPath from \"./assocPath.js\";\n/**\n * Makes a shallow clone of an object, setting or overriding the specified\n * property with the given value. Note that this copies and flattens prototype\n * properties onto the new object as well. All non-primitive properties are\n * copied by reference.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @typedefn Idx = String | Int\n * @sig Idx -> a -> {k: v} -> {k: v}\n * @param {String|Number} prop The property name to set\n * @param {*} val The new value\n * @param {Object} obj The object to clone\n * @return {Object} A new object equivalent to the original except for the changed property.\n * @see R.dissoc, R.pick\n * @example\n *\n *      R.assoc('c', 3, {a: 1, b: 2}); //=> {a: 1, b: 2, c: 3}\n */\n\nvar assoc =\n/*#__PURE__*/\n_curry3(function assoc(prop, val, obj) {\n  return assocPath([prop], val, obj);\n});\n\nexport default assoc;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Wraps a function of any arity (including nullary) in a function that accepts\n * exactly `n` parameters. Any extraneous parameters will not be passed to the\n * supplied function.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig Number -> (* -> a) -> (* -> a)\n * @param {Number} n The desired arity of the new function.\n * @param {Function} fn The function to wrap.\n * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of\n *         arity `n`.\n * @see R.binary, R.unary\n * @example\n *\n *      const takesTwoArgs = (a, b) => [a, b];\n *\n *      takesTwoArgs.length; //=> 2\n *      takesTwoArgs(1, 2); //=> [1, 2]\n *\n *      const takesOneArg = R.nAry(1, takesTwoArgs);\n *      takesOneArg.length; //=> 1\n *      // Only `n` arguments are passed to the wrapped function\n *      takesOneArg(1, 2); //=> [1, undefined]\n * @symb R.nAry(0, f)(a, b) = f()\n * @symb R.nAry(1, f)(a, b) = f(a)\n * @symb R.nAry(2, f)(a, b) = f(a, b)\n */\n\nvar nAry =\n/*#__PURE__*/\n_curry2(function nAry(n, fn) {\n  switch (n) {\n    case 0:\n      return function () {\n        return fn.call(this);\n      };\n\n    case 1:\n      return function (a0) {\n        return fn.call(this, a0);\n      };\n\n    case 2:\n      return function (a0, a1) {\n        return fn.call(this, a0, a1);\n      };\n\n    case 3:\n      return function (a0, a1, a2) {\n        return fn.call(this, a0, a1, a2);\n      };\n\n    case 4:\n      return function (a0, a1, a2, a3) {\n        return fn.call(this, a0, a1, a2, a3);\n      };\n\n    case 5:\n      return function (a0, a1, a2, a3, a4) {\n        return fn.call(this, a0, a1, a2, a3, a4);\n      };\n\n    case 6:\n      return function (a0, a1, a2, a3, a4, a5) {\n        return fn.call(this, a0, a1, a2, a3, a4, a5);\n      };\n\n    case 7:\n      return function (a0, a1, a2, a3, a4, a5, a6) {\n        return fn.call(this, a0, a1, a2, a3, a4, a5, a6);\n      };\n\n    case 8:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7) {\n        return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7);\n      };\n\n    case 9:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8) {\n        return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7, a8);\n      };\n\n    case 10:\n      return function (a0, a1, a2, a3, a4, a5, a6, a7, a8, a9) {\n        return fn.call(this, a0, a1, a2, a3, a4, a5, a6, a7, a8, a9);\n      };\n\n    default:\n      throw new Error('First argument to nAry must be a non-negative integer no greater than ten');\n  }\n});\n\nexport default nAry;", "import _curry1 from \"./internal/_curry1.js\";\nimport nAry from \"./nAry.js\";\n/**\n * Wraps a function of any arity (including nullary) in a function that accepts\n * exactly 2 parameters. Any extraneous parameters will not be passed to the\n * supplied function.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Function\n * @sig (a -> b -> c -> ... -> z) -> ((a, b) -> z)\n * @param {Function} fn The function to wrap.\n * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of\n *         arity 2.\n * @see R.nAry, R.unary\n * @example\n *\n *      const takesThreeArgs = function(a, b, c) {\n *        return [a, b, c];\n *      };\n *      takesThreeArgs.length; //=> 3\n *      takesThreeArgs(1, 2, 3); //=> [1, 2, 3]\n *\n *      const takesTwoArgs = R.binary(takesThreeArgs);\n *      takesTwoArgs.length; //=> 2\n *      // Only 2 arguments are passed to the wrapped function\n *      takesTwoArgs(1, 2, 3); //=> [1, 2, undefined]\n * @symb R.binary(f)(a, b, c) = f(a, b)\n */\n\nvar binary =\n/*#__PURE__*/\n_curry1(function binary(fn) {\n  return nAry(2, fn);\n});\n\nexport default binary;", "export default function _isFunction(x) {\n  var type = Object.prototype.toString.call(x);\n  return type === '[object Function]' || type === '[object AsyncFunction]' || type === '[object GeneratorFunction]' || type === '[object AsyncGeneratorFunction]';\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport ap from \"./ap.js\";\nimport curryN from \"./curryN.js\";\nimport map from \"./map.js\";\n/**\n * \"lifts\" a function to be the specified arity, so that it may \"map over\" that\n * many lists, Functions or other objects that satisfy the [FantasyLand Apply spec](https://github.com/fantasyland/fantasy-land#apply).\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Function\n * @sig Number -> (*... -> *) -> ([*]... -> [*])\n * @param {Function} fn The function to lift into higher context\n * @return {Function} The lifted function.\n * @see R.lift, R.ap\n * @example\n *\n *      const madd3 = R.liftN(3, (...args) => R.sum(args));\n *      madd3([1,2,3], [1,2,3], [1]); //=> [3, 4, 5, 4, 5, 6, 5, 6, 7]\n */\n\nvar liftN =\n/*#__PURE__*/\n_curry2(function liftN(arity, fn) {\n  var lifted = curryN(arity, fn);\n  return curryN(arity, function () {\n    return _reduce(ap, map(lifted, arguments[0]), Array.prototype.slice.call(arguments, 1));\n  });\n});\n\nexport default liftN;", "import _curry1 from \"./internal/_curry1.js\";\nimport liftN from \"./liftN.js\";\n/**\n * \"lifts\" a function of arity >= 1 so that it may \"map over\" a list, Function or other\n * object that satisfies the [FantasyLand Apply spec](https://github.com/fantasyland/fantasy-land#apply).\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Function\n * @sig (*... -> *) -> ([*]... -> [*])\n * @param {Function} fn The function to lift into higher context\n * @return {Function} The lifted function.\n * @see R.liftN\n * @example\n *\n *      const madd3 = R.lift((a, b, c) => a + b + c);\n *\n *      madd3([100, 200], [30, 40], [5, 6, 7]); //=> [135, 136, 137, 145, 146, 147, 235, 236, 237, 245, 246, 247]\n *\n *      const madd5 = R.lift((a, b, c, d, e) => a + b + c + d + e);\n *\n *      madd5([10, 20], [1], [2, 3], [4], [100, 200]); //=> [117, 217, 118, 218, 127, 227, 128, 228]\n */\n\nvar lift =\n/*#__PURE__*/\n_curry1(function lift(fn) {\n  return liftN(fn.length, fn);\n});\n\nexport default lift;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport and from \"./and.js\";\nimport lift from \"./lift.js\";\n/**\n * A function which calls the two provided functions and returns the `&&`\n * of the results.\n * It returns the result of the first function if it is false-y and the result\n * of the second function otherwise. Note that this is short-circuited,\n * meaning that the second function will not be invoked if the first returns a\n * false-y value.\n *\n * In addition to functions, `R.both` also accepts any fantasy-land compatible\n * applicative functor.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category Logic\n * @sig (*... -> Boolean) -> (*... -> Boolean) -> (*... -> Boolean)\n * @param {Function} f A predicate\n * @param {Function} g Another predicate\n * @return {Function} a function that applies its arguments to `f` and `g` and `&&`s their outputs together.\n * @see R.either, R.and\n * @example\n *\n *      const gt10 = R.gt(R.__, 10)\n *      const lt20 = R.lt(R.__, 20)\n *      const f = R.both(gt10, lt20);\n *      f(15); //=> true\n *      f(30); //=> false\n *\n *      R.both(Maybe.Just(false), Maybe.Just(55)); // => Maybe.Just(false)\n *      R.both([false, false, 'a'], [11]); //=> [false, false, 11]\n */\n\nvar both =\n/*#__PURE__*/\n_curry2(function both(f, g) {\n  return _isFunction(f) ? function _both() {\n    return f.apply(this, arguments) && g.apply(this, arguments);\n  } : lift(and)(f, g);\n});\n\nexport default both;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Returns the result of calling its first argument with the remaining\n * arguments. This is occasionally useful as a converging function for\n * [`R.converge`](#converge): the first branch can produce a function while the\n * remaining branches produce values to be passed to that function as its\n * arguments.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig ((*... -> a), *...) -> a\n * @param {Function} fn The function to apply to the remaining arguments.\n * @param {...*} args Any number of positional arguments.\n * @return {*}\n * @see R.apply\n * @example\n *\n *      R.call(R.add, 1, 2); //=> 3\n *\n *      const indentN = R.pipe(\n *        R.repeat(' '),\n *        R.join(''),\n *        R.replace(/^(?!$)/gm)\n *      );\n *\n *      const format = R.converge(\n *        R.call,\n *        [\n *          R.pipe(R.prop('indent'), indentN),\n *          R.prop('value')\n *        ]\n *      );\n *\n *      format({indent: 2, value: 'foo\\nbar\\nbaz\\n'}); //=> '  foo\\n  bar\\n  baz\\n'\n * @symb R.call(f, a, b) = f(a, b)\n */\n\nvar call =\n/*#__PURE__*/\n_curry1(function call(fn) {\n  return fn.apply(this, Array.prototype.slice.call(arguments, 1));\n});\n\nexport default call;", "import _isArrayLike from \"./_isArrayLike.js\";\n/**\n * `_makeFlat` is a helper function that returns a one-level or fully recursive\n * function based on the flag passed in.\n *\n * @private\n */\n\nexport default function _makeFlat(recursive) {\n  return function flatt(list) {\n    var value, jlen, j;\n    var result = [];\n    var idx = 0;\n    var ilen = list.length;\n\n    while (idx < ilen) {\n      if (_isArrayLike(list[idx])) {\n        value = recursive ? flatt(list[idx]) : list[idx];\n        j = 0;\n        jlen = value.length;\n\n        while (j < jlen) {\n          result[result.length] = value[j];\n          j += 1;\n        }\n      } else {\n        result[result.length] = list[idx];\n      }\n\n      idx += 1;\n    }\n\n    return result;\n  };\n}", "export default function _forceReduced(x) {\n  return {\n    '@@transducer/value': x,\n    '@@transducer/reduced': true\n  };\n}", "import _forceReduced from \"./_forceReduced.js\";\nimport _isArrayLike from \"./_isArrayLike.js\";\nimport _reduce from \"./_reduce.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar preservingReduced = function (xf) {\n  return {\n    '@@transducer/init': _xfBase.init,\n    '@@transducer/result': function (result) {\n      return xf['@@transducer/result'](result);\n    },\n    '@@transducer/step': function (result, input) {\n      var ret = xf['@@transducer/step'](result, input);\n      return ret['@@transducer/reduced'] ? _forceReduced(ret) : ret;\n    }\n  };\n};\n\nvar _flatCat = function _xcat(xf) {\n  var rxf = preservingReduced(xf);\n  return {\n    '@@transducer/init': _xfBase.init,\n    '@@transducer/result': function (result) {\n      return rxf['@@transducer/result'](result);\n    },\n    '@@transducer/step': function (result, input) {\n      return !_isArrayLike(input) ? _reduce(rxf, result, [input]) : _reduce(rxf, result, input);\n    }\n  };\n};\n\nexport default _flatCat;", "import _curry2 from \"./_curry2.js\";\nimport _flatCat from \"./_flatCat.js\";\nimport map from \"../map.js\";\n\nvar _xchain =\n/*#__PURE__*/\n_curry2(function _xchain(f, xf) {\n  return map(f, _flatCat(xf));\n});\n\nexport default _xchain;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _makeFlat from \"./internal/_makeFlat.js\";\nimport _xchain from \"./internal/_xchain.js\";\nimport map from \"./map.js\";\n/**\n * `chain` maps a function over a list and concatenates the results. `chain`\n * is also known as `flatMap` in some libraries.\n *\n * Dispatches to the `chain` method of the second argument, if present,\n * according to the [FantasyLand Chain spec](https://github.com/fantasyland/fantasy-land#chain).\n *\n * If second argument is a function, `chain(f, g)(x)` is equivalent to `f(g(x), x)`.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig Chain m => (a -> m b) -> m a -> m b\n * @param {Function} fn The function to map with\n * @param {Array} list The list to map over\n * @return {Array} The result of flat-mapping `list` with `fn`\n * @example\n *\n *      const duplicate = n => [n, n];\n *      R.chain(duplicate, [1, 2, 3]); //=> [1, 1, 2, 2, 3, 3]\n *\n *      R.chain(R.append, R.head)([1, 2, 3]); //=> [1, 2, 3, 1]\n */\n\nvar chain =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/chain', 'chain'], _xchain, function chain(fn, monad) {\n  if (typeof monad === 'function') {\n    return function (x) {\n      return fn(monad(x))(x);\n    };\n  }\n\n  return _makeFlat(false)(map(fn, monad));\n}));\n\nexport default chain;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Restricts a number to be within a range.\n *\n * Also works for other ordered types such as Strings and Dates.\n *\n * @func\n * @memberOf R\n * @since v0.20.0\n * @category Relation\n * @sig Ord a => a -> a -> a -> a\n * @param {Number} minimum The lower limit of the clamp (inclusive)\n * @param {Number} maximum The upper limit of the clamp (inclusive)\n * @param {Number} value Value to be clamped\n * @return {Number} Returns `minimum` when `val < minimum`, `maximum` when `val > maximum`, returns `val` otherwise\n * @example\n *\n *      R.clamp(1, 10, -5) // => 1\n *      R.clamp(1, 10, 15) // => 10\n *      R.clamp(1, 10, 4)  // => 4\n */\n\nvar clamp =\n/*#__PURE__*/\n_curry3(function clamp(min, max, value) {\n  if (min > max) {\n    throw new Error('min must not be greater than max in clamp(min, max, value)');\n  }\n\n  return value < min ? min : value > max ? max : value;\n});\n\nexport default clamp;", "export default function _cloneRegExp(pattern) {\n  return new RegExp(pattern.source, (pattern.global ? 'g' : '') + (pattern.ignoreCase ? 'i' : '') + (pattern.multiline ? 'm' : '') + (pattern.sticky ? 'y' : '') + (pattern.unicode ? 'u' : ''));\n}", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Gives a single-word string description of the (native) type of a value,\n * returning such answers as 'Object', 'Number', 'Array', or 'Null'. Does not\n * attempt to distinguish user Object types any further, reporting them all as\n * 'Object'.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Type\n * @sig (* -> {*}) -> String\n * @param {*} val The value to test\n * @return {String}\n * @example\n *\n *      R.type({}); //=> \"Object\"\n *      R.type(1); //=> \"Number\"\n *      R.type(false); //=> \"Boolean\"\n *      R.type('s'); //=> \"String\"\n *      R.type(null); //=> \"Null\"\n *      R.type([]); //=> \"Array\"\n *      R.type(/[A-z]/); //=> \"RegExp\"\n *      R.type(() => {}); //=> \"Function\"\n *      R.type(undefined); //=> \"Undefined\"\n */\n\nvar type =\n/*#__PURE__*/\n_curry1(function type(val) {\n  return val === null ? 'Null' : val === undefined ? 'Undefined' : Object.prototype.toString.call(val).slice(8, -1);\n});\n\nexport default type;", "import _cloneRegExp from \"./_cloneRegExp.js\";\nimport type from \"../type.js\";\n/**\n * Copies an object.\n *\n * @private\n * @param {*} value The value to be copied\n * @param {Array} refFrom Array containing the source references\n * @param {Array} refTo Array containing the copied source references\n * @param {Boolean} deep Whether or not to perform deep cloning.\n * @return {*} The copied value.\n */\n\nexport default function _clone(value, refFrom, refTo, deep) {\n  var copy = function copy(copiedValue) {\n    var len = refFrom.length;\n    var idx = 0;\n\n    while (idx < len) {\n      if (value === refFrom[idx]) {\n        return refTo[idx];\n      }\n\n      idx += 1;\n    }\n\n    refFrom[idx] = value;\n    refTo[idx] = copiedValue;\n\n    for (var key in value) {\n      if (value.hasOwnProperty(key)) {\n        copiedValue[key] = deep ? _clone(value[key], refFrom, refTo, true) : value[key];\n      }\n    }\n\n    return copiedValue;\n  };\n\n  switch (type(value)) {\n    case 'Object':\n      return copy(Object.create(Object.getPrototypeOf(value)));\n\n    case 'Array':\n      return copy([]);\n\n    case 'Date':\n      return new Date(value.valueOf());\n\n    case 'RegExp':\n      return _cloneRegExp(value);\n\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'BigInt64Array':\n    case 'BigUint64Array':\n      return value.slice();\n\n    default:\n      return value;\n  }\n}", "import _clone from \"./internal/_clone.js\";\nimport _curry1 from \"./internal/_curry1.js\";\n/**\n * Creates a deep copy of the source that can be used in place of the source\n * object without retaining any references to it.\n * The source object may contain (nested) `Array`s and `Object`s,\n * `Number`s, `String`s, `Boolean`s and `Date`s.\n * `Function`s are assigned by reference rather than copied.\n *\n * Dispatches to a `clone` method if present.\n *\n * Note that if the source object has multiple nodes that share a reference,\n * the returned object will have the same structure, but the references will\n * be pointed to the location within the cloned value.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig {*} -> {*}\n * @param {*} value The object or array to clone\n * @return {*} A deeply cloned copy of `val`\n * @example\n *\n *      const objects = [{}, {}, {}];\n *      const objectsClone = R.clone(objects);\n *      objects === objectsClone; //=> false\n *      objects[0] === objectsClone[0]; //=> false\n */\n\nvar clone =\n/*#__PURE__*/\n_curry1(function clone(value) {\n  return value != null && typeof value.clone === 'function' ? value.clone() : _clone(value, [], [], true);\n});\n\nexport default clone;", "import _curry2 from \"./internal/_curry2.js\";\nimport _reduce from \"./internal/_reduce.js\";\n/**\n * Splits a list into sub-lists, based on the result of calling a key-returning function on each element,\n * and grouping the results according to values returned.\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category List\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx a => (b -> a) -> [b] -> [[b]]\n * @param {Function} fn Function :: a -> Idx\n * @param {Array} list The array to group\n * @return {Array}\n *    An array of arrays where each sub-array contains items for which\n *    the String-returning function has returned the same value.\n * @see R.groupBy, R.partition\n * @example\n *      R.collectBy(R.prop('type'), [\n *        {type: 'breakfast', item: '\u2615\uFE0F'},\n *        {type: 'lunch', item: '\uD83C\uDF2F'},\n *        {type: 'dinner', item: '\uD83C\uDF5D'},\n *        {type: 'breakfast', item: '\uD83E\uDD50'},\n *        {type: 'lunch', item: '\uD83C\uDF55'}\n *      ]);\n *\n *      // [ [ {type: 'breakfast', item: '\u2615\uFE0F'},\n *      //     {type: 'breakfast', item: '\uD83E\uDD50'} ],\n *      //   [ {type: 'lunch', item: '\uD83C\uDF2F'},\n *      //     {type: 'lunch', item: '\uD83C\uDF55'} ],\n *      //   [ {type: 'dinner', item: '\uD83C\uDF5D'} ] ]\n */\n\nvar collectBy =\n/*#__PURE__*/\n_curry2(function collectBy(fn, list) {\n  var group = _reduce(function (o, x) {\n    var tag = fn(x);\n\n    if (o[tag] === undefined) {\n      o[tag] = [];\n    }\n\n    o[tag].push(x);\n    return o;\n  }, {}, list);\n\n  var newList = [];\n\n  for (var tag in group) {\n    newList.push(group[tag]);\n  }\n\n  return newList;\n});\n\nexport default collectBy;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Makes a comparator function out of a function that reports whether the first\n * element is less than the second.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig ((a, b) -> Boolean) -> ((a, b) -> Number)\n * @param {Function} pred A predicate function of arity two which will return `true` if the first argument\n * is less than the second, `false` otherwise\n * @return {Function} A Function :: a -> b -> Int that returns `-1` if a < b, `1` if b < a, otherwise `0`\n * @example\n *\n *      const byAge = R.comparator((a, b) => a.age < b.age);\n *      const people = [\n *        { name: 'Emma', age: 70 },\n *        { name: 'Peter', age: 78 },\n *        { name: 'Mikhail', age: 62 },\n *      ];\n *      const peopleByIncreasingAge = R.sort(byAge, people);\n *        //=> [{ name: 'Mikhail', age: 62 },{ name: 'Emma', age: 70 }, { name: 'Peter', age: 78 }]\n */\n\nvar comparator =\n/*#__PURE__*/\n_curry1(function comparator(pred) {\n  return function (a, b) {\n    return pred(a, b) ? -1 : pred(b, a) ? 1 : 0;\n  };\n});\n\nexport default comparator;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * A function that returns the `!` of its argument. It will return `true` when\n * passed false-y value, and `false` when passed a truth-y one.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig * -> Boolean\n * @param {*} a any value\n * @return {Boolean} the logical inverse of passed argument.\n * @see R.complement\n * @example\n *\n *      R.not(true); //=> false\n *      R.not(false); //=> true\n *      R.not(0); //=> true\n *      R.not(1); //=> false\n */\n\nvar not =\n/*#__PURE__*/\n_curry1(function not(a) {\n  return !a;\n});\n\nexport default not;", "import lift from \"./lift.js\";\nimport not from \"./not.js\";\n/**\n * Takes a function `f` and returns a function `g` such that if called with the same arguments\n * when `f` returns a \"truthy\" value, `g` returns `false` and when `f` returns a \"falsy\" value `g` returns `true`.\n *\n * `R.complement` may be applied to any functor\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category Logic\n * @sig (*... -> *) -> (*... -> Boolean)\n * @param {Function} f\n * @return {Function}\n * @see R.not\n * @example\n *\n *      const isNotNil = R.complement(R.isNil);\n *      R.isNil(null); //=> true\n *      isNotNil(null); //=> false\n *      R.isNil(7); //=> false\n *      isNotNil(7); //=> true\n */\n\nvar complement =\n/*#__PURE__*/\nlift(not);\nexport default complement;", "export default function _pipe(f, g) {\n  return function () {\n    return g.call(this, f.apply(this, arguments));\n  };\n}", "import _isArray from \"./_isArray.js\";\n/**\n * This checks whether a function has a [methodname] function. If it isn't an\n * array it will execute that function otherwise it will default to the ramda\n * implementation.\n *\n * @private\n * @param {Function} fn ramda implementation\n * @param {String} methodname property to check for a custom implementation\n * @return {Object} Whatever the return value of the method is.\n */\n\nexport default function _checkForMethod(methodname, fn) {\n  return function () {\n    var length = arguments.length;\n\n    if (length === 0) {\n      return fn();\n    }\n\n    var obj = arguments[length - 1];\n    return _isArray(obj) || typeof obj[methodname] !== 'function' ? fn.apply(this, arguments) : obj[methodname].apply(obj, Array.prototype.slice.call(arguments, 0, length - 1));\n  };\n}", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry3 from \"./internal/_curry3.js\";\n/**\n * Returns the elements of the given list or string (or object with a `slice`\n * method) from `fromIndex` (inclusive) to `toIndex` (exclusive).\n *\n * Dispatches to the `slice` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @sig Number -> Number -> String -> String\n * @param {Number} fromIndex The start index (inclusive).\n * @param {Number} toIndex The end index (exclusive).\n * @param {*} list\n * @return {*}\n * @example\n *\n *      R.slice(1, 3, ['a', 'b', 'c', 'd']);        //=> ['b', 'c']\n *      R.slice(1, Infinity, ['a', 'b', 'c', 'd']); //=> ['b', 'c', 'd']\n *      R.slice(0, -1, ['a', 'b', 'c', 'd']);       //=> ['a', 'b', 'c']\n *      R.slice(-3, -1, ['a', 'b', 'c', 'd']);      //=> ['b', 'c']\n *      R.slice(0, 3, 'ramda');                     //=> 'ram'\n */\n\nvar slice =\n/*#__PURE__*/\n_curry3(\n/*#__PURE__*/\n_checkForMethod('slice', function slice(fromIndex, toIndex, list) {\n  return Array.prototype.slice.call(list, fromIndex, toIndex);\n}));\n\nexport default slice;", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns all but the first element of the given list or string (or object\n * with a `tail` method).\n *\n * Dispatches to the `slice` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.head, R.init, R.last\n * @example\n *\n *      R.tail([1, 2, 3]);  //=> [2, 3]\n *      R.tail([1, 2]);     //=> [2]\n *      R.tail([1]);        //=> []\n *      R.tail([]);         //=> []\n *\n *      R.tail('abc');  //=> 'bc'\n *      R.tail('ab');   //=> 'b'\n *      R.tail('a');    //=> ''\n *      R.tail('');     //=> ''\n */\n\nvar tail =\n/*#__PURE__*/\n_curry1(\n/*#__PURE__*/\n_checkForMethod('tail',\n/*#__PURE__*/\nslice(1, Infinity)));\n\nexport default tail;", "import _arity from \"./internal/_arity.js\";\nimport _pipe from \"./internal/_pipe.js\";\nimport reduce from \"./reduce.js\";\nimport tail from \"./tail.js\";\n/**\n * Performs left-to-right function composition. The first argument may have\n * any arity; the remaining arguments must be unary.\n *\n * In some libraries this function is named `sequence`.\n *\n * **Note:** The result of pipe is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)) -> ((a, b, ..., n) -> z)\n * @param {...Function} functions\n * @return {Function}\n * @see R.compose\n * @example\n *\n *      const f = R.pipe(Math.pow, R.negate, R.inc);\n *\n *      f(3, 4); // -(3^4) + 1\n * @symb R.pipe(f, g, h)(a, b) = h(g(f(a, b)))\n * @symb R.pipe(f, g, h)(a)(b) = h(g(f(a)))(b)\n */\n\nexport default function pipe() {\n  if (arguments.length === 0) {\n    throw new Error('pipe requires at least one argument');\n  }\n\n  return _arity(arguments[0].length, reduce(_pipe, arguments[0], tail(arguments)));\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _isString from \"./internal/_isString.js\";\n/**\n * Returns a new list or string with the elements or characters in reverse\n * order.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {Array|String} list\n * @return {Array|String}\n * @example\n *\n *      R.reverse([1, 2, 3]);  //=> [3, 2, 1]\n *      R.reverse([1, 2]);     //=> [2, 1]\n *      R.reverse([1]);        //=> [1]\n *      R.reverse([]);         //=> []\n *\n *      R.reverse('abc');      //=> 'cba'\n *      R.reverse('ab');       //=> 'ba'\n *      R.reverse('a');        //=> 'a'\n *      R.reverse('');         //=> ''\n */\n\nvar reverse =\n/*#__PURE__*/\n_curry1(function reverse(list) {\n  return _isString(list) ? list.split('').reverse().join('') : Array.prototype.slice.call(list, 0).reverse();\n});\n\nexport default reverse;", "import pipe from \"./pipe.js\";\nimport reverse from \"./reverse.js\";\n/**\n * Performs right-to-left function composition. The last argument may have\n * any arity; the remaining arguments must be unary.\n *\n * **Note:** The result of compose is not automatically curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig ((y -> z), (x -> y), ..., (o -> p), ((a, b, ..., n) -> o)) -> ((a, b, ..., n) -> z)\n * @param {...Function} ...functions The functions to compose\n * @return {Function}\n * @see R.pipe\n * @example\n *\n *      const classyGreeting = (firstName, lastName) => \"The name's \" + lastName + \", \" + firstName + \" \" + lastName\n *      const yellGreeting = R.compose(R.toUpper, classyGreeting);\n *      yellGreeting('James', 'Bond'); //=> \"THE NAME'S BOND, JAMES BOND\"\n *\n *      R.compose(Math.abs, R.add(1), R.multiply(2))(-4) //=> 7\n *\n * @symb R.compose(f, g, h)(a, b) = f(g(h(a, b)))\n * @symb R.compose(f, g, h)(a)(b) = f(g(h(a)))(b)\n */\n\nexport default function compose() {\n  if (arguments.length === 0) {\n    throw new Error('compose requires at least one argument');\n  }\n\n  return pipe.apply(this, reverse(arguments));\n}", "import nth from \"./nth.js\";\n/**\n * Returns the first element of the given list or string. In some libraries\n * this function is named `first`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> a | Undefined\n * @sig String -> String\n * @param {Array|String} list\n * @return {*}\n * @see R.tail, R.init, R.last\n * @example\n *\n *      R.head(['fi', 'fo', 'fum']); //=> 'fi'\n *      R.head([]); //=> undefined\n *\n *      R.head('abc'); //=> 'a'\n *      R.head(''); //=> ''\n */\n\nvar head =\n/*#__PURE__*/\nnth(0);\nexport default head;", "export default function _identity(x) {\n  return x;\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _identity from \"./internal/_identity.js\";\n/**\n * A function that does nothing but return the parameter supplied to it. Good\n * as a default or placeholder function.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig a -> a\n * @param {*} x The value to return.\n * @return {*} The input value, `x`.\n * @example\n *\n *      R.identity(1); //=> 1\n *\n *      const obj = {};\n *      R.identity(obj) === obj; //=> true\n * @symb R.identity(a) = a\n */\n\nvar identity =\n/*#__PURE__*/\n_curry1(_identity);\n\nexport default identity;", "import _arity from \"./internal/_arity.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport head from \"./head.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport tail from \"./tail.js\";\nimport identity from \"./identity.js\";\n/**\n * Performs left-to-right function composition using transforming function. The first function may have\n * any arity; the remaining functions must be unary.\n *\n * **Note:** The result of pipeWith is not automatically curried. Transforming function is not used on the\n * first argument.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Function\n * @sig ((* -> *), [((a, b, ..., n) -> o), (o -> p), ..., (x -> y), (y -> z)]) -> ((a, b, ..., n) -> z)\n * @param {Function} transformer The transforming function\n * @param {Array} functions The functions to pipe\n * @return {Function}\n * @see R.composeWith, R.pipe\n * @example\n *\n *      const pipeWhileNotNil = R.pipeWith((f, res) => R.isNil(res) ? res : f(res));\n *      const f = pipeWhileNotNil([Math.pow, R.negate, R.inc])\n *\n *      f(3, 4); // -(3^4) + 1\n * @symb R.pipeWith(f)([g, h, i])(...args) = f(i, f(h, g(...args)))\n */\n\nvar pipeWith =\n/*#__PURE__*/\n_curry2(function pipeWith(xf, list) {\n  if (list.length <= 0) {\n    return identity;\n  }\n\n  var headList = head(list);\n  var tailList = tail(list);\n  return _arity(headList.length, function () {\n    return _reduce(function (result, f) {\n      return xf.call(this, f, result);\n    }, headList.apply(this, arguments), tailList);\n  });\n});\n\nexport default pipeWith;", "import _curry2 from \"./internal/_curry2.js\";\nimport pipeWith from \"./pipeWith.js\";\nimport reverse from \"./reverse.js\";\n/**\n * Performs right-to-left function composition using transforming function. The last function may have\n * any arity; the remaining functions must be unary.\n *\n * **Note:** The result of composeWith is not automatically curried. Transforming function is not used\n * on the last argument.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Function\n * @sig ((* -> *), [(y -> z), (x -> y), ..., (o -> p), ((a, b, ..., n) -> o)]) -> ((a, b, ..., n) -> z)\n * @param {Function} transformer The transforming function\n * @param {Array} functions The functions to compose\n * @return {Function}\n * @see R.compose, R.pipeWith\n * @example\n *\n *      const composeWhileNotNil = R.composeWith((f, res) => R.isNil(res) ? res : f(res));\n *\n *      composeWhileNotNil([R.inc, R.prop('age')])({age: 1}) //=> 2\n *      composeWhileNotNil([R.inc, R.prop('age')])({}) //=> undefined\n *\n * @symb R.composeWith(f)([g, h, i])(...args) = f(g, f(h, i(...args)))\n */\n\nvar composeWith =\n/*#__PURE__*/\n_curry2(function composeWith(xf, list) {\n  return pipeWith.apply(this, [xf, reverse(list)]);\n});\n\nexport default composeWith;", "export default function _arrayFromIterator(iter) {\n  var list = [];\n  var next;\n\n  while (!(next = iter.next()).done) {\n    list.push(next.value);\n  }\n\n  return list;\n}", "export default function _includesWith(pred, x, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (pred(x, list[idx])) {\n      return true;\n    }\n\n    idx += 1;\n  }\n\n  return false;\n}", "export default function _functionName(f) {\n  // String(x => x) evaluates to \"x => x\", so the pattern may not match.\n  var match = String(f).match(/^function (\\w*)/);\n  return match == null ? '' : match[1];\n}", "// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/is\nfunction _objectIs(a, b) {\n  // SameValue algorithm\n  if (a === b) {\n    // Steps 1-5, 7-10\n    // Steps 6.b-6.e: +0 != -0\n    return a !== 0 || 1 / a === 1 / b;\n  } else {\n    // Step 6.a: NaN == NaN\n    return a !== a && b !== b;\n  }\n}\n\nexport default typeof Object.is === 'function' ? Object.is : _objectIs;", "import _arrayFromIterator from \"./_arrayFromIterator.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _functionName from \"./_functionName.js\";\nimport _has from \"./_has.js\";\nimport _objectIs from \"./_objectIs.js\";\nimport keys from \"../keys.js\";\nimport type from \"../type.js\";\n/**\n * private _uniqContentEquals function.\n * That function is checking equality of 2 iterator contents with 2 assumptions\n * - iterators lengths are the same\n * - iterators values are unique\n *\n * false-positive result will be returned for comparison of, e.g.\n * - [1,2,3] and [1,2,3,4]\n * - [1,1,1] and [1,2,3]\n * */\n\nfunction _uniqContentEquals(aIterator, bIterator, stackA, stackB) {\n  var a = _arrayFromIterator(aIterator);\n\n  var b = _arrayFromIterator(bIterator);\n\n  function eq(_a, _b) {\n    return _equals(_a, _b, stackA.slice(), stackB.slice());\n  } // if *a* array contains any element that is not included in *b*\n\n\n  return !_includesWith(function (b, aItem) {\n    return !_includesWith(eq, aItem, b);\n  }, b, a);\n}\n\nexport default function _equals(a, b, stackA, stackB) {\n  if (_objectIs(a, b)) {\n    return true;\n  }\n\n  var typeA = type(a);\n\n  if (typeA !== type(b)) {\n    return false;\n  }\n\n  if (typeof a['fantasy-land/equals'] === 'function' || typeof b['fantasy-land/equals'] === 'function') {\n    return typeof a['fantasy-land/equals'] === 'function' && a['fantasy-land/equals'](b) && typeof b['fantasy-land/equals'] === 'function' && b['fantasy-land/equals'](a);\n  }\n\n  if (typeof a.equals === 'function' || typeof b.equals === 'function') {\n    return typeof a.equals === 'function' && a.equals(b) && typeof b.equals === 'function' && b.equals(a);\n  }\n\n  switch (typeA) {\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n      if (typeof a.constructor === 'function' && _functionName(a.constructor) === 'Promise') {\n        return a === b;\n      }\n\n      break;\n\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n      if (!(typeof a === typeof b && _objectIs(a.valueOf(), b.valueOf()))) {\n        return false;\n      }\n\n      break;\n\n    case 'Date':\n      if (!_objectIs(a.valueOf(), b.valueOf())) {\n        return false;\n      }\n\n      break;\n\n    case 'Error':\n      return a.name === b.name && a.message === b.message;\n\n    case 'RegExp':\n      if (!(a.source === b.source && a.global === b.global && a.ignoreCase === b.ignoreCase && a.multiline === b.multiline && a.sticky === b.sticky && a.unicode === b.unicode)) {\n        return false;\n      }\n\n      break;\n  }\n\n  var idx = stackA.length - 1;\n\n  while (idx >= 0) {\n    if (stackA[idx] === a) {\n      return stackB[idx] === b;\n    }\n\n    idx -= 1;\n  }\n\n  switch (typeA) {\n    case 'Map':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.entries(), b.entries(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Set':\n      if (a.size !== b.size) {\n        return false;\n      }\n\n      return _uniqContentEquals(a.values(), b.values(), stackA.concat([a]), stackB.concat([b]));\n\n    case 'Arguments':\n    case 'Array':\n    case 'Object':\n    case 'Boolean':\n    case 'Number':\n    case 'String':\n    case 'Date':\n    case 'Error':\n    case 'RegExp':\n    case 'Int8Array':\n    case 'Uint8Array':\n    case 'Uint8ClampedArray':\n    case 'Int16Array':\n    case 'Uint16Array':\n    case 'Int32Array':\n    case 'Uint32Array':\n    case 'Float32Array':\n    case 'Float64Array':\n    case 'ArrayBuffer':\n      break;\n\n    default:\n      // Values of other types are only equal if identical.\n      return false;\n  }\n\n  var keysA = keys(a);\n\n  if (keysA.length !== keys(b).length) {\n    return false;\n  }\n\n  var extendedStackA = stackA.concat([a]);\n  var extendedStackB = stackB.concat([b]);\n  idx = keysA.length - 1;\n\n  while (idx >= 0) {\n    var key = keysA[idx];\n\n    if (!(_has(key, b) && _equals(b[key], a[key], extendedStackA, extendedStackB))) {\n      return false;\n    }\n\n    idx -= 1;\n  }\n\n  return true;\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _equals from \"./internal/_equals.js\";\n/**\n * Returns `true` if its arguments are equivalent, `false` otherwise. Handles\n * cyclical data structures.\n *\n * Dispatches symmetrically to the `equals` methods of both arguments, if\n * present.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> b -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      R.equals(1, 1); //=> true\n *      R.equals(1, '1'); //=> false\n *      R.equals([1, 2, 3], [1, 2, 3]); //=> true\n *\n *      const a = {}; a.v = a;\n *      const b = {}; b.v = b;\n *      R.equals(a, b); //=> true\n */\n\nvar equals =\n/*#__PURE__*/\n_curry2(function equals(a, b) {\n  return _equals(a, b, [], []);\n});\n\nexport default equals;", "import equals from \"../equals.js\";\nexport default function _indexOf(list, a, idx) {\n  var inf, item; // Array.prototype.indexOf doesn't exist below IE9\n\n  if (typeof list.indexOf === 'function') {\n    switch (typeof a) {\n      case 'number':\n        if (a === 0) {\n          // manually crawl the list to distinguish between +0 and -0\n          inf = 1 / a;\n\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (item === 0 && 1 / item === inf) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } else if (a !== a) {\n          // NaN\n          while (idx < list.length) {\n            item = list[idx];\n\n            if (typeof item === 'number' && item !== item) {\n              return idx;\n            }\n\n            idx += 1;\n          }\n\n          return -1;\n        } // non-zero numbers can utilise Set\n\n\n        return list.indexOf(a, idx);\n      // all these types can utilise Set\n\n      case 'string':\n      case 'boolean':\n      case 'function':\n      case 'undefined':\n        return list.indexOf(a, idx);\n\n      case 'object':\n        if (a === null) {\n          // null can utilise Set\n          return list.indexOf(a, idx);\n        }\n\n    }\n  } // anything else not covered above, defer to R.equals\n\n\n  while (idx < list.length) {\n    if (equals(list[idx], a)) {\n      return idx;\n    }\n\n    idx += 1;\n  }\n\n  return -1;\n}", "import _indexOf from \"./_indexOf.js\";\nexport default function _includes(a, list) {\n  return _indexOf(list, a, 0) >= 0;\n}", "export default function _quote(s) {\n  var escaped = s.replace(/\\\\/g, '\\\\\\\\').replace(/[\\b]/g, '\\\\b') // \\b matches word boundary; [\\b] matches backspace\n  .replace(/\\f/g, '\\\\f').replace(/\\n/g, '\\\\n').replace(/\\r/g, '\\\\r').replace(/\\t/g, '\\\\t').replace(/\\v/g, '\\\\v').replace(/\\0/g, '\\\\0');\n  return '\"' + escaped.replace(/\"/g, '\\\\\"') + '\"';\n}", "/**\n * Polyfill from <https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Date/toISOString>.\n */\nvar pad = function pad(n) {\n  return (n < 10 ? '0' : '') + n;\n};\n\nvar _toISOString = typeof Date.prototype.toISOString === 'function' ? function _toISOString(d) {\n  return d.toISOString();\n} : function _toISOString(d) {\n  return d.getUTCFullYear() + '-' + pad(d.getUTCMonth() + 1) + '-' + pad(d.getUTCDate()) + 'T' + pad(d.getUTCHours()) + ':' + pad(d.getUTCMinutes()) + ':' + pad(d.getUTCSeconds()) + '.' + (d.getUTCMilliseconds() / 1000).toFixed(3).slice(2, 5) + 'Z';\n};\n\nexport default _toISOString;", "export default function _complement(f) {\n  return function () {\n    return !f.apply(this, arguments);\n  };\n}", "export default function _filter(fn, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      result[result.length] = list[idx];\n    }\n\n    idx += 1;\n  }\n\n  return result;\n}", "export default function _isObject(x) {\n  return Object.prototype.toString.call(x) === '[object Object]';\n}", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFilter =\n/*#__PURE__*/\nfunction () {\n  function XFilter(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XFilter.prototype['@@transducer/init'] = _xfBase.init;\n  XFilter.prototype['@@transducer/result'] = _xfBase.result;\n\n  XFilter.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n\n  return XFilter;\n}();\n\nvar _xfilter =\n/*#__PURE__*/\n_curry2(function _xfilter(f, xf) {\n  return new XFilter(f, xf);\n});\n\nexport default _xfilter;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _filter from \"./internal/_filter.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _xfilter from \"./internal/_xfilter.js\";\nimport keys from \"./keys.js\";\n/**\n * Takes a predicate and a `Filterable`, and returns a new filterable of the\n * same type containing the members of the given filterable which satisfy the\n * given predicate. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * Dispatches to the `filter` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array} Filterable\n * @see R.reject, R.transduce, R.addIndex\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *\n *      R.filter(isEven, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.filter(isEven, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar filter =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/filter', 'filter'], _xfilter, function (pred, filterable) {\n  return _isObject(filterable) ? _reduce(function (acc, key) {\n    if (pred(filterable[key])) {\n      acc[key] = filterable[key];\n    }\n\n    return acc;\n  }, {}, keys(filterable)) : // else\n  _filter(pred, filterable);\n}));\n\nexport default filter;", "import _complement from \"./internal/_complement.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport filter from \"./filter.js\";\n/**\n * The complement of [`filter`](#filter).\n *\n * Acts as a transducer if a transformer is given in list position. Filterable\n * objects include plain objects or any object that has a filter method such\n * as `Array`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> f a\n * @param {Function} pred\n * @param {Array} filterable\n * @return {Array}\n * @see R.filter, R.transduce, R.addIndex\n * @example\n *\n *      const isOdd = (n) => n % 2 !== 0;\n *\n *      R.reject(isOdd, [1, 2, 3, 4]); //=> [2, 4]\n *\n *      R.reject(isOdd, {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, d: 4}\n */\n\nvar reject =\n/*#__PURE__*/\n_curry2(function reject(pred, filterable) {\n  return filter(_complement(pred), filterable);\n});\n\nexport default reject;", "import _includes from \"./_includes.js\";\nimport _map from \"./_map.js\";\nimport _quote from \"./_quote.js\";\nimport _toISOString from \"./_toISOString.js\";\nimport keys from \"../keys.js\";\nimport reject from \"../reject.js\";\nexport default function _toString(x, seen) {\n  var recur = function recur(y) {\n    var xs = seen.concat([x]);\n    return _includes(y, xs) ? '<Circular>' : _toString(y, xs);\n  }; //  mapPairs :: (Object, [String]) -> [String]\n\n\n  var mapPairs = function (obj, keys) {\n    return _map(function (k) {\n      return _quote(k) + ': ' + recur(obj[k]);\n    }, keys.slice().sort());\n  };\n\n  switch (Object.prototype.toString.call(x)) {\n    case '[object Arguments]':\n      return '(function() { return arguments; }(' + _map(recur, x).join(', ') + '))';\n\n    case '[object Array]':\n      return '[' + _map(recur, x).concat(mapPairs(x, reject(function (k) {\n        return /^\\d+$/.test(k);\n      }, keys(x)))).join(', ') + ']';\n\n    case '[object Boolean]':\n      return typeof x === 'object' ? 'new Boolean(' + recur(x.valueOf()) + ')' : x.toString();\n\n    case '[object Date]':\n      return 'new Date(' + (isNaN(x.valueOf()) ? recur(NaN) : _quote(_toISOString(x))) + ')';\n\n    case '[object Null]':\n      return 'null';\n\n    case '[object Number]':\n      return typeof x === 'object' ? 'new Number(' + recur(x.valueOf()) + ')' : 1 / x === -Infinity ? '-0' : x.toString(10);\n\n    case '[object String]':\n      return typeof x === 'object' ? 'new String(' + recur(x.valueOf()) + ')' : _quote(x);\n\n    case '[object Undefined]':\n      return 'undefined';\n\n    default:\n      if (typeof x.toString === 'function') {\n        var repr = x.toString();\n\n        if (repr !== '[object Object]') {\n          return repr;\n        }\n      }\n\n      return '{' + mapPairs(x, keys(x)).join(', ') + '}';\n  }\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _toString from \"./internal/_toString.js\";\n/**\n * Returns the string representation of the given value. `eval`'ing the output\n * should result in a value equivalent to the input value. Many of the built-in\n * `toString` methods do not satisfy this requirement.\n *\n * If the given value is an `[object Object]` with a `toString` method other\n * than `Object.prototype.toString`, this method is invoked with no arguments\n * to produce the return value. This means user-defined constructor functions\n * can provide a suitable `toString` method. For example:\n *\n *     function Point(x, y) {\n *       this.x = x;\n *       this.y = y;\n *     }\n *\n *     Point.prototype.toString = function() {\n *       return 'new Point(' + this.x + ', ' + this.y + ')';\n *     };\n *\n *     R.toString(new Point(1, 2)); //=> 'new Point(1, 2)'\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category String\n * @sig * -> String\n * @param {*} val\n * @return {String}\n * @example\n *\n *      R.toString(42); //=> '42'\n *      R.toString('abc'); //=> '\"abc\"'\n *      R.toString([1, 2, 3]); //=> '[1, 2, 3]'\n *      R.toString({foo: 1, bar: 2, baz: 3}); //=> '{\"bar\": 2, \"baz\": 3, \"foo\": 1}'\n *      R.toString(new Date('2001-02-03T04:05:06Z')); //=> 'new Date(\"2001-02-03T04:05:06.000Z\")'\n */\n\nvar toString =\n/*#__PURE__*/\n_curry1(function toString(val) {\n  return _toString(val, []);\n});\n\nexport default toString;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport _isString from \"./internal/_isString.js\";\nimport toString from \"./toString.js\";\n/**\n * Returns the result of concatenating the given lists or strings.\n *\n * Note: `R.concat` expects both arguments to be of the same type,\n * unlike the native `Array.prototype.concat` method. It will throw\n * an error if you `concat` an Array with a non-Array value.\n *\n * Dispatches to the `concat` method of the first argument, if present.\n * Can also concatenate two members of a [fantasy-land\n * compatible semigroup](https://github.com/fantasyland/fantasy-land#semigroup).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a] -> [a]\n * @sig String -> String -> String\n * @param {Array|String} firstList The first list\n * @param {Array|String} secondList The second list\n * @return {Array|String} A list consisting of the elements of `firstList` followed by the elements of\n * `secondList`.\n *\n * @example\n *\n *      R.concat('ABC', 'DEF'); // 'ABCDEF'\n *      R.concat([4, 5, 6], [1, 2, 3]); //=> [4, 5, 6, 1, 2, 3]\n *      R.concat([], []); //=> []\n */\n\nvar concat =\n/*#__PURE__*/\n_curry2(function concat(a, b) {\n  if (_isArray(a)) {\n    if (_isArray(b)) {\n      return a.concat(b);\n    }\n\n    throw new TypeError(toString(b) + ' is not an array');\n  }\n\n  if (_isString(a)) {\n    if (_isString(b)) {\n      return a + b;\n    }\n\n    throw new TypeError(toString(b) + ' is not a string');\n  }\n\n  if (a != null && _isFunction(a['fantasy-land/concat'])) {\n    return a['fantasy-land/concat'](b);\n  }\n\n  if (a != null && _isFunction(a.concat)) {\n    return a.concat(b);\n  }\n\n  throw new TypeError(toString(a) + ' does not have a method named \"concat\" or \"fantasy-land/concat\"');\n});\n\nexport default concat;", "import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\nimport map from \"./map.js\";\nimport max from \"./max.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Returns a function, `fn`, which encapsulates `if/else, if/else, ...` logic.\n * `R.cond` takes a list of [predicate, transformer] pairs. All of the arguments\n * to `fn` are applied to each of the predicates in turn until one returns a\n * \"truthy\" value, at which point `fn` returns the result of applying its\n * arguments to the corresponding transformer. If none of the predicates\n * matches, `fn` returns undefined.\n *\n * **Please note**: This is not a direct substitute for a `switch` statement.\n * Remember that both elements of every pair passed to `cond` are *functions*,\n * and `cond` returns a function.\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Logic\n * @sig [[(*... -> Boolean),(*... -> *)]] -> (*... -> *)\n * @param {Array} pairs A list of [predicate, transformer]\n * @return {Function}\n * @see R.ifElse, R.unless, R.when\n * @example\n *\n *      const fn = R.cond([\n *        [R.equals(0),   R.always('water freezes at 0\u00B0C')],\n *        [R.equals(100), R.always('water boils at 100\u00B0C')],\n *        [R.T,           temp => 'nothing special happens at ' + temp + '\u00B0C']\n *      ]);\n *      fn(0); //=> 'water freezes at 0\u00B0C'\n *      fn(50); //=> 'nothing special happens at 50\u00B0C'\n *      fn(100); //=> 'water boils at 100\u00B0C'\n */\n\nvar cond =\n/*#__PURE__*/\n_curry1(function cond(pairs) {\n  var arity = reduce(max, 0, map(function (pair) {\n    return pair[0].length;\n  }, pairs));\n  return _arity(arity, function () {\n    var idx = 0;\n\n    while (idx < pairs.length) {\n      if (pairs[idx][0].apply(this, arguments)) {\n        return pairs[idx][1].apply(this, arguments);\n      }\n\n      idx += 1;\n    }\n  });\n});\n\nexport default cond;", "import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Returns a curried equivalent of the provided function. The curried function\n * has two unusual capabilities. First, its arguments needn't be provided one\n * at a time. If `f` is a ternary function and `g` is `R.curry(f)`, the\n * following are equivalent:\n *\n *   - `g(1)(2)(3)`\n *   - `g(1)(2, 3)`\n *   - `g(1, 2)(3)`\n *   - `g(1, 2, 3)`\n *\n * Secondly, the special placeholder value [`R.__`](#__) may be used to specify\n * \"gaps\", allowing partial application of any combination of arguments,\n * regardless of their positions. If `g` is as above and `_` is [`R.__`](#__),\n * the following are equivalent:\n *\n *   - `g(1, 2, 3)`\n *   - `g(_, 2, 3)(1)`\n *   - `g(_, _, 3)(1)(2)`\n *   - `g(_, _, 3)(1, 2)`\n *   - `g(_, 2)(1)(3)`\n *   - `g(_, 2)(1, 3)`\n *   - `g(_, 2)(_, 3)(1)`\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> a) -> (* -> a)\n * @param {Function} fn The function to curry.\n * @return {Function} A new, curried function.\n * @see R.curryN, R.partial\n * @example\n *\n *      const addFourNumbers = (a, b, c, d) => a + b + c + d;\n *\n *      const curriedAddFourNumbers = R.curry(addFourNumbers);\n *      const f = curriedAddFourNumbers(1, 2);\n *      const g = f(3);\n *      g(4); //=> 10\n */\n\nvar curry =\n/*#__PURE__*/\n_curry1(function curry(fn) {\n  return curryN(fn.length, fn);\n});\n\nexport default curry;", "import _curry2 from \"./internal/_curry2.js\";\nimport curry from \"./curry.js\";\nimport nAry from \"./nAry.js\";\n/**\n * Wraps a constructor function inside a curried function that can be called\n * with the same arguments and returns the same type. The arity of the function\n * returned is specified to allow using variadic constructor functions.\n *\n * @func\n * @memberOf R\n * @since v0.4.0\n * @category Function\n * @sig Number -> (* -> {*}) -> (* -> {*})\n * @param {Number} n The arity of the constructor function.\n * @param {Function} Fn The constructor function to wrap.\n * @return {Function} A wrapped, curried constructor function.\n * @example\n *\n *      // Variadic Constructor function\n *      function Salad() {\n *        this.ingredients = arguments;\n *      }\n *\n *      Salad.prototype.recipe = function() {\n *        const instructions = R.map(ingredient => 'Add a dollop of ' + ingredient, this.ingredients);\n *        return R.join('\\n', instructions);\n *      };\n *\n *      const ThreeLayerSalad = R.constructN(3, Salad);\n *\n *      // Notice we no longer need the 'new' keyword, and the constructor is curried for 3 arguments.\n *      const salad = ThreeLayerSalad('Mayonnaise')('Potato Chips')('Ketchup');\n *\n *      console.log(salad.recipe());\n *      // Add a dollop of Mayonnaise\n *      // Add a dollop of Potato Chips\n *      // Add a dollop of Ketchup\n */\n\nvar constructN =\n/*#__PURE__*/\n_curry2(function constructN(n, Fn) {\n  if (n > 10) {\n    throw new Error('Constructor with greater than ten arguments');\n  }\n\n  if (n === 0) {\n    return function () {\n      return new Fn();\n    };\n  }\n\n  return curry(nAry(n, function ($0, $1, $2, $3, $4, $5, $6, $7, $8, $9) {\n    switch (arguments.length) {\n      case 1:\n        return new Fn($0);\n\n      case 2:\n        return new Fn($0, $1);\n\n      case 3:\n        return new Fn($0, $1, $2);\n\n      case 4:\n        return new Fn($0, $1, $2, $3);\n\n      case 5:\n        return new Fn($0, $1, $2, $3, $4);\n\n      case 6:\n        return new Fn($0, $1, $2, $3, $4, $5);\n\n      case 7:\n        return new Fn($0, $1, $2, $3, $4, $5, $6);\n\n      case 8:\n        return new Fn($0, $1, $2, $3, $4, $5, $6, $7);\n\n      case 9:\n        return new Fn($0, $1, $2, $3, $4, $5, $6, $7, $8);\n\n      case 10:\n        return new Fn($0, $1, $2, $3, $4, $5, $6, $7, $8, $9);\n    }\n  }));\n});\n\nexport default constructN;", "import _curry1 from \"./internal/_curry1.js\";\nimport constructN from \"./constructN.js\";\n/**\n * Wraps a constructor function inside a curried function that can be called\n * with the same arguments and returns the same type.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (* -> {*}) -> (* -> {*})\n * @param {Function} fn The constructor function to wrap.\n * @return {Function} A wrapped, curried constructor function.\n * @see R.invoker\n * @example\n *\n *      // Constructor function\n *      function Animal(kind) {\n *        this.kind = kind;\n *      };\n *      Animal.prototype.sighting = function() {\n *        return \"It's a \" + this.kind + \"!\";\n *      }\n *\n *      const AnimalConstructor = R.construct(Animal)\n *\n *      // Notice we no longer need the 'new' keyword:\n *      AnimalConstructor('Pig'); //=> {\"kind\": \"Pig\", \"sighting\": function (){...}};\n *\n *      const animalTypes = [\"Lion\", \"Tiger\", \"Bear\"];\n *      const animalSighting = R.invoker(0, 'sighting');\n *      const sightNewAnimal = R.compose(animalSighting, AnimalConstructor);\n *      R.map(sightNewAnimal, animalTypes); //=> [\"It's a Lion!\", \"It's a Tiger!\", \"It's a Bear!\"]\n */\n\nvar construct =\n/*#__PURE__*/\n_curry1(function construct(Fn) {\n  return constructN(Fn.length, Fn);\n});\n\nexport default construct;", "import _curry2 from \"./internal/_curry2.js\";\nimport _map from \"./internal/_map.js\";\nimport curryN from \"./curryN.js\";\nimport max from \"./max.js\";\nimport pluck from \"./pluck.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Accepts a converging function and a list of branching functions and returns\n * a new function. The arity of the new function is the same as the arity of\n * the longest branching function. When invoked, this new function is applied\n * to some arguments, and each branching function is applied to those same\n * arguments. The results of each branching function are passed as arguments\n * to the converging function to produce the return value.\n *\n * @func\n * @memberOf R\n * @since v0.4.2\n * @category Function\n * @sig ((x1, x2, ...) -> z) -> [((a, b, ...) -> x1), ((a, b, ...) -> x2), ...] -> (a -> b -> ... -> z)\n * @param {Function} after A function. `after` will be invoked with the return values of\n *        `fn1` and `fn2` as its arguments.\n * @param {Array} functions A list of functions.\n * @return {Function} A new function.\n * @see R.useWith\n * @example\n *\n *      const average = R.converge(R.divide, [R.sum, R.length])\n *      average([1, 2, 3, 4, 5, 6, 7]) //=> 4\n *\n *      const strangeConcat = R.converge(R.concat, [R.toUpper, R.toLower])\n *      strangeConcat(\"Yodel\") //=> \"YODELyodel\"\n *\n * @symb R.converge(f, [g, h])(a, b) = f(g(a, b), h(a, b))\n */\n\nvar converge =\n/*#__PURE__*/\n_curry2(function converge(after, fns) {\n  return curryN(reduce(max, 0, pluck('length', fns)), function () {\n    var args = arguments;\n    var context = this;\n    return after.apply(context, _map(function (fn) {\n      return fn.apply(context, args);\n    }, fns));\n  });\n});\n\nexport default converge;", "import _reduce from \"./internal/_reduce.js\";\nimport curry from \"./curry.js\";\n/**\n * Returns the number of items in a given `list` matching the predicate `f`\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> Number\n * @param {Function} predicate to match items against\n * @return {Array} list of items to count in\n * @example\n *\n *      const even = x => x % 2 == 0;\n *\n *      R.count(even, [1, 2, 3, 4, 5]); // => 2\n *      R.map(R.count(even), [[1, 1, 1], [2, 3, 4, 5], [6]]); // => [0, 2, 1]\n */\n\nvar count =\n/*#__PURE__*/\ncurry(function (pred, list) {\n  return _reduce(function (a, e) {\n    return pred(e) ? a + 1 : a;\n  }, 0, list);\n});\nexport default count;", "import _curryN from \"./_curryN.js\";\nimport _has from \"./_has.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XReduceBy =\n/*#__PURE__*/\nfunction () {\n  function XReduceBy(valueFn, valueAcc, keyFn, xf) {\n    this.valueFn = valueFn;\n    this.valueAcc = valueAcc;\n    this.keyFn = keyFn;\n    this.xf = xf;\n    this.inputs = {};\n  }\n\n  XReduceBy.prototype['@@transducer/init'] = _xfBase.init;\n\n  XReduceBy.prototype['@@transducer/result'] = function (result) {\n    var key;\n\n    for (key in this.inputs) {\n      if (_has(key, this.inputs)) {\n        result = this.xf['@@transducer/step'](result, this.inputs[key]);\n\n        if (result['@@transducer/reduced']) {\n          result = result['@@transducer/value'];\n          break;\n        }\n      }\n    }\n\n    this.inputs = null;\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XReduceBy.prototype['@@transducer/step'] = function (result, input) {\n    var key = this.keyFn(input);\n    this.inputs[key] = this.inputs[key] || [key, this.valueAcc];\n    this.inputs[key][1] = this.valueFn(this.inputs[key][1], input);\n    return result;\n  };\n\n  return XReduceBy;\n}();\n\nvar _xreduceBy =\n/*#__PURE__*/\n_curryN(4, [], function _xreduceBy(valueFn, valueAcc, keyFn, xf) {\n  return new XReduceBy(valueFn, valueAcc, keyFn, xf);\n});\n\nexport default _xreduceBy;", "import _clone from \"./internal/_clone.js\";\nimport _curryN from \"./internal/_curryN.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _has from \"./internal/_has.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _reduced from \"./internal/_reduced.js\";\nimport _xreduceBy from \"./internal/_xreduceBy.js\";\n/**\n * Groups the elements of the list according to the result of calling\n * the String-returning function `keyFn` on each element and reduces the elements\n * of each group to a single value via the reducer function `valueFn`.\n *\n * The value function receives two values: *(acc, value)*. It may use\n * [`R.reduced`](#reduced) to short circuit the iteration.\n *\n * This function is basically a more general [`groupBy`](#groupBy) function.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.20.0\n * @category List\n * @sig ((a, b) -> a) -> a -> (b -> String) -> [b] -> {String: a}\n * @param {Function} valueFn The function that reduces the elements of each group to a single\n *        value. Receives two values, accumulator for a particular group and the current element.\n * @param {*} acc The (initial) accumulator value for each group.\n * @param {Function} keyFn The function that maps the list's element into a key.\n * @param {Array} list The array to group.\n * @return {Object} An object with the output of `keyFn` for keys, mapped to the output of\n *         `valueFn` for elements which produced that key when passed to `keyFn`.\n * @see R.groupBy, R.reduce, R.reduced\n * @example\n *\n *      const groupNames = (acc, {name}) => acc.concat(name)\n *      const toGrade = ({score}) =>\n *        score < 65 ? 'F' :\n *        score < 70 ? 'D' :\n *        score < 80 ? 'C' :\n *        score < 90 ? 'B' : 'A'\n *\n *      var students = [\n *        {name: 'Abby', score: 83},\n *        {name: 'Bart', score: 62},\n *        {name: 'Curt', score: 88},\n *        {name: 'Dora', score: 92},\n *      ]\n *\n *      reduceBy(groupNames, [], toGrade, students)\n *      //=> {\"A\": [\"Dora\"], \"B\": [\"Abby\", \"Curt\"], \"F\": [\"Bart\"]}\n */\n\nvar reduceBy =\n/*#__PURE__*/\n_curryN(4, [],\n/*#__PURE__*/\n_dispatchable([], _xreduceBy, function reduceBy(valueFn, valueAcc, keyFn, list) {\n  return _reduce(function (acc, elt) {\n    var key = keyFn(elt);\n    var value = valueFn(_has(key, acc) ? acc[key] : _clone(valueAcc, [], [], false), elt);\n\n    if (value && value['@@transducer/reduced']) {\n      return _reduced(acc);\n    }\n\n    acc[key] = value;\n    return acc;\n  }, {}, list);\n}));\n\nexport default reduceBy;", "import reduceBy from \"./reduceBy.js\";\n/**\n * Counts the elements of a list according to how many match each value of a\n * key generated by the supplied function. Returns an object mapping the keys\n * produced by `fn` to the number of occurrences in the list. Note that all\n * keys are coerced to strings because of how JavaScript objects work.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig (a -> String) -> [a] -> {*}\n * @param {Function} fn The function used to map values to keys.\n * @param {Array} list The list to count elements from.\n * @return {Object} An object mapping keys to number of occurrences in the list.\n * @example\n *\n *      const numbers = [1.0, 1.1, 1.2, 2.0, 3.0, 2.2];\n *      R.countBy(Math.floor)(numbers);    //=> {'1': 3, '2': 2, '3': 1}\n *\n *      const letters = ['a', 'b', 'A', 'a', 'B', 'c'];\n *      R.countBy(R.toLower)(letters);   //=> {'a': 3, 'b': 2, 'c': 1}\n */\n\nvar countBy =\n/*#__PURE__*/\nreduceBy(function (acc, elem) {\n  return acc + 1;\n}, 0);\nexport default countBy;", "import add from \"./add.js\";\n/**\n * Decrements its argument.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Math\n * @sig Number -> Number\n * @param {Number} n\n * @return {Number} n - 1\n * @see R.inc\n * @example\n *\n *      R.dec(42); //=> 41\n */\n\nvar dec =\n/*#__PURE__*/\nadd(-1);\nexport default dec;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns the second argument if it is not `null`, `undefined` or `NaN`;\n * otherwise the first argument is returned.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Logic\n * @sig a -> b -> a | b\n * @param {a} default The default value.\n * @param {b} val `val` will be returned instead of `default` unless `val` is `null`, `undefined` or `NaN`.\n * @return {*} The second value if it is not `null`, `undefined` or `NaN`, otherwise the default value\n * @example\n *\n *      const defaultTo42 = R.defaultTo(42);\n *\n *      defaultTo42(null);  //=> 42\n *      defaultTo42(undefined);  //=> 42\n *      defaultTo42(false);  //=> false\n *      defaultTo42('Ramda');  //=> 'Ramda'\n *      // parseInt('string') results in NaN\n *      defaultTo42(parseInt('string')); //=> 42\n */\n\nvar defaultTo =\n/*#__PURE__*/\n_curry2(function defaultTo(d, v) {\n  return v == null || v !== v ? d : v;\n});\n\nexport default defaultTo;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Makes a descending comparator function out of a function that returns a value\n * that can be compared with `<` and `>`.\n *\n * @func\n * @memberOf R\n * @since v0.23.0\n * @category Function\n * @sig Ord b => (a -> b) -> a -> a -> Number\n * @param {Function} fn A function of arity one that returns a value that can be compared\n * @param {*} a The first item to be compared.\n * @param {*} b The second item to be compared.\n * @return {Number} `-1` if fn(a) > fn(b), `1` if fn(b) > fn(a), otherwise `0`\n * @see R.ascend\n * @example\n *\n *      const byAge = R.descend(R.prop('age'));\n *      const people = [\n *        { name: 'Emma', age: 70 },\n *        { name: 'Peter', age: 78 },\n *        { name: 'Mikhail', age: 62 },\n *      ];\n *      const peopleByOldestFirst = R.sort(byAge, people);\n *        //=> [{ name: 'Peter', age: 78 }, { name: 'Emma', age: 70 }, { name: 'Mikhail', age: 62 }]\n */\n\nvar descend =\n/*#__PURE__*/\n_curry3(function descend(fn, a, b) {\n  var aa = fn(a);\n  var bb = fn(b);\n  return aa > bb ? -1 : aa < bb ? 1 : 0;\n});\n\nexport default descend;", "import _includes from \"./_includes.js\";\n\nvar _Set =\n/*#__PURE__*/\nfunction () {\n  function _Set() {\n    /* globals Set */\n    this._nativeSet = typeof Set === 'function' ? new Set() : null;\n    this._items = {};\n  }\n\n  // until we figure out why jsdoc chokes on this\n  // @param item The item to add to the Set\n  // @returns {boolean} true if the item did not exist prior, otherwise false\n  //\n  _Set.prototype.add = function (item) {\n    return !hasOrAdd(item, true, this);\n  }; //\n  // @param item The item to check for existence in the Set\n  // @returns {boolean} true if the item exists in the Set, otherwise false\n  //\n\n\n  _Set.prototype.has = function (item) {\n    return hasOrAdd(item, false, this);\n  }; //\n  // Combines the logic for checking whether an item is a member of the set and\n  // for adding a new item to the set.\n  //\n  // @param item       The item to check or add to the Set instance.\n  // @param shouldAdd  If true, the item will be added to the set if it doesn't\n  //                   already exist.\n  // @param set        The set instance to check or add to.\n  // @return {boolean} true if the item already existed, otherwise false.\n  //\n\n\n  return _Set;\n}();\n\nfunction hasOrAdd(item, shouldAdd, set) {\n  var type = typeof item;\n  var prevSize, newSize;\n\n  switch (type) {\n    case 'string':\n    case 'number':\n      // distinguish between +0 and -0\n      if (item === 0 && 1 / item === -Infinity) {\n        if (set._items['-0']) {\n          return true;\n        } else {\n          if (shouldAdd) {\n            set._items['-0'] = true;\n          }\n\n          return false;\n        }\n      } // these types can all utilise the native Set\n\n\n      if (set._nativeSet !== null) {\n        if (shouldAdd) {\n          prevSize = set._nativeSet.size;\n\n          set._nativeSet.add(item);\n\n          newSize = set._nativeSet.size;\n          return newSize === prevSize;\n        } else {\n          return set._nativeSet.has(item);\n        }\n      } else {\n        if (!(type in set._items)) {\n          if (shouldAdd) {\n            set._items[type] = {};\n            set._items[type][item] = true;\n          }\n\n          return false;\n        } else if (item in set._items[type]) {\n          return true;\n        } else {\n          if (shouldAdd) {\n            set._items[type][item] = true;\n          }\n\n          return false;\n        }\n      }\n\n    case 'boolean':\n      // set._items['boolean'] holds a two element array\n      // representing [ falseExists, trueExists ]\n      if (type in set._items) {\n        var bIdx = item ? 1 : 0;\n\n        if (set._items[type][bIdx]) {\n          return true;\n        } else {\n          if (shouldAdd) {\n            set._items[type][bIdx] = true;\n          }\n\n          return false;\n        }\n      } else {\n        if (shouldAdd) {\n          set._items[type] = item ? [false, true] : [true, false];\n        }\n\n        return false;\n      }\n\n    case 'function':\n      // compare functions for reference equality\n      if (set._nativeSet !== null) {\n        if (shouldAdd) {\n          prevSize = set._nativeSet.size;\n\n          set._nativeSet.add(item);\n\n          newSize = set._nativeSet.size;\n          return newSize === prevSize;\n        } else {\n          return set._nativeSet.has(item);\n        }\n      } else {\n        if (!(type in set._items)) {\n          if (shouldAdd) {\n            set._items[type] = [item];\n          }\n\n          return false;\n        }\n\n        if (!_includes(item, set._items[type])) {\n          if (shouldAdd) {\n            set._items[type].push(item);\n          }\n\n          return false;\n        }\n\n        return true;\n      }\n\n    case 'undefined':\n      if (set._items[type]) {\n        return true;\n      } else {\n        if (shouldAdd) {\n          set._items[type] = true;\n        }\n\n        return false;\n      }\n\n    case 'object':\n      if (item === null) {\n        if (!set._items['null']) {\n          if (shouldAdd) {\n            set._items['null'] = true;\n          }\n\n          return false;\n        }\n\n        return true;\n      }\n\n    /* falls through */\n\n    default:\n      // reduce the search size of heterogeneous sets by creating buckets\n      // for each type.\n      type = Object.prototype.toString.call(item);\n\n      if (!(type in set._items)) {\n        if (shouldAdd) {\n          set._items[type] = [item];\n        }\n\n        return false;\n      } // scan through all previously applied items\n\n\n      if (!_includes(item, set._items[type])) {\n        if (shouldAdd) {\n          set._items[type].push(item);\n        }\n\n        return false;\n      }\n\n      return true;\n  }\n} // A simple Set type that honours R.equals semantics\n\n\nexport default _Set;", "import _curry2 from \"./internal/_curry2.js\";\nimport _Set from \"./internal/_Set.js\";\n/**\n * Finds the set (i.e. no duplicates) of all elements in the first list not\n * contained in the second list. Objects and Arrays are compared in terms of\n * value equality, not reference equality.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig [*] -> [*] -> [*]\n * @param {Array} list1 The first list.\n * @param {Array} list2 The second list.\n * @return {Array} The elements in `list1` that are not in `list2`.\n * @see R.differenceWith, R.symmetricDifference, R.symmetricDifferenceWith, R.without\n * @example\n *\n *      R.difference([1,2,3,4], [7,6,5,4,3]); //=> [1,2]\n *      R.difference([7,6,5,4,3], [1,2,3,4]); //=> [7,6,5]\n *      R.difference([{a: 1}, {b: 2}], [{a: 1}, {c: 3}]) //=> [{b: 2}]\n */\n\nvar difference =\n/*#__PURE__*/\n_curry2(function difference(first, second) {\n  var out = [];\n  var idx = 0;\n  var firstLen = first.length;\n  var secondLen = second.length;\n  var toFilterOut = new _Set();\n\n  for (var i = 0; i < secondLen; i += 1) {\n    toFilterOut.add(second[i]);\n  }\n\n  while (idx < firstLen) {\n    if (toFilterOut.add(first[idx])) {\n      out[out.length] = first[idx];\n    }\n\n    idx += 1;\n  }\n\n  return out;\n});\n\nexport default difference;", "import _includesWith from \"./internal/_includesWith.js\";\nimport _curry3 from \"./internal/_curry3.js\";\n/**\n * Finds the set (i.e. no duplicates) of all elements in the first list not\n * contained in the second list. Duplication is determined according to the\n * value returned by applying the supplied predicate to two list elements.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig ((a, a) -> Boolean) -> [a] -> [a] -> [a]\n * @param {Function} pred A predicate used to test whether two items are equal.\n * @param {Array} list1 The first list.\n * @param {Array} list2 The second list.\n * @return {Array} The elements in `list1` that are not in `list2`.\n * @see R.difference, R.symmetricDifference, R.symmetricDifferenceWith\n * @example\n *\n *      const cmp = (x, y) => x.a === y.a;\n *      const l1 = [{a: 1}, {a: 2}, {a: 3}];\n *      const l2 = [{a: 3}, {a: 4}];\n *      R.differenceWith(cmp, l1, l2); //=> [{a: 1}, {a: 2}]\n */\n\nvar differenceWith =\n/*#__PURE__*/\n_curry3(function differenceWith(pred, first, second) {\n  var out = [];\n  var idx = 0;\n  var firstLen = first.length;\n\n  while (idx < firstLen) {\n    if (!_includesWith(pred, first[idx], second) && !_includesWith(pred, first[idx], out)) {\n      out.push(first[idx]);\n    }\n\n    idx += 1;\n  }\n\n  return out;\n});\n\nexport default differenceWith;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Removes the sub-list of `list` starting at index `start` and containing\n * `count` elements. _Note that this is not destructive_: it returns a copy of\n * the list with the changes.\n * <small>No lists have been harmed in the application of this function.</small>\n *\n * @func\n * @memberOf R\n * @since v0.2.2\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @param {Number} start The position to start removing elements\n * @param {Number} count The number of elements to remove\n * @param {Array} list The list to remove from\n * @return {Array} A new Array with `count` elements from `start` removed.\n * @see R.without\n * @example\n *\n *      R.remove(2, 3, [1,2,3,4,5,6,7,8]); //=> [1,2,6,7,8]\n */\n\nvar remove =\n/*#__PURE__*/\n_curry3(function remove(start, count, list) {\n  var result = Array.prototype.slice.call(list, 0);\n  result.splice(start, count);\n  return result;\n});\n\nexport default remove;", "import _isInteger from \"./_isInteger.js\";\nimport _isArray from \"./_isArray.js\";\nimport remove from \"../remove.js\";\n/**\n * Returns a new object that does not contain a `prop` property.\n *\n * @private\n * @param {String|Number} prop The name of the property to dissociate\n * @param {Object|Array} obj The object to clone\n * @return {Object} A new object equivalent to the original but without the specified property\n */\n\nexport default function _dissoc(prop, obj) {\n  if (obj == null) {\n    return obj;\n  }\n\n  if (_isInteger(prop) && _isArray(obj)) {\n    return remove(prop, 1, obj);\n  }\n\n  var result = {};\n\n  for (var p in obj) {\n    result[p] = obj[p];\n  }\n\n  delete result[prop];\n  return result;\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _dissoc from \"./internal/_dissoc.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport assoc from \"./assoc.js\";\n/**\n * Makes a shallow clone of an object. Note that this copies and flattens\n * prototype properties onto the new object as well. All non-primitive\n * properties are copied by reference.\n *\n * @private\n * @param {String|Integer} prop The prop operating\n * @param {Object|Array} obj The object to clone\n * @return {Object|Array} A new object equivalent to the original.\n */\n\nfunction _shallowCloneObject(prop, obj) {\n  if (_isInteger(prop) && _isArray(obj)) {\n    return [].concat(obj);\n  }\n\n  var result = {};\n\n  for (var p in obj) {\n    result[p] = obj[p];\n  }\n\n  return result;\n}\n/**\n * Makes a shallow clone of an object, omitting the property at the given path.\n * Note that this copies and flattens prototype properties onto the new object\n * as well. All non-primitive properties are copied by reference.\n *\n * @func\n * @memberOf R\n * @since v0.11.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> {k: v} -> {k: v}\n * @param {Array} path The path to the value to omit\n * @param {Object} obj The object to clone\n * @return {Object} A new object without the property at path\n * @see R.assocPath\n * @example\n *\n *      R.dissocPath(['a', 'b', 'c'], {a: {b: {c: 42}}}); //=> {a: {b: {}}}\n */\n\n\nvar dissocPath =\n/*#__PURE__*/\n_curry2(function dissocPath(path, obj) {\n  if (obj == null) {\n    return obj;\n  }\n\n  switch (path.length) {\n    case 0:\n      return obj;\n\n    case 1:\n      return _dissoc(path[0], obj);\n\n    default:\n      var head = path[0];\n      var tail = Array.prototype.slice.call(path, 1);\n\n      if (obj[head] == null) {\n        return _shallowCloneObject(head, obj);\n      } else {\n        return assoc(head, dissocPath(tail, obj[head]), obj);\n      }\n\n  }\n});\n\nexport default dissocPath;", "import _curry2 from \"./internal/_curry2.js\";\nimport dissocPath from \"./dissocPath.js\";\n/**\n * Returns a new object that does not contain a `prop` property.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Object\n * @sig String -> {k: v} -> {k: v}\n * @param {String} prop The name of the property to dissociate\n * @param {Object} obj The object to clone\n * @return {Object} A new object equivalent to the original but without the specified property\n * @see R.assoc, R.omit\n * @example\n *\n *      R.dissoc('b', {a: 1, b: 2, c: 3}); //=> {a: 1, c: 3}\n */\n\nvar dissoc =\n/*#__PURE__*/\n_curry2(function dissoc(prop, obj) {\n  return dissocPath([prop], obj);\n});\n\nexport default dissoc;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Divides two numbers. Equivalent to `a / b`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a The first value.\n * @param {Number} b The second value.\n * @return {Number} The result of `a / b`.\n * @see R.multiply\n * @example\n *\n *      R.divide(71, 100); //=> 0.71\n *\n *      const half = R.divide(R.__, 2);\n *      half(42); //=> 21\n *\n *      const reciprocal = R.divide(1);\n *      reciprocal(4);   //=> 0.25\n */\n\nvar divide =\n/*#__PURE__*/\n_curry2(function divide(a, b) {\n  return a / b;\n});\n\nexport default divide;", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XDrop =\n/*#__PURE__*/\nfunction () {\n  function XDrop(n, xf) {\n    this.xf = xf;\n    this.n = n;\n  }\n\n  XDrop.prototype['@@transducer/init'] = _xfBase.init;\n  XDrop.prototype['@@transducer/result'] = _xfBase.result;\n\n  XDrop.prototype['@@transducer/step'] = function (result, input) {\n    if (this.n > 0) {\n      this.n -= 1;\n      return result;\n    }\n\n    return this.xf['@@transducer/step'](result, input);\n  };\n\n  return XDrop;\n}();\n\nvar _xdrop =\n/*#__PURE__*/\n_curry2(function _xdrop(n, xf) {\n  return new XDrop(n, xf);\n});\n\nexport default _xdrop;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xdrop from \"./internal/_xdrop.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns all but the first `n` elements of the given list, string, or\n * transducer/transformer (or object with a `drop` method).\n *\n * Dispatches to the `drop` method of the second argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> [a]\n * @sig Number -> String -> String\n * @param {Number} n\n * @param {*} list\n * @return {*} A copy of list without the first `n` elements\n * @see R.take, R.transduce, R.dropLast, R.dropWhile\n * @example\n *\n *      R.drop(1, ['foo', 'bar', 'baz']); //=> ['bar', 'baz']\n *      R.drop(2, ['foo', 'bar', 'baz']); //=> ['baz']\n *      R.drop(3, ['foo', 'bar', 'baz']); //=> []\n *      R.drop(4, ['foo', 'bar', 'baz']); //=> []\n *      R.drop(3, 'ramda');               //=> 'da'\n */\n\nvar drop =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['drop'], _xdrop, function drop(n, xs) {\n  return slice(Math.max(0, n), Infinity, xs);\n}));\n\nexport default drop;", "import _curry2 from \"./_curry2.js\";\nimport _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XTake =\n/*#__PURE__*/\nfunction () {\n  function XTake(n, xf) {\n    this.xf = xf;\n    this.n = n;\n    this.i = 0;\n  }\n\n  XTake.prototype['@@transducer/init'] = _xfBase.init;\n  XTake.prototype['@@transducer/result'] = _xfBase.result;\n\n  XTake.prototype['@@transducer/step'] = function (result, input) {\n    this.i += 1;\n    var ret = this.n === 0 ? result : this.xf['@@transducer/step'](result, input);\n    return this.n >= 0 && this.i >= this.n ? _reduced(ret) : ret;\n  };\n\n  return XTake;\n}();\n\nvar _xtake =\n/*#__PURE__*/\n_curry2(function _xtake(n, xf) {\n  return new XTake(n, xf);\n});\n\nexport default _xtake;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xtake from \"./internal/_xtake.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns the first `n` elements of the given list, string, or\n * transducer/transformer (or object with a `take` method).\n *\n * Dispatches to the `take` method of the second argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> [a] -> [a]\n * @sig Number -> String -> String\n * @param {Number} n\n * @param {*} list\n * @return {*}\n * @see R.drop\n * @example\n *\n *      R.take(1, ['foo', 'bar', 'baz']); //=> ['foo']\n *      R.take(2, ['foo', 'bar', 'baz']); //=> ['foo', 'bar']\n *      R.take(3, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n *      R.take(4, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n *      R.take(3, 'ramda');               //=> 'ram'\n *\n *      const personnel = [\n *        'Dave Brubeck',\n *        'Paul Desmond',\n *        'Eugene Wright',\n *        'Joe Morello',\n *        'Gerry Mulligan',\n *        'Bob Bates',\n *        'Joe Dodge',\n *        'Ron Crotty'\n *      ];\n *\n *      const takeFive = R.take(5);\n *      takeFive(personnel);\n *      //=> ['Dave Brubeck', 'Paul Desmond', 'Eugene Wright', 'Joe Morello', 'Gerry Mulligan']\n * @symb R.take(-1, [a, b]) = [a, b]\n * @symb R.take(0, [a, b]) = []\n * @symb R.take(1, [a, b]) = [a]\n * @symb R.take(2, [a, b]) = [a, b]\n */\n\nvar take =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['take'], _xtake, function take(n, xs) {\n  return slice(0, n < 0 ? Infinity : n, xs);\n}));\n\nexport default take;", "import take from \"../take.js\";\nexport default function dropLast(n, xs) {\n  return take(n < xs.length ? xs.length - n : 0, xs);\n}", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XDropLast =\n/*#__PURE__*/\nfunction () {\n  function XDropLast(n, xf) {\n    this.xf = xf;\n    this.pos = 0;\n    this.full = false;\n    this.acc = new Array(n);\n  }\n\n  XDropLast.prototype['@@transducer/init'] = _xfBase.init;\n\n  XDropLast.prototype['@@transducer/result'] = function (result) {\n    this.acc = null;\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XDropLast.prototype['@@transducer/step'] = function (result, input) {\n    if (this.full) {\n      result = this.xf['@@transducer/step'](result, this.acc[this.pos]);\n    }\n\n    this.store(input);\n    return result;\n  };\n\n  XDropLast.prototype.store = function (input) {\n    this.acc[this.pos] = input;\n    this.pos += 1;\n\n    if (this.pos === this.acc.length) {\n      this.pos = 0;\n      this.full = true;\n    }\n  };\n\n  return XDropLast;\n}();\n\nvar _xdropLast =\n/*#__PURE__*/\n_curry2(function _xdropLast(n, xf) {\n  return new XDropLast(n, xf);\n});\n\nexport default _xdropLast;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _dropLast from \"./internal/_dropLast.js\";\nimport _xdropLast from \"./internal/_xdropLast.js\";\n/**\n * Returns a list containing all but the last `n` elements of the given `list`.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category List\n * @sig Number -> [a] -> [a]\n * @sig Number -> String -> String\n * @param {Number} n The number of elements of `list` to skip.\n * @param {Array} list The list of elements to consider.\n * @return {Array} A copy of the list with only the first `list.length - n` elements\n * @see R.takeLast, R.drop, R.dropWhile, R.dropLastWhile\n * @example\n *\n *      R.dropLast(1, ['foo', 'bar', 'baz']); //=> ['foo', 'bar']\n *      R.dropLast(2, ['foo', 'bar', 'baz']); //=> ['foo']\n *      R.dropLast(3, ['foo', 'bar', 'baz']); //=> []\n *      R.dropLast(4, ['foo', 'bar', 'baz']); //=> []\n *      R.dropLast(3, 'ramda');               //=> 'ra'\n */\n\nvar dropLast =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xdropLast, _dropLast));\n\nexport default dropLast;", "import slice from \"../slice.js\";\nexport default function dropLastWhile(pred, xs) {\n  var idx = xs.length - 1;\n\n  while (idx >= 0 && pred(xs[idx])) {\n    idx -= 1;\n  }\n\n  return slice(0, idx + 1, xs);\n}", "import _curry2 from \"./_curry2.js\";\nimport _reduce from \"./_reduce.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XDropLastWhile =\n/*#__PURE__*/\nfunction () {\n  function XDropLastWhile(fn, xf) {\n    this.f = fn;\n    this.retained = [];\n    this.xf = xf;\n  }\n\n  XDropLastWhile.prototype['@@transducer/init'] = _xfBase.init;\n\n  XDropLastWhile.prototype['@@transducer/result'] = function (result) {\n    this.retained = null;\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XDropLastWhile.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.retain(result, input) : this.flush(result, input);\n  };\n\n  XDropLastWhile.prototype.flush = function (result, input) {\n    result = _reduce(this.xf['@@transducer/step'], result, this.retained);\n    this.retained = [];\n    return this.xf['@@transducer/step'](result, input);\n  };\n\n  XDropLastWhile.prototype.retain = function (result, input) {\n    this.retained.push(input);\n    return result;\n  };\n\n  return XDropLastWhile;\n}();\n\nvar _xdropLastWhile =\n/*#__PURE__*/\n_curry2(function _xdropLastWhile(fn, xf) {\n  return new XDropLastWhile(fn, xf);\n});\n\nexport default _xdropLastWhile;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _dropLastWhile from \"./internal/_dropLastWhile.js\";\nimport _xdropLastWhile from \"./internal/_xdropLastWhile.js\";\n/**\n * Returns a new list excluding all the tailing elements of a given list which\n * satisfy the supplied predicate function. It passes each value from the right\n * to the supplied predicate function, skipping elements until the predicate\n * function returns a `falsy` value. The predicate function is applied to one argument:\n * *(value)*.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> [a]\n * @sig (a -> Boolean) -> String -> String\n * @param {Function} predicate The function to be called on each element\n * @param {Array} xs The collection to iterate over.\n * @return {Array} A new array without any trailing elements that return `falsy` values from the `predicate`.\n * @see R.takeLastWhile, R.addIndex, R.drop, R.dropWhile\n * @example\n *\n *      const lteThree = x => x <= 3;\n *\n *      R.dropLastWhile(lteThree, [1, 2, 3, 4, 3, 2, 1]); //=> [1, 2, 3, 4]\n *\n *      R.dropLastWhile(x => x !== 'd' , 'Ramda'); //=> 'Ramd'\n */\n\nvar dropLastWhile =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xdropLastWhile, _dropLastWhile));\n\nexport default dropLastWhile;", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XDropRepeatsWith =\n/*#__PURE__*/\nfunction () {\n  function XDropRepeatsWith(pred, xf) {\n    this.xf = xf;\n    this.pred = pred;\n    this.lastValue = undefined;\n    this.seenFirstValue = false;\n  }\n\n  XDropRepeatsWith.prototype['@@transducer/init'] = _xfBase.init;\n  XDropRepeatsWith.prototype['@@transducer/result'] = _xfBase.result;\n\n  XDropRepeatsWith.prototype['@@transducer/step'] = function (result, input) {\n    var sameAsLast = false;\n\n    if (!this.seenFirstValue) {\n      this.seenFirstValue = true;\n    } else if (this.pred(this.lastValue, input)) {\n      sameAsLast = true;\n    }\n\n    this.lastValue = input;\n    return sameAsLast ? result : this.xf['@@transducer/step'](result, input);\n  };\n\n  return XDropRepeatsWith;\n}();\n\nvar _xdropRepeatsWith =\n/*#__PURE__*/\n_curry2(function _xdropRepeatsWith(pred, xf) {\n  return new XDropRepeatsWith(pred, xf);\n});\n\nexport default _xdropRepeatsWith;", "import nth from \"./nth.js\";\n/**\n * Returns the last element of the given list or string.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig [a] -> a | Undefined\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.init, R.head, R.tail\n * @example\n *\n *      R.last(['fi', 'fo', 'fum']); //=> 'fum'\n *      R.last([]); //=> undefined\n *\n *      R.last('abc'); //=> 'c'\n *      R.last(''); //=> ''\n */\n\nvar last =\n/*#__PURE__*/\nnth(-1);\nexport default last;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xdropRepeatsWith from \"./internal/_xdropRepeatsWith.js\";\nimport last from \"./last.js\";\n/**\n * Returns a new list without any consecutively repeating elements. Equality is\n * determined by applying the supplied predicate to each pair of consecutive elements. The\n * first element in a series of equal elements will be preserved.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig ((a, a) -> Boolean) -> [a] -> [a]\n * @param {Function} pred A predicate used to test whether two items are equal.\n * @param {Array} list The array to consider.\n * @return {Array} `list` without repeating elements.\n * @see R.transduce\n * @example\n *\n *      const l = [1, -1, 1, 3, 4, -4, -4, -5, 5, 3, 3];\n *      R.dropRepeatsWith(R.eqBy(Math.abs), l); //=> [1, 3, 4, -5, 3]\n */\n\nvar dropRepeatsWith =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xdropRepeatsWith, function dropRepeatsWith(pred, list) {\n  var result = [];\n  var idx = 1;\n  var len = list.length;\n\n  if (len !== 0) {\n    result[0] = list[0];\n\n    while (idx < len) {\n      if (!pred(last(result), list[idx])) {\n        result[result.length] = list[idx];\n      }\n\n      idx += 1;\n    }\n  }\n\n  return result;\n}));\n\nexport default dropRepeatsWith;", "import _curry1 from \"./internal/_curry1.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xdropRepeatsWith from \"./internal/_xdropRepeatsWith.js\";\nimport dropRepeatsWith from \"./dropRepeatsWith.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns a new list without any consecutively repeating elements.\n * [`R.equals`](#equals) is used to determine equality.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig [a] -> [a]\n * @param {Array} list The array to consider.\n * @return {Array} `list` without repeating elements.\n * @see R.transduce\n * @example\n *\n *     R.dropRepeats([1, 1, 1, 2, 3, 4, 4, 2, 2]); //=> [1, 2, 3, 4, 2]\n */\n\nvar dropRepeats =\n/*#__PURE__*/\n_curry1(\n/*#__PURE__*/\n_dispatchable([],\n/*#__PURE__*/\n_xdropRepeatsWith(equals),\n/*#__PURE__*/\ndropRepeatsWith(equals)));\n\nexport default dropRepeats;", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XDropWhile =\n/*#__PURE__*/\nfunction () {\n  function XDropWhile(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XDropWhile.prototype['@@transducer/init'] = _xfBase.init;\n  XDropWhile.prototype['@@transducer/result'] = _xfBase.result;\n\n  XDropWhile.prototype['@@transducer/step'] = function (result, input) {\n    if (this.f) {\n      if (this.f(input)) {\n        return result;\n      }\n\n      this.f = null;\n    }\n\n    return this.xf['@@transducer/step'](result, input);\n  };\n\n  return XDropWhile;\n}();\n\nvar _xdropWhile =\n/*#__PURE__*/\n_curry2(function _xdropWhile(f, xf) {\n  return new XDropWhile(f, xf);\n});\n\nexport default _xdropWhile;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xdropWhile from \"./internal/_xdropWhile.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns a new list excluding the leading elements of a given list which\n * satisfy the supplied predicate function. It passes each value to the supplied\n * predicate function, skipping elements while the predicate function returns\n * `true`. The predicate function is applied to one argument: *(value)*.\n *\n * Dispatches to the `dropWhile` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> [a]\n * @sig (a -> Boolean) -> String -> String\n * @param {Function} fn The function called per iteration.\n * @param {Array} xs The collection to iterate over.\n * @return {Array} A new array.\n * @see R.takeWhile, R.transduce, R.addIndex\n * @example\n *\n *      const lteTwo = x => x <= 2;\n *\n *      R.dropWhile(lteTwo, [1, 2, 3, 4, 3, 2, 1]); //=> [3, 4, 3, 2, 1]\n *\n *      R.dropWhile(x => x !== 'd' , 'Ramda'); //=> 'da'\n */\n\nvar dropWhile =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['dropWhile'], _xdropWhile, function dropWhile(pred, xs) {\n  var idx = 0;\n  var len = xs.length;\n\n  while (idx < len && pred(xs[idx])) {\n    idx += 1;\n  }\n\n  return slice(idx, Infinity, xs);\n}));\n\nexport default dropWhile;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns the first argument if it is truthy, otherwise the second argument.\n * Acts as the boolean `or` statement if both inputs are `Boolean`s.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig a -> b -> a | b\n * @param {Any} a\n * @param {Any} b\n * @return {Any}\n * @see R.either, R.and\n * @example\n *\n *      R.or(true, true); //=> true\n *      R.or(true, false); //=> true\n *      R.or(false, true); //=> true\n *      R.or(false, false); //=> false\n */\n\nvar or =\n/*#__PURE__*/\n_curry2(function or(a, b) {\n  return a || b;\n});\n\nexport default or;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport lift from \"./lift.js\";\nimport or from \"./or.js\";\n/**\n * A function wrapping calls to the two functions in an `||` operation,\n * returning the result of the first function if it is truth-y and the result\n * of the second function otherwise. Note that this is short-circuited,\n * meaning that the second function will not be invoked if the first returns a\n * truth-y value.\n *\n * In addition to functions, `R.either` also accepts any fantasy-land compatible\n * applicative functor.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category Logic\n * @sig (*... -> Boolean) -> (*... -> Boolean) -> (*... -> Boolean)\n * @param {Function} f a predicate\n * @param {Function} g another predicate\n * @return {Function} a function that applies its arguments to `f` and `g` and `||`s their outputs together.\n * @see R.both, R.or\n * @example\n *\n *      const gt10 = x => x > 10;\n *      const even = x => x % 2 === 0;\n *      const f = R.either(gt10, even);\n *      f(101); //=> true\n *      f(8); //=> true\n *\n *      R.either(Maybe.Just(false), Maybe.Just(55)); // => Maybe.Just(55)\n *      R.either([false, false, 'a'], [11]) // => [11, 11, \"a\"]\n */\n\nvar either =\n/*#__PURE__*/\n_curry2(function either(f, g) {\n  return _isFunction(f) ? function _either() {\n    return f.apply(this, arguments) || g.apply(this, arguments);\n  } : lift(or)(f, g);\n});\n\nexport default either;", "/**\n * Tests whether or not an object is a typed array.\n *\n * @private\n * @param {*} val The object to test.\n * @return {Boolean} `true` if `val` is a typed array, `false` otherwise.\n * @example\n *\n *      _isTypedArray(new Uint8Array([])); //=> true\n *      _isTypedArray(new Float32Array([])); //=> true\n *      _isTypedArray([]); //=> false\n *      _isTypedArray(null); //=> false\n *      _isTypedArray({}); //=> false\n */\nexport default function _isTypedArray(val) {\n  var type = Object.prototype.toString.call(val);\n  return type === '[object Uint8ClampedArray]' || type === '[object Int8Array]' || type === '[object Uint8Array]' || type === '[object Int16Array]' || type === '[object Uint16Array]' || type === '[object Int32Array]' || type === '[object Uint32Array]' || type === '[object Float32Array]' || type === '[object Float64Array]' || type === '[object BigInt64Array]' || type === '[object BigUint64Array]';\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _isArguments from \"./internal/_isArguments.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _isString from \"./internal/_isString.js\";\nimport _isTypedArray from \"./internal/_isTypedArray.js\";\n/**\n * Returns the empty value of its argument's type. Ramda defines the empty\n * value of Array (`[]`), Object (`{}`), String (`''`),\n * TypedArray (`Uint8Array []`, `Float32Array []`, etc), and Arguments. Other\n * types are supported if they define `<Type>.empty`,\n * `<Type>.prototype.empty` or implement the\n * [FantasyLand Monoid spec](https://github.com/fantasyland/fantasy-land#monoid).\n *\n * Dispatches to the `empty` method of the first argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Function\n * @sig a -> a\n * @param {*} x\n * @return {*}\n * @example\n *\n *      R.empty(Just(42));               //=> Nothing()\n *      R.empty([1, 2, 3]);              //=> []\n *      R.empty('unicorns');             //=> ''\n *      R.empty({x: 1, y: 2});           //=> {}\n *      R.empty(Uint8Array.from('123')); //=> Uint8Array []\n */\n\nvar empty =\n/*#__PURE__*/\n_curry1(function empty(x) {\n  return x != null && typeof x['fantasy-land/empty'] === 'function' ? x['fantasy-land/empty']() : x != null && x.constructor != null && typeof x.constructor['fantasy-land/empty'] === 'function' ? x.constructor['fantasy-land/empty']() : x != null && typeof x.empty === 'function' ? x.empty() : x != null && x.constructor != null && typeof x.constructor.empty === 'function' ? x.constructor.empty() : _isArray(x) ? [] : _isString(x) ? '' : _isObject(x) ? {} : _isArguments(x) ? function () {\n    return arguments;\n  }() : _isTypedArray(x) ? x.constructor.from('') : void 0 // else\n  ;\n});\n\nexport default empty;", "import _curry2 from \"./internal/_curry2.js\";\nimport drop from \"./drop.js\";\n/**\n * Returns a new list containing the last `n` elements of the given list.\n * If `n > list.length`, returns a list of `list.length` elements.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category List\n * @sig Number -> [a] -> [a]\n * @sig Number -> String -> String\n * @param {Number} n The number of elements to return.\n * @param {Array} xs The collection to consider.\n * @return {Array}\n * @see R.dropLast\n * @example\n *\n *      R.takeLast(1, ['foo', 'bar', 'baz']); //=> ['baz']\n *      R.takeLast(2, ['foo', 'bar', 'baz']); //=> ['bar', 'baz']\n *      R.takeLast(3, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n *      R.takeLast(4, ['foo', 'bar', 'baz']); //=> ['foo', 'bar', 'baz']\n *      R.takeLast(3, 'ramda');               //=> 'mda'\n */\n\nvar takeLast =\n/*#__PURE__*/\n_curry2(function takeLast(n, xs) {\n  return drop(n >= 0 ? xs.length - n : 0, xs);\n});\n\nexport default takeLast;", "import _curry2 from \"./internal/_curry2.js\";\nimport equals from \"./equals.js\";\nimport takeLast from \"./takeLast.js\";\n/**\n * Checks if a list ends with the provided sublist.\n *\n * Similarly, checks if a string ends with the provided substring.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category List\n * @sig [a] -> [a] -> Boolean\n * @sig String -> String -> Boolean\n * @param {*} suffix\n * @param {*} list\n * @return {Boolean}\n * @see R.startsWith\n * @example\n *\n *      R.endsWith('c', 'abc')                //=> true\n *      R.endsWith('b', 'abc')                //=> false\n *      R.endsWith(['c'], ['a', 'b', 'c'])    //=> true\n *      R.endsWith(['b'], ['a', 'b', 'c'])    //=> false\n */\n\nvar endsWith =\n/*#__PURE__*/\n_curry2(function (suffix, list) {\n  return equals(takeLast(suffix.length, list), suffix);\n});\n\nexport default endsWith;", "import _curry3 from \"./internal/_curry3.js\";\nimport equals from \"./equals.js\";\n/**\n * Takes a function and two values in its domain and returns `true` if the\n * values map to the same value in the codomain; `false` otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.18.0\n * @category Relation\n * @sig (a -> b) -> a -> a -> Boolean\n * @param {Function} f\n * @param {*} x\n * @param {*} y\n * @return {Boolean}\n * @example\n *\n *      R.eqBy(Math.abs, 5, -5); //=> true\n */\n\nvar eqBy =\n/*#__PURE__*/\n_curry3(function eqBy(f, x, y) {\n  return equals(f(x), f(y));\n});\n\nexport default eqBy;", "import _curry3 from \"./internal/_curry3.js\";\nimport equals from \"./equals.js\";\n/**\n * Reports whether two objects have the same value, in [`R.equals`](#equals)\n * terms, for the specified property. Useful as a curried predicate.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig k -> {k: v} -> {k: v} -> Boolean\n * @param {String} prop The name of the property to compare\n * @param {Object} obj1\n * @param {Object} obj2\n * @return {Boolean}\n *\n * @example\n *\n *      const o1 = { a: 1, b: 2, c: 3, d: 4 };\n *      const o2 = { a: 10, b: 20, c: 3, d: 40 };\n *      R.eqProps('a', o1, o2); //=> false\n *      R.eqProps('c', o1, o2); //=> true\n */\n\nvar eqProps =\n/*#__PURE__*/\n_curry3(function eqProps(prop, obj1, obj2) {\n  return equals(obj1[prop], obj2[prop]);\n});\n\nexport default eqProps;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isObject from \"./internal/_isObject.js\";\n/**\n * Creates a new object by recursively evolving a shallow copy of `object`,\n * according to the `transformation` functions. All non-primitive properties\n * are copied by reference.\n *\n * A `transformation` function will not be invoked if its corresponding key\n * does not exist in the evolved object.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig {k: (v -> v)} -> {k: v} -> {k: v}\n * @param {Object} transformations The object specifying transformation functions to apply\n *        to the object.\n * @param {Object} object The object to be transformed.\n * @return {Object} The transformed object.\n * @example\n *\n *      const tomato = {firstName: '  Tomato ', data: {elapsed: 100, remaining: 1400}, id:123};\n *      const transformations = {\n *        firstName: R.trim,\n *        lastName: R.trim, // Will not get invoked.\n *        data: {elapsed: R.add(1), remaining: R.add(-1)}\n *      };\n *      R.evolve(transformations, tomato); //=> {firstName: 'Tomato', data: {elapsed: 101, remaining: 1399}, id:123}\n */\n\nvar evolve =\n/*#__PURE__*/\n_curry2(function evolve(transformations, object) {\n  if (!_isObject(object) && !_isArray(object)) {\n    return object;\n  }\n\n  var result = object instanceof Array ? [] : {};\n  var transformation, key, type;\n\n  for (key in object) {\n    transformation = transformations[key];\n    type = typeof transformation;\n    result[key] = type === 'function' ? transformation(object[key]) : transformation && type === 'object' ? evolve(transformation, object[key]) : object[key];\n  }\n\n  return result;\n});\n\nexport default evolve;", "import _curry2 from \"./_curry2.js\";\nimport _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFind =\n/*#__PURE__*/\nfunction () {\n  function XFind(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.found = false;\n  }\n\n  XFind.prototype['@@transducer/init'] = _xfBase.init;\n\n  XFind.prototype['@@transducer/result'] = function (result) {\n    if (!this.found) {\n      result = this.xf['@@transducer/step'](result, void 0);\n    }\n\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XFind.prototype['@@transducer/step'] = function (result, input) {\n    if (this.f(input)) {\n      this.found = true;\n      result = _reduced(this.xf['@@transducer/step'](result, input));\n    }\n\n    return result;\n  };\n\n  return XFind;\n}();\n\nvar _xfind =\n/*#__PURE__*/\n_curry2(function _xfind(f, xf) {\n  return new XFind(f, xf);\n});\n\nexport default _xfind;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xfind from \"./internal/_xfind.js\";\n/**\n * Returns the first element of the list which matches the predicate, or\n * `undefined` if no element matches.\n *\n * Dispatches to the `find` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> a | undefined\n * @param {Function} fn The predicate function used to determine if the element is the\n *        desired one.\n * @param {Array} list The array to consider.\n * @return {Object} The element found, or `undefined`.\n * @see R.transduce\n * @example\n *\n *      const xs = [{a: 1}, {a: 2}, {a: 3}];\n *      R.find(R.propEq('a', 2))(xs); //=> {a: 2}\n *      R.find(R.propEq('a', 4))(xs); //=> undefined\n */\n\nvar find =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['find'], _xfind, function find(fn, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      return list[idx];\n    }\n\n    idx += 1;\n  }\n}));\n\nexport default find;", "import _curry2 from \"./_curry2.js\";\nimport _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFindIndex =\n/*#__PURE__*/\nfunction () {\n  function XFindIndex(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.idx = -1;\n    this.found = false;\n  }\n\n  XFindIndex.prototype['@@transducer/init'] = _xfBase.init;\n\n  XFindIndex.prototype['@@transducer/result'] = function (result) {\n    if (!this.found) {\n      result = this.xf['@@transducer/step'](result, -1);\n    }\n\n    return this.xf['@@transducer/result'](result);\n  };\n\n  XFindIndex.prototype['@@transducer/step'] = function (result, input) {\n    this.idx += 1;\n\n    if (this.f(input)) {\n      this.found = true;\n      result = _reduced(this.xf['@@transducer/step'](result, this.idx));\n    }\n\n    return result;\n  };\n\n  return XFindIndex;\n}();\n\nvar _xfindIndex =\n/*#__PURE__*/\n_curry2(function _xfindIndex(f, xf) {\n  return new XFindIndex(f, xf);\n});\n\nexport default _xfindIndex;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xfindIndex from \"./internal/_xfindIndex.js\";\n/**\n * Returns the index of the first element of the list which matches the\n * predicate, or `-1` if no element matches.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category List\n * @sig (a -> Boolean) -> [a] -> Number\n * @param {Function} fn The predicate function used to determine if the element is the\n * desired one.\n * @param {Array} list The array to consider.\n * @return {Number} The index of the element found, or `-1`.\n * @see R.transduce, R.indexOf\n * @example\n *\n *      const xs = [{a: 1}, {a: 2}, {a: 3}];\n *      R.findIndex(R.propEq('a', 2))(xs); //=> 1\n *      R.findIndex(R.propEq('a', 4))(xs); //=> -1\n */\n\nvar findIndex =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xfindIndex, function findIndex(fn, list) {\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    if (fn(list[idx])) {\n      return idx;\n    }\n\n    idx += 1;\n  }\n\n  return -1;\n}));\n\nexport default findIndex;", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFindLast =\n/*#__PURE__*/\nfunction () {\n  function XFindLast(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XFindLast.prototype['@@transducer/init'] = _xfBase.init;\n\n  XFindLast.prototype['@@transducer/result'] = function (result) {\n    return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.last));\n  };\n\n  XFindLast.prototype['@@transducer/step'] = function (result, input) {\n    if (this.f(input)) {\n      this.last = input;\n    }\n\n    return result;\n  };\n\n  return XFindLast;\n}();\n\nvar _xfindLast =\n/*#__PURE__*/\n_curry2(function _xfindLast(f, xf) {\n  return new XFindLast(f, xf);\n});\n\nexport default _xfindLast;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xfindLast from \"./internal/_xfindLast.js\";\n/**\n * Returns the last element of the list which matches the predicate, or\n * `undefined` if no element matches.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category List\n * @sig (a -> Boolean) -> [a] -> a | undefined\n * @param {Function} fn The predicate function used to determine if the element is the\n * desired one.\n * @param {Array} list The array to consider.\n * @return {Object} The element found, or `undefined`.\n * @see R.transduce\n * @example\n *\n *      const xs = [{a: 1, b: 0}, {a:1, b: 1}];\n *      R.findLast(R.propEq('a', 1))(xs); //=> {a: 1, b: 1}\n *      R.findLast(R.propEq('a', 4))(xs); //=> undefined\n */\n\nvar findLast =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xfindLast, function findLast(fn, list) {\n  var idx = list.length - 1;\n\n  while (idx >= 0) {\n    if (fn(list[idx])) {\n      return list[idx];\n    }\n\n    idx -= 1;\n  }\n}));\n\nexport default findLast;", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XFindLastIndex =\n/*#__PURE__*/\nfunction () {\n  function XFindLastIndex(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.idx = -1;\n    this.lastIdx = -1;\n  }\n\n  XFindLastIndex.prototype['@@transducer/init'] = _xfBase.init;\n\n  XFindLastIndex.prototype['@@transducer/result'] = function (result) {\n    return this.xf['@@transducer/result'](this.xf['@@transducer/step'](result, this.lastIdx));\n  };\n\n  XFindLastIndex.prototype['@@transducer/step'] = function (result, input) {\n    this.idx += 1;\n\n    if (this.f(input)) {\n      this.lastIdx = this.idx;\n    }\n\n    return result;\n  };\n\n  return XFindLastIndex;\n}();\n\nvar _xfindLastIndex =\n/*#__PURE__*/\n_curry2(function _xfindLastIndex(f, xf) {\n  return new XFindLastIndex(f, xf);\n});\n\nexport default _xfindLastIndex;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xfindLastIndex from \"./internal/_xfindLastIndex.js\";\n/**\n * Returns the index of the last element of the list which matches the\n * predicate, or `-1` if no element matches.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category List\n * @sig (a -> Boolean) -> [a] -> Number\n * @param {Function} fn The predicate function used to determine if the element is the\n * desired one.\n * @param {Array} list The array to consider.\n * @return {Number} The index of the element found, or `-1`.\n * @see R.transduce, R.lastIndexOf\n * @example\n *\n *      const xs = [{a: 1, b: 0}, {a:1, b: 1}];\n *      R.findLastIndex(R.propEq('a', 1))(xs); //=> 1\n *      R.findLastIndex(R.propEq('a', 4))(xs); //=> -1\n */\n\nvar findLastIndex =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xfindLastIndex, function findLastIndex(fn, list) {\n  var idx = list.length - 1;\n\n  while (idx >= 0) {\n    if (fn(list[idx])) {\n      return idx;\n    }\n\n    idx -= 1;\n  }\n\n  return -1;\n}));\n\nexport default findLastIndex;", "import _curry1 from \"./internal/_curry1.js\";\nimport _makeFlat from \"./internal/_makeFlat.js\";\n/**\n * Returns a new list by pulling every item out of it (and all its sub-arrays)\n * and putting them in a new array, depth-first.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [b]\n * @param {Array} list The array to consider.\n * @return {Array} The flattened list.\n * @see R.unnest\n * @example\n *\n *      R.flatten([1, 2, [3, 4], 5, [6, [7, 8, [9, [10, 11], 12]]]]);\n *      //=> [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12]\n */\n\nvar flatten =\n/*#__PURE__*/\n_curry1(\n/*#__PURE__*/\n_makeFlat(true));\n\nexport default flatten;", "import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Returns a new function much like the supplied one, except that the first two\n * arguments' order is reversed.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig ((a, b, c, ...) -> z) -> (b -> a -> c -> ... -> z)\n * @param {Function} fn The function to invoke with its first two parameters reversed.\n * @return {*} The result of invoking `fn` with its first two parameters' order reversed.\n * @example\n *\n *      const mergeThree = (a, b, c) => [].concat(a, b, c);\n *\n *      mergeThree(1, 2, 3); //=> [1, 2, 3]\n *\n *      R.flip(mergeThree)(1, 2, 3); //=> [2, 1, 3]\n * @symb R.flip(f)(a, b, c) = f(b, a, c)\n */\n\nvar flip =\n/*#__PURE__*/\n_curry1(function flip(fn) {\n  return curryN(fn.length, function (a, b) {\n    var args = Array.prototype.slice.call(arguments, 0);\n    args[0] = b;\n    args[1] = a;\n    return fn.apply(this, args);\n  });\n});\n\nexport default flip;", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Iterate over an input `list`, calling a provided function `fn` for each\n * element in the list.\n *\n * `fn` receives one argument: *(value)*.\n *\n * Note: `R.forEach` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.forEach` method. For more\n * details on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/forEach#Description\n *\n * Also note that, unlike `Array.prototype.forEach`, Ramda's `forEach` returns\n * the original array. In some libraries this function is named `each`.\n *\n * Dispatches to the `forEach` method of the second argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category List\n * @sig (a -> *) -> [a] -> [a]\n * @param {Function} fn The function to invoke. Receives one argument, `value`.\n * @param {Array} list The list to iterate over.\n * @return {Array} The original list.\n * @see R.addIndex\n * @example\n *\n *      const printXPlusFive = x => console.log(x + 5);\n *      R.forEach(printXPlusFive, [1, 2, 3]); //=> [1, 2, 3]\n *      // logs 6\n *      // logs 7\n *      // logs 8\n * @symb R.forEach(f, [a, b, c]) = [a, b, c]\n */\n\nvar forEach =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_checkForMethod('forEach', function forEach(fn, list) {\n  var len = list.length;\n  var idx = 0;\n\n  while (idx < len) {\n    fn(list[idx]);\n    idx += 1;\n  }\n\n  return list;\n}));\n\nexport default forEach;", "import _curry2 from \"./internal/_curry2.js\";\nimport keys from \"./keys.js\";\n/**\n * Iterate over an input `object`, calling a provided function `fn` for each\n * key and value in the object.\n *\n * `fn` receives three argument: *(value, key, obj)*.\n *\n * @func\n * @memberOf R\n * @since v0.23.0\n * @category Object\n * @sig ((a, String, StrMap a) -> Any) -> StrMap a -> StrMap a\n * @param {Function} fn The function to invoke. Receives three argument, `value`, `key`, `obj`.\n * @param {Object} obj The object to iterate over.\n * @return {Object} The original object.\n * @example\n *\n *      const printKeyConcatValue = (value, key) => console.log(key + ':' + value);\n *      R.forEachObjIndexed(printKeyConcatValue, {x: 1, y: 2}); //=> {x: 1, y: 2}\n *      // logs x:1\n *      // logs y:2\n * @symb R.forEachObjIndexed(f, {x: a, y: b}) = {x: a, y: b}\n */\n\nvar forEachObjIndexed =\n/*#__PURE__*/\n_curry2(function forEachObjIndexed(fn, obj) {\n  var keyList = keys(obj);\n  var idx = 0;\n\n  while (idx < keyList.length) {\n    var key = keyList[idx];\n    fn(obj[key], key, obj);\n    idx += 1;\n  }\n\n  return obj;\n});\n\nexport default forEachObjIndexed;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Creates a new object from a list key-value pairs. If a key appears in\n * multiple pairs, the rightmost pair is included in the object.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig [[k,v]] -> {k: v}\n * @param {Array} pairs An array of two-element arrays that will be the keys and values of the output object.\n * @return {Object} The object made by pairing up `keys` and `values`.\n * @see R.toPairs, R.pair\n * @example\n *\n *      R.fromPairs([['a', 1], ['b', 2], ['c', 3]]); //=> {a: 1, b: 2, c: 3}\n */\n\nvar fromPairs =\n/*#__PURE__*/\n_curry1(function fromPairs(pairs) {\n  var result = {};\n  var idx = 0;\n\n  while (idx < pairs.length) {\n    result[pairs[idx][0]] = pairs[idx][1];\n    idx += 1;\n  }\n\n  return result;\n});\n\nexport default fromPairs;", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport reduceBy from \"./reduceBy.js\";\n/**\n * Splits a list into sub-lists stored in an object, based on the result of\n * calling a key-returning function on each element, and grouping the\n * results according to values returned.\n *\n * Dispatches to the `groupBy` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx a => (b -> a) -> [b] -> {a: [b]}\n * @param {Function} fn Function :: a -> Idx\n * @param {Array} list The array to group\n * @return {Object} An object with the output of `fn` for keys, mapped to arrays of elements\n *         that produced that key when passed to `fn`.\n * @see R.reduceBy, R.transduce, R.indexBy\n * @example\n *\n *      const byGrade = R.groupBy(function(student) {\n *        const score = student.score;\n *        return score < 65 ? 'F' :\n *               score < 70 ? 'D' :\n *               score < 80 ? 'C' :\n *               score < 90 ? 'B' : 'A';\n *      });\n *      const students = [{name: 'Abby', score: 84},\n *                      {name: 'Eddy', score: 58},\n *                      // ...\n *                      {name: 'Jack', score: 69}];\n *      byGrade(students);\n *      // {\n *      //   'A': [{name: 'Dianne', score: 99}],\n *      //   'B': [{name: 'Abby', score: 84}]\n *      //   // ...,\n *      //   'F': [{name: 'Eddy', score: 58}]\n *      // }\n */\n\nvar groupBy =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_checkForMethod('groupBy',\n/*#__PURE__*/\nreduceBy(function (acc, item) {\n  acc.push(item);\n  return acc;\n}, [])));\n\nexport default groupBy;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Takes a list and returns a list of lists where each sublist's elements are\n * all satisfied pairwise comparison according to the provided function.\n * Only adjacent elements are passed to the comparison function.\n *\n * @func\n * @memberOf R\n * @since v0.21.0\n * @category List\n * @sig ((a, a) \u2192 Boolean) \u2192 [a] \u2192 [[a]]\n * @param {Function} fn Function for determining whether two given (adjacent)\n *        elements should be in the same group\n * @param {Array} list The array to group. Also accepts a string, which will be\n *        treated as a list of characters.\n * @return {List} A list that contains sublists of elements,\n *         whose concatenations are equal to the original list.\n * @example\n *\n * R.groupWith(R.equals, [0, 1, 1, 2, 3, 5, 8, 13, 21])\n * //=> [[0], [1, 1], [2], [3], [5], [8], [13], [21]]\n *\n * R.groupWith((a, b) => a + 1 === b, [0, 1, 1, 2, 3, 5, 8, 13, 21])\n * //=> [[0, 1], [1, 2, 3], [5], [8], [13], [21]]\n *\n * R.groupWith((a, b) => a % 2 === b % 2, [0, 1, 1, 2, 3, 5, 8, 13, 21])\n * //=> [[0], [1, 1], [2], [3, 5], [8], [13, 21]]\n *\n * const isVowel = R.test(/^[aeiou]$/i);\n * R.groupWith(R.eqBy(isVowel), 'aestiou')\n * //=> ['ae', 'st', 'iou']\n */\n\nvar groupWith =\n/*#__PURE__*/\n_curry2(function (fn, list) {\n  var res = [];\n  var idx = 0;\n  var len = list.length;\n\n  while (idx < len) {\n    var nextidx = idx + 1;\n\n    while (nextidx < len && fn(list[nextidx - 1], list[nextidx])) {\n      nextidx += 1;\n    }\n\n    res.push(list.slice(idx, nextidx));\n    idx = nextidx;\n  }\n\n  return res;\n});\n\nexport default groupWith;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns `true` if the first argument is greater than the second; `false`\n * otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @see R.lt\n * @example\n *\n *      R.gt(2, 1); //=> true\n *      R.gt(2, 2); //=> false\n *      R.gt(2, 3); //=> false\n *      R.gt('a', 'z'); //=> false\n *      R.gt('z', 'a'); //=> true\n */\n\nvar gt =\n/*#__PURE__*/\n_curry2(function gt(a, b) {\n  return a > b;\n});\n\nexport default gt;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns `true` if the first argument is greater than or equal to the second;\n * `false` otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> Boolean\n * @param {Number} a\n * @param {Number} b\n * @return {Boolean}\n * @see R.lte\n * @example\n *\n *      R.gte(2, 1); //=> true\n *      R.gte(2, 2); //=> true\n *      R.gte(2, 3); //=> false\n *      R.gte('a', 'z'); //=> false\n *      R.gte('z', 'a'); //=> true\n */\n\nvar gte =\n/*#__PURE__*/\n_curry2(function gte(a, b) {\n  return a >= b;\n});\n\nexport default gte;", "import _curry2 from \"./internal/_curry2.js\";\nimport _has from \"./internal/_has.js\";\nimport isNil from \"./isNil.js\";\n/**\n * Returns whether or not a path exists in an object. Only the object's\n * own properties are checked.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> {a} -> Boolean\n * @param {Array} path The path to use.\n * @param {Object} obj The object to check the path in.\n * @return {Boolean} Whether the path exists.\n * @see R.has\n * @example\n *\n *      R.hasPath(['a', 'b'], {a: {b: 2}});         // => true\n *      R.hasPath(['a', 'b'], {a: {b: undefined}}); // => true\n *      R.hasPath(['a', 'b'], {a: {c: 2}});         // => false\n *      R.hasPath(['a', 'b'], {});                  // => false\n */\n\nvar hasPath =\n/*#__PURE__*/\n_curry2(function hasPath(_path, obj) {\n  if (_path.length === 0 || isNil(obj)) {\n    return false;\n  }\n\n  var val = obj;\n  var idx = 0;\n\n  while (idx < _path.length) {\n    if (!isNil(val) && _has(_path[idx], val)) {\n      val = val[_path[idx]];\n      idx += 1;\n    } else {\n      return false;\n    }\n  }\n\n  return true;\n});\n\nexport default hasPath;", "import _curry2 from \"./internal/_curry2.js\";\nimport hasPath from \"./hasPath.js\";\n/**\n * Returns whether or not an object has an own property with the specified name\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Object\n * @sig s -> {s: x} -> Boolean\n * @param {String} prop The name of the property to check for.\n * @param {Object} obj The object to query.\n * @return {Boolean} Whether the property exists.\n * @example\n *\n *      const hasName = R.has('name');\n *      hasName({name: 'alice'});   //=> true\n *      hasName({name: 'bob'});     //=> true\n *      hasName({});                //=> false\n *\n *      const point = {x: 0, y: 0};\n *      const pointHas = R.has(R.__, point);\n *      pointHas('x');  //=> true\n *      pointHas('y');  //=> true\n *      pointHas('z');  //=> false\n */\n\nvar has =\n/*#__PURE__*/\n_curry2(function has(prop, obj) {\n  return hasPath([prop], obj);\n});\n\nexport default has;", "import _curry2 from \"./internal/_curry2.js\";\nimport isNil from \"./isNil.js\";\n/**\n * Returns whether or not an object or its prototype chain has a property with\n * the specified name\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Object\n * @sig s -> {s: x} -> Boolean\n * @param {String} prop The name of the property to check for.\n * @param {Object} obj The object to query.\n * @return {Boolean} Whether the property exists.\n * @example\n *\n *      function Rectangle(width, height) {\n *        this.width = width;\n *        this.height = height;\n *      }\n *      Rectangle.prototype.area = function() {\n *        return this.width * this.height;\n *      };\n *\n *      const square = new Rectangle(2, 2);\n *      R.hasIn('width', square);  //=> true\n *      R.hasIn('area', square);  //=> true\n */\n\nvar hasIn =\n/*#__PURE__*/\n_curry2(function hasIn(prop, obj) {\n  if (isNil(obj)) {\n    return false;\n  }\n\n  return prop in obj;\n});\n\nexport default hasIn;", "import _objectIs from \"./internal/_objectIs.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns true if its arguments are identical, false otherwise. Values are\n * identical if they reference the same memory. `NaN` is identical to `NaN`;\n * `0` and `-0` are not identical.\n *\n * Note this is merely a curried version of ES6 `Object.is`.\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category Relation\n * @sig a -> a -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @example\n *\n *      const o = {};\n *      R.identical(o, o); //=> true\n *      R.identical(1, 1); //=> true\n *      R.identical(1, '1'); //=> false\n *      R.identical([], []); //=> false\n *      R.identical(0, -0); //=> false\n *      R.identical(NaN, NaN); //=> true\n */\n\nvar identical =\n/*#__PURE__*/\n_curry2(_objectIs);\n\nexport default identical;", "import _curry3 from \"./internal/_curry3.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Creates a function that will process either the `onTrue` or the `onFalse`\n * function depending upon the result of the `condition` predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Logic\n * @sig (*... -> Boolean) -> (*... -> *) -> (*... -> *) -> (*... -> *)\n * @param {Function} condition A predicate function\n * @param {Function} onTrue A function to invoke when the `condition` evaluates to a truthy value.\n * @param {Function} onFalse A function to invoke when the `condition` evaluates to a falsy value.\n * @return {Function} A new function that will process either the `onTrue` or the `onFalse`\n *                    function depending upon the result of the `condition` predicate.\n * @see R.unless, R.when, R.cond\n * @example\n *\n *      const incCount = R.ifElse(\n *        R.has('count'),\n *        R.over(R.lensProp('count'), R.inc),\n *        R.assoc('count', 1)\n *      );\n *      incCount({ count: 1 }); //=> { count: 2 }\n *      incCount({});           //=> { count: 1 }\n */\n\nvar ifElse =\n/*#__PURE__*/\n_curry3(function ifElse(condition, onTrue, onFalse) {\n  return curryN(Math.max(condition.length, onTrue.length, onFalse.length), function _ifElse() {\n    return condition.apply(this, arguments) ? onTrue.apply(this, arguments) : onFalse.apply(this, arguments);\n  });\n});\n\nexport default ifElse;", "import add from \"./add.js\";\n/**\n * Increments its argument.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Math\n * @sig Number -> Number\n * @param {Number} n\n * @return {Number} n + 1\n * @see R.dec\n * @example\n *\n *      R.inc(42); //=> 43\n */\n\nvar inc =\n/*#__PURE__*/\nadd(1);\nexport default inc;", "import _includes from \"./internal/_includes.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns `true` if the specified value is equal, in [`R.equals`](#equals)\n * terms, to at least one element of the given list; `false` otherwise.\n * Also works with strings.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category List\n * @sig a -> [a] -> Boolean\n * @param {Object} a The item to compare against.\n * @param {Array} list The array to consider.\n * @return {Boolean} `true` if an equivalent item is in the list, `false` otherwise.\n * @see R.any\n * @example\n *\n *      R.includes(3, [1, 2, 3]); //=> true\n *      R.includes(4, [1, 2, 3]); //=> false\n *      R.includes({ name: 'Fred' }, [{ name: 'Fred' }]); //=> true\n *      R.includes([42], [[42]]); //=> true\n *      R.includes('ba', 'banana'); //=>true\n */\n\nvar includes =\n/*#__PURE__*/\n_curry2(_includes);\n\nexport default includes;", "import reduceBy from \"./reduceBy.js\";\n/**\n * Given a function that generates a key, turns a list of objects into an\n * object indexing the objects by the given key. Note that if multiple\n * objects generate the same value for the indexing key only the last value\n * will be included in the generated object.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @typedefn Idx = String | Int | Symbol\n * @sig Idx a => (b -> a) -> [b] -> {a: b}\n * @param {Function} fn Function :: a -> Idx\n * @param {Array} array The array of objects to index\n * @return {Object} An object indexing each array element by the given property.\n * @see R.groupBy\n * @example\n *\n *      const list = [{id: 'xyz', title: 'A'}, {id: 'abc', title: 'B'}];\n *      R.indexBy(R.prop('id'), list);\n *      //=> {abc: {id: 'abc', title: 'B'}, xyz: {id: 'xyz', title: 'A'}}\n */\n\nvar indexBy =\n/*#__PURE__*/\nreduceBy(function (acc, elem) {\n  return elem;\n}, null);\nexport default indexBy;", "import _curry2 from \"./internal/_curry2.js\";\nimport _indexOf from \"./internal/_indexOf.js\";\nimport _isArray from \"./internal/_isArray.js\";\n/**\n * Returns the position of the first occurrence of an item in an array, or -1\n * if the item is not included in the array. [`R.equals`](#equals) is used to\n * determine equality.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> Number\n * @param {*} target The item to find.\n * @param {Array} xs The array to search in.\n * @return {Number} the index of the target, or -1 if the target is not found.\n * @see R.lastIndexOf, R.findIndex\n * @example\n *\n *      R.indexOf(3, [1,2,3,4]); //=> 2\n *      R.indexOf(10, [1,2,3,4]); //=> -1\n */\n\nvar indexOf =\n/*#__PURE__*/\n_curry2(function indexOf(target, xs) {\n  return typeof xs.indexOf === 'function' && !_isArray(xs) ? xs.indexOf(target) : _indexOf(xs, target, 0);\n});\n\nexport default indexOf;", "import slice from \"./slice.js\";\n/**\n * Returns all but the last element of the given list or string.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category List\n * @sig [a] -> [a]\n * @sig String -> String\n * @param {*} list\n * @return {*}\n * @see R.last, R.head, R.tail\n * @example\n *\n *      R.init([1, 2, 3]);  //=> [1, 2]\n *      R.init([1, 2]);     //=> [1]\n *      R.init([1]);        //=> []\n *      R.init([]);         //=> []\n *\n *      R.init('abc');  //=> 'ab'\n *      R.init('ab');   //=> 'a'\n *      R.init('a');    //=> ''\n *      R.init('');     //=> ''\n */\n\nvar init =\n/*#__PURE__*/\nslice(0, -1);\nexport default init;", "import _includesWith from \"./internal/_includesWith.js\";\nimport _curry3 from \"./internal/_curry3.js\";\nimport _filter from \"./internal/_filter.js\";\n/**\n * Takes a predicate `pred`, a list `xs`, and a list `ys`, and returns a list\n * `xs'` comprising each of the elements of `xs` which is equal to one or more\n * elements of `ys` according to `pred`.\n *\n * `pred` must be a binary function expecting an element from each list.\n *\n * `xs`, `ys`, and `xs'` are treated as sets, semantically, so ordering should\n * not be significant, but since `xs'` is ordered the implementation guarantees\n * that its values are in the same order as they appear in `xs`. Duplicates are\n * not removed, so `xs'` may contain duplicates if `xs` contains duplicates.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Relation\n * @sig ((a, b) -> Boolean) -> [a] -> [b] -> [a]\n * @param {Function} pred\n * @param {Array} xs\n * @param {Array} ys\n * @return {Array}\n * @see R.intersection\n * @example\n *\n *      R.innerJoin(\n *        (record, id) => record.id === id,\n *        [{id: 824, name: 'Richie Furay'},\n *         {id: 956, name: 'Dewey Martin'},\n *         {id: 313, name: 'Bruce Palmer'},\n *         {id: 456, name: 'Stephen Stills'},\n *         {id: 177, name: 'Neil Young'}],\n *        [177, 456, 999]\n *      );\n *      //=> [{id: 456, name: 'Stephen Stills'}, {id: 177, name: 'Neil Young'}]\n */\n\nvar innerJoin =\n/*#__PURE__*/\n_curry3(function innerJoin(pred, xs, ys) {\n  return _filter(function (x) {\n    return _includesWith(pred, x, ys);\n  }, xs);\n});\n\nexport default innerJoin;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Inserts the supplied element into the list, at the specified `index`. _Note that\n\n * this is not destructive_: it returns a copy of the list with the changes.\n * <small>No lists have been harmed in the application of this function.</small>\n *\n * @func\n * @memberOf R\n * @since v0.2.2\n * @category List\n * @sig Number -> a -> [a] -> [a]\n * @param {Number} index The position to insert the element\n * @param {*} elt The element to insert into the Array\n * @param {Array} list The list to insert into\n * @return {Array} A new Array with `elt` inserted at `index`.\n * @example\n *\n *      R.insert(2, 'x', [1,2,3,4]); //=> [1,2,'x',3,4]\n */\n\nvar insert =\n/*#__PURE__*/\n_curry3(function insert(idx, elt, list) {\n  idx = idx < list.length && idx >= 0 ? idx : list.length;\n  var result = Array.prototype.slice.call(list, 0);\n  result.splice(idx, 0, elt);\n  return result;\n});\n\nexport default insert;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Inserts the sub-list into the list, at the specified `index`. _Note that this is not\n * destructive_: it returns a copy of the list with the changes.\n * <small>No lists have been harmed in the application of this function.</small>\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category List\n * @sig Number -> [a] -> [a] -> [a]\n * @param {Number} index The position to insert the sub-list\n * @param {Array} elts The sub-list to insert into the Array\n * @param {Array} list The list to insert the sub-list into\n * @return {Array} A new Array with `elts` inserted starting at `index`.\n * @example\n *\n *      R.insertAll(2, ['x','y','z'], [1,2,3,4]); //=> [1,2,'x','y','z',3,4]\n */\n\nvar insertAll =\n/*#__PURE__*/\n_curry3(function insertAll(idx, elts, list) {\n  idx = idx < list.length && idx >= 0 ? idx : list.length;\n  return [].concat(Array.prototype.slice.call(list, 0, idx), elts, Array.prototype.slice.call(list, idx));\n});\n\nexport default insertAll;", "import _curry2 from \"./_curry2.js\";\nimport _Set from \"./_Set.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XUniqBy =\n/*#__PURE__*/\nfunction () {\n  function XUniqBy(f, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.set = new _Set();\n  }\n\n  XUniqBy.prototype['@@transducer/init'] = _xfBase.init;\n  XUniqBy.prototype['@@transducer/result'] = _xfBase.result;\n\n  XUniqBy.prototype['@@transducer/step'] = function (result, input) {\n    return this.set.add(this.f(input)) ? this.xf['@@transducer/step'](result, input) : result;\n  };\n\n  return XUniqBy;\n}();\n\nvar _xuniqBy =\n/*#__PURE__*/\n_curry2(function _xuniqBy(f, xf) {\n  return new XUniqBy(f, xf);\n});\n\nexport default _xuniqBy;", "import _Set from \"./internal/_Set.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xuniqBy from \"./internal/_xuniqBy.js\";\n/**\n * Returns a new list containing only one copy of each element in the original\n * list, based upon the value returned by applying the supplied function to\n * each list element. Prefers the first item if the supplied function produces\n * the same value on two items. [`R.equals`](#equals) is used for comparison.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category List\n * @sig (a -> b) -> [a] -> [a]\n * @param {Function} fn A function used to produce a value to use during comparisons.\n * @param {Array} list The array to consider.\n * @return {Array} The list of unique items.\n * @example\n *\n *      R.uniqBy(Math.abs, [-1, -5, 2, 10, 1, 2]); //=> [-1, -5, 2, 10]\n */\n\nvar uniqBy =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xuniqBy, function (fn, list) {\n  var set = new _Set();\n  var result = [];\n  var idx = 0;\n  var appliedItem, item;\n\n  while (idx < list.length) {\n    item = list[idx];\n    appliedItem = fn(item);\n\n    if (set.add(appliedItem)) {\n      result.push(item);\n    }\n\n    idx += 1;\n  }\n\n  return result;\n}));\n\nexport default uniqBy;", "import identity from \"./identity.js\";\nimport uniqBy from \"./uniqBy.js\";\n/**\n * Returns a new list containing only one copy of each element in the original\n * list. [`R.equals`](#equals) is used to determine equality.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [a]\n * @param {Array} list The array to consider.\n * @return {Array} The list of unique items.\n * @example\n *\n *      R.uniq([1, 1, 2, 1]); //=> [1, 2]\n *      R.uniq([1, '1']);     //=> [1, '1']\n *      R.uniq([[42], [42]]); //=> [[42]]\n */\n\nvar uniq =\n/*#__PURE__*/\nuniqBy(identity);\nexport default uniq;", "import _includes from \"./internal/_includes.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _filter from \"./internal/_filter.js\";\nimport flip from \"./flip.js\";\nimport uniq from \"./uniq.js\";\n/**\n * Combines two lists into a set (i.e. no duplicates) composed of those\n * elements common to both lists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig [*] -> [*] -> [*]\n * @param {Array} list1 The first list.\n * @param {Array} list2 The second list.\n * @return {Array} The list of elements found in both `list1` and `list2`.\n * @see R.innerJoin\n * @example\n *\n *      R.intersection([1,2,3,4], [7,6,5,4,3]); //=> [4, 3]\n */\n\nvar intersection =\n/*#__PURE__*/\n_curry2(function intersection(list1, list2) {\n  var lookupList, filteredList;\n\n  if (list1.length > list2.length) {\n    lookupList = list1;\n    filteredList = list2;\n  } else {\n    lookupList = list2;\n    filteredList = list1;\n  }\n\n  return uniq(_filter(flip(_includes)(lookupList), filteredList));\n});\n\nexport default intersection;", "import _checkForMethod from \"./internal/_checkForMethod.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a new list with the separator interposed between elements.\n *\n * Dispatches to the `intersperse` method of the second argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig a -> [a] -> [a]\n * @param {*} separator The element to add to the list.\n * @param {Array} list The list to be interposed.\n * @return {Array} The new list.\n * @example\n *\n *      R.intersperse('a', ['b', 'n', 'n', 's']); //=> ['b', 'a', 'n', 'a', 'n', 'a', 's']\n */\n\nvar intersperse =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_checkForMethod('intersperse', function intersperse(separator, list) {\n  var out = [];\n  var idx = 0;\n  var length = list.length;\n\n  while (idx < length) {\n    if (idx === length - 1) {\n      out.push(list[idx]);\n    } else {\n      out.push(list[idx], separator);\n    }\n\n    idx += 1;\n  }\n\n  return out;\n}));\n\nexport default intersperse;", "import _has from \"./_has.js\"; // Based on https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\nfunction _objectAssign(target) {\n  if (target == null) {\n    throw new TypeError('Cannot convert undefined or null to object');\n  }\n\n  var output = Object(target);\n  var idx = 1;\n  var length = arguments.length;\n\n  while (idx < length) {\n    var source = arguments[idx];\n\n    if (source != null) {\n      for (var nextKey in source) {\n        if (_has(nextKey, source)) {\n          output[nextKey] = source[nextKey];\n        }\n      }\n    }\n\n    idx += 1;\n  }\n\n  return output;\n}\n\nexport default typeof Object.assign === 'function' ? Object.assign : _objectAssign;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates an object containing a single key:value pair.\n *\n * @func\n * @memberOf R\n * @since v0.18.0\n * @category Object\n * @sig String -> a -> {String:a}\n * @param {String} key\n * @param {*} val\n * @return {Object}\n * @see R.pair\n * @example\n *\n *      const matchPhrases = R.compose(\n *        R.objOf('must'),\n *        R.map(R.objOf('match_phrase'))\n *      );\n *      matchPhrases(['foo', 'bar', 'baz']); //=> {must: [{match_phrase: 'foo'}, {match_phrase: 'bar'}, {match_phrase: 'baz'}]}\n */\n\nvar objOf =\n/*#__PURE__*/\n_curry2(function objOf(key, val) {\n  var obj = {};\n  obj[key] = val;\n  return obj;\n});\n\nexport default objOf;", "import _objectAssign from \"./_objectAssign.js\";\nimport _identity from \"./_identity.js\";\nimport _isArrayLike from \"./_isArrayLike.js\";\nimport _isTransformer from \"./_isTransformer.js\";\nimport objOf from \"../objOf.js\";\nvar _stepCatArray = {\n  '@@transducer/init': Array,\n  '@@transducer/step': function (xs, x) {\n    xs.push(x);\n    return xs;\n  },\n  '@@transducer/result': _identity\n};\nvar _stepCatString = {\n  '@@transducer/init': String,\n  '@@transducer/step': function (a, b) {\n    return a + b;\n  },\n  '@@transducer/result': _identity\n};\nvar _stepCatObject = {\n  '@@transducer/init': Object,\n  '@@transducer/step': function (result, input) {\n    return _objectAssign(result, _isArrayLike(input) ? objOf(input[0], input[1]) : input);\n  },\n  '@@transducer/result': _identity\n};\nexport default function _stepCat(obj) {\n  if (_isTransformer(obj)) {\n    return obj;\n  }\n\n  if (_isArrayLike(obj)) {\n    return _stepCatArray;\n  }\n\n  if (typeof obj === 'string') {\n    return _stepCatString;\n  }\n\n  if (typeof obj === 'object') {\n    return _stepCatObject;\n  }\n\n  throw new Error('Cannot create transformer for ' + obj);\n}", "import _clone from \"./internal/_clone.js\";\nimport _curry3 from \"./internal/_curry3.js\";\nimport _isTransformer from \"./internal/_isTransformer.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _stepCat from \"./internal/_stepCat.js\";\n/**\n * Transforms the items of the list with the transducer and appends the\n * transformed items to the accumulator using an appropriate iterator function\n * based on the accumulator type.\n *\n * The accumulator can be an array, string, object or a transformer. Iterated\n * items will be appended to arrays and concatenated to strings. Objects will\n * be merged directly or 2-item arrays will be merged as key, value pairs.\n *\n * The accumulator can also be a transformer object that provides a 2-arity\n * reducing iterator function, step, 0-arity initial value function, init, and\n * 1-arity result extraction function result. The step function is used as the\n * iterator function in reduce. The result function is used to convert the\n * final accumulator into the return type and in most cases is R.identity. The\n * init function is used to provide the initial accumulator.\n *\n * The iteration is performed with [`R.reduce`](#reduce) after initializing the\n * transducer.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category List\n * @sig a -> (b -> b) -> [c] -> a\n * @param {*} acc The initial accumulator value.\n * @param {Function} xf The transducer function. Receives a transformer and returns a transformer.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.transduce\n * @example\n *\n *      const numbers = [1, 2, 3, 4];\n *      const transducer = R.compose(R.map(R.add(1)), R.take(2));\n *\n *      R.into([], transducer, numbers); //=> [2, 3]\n *\n *      const intoArray = R.into([]);\n *      intoArray(transducer, numbers); //=> [2, 3]\n */\n\nvar into =\n/*#__PURE__*/\n_curry3(function into(acc, xf, list) {\n  return _isTransformer(acc) ? _reduce(xf(acc), acc['@@transducer/init'](), list) : _reduce(xf(_stepCat(acc)), _clone(acc, [], [], false), list);\n});\n\nexport default into;", "import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\nimport keys from \"./keys.js\";\n/**\n * Same as [`R.invertObj`](#invertObj), however this accounts for objects with\n * duplicate values by putting the values into an array.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig {s: x} -> {x: [ s, ... ]}\n * @param {Object} obj The object or array to invert\n * @return {Object} out A new object with keys in an array.\n * @see R.invertObj\n * @example\n *\n *      const raceResultsByFirstName = {\n *        first: 'alice',\n *        second: 'jake',\n *        third: 'alice',\n *      };\n *      R.invert(raceResultsByFirstName);\n *      //=> { 'alice': ['first', 'third'], 'jake':['second'] }\n */\n\nvar invert =\n/*#__PURE__*/\n_curry1(function invert(obj) {\n  var props = keys(obj);\n  var len = props.length;\n  var idx = 0;\n  var out = {};\n\n  while (idx < len) {\n    var key = props[idx];\n    var val = obj[key];\n    var list = _has(val, out) ? out[val] : out[val] = [];\n    list[list.length] = key;\n    idx += 1;\n  }\n\n  return out;\n});\n\nexport default invert;", "import _curry1 from \"./internal/_curry1.js\";\nimport keys from \"./keys.js\";\n/**\n * Returns a new object with the keys of the given object as values, and the\n * values of the given object, which are coerced to strings, as keys. Note\n * that the last key found is preferred when handling the same value.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig {s: x} -> {x: s}\n * @param {Object} obj The object or array to invert\n * @return {Object} out A new object\n * @see R.invert\n * @example\n *\n *      const raceResults = {\n *        first: 'alice',\n *        second: 'jake'\n *      };\n *      R.invertObj(raceResults);\n *      //=> { 'alice': 'first', 'jake':'second' }\n *\n *      // Alternatively:\n *      const raceResults = ['alice', 'jake'];\n *      R.invertObj(raceResults);\n *      //=> { 'alice': '0', 'jake':'1' }\n */\n\nvar invertObj =\n/*#__PURE__*/\n_curry1(function invertObj(obj) {\n  var props = keys(obj);\n  var len = props.length;\n  var idx = 0;\n  var out = {};\n\n  while (idx < len) {\n    var key = props[idx];\n    out[obj[key]] = key;\n    idx += 1;\n  }\n\n  return out;\n});\n\nexport default invertObj;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isFunction from \"./internal/_isFunction.js\";\nimport curryN from \"./curryN.js\";\nimport toString from \"./toString.js\";\n/**\n * Turns a named method with a specified arity into a function that can be\n * called directly supplied with arguments and a target object.\n *\n * The returned function is curried and accepts `arity + 1` parameters where\n * the final parameter is the target object.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig Number -> String -> (a -> b -> ... -> n -> Object -> *)\n * @param {Number} arity Number of arguments the returned function should take\n *        before the target object.\n * @param {String} method Name of any of the target object's methods to call.\n * @return {Function} A new curried function.\n * @see R.construct\n * @example\n *\n *      const sliceFrom = R.invoker(1, 'slice');\n *      sliceFrom(6, 'abcdefghijklm'); //=> 'ghijklm'\n *      const sliceFrom6 = R.invoker(2, 'slice')(6);\n *      sliceFrom6(8, 'abcdefghijklm'); //=> 'gh'\n *\n *      const dog = {\n *        speak: async () => 'Woof!'\n *      };\n *      const speak = R.invoker(0, 'speak');\n *      speak(dog).then(console.log) //~> 'Woof!'\n *\n * @symb R.invoker(0, 'method')(o) = o['method']()\n * @symb R.invoker(1, 'method')(a, o) = o['method'](a)\n * @symb R.invoker(2, 'method')(a, b, o) = o['method'](a, b)\n */\n\nvar invoker =\n/*#__PURE__*/\n_curry2(function invoker(arity, method) {\n  return curryN(arity + 1, function () {\n    var target = arguments[arity];\n\n    if (target != null && _isFunction(target[method])) {\n      return target[method].apply(target, Array.prototype.slice.call(arguments, 0, arity));\n    }\n\n    throw new TypeError(toString(target) + ' does not have a method named \"' + method + '\"');\n  });\n});\n\nexport default invoker;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * See if an object (i.e. `val`) is an instance of the supplied constructor. This\n * function will check up the inheritance chain, if any.\n * If `val` was created using `Object.create`, `R.is(Object, val) === true`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Type\n * @sig (* -> {*}) -> a -> Boolean\n * @param {Object} ctor A constructor\n * @param {*} val The value to test\n * @return {Boolean}\n * @example\n *\n *      R.is(Object, {}); //=> true\n *      R.is(Number, 1); //=> true\n *      R.is(Object, 1); //=> false\n *      R.is(String, 's'); //=> true\n *      R.is(String, new String('')); //=> true\n *      R.is(Object, new String('')); //=> true\n *      R.is(Object, 's'); //=> false\n *      R.is(Number, {}); //=> false\n */\n\nvar is =\n/*#__PURE__*/\n_curry2(function is(Ctor, val) {\n  return val instanceof Ctor || val != null && (val.constructor === Ctor || Ctor.name === 'Object' && typeof val === 'object');\n});\n\nexport default is;", "import _curry1 from \"./internal/_curry1.js\";\nimport empty from \"./empty.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns `true` if the given value is its type's empty value; `false`\n * otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Logic\n * @sig a -> Boolean\n * @param {*} x\n * @return {Boolean}\n * @see R.empty\n * @example\n *\n *      R.isEmpty([1, 2, 3]);           //=> false\n *      R.isEmpty([]);                  //=> true\n *      R.isEmpty('');                  //=> true\n *      R.isEmpty(null);                //=> false\n *      R.isEmpty({});                  //=> true\n *      R.isEmpty({length: 0});         //=> false\n *      R.isEmpty(Uint8Array.from('')); //=> true\n */\n\nvar isEmpty =\n/*#__PURE__*/\n_curry1(function isEmpty(x) {\n  return x != null && equals(x, empty(x));\n});\n\nexport default isEmpty;", "import invoker from \"./invoker.js\";\n/**\n * Returns a string made by inserting the `separator` between each element and\n * concatenating all the elements into a single string.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig String -> [a] -> String\n * @param {Number|String} separator The string used to separate the elements.\n * @param {Array} xs The elements to join into a string.\n * @return {String} str The string made by concatenating `xs` with `separator`.\n * @see R.split\n * @example\n *\n *      const spacer = R.join(' ');\n *      spacer(['a', 2, 3.4]);   //=> 'a 2 3.4'\n *      R.join('|', [1, 2, 3]);    //=> '1|2|3'\n */\n\nvar join =\n/*#__PURE__*/\ninvoker(1, 'join');\nexport default join;", "import _curry1 from \"./internal/_curry1.js\";\nimport converge from \"./converge.js\";\n/**\n * juxt applies a list of functions to a list of values.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Function\n * @sig [(a, b, ..., m) -> n] -> ((a, b, ..., m) -> [n])\n * @param {Array} fns An array of functions\n * @return {Function} A function that returns a list of values after applying each of the original `fns` to its parameters.\n * @see R.applySpec\n * @example\n *\n *      const getRange = R.juxt([Math.min, Math.max]);\n *      getRange(3, 4, 9, -3); //=> [-3, 9]\n * @symb R.juxt([f, g, h])(a, b) = [f(a, b), g(a, b), h(a, b)]\n */\n\nvar juxt =\n/*#__PURE__*/\n_curry1(function juxt(fns) {\n  return converge(function () {\n    return Array.prototype.slice.call(arguments, 0);\n  }, fns);\n});\n\nexport default juxt;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Returns a list containing the names of all the properties of the supplied\n * object, including prototype properties.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @sig {k: v} -> [k]\n * @param {Object} obj The object to extract properties from\n * @return {Array} An array of the object's own and prototype properties.\n * @see R.keys, R.valuesIn\n * @example\n *\n *      const F = function() { this.x = 'X'; };\n *      F.prototype.y = 'Y';\n *      const f = new F();\n *      R.keysIn(f); //=> ['x', 'y']\n */\n\nvar keysIn =\n/*#__PURE__*/\n_curry1(function keysIn(obj) {\n  var prop;\n  var ks = [];\n\n  for (prop in obj) {\n    ks[ks.length] = prop;\n  }\n\n  return ks;\n});\n\nexport default keysIn;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns the position of the last occurrence of an item in an array, or -1 if\n * the item is not included in the array. [`R.equals`](#equals) is used to\n * determine equality.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> Number\n * @param {*} target The item to find.\n * @param {Array} xs The array to search in.\n * @return {Number} the index of the target, or -1 if the target is not found.\n * @see R.indexOf, R.findLastIndex\n * @example\n *\n *      R.lastIndexOf(3, [-1,3,3,0,1,2,3,4]); //=> 6\n *      R.lastIndexOf(10, [1,2,3,4]); //=> -1\n */\n\nvar lastIndexOf =\n/*#__PURE__*/\n_curry2(function lastIndexOf(target, xs) {\n  if (typeof xs.lastIndexOf === 'function' && !_isArray(xs)) {\n    return xs.lastIndexOf(target);\n  } else {\n    var idx = xs.length - 1;\n\n    while (idx >= 0) {\n      if (equals(xs[idx], target)) {\n        return idx;\n      }\n\n      idx -= 1;\n    }\n\n    return -1;\n  }\n});\n\nexport default lastIndexOf;", "export default function _isNumber(x) {\n  return Object.prototype.toString.call(x) === '[object Number]';\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _isNumber from \"./internal/_isNumber.js\";\n/**\n * Returns the number of elements in the array by returning `list.length`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig [a] -> Number\n * @param {Array} list The array to inspect.\n * @return {Number} The length of the array.\n * @example\n *\n *      R.length([]); //=> 0\n *      R.length([1, 2, 3]); //=> 3\n */\n\nvar length =\n/*#__PURE__*/\n_curry1(function length(list) {\n  return list != null && _isNumber(list.length) ? list.length : NaN;\n});\n\nexport default length;", "import _curry2 from \"./internal/_curry2.js\";\nimport map from \"./map.js\";\n/**\n * Returns a lens for the given getter and setter functions. The getter \"gets\"\n * the value of the focus; the setter \"sets\" the value of the focus. The setter\n * should not mutate the data structure.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n * @sig (s -> a) -> ((a, s) -> s) -> Lens s a\n * @param {Function} getter\n * @param {Function} setter\n * @return {Lens}\n * @see R.view, R.set, R.over, R.lensIndex, R.lensProp\n * @example\n *\n *      const xLens = R.lens(R.prop('x'), R.assoc('x'));\n *\n *      R.view(xLens, {x: 1, y: 2});            //=> 1\n *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}\n *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}\n */\n\nvar lens =\n/*#__PURE__*/\n_curry2(function lens(getter, setter) {\n  return function (toFunctorFn) {\n    return function (target) {\n      return map(function (focus) {\n        return setter(focus, target);\n      }, toFunctorFn(getter(target)));\n    };\n  };\n});\n\nexport default lens;", "import _curry3 from \"./internal/_curry3.js\";\nimport adjust from \"./adjust.js\";\nimport always from \"./always.js\";\n/**\n * Returns a new copy of the array with the element at the provided index\n * replaced with the given value.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category List\n * @sig Number -> a -> [a] -> [a]\n * @param {Number} idx The index to update.\n * @param {*} x The value to exist at the given index of the returned array.\n * @param {Array|Arguments} list The source array-like object to be updated.\n * @return {Array} A copy of `list` with the value at index `idx` replaced with `x`.\n * @see R.adjust\n * @example\n *\n *      R.update(1, '_', ['a', 'b', 'c']);      //=> ['a', '_', 'c']\n *      R.update(-1, '_', ['a', 'b', 'c']);     //=> ['a', 'b', '_']\n * @symb R.update(-1, a, [b, c]) = [b, a]\n * @symb R.update(0, a, [b, c]) = [a, c]\n * @symb R.update(1, a, [b, c]) = [b, a]\n */\n\nvar update =\n/*#__PURE__*/\n_curry3(function update(idx, x, list) {\n  return adjust(idx, always(x), list);\n});\n\nexport default update;", "import _curry1 from \"./internal/_curry1.js\";\nimport lens from \"./lens.js\";\nimport nth from \"./nth.js\";\nimport update from \"./update.js\";\n/**\n * Returns a lens whose focus is the specified index.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category Object\n * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n * @sig Number -> Lens s a\n * @param {Number} n\n * @return {Lens}\n * @see R.view, R.set, R.over, R.nth\n * @example\n *\n *      const headLens = R.lensIndex(0);\n *\n *      R.view(headLens, ['a', 'b', 'c']);            //=> 'a'\n *      R.set(headLens, 'x', ['a', 'b', 'c']);        //=> ['x', 'b', 'c']\n *      R.over(headLens, R.toUpper, ['a', 'b', 'c']); //=> ['A', 'b', 'c']\n */\n\nvar lensIndex =\n/*#__PURE__*/\n_curry1(function lensIndex(n) {\n  return lens(nth(n), update(n));\n});\n\nexport default lensIndex;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\nimport nth from \"./nth.js\";\n/**\n * Retrieves the values at given paths of an object.\n *\n * @func\n * @memberOf R\n * @since v0.27.1\n * @category Object\n * @typedefn Idx = [String | Int | Symbol]\n * @sig [Idx] -> {a} -> [a | Undefined]\n * @param {Array} pathsArray The array of paths to be fetched.\n * @param {Object} obj The object to retrieve the nested properties from.\n * @return {Array} A list consisting of values at paths specified by \"pathsArray\".\n * @see R.path\n * @example\n *\n *      R.paths([['a', 'b'], ['p', 0, 'q']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, 3]\n *      R.paths([['a', 'b'], ['p', 'r']], {a: {b: 2}, p: [{q: 3}]}); //=> [2, undefined]\n */\n\nvar paths =\n/*#__PURE__*/\n_curry2(function paths(pathsArray, obj) {\n  return pathsArray.map(function (paths) {\n    var val = obj;\n    var idx = 0;\n    var p;\n\n    while (idx < paths.length) {\n      if (val == null) {\n        return;\n      }\n\n      p = paths[idx];\n      val = _isInteger(p) ? nth(p, val) : val[p];\n      idx += 1;\n    }\n\n    return val;\n  });\n});\n\nexport default paths;", "import _curry2 from \"./internal/_curry2.js\";\nimport paths from \"./paths.js\";\n/**\n * Retrieve the value at a given path.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> {a} -> a | Undefined\n * @param {Array} path The path to use.\n * @param {Object} obj The object to retrieve the nested property from.\n * @return {*} The data at `path`.\n * @see R.prop, R.nth\n * @example\n *\n *      R.path(['a', 'b'], {a: {b: 2}}); //=> 2\n *      R.path(['a', 'b'], {c: {b: 2}}); //=> undefined\n *      R.path(['a', 'b', 0], {a: {b: [1, 2, 3]}}); //=> 1\n *      R.path(['a', 'b', -2], {a: {b: [1, 2, 3]}}); //=> 2\n */\n\nvar path =\n/*#__PURE__*/\n_curry2(function path(pathAr, obj) {\n  return paths([pathAr], obj)[0];\n});\n\nexport default path;", "import _curry1 from \"./internal/_curry1.js\";\nimport assocPath from \"./assocPath.js\";\nimport lens from \"./lens.js\";\nimport path from \"./path.js\";\n/**\n * Returns a lens whose focus is the specified path.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n * @sig [Idx] -> Lens s a\n * @param {Array} path The path to use.\n * @return {Lens}\n * @see R.view, R.set, R.over\n * @example\n *\n *      const xHeadYLens = R.lensPath(['x', 0, 'y']);\n *\n *      R.view(xHeadYLens, {x: [{y: 2, z: 3}, {y: 4, z: 5}]});\n *      //=> 2\n *      R.set(xHeadYLens, 1, {x: [{y: 2, z: 3}, {y: 4, z: 5}]});\n *      //=> {x: [{y: 1, z: 3}, {y: 4, z: 5}]}\n *      R.over(xHeadYLens, R.negate, {x: [{y: 2, z: 3}, {y: 4, z: 5}]});\n *      //=> {x: [{y: -2, z: 3}, {y: 4, z: 5}]}\n */\n\nvar lensPath =\n/*#__PURE__*/\n_curry1(function lensPath(p) {\n  return lens(path(p), assocPath(p));\n});\n\nexport default lensPath;", "import _curry1 from \"./internal/_curry1.js\";\nimport assoc from \"./assoc.js\";\nimport lens from \"./lens.js\";\nimport prop from \"./prop.js\";\n/**\n * Returns a lens whose focus is the specified property.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category Object\n * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n * @sig String -> Lens s a\n * @param {String} k\n * @return {Lens}\n * @see R.view, R.set, R.over\n * @example\n *\n *      const xLens = R.lensProp('x');\n *\n *      R.view(xLens, {x: 1, y: 2});            //=> 1\n *      R.set(xLens, 4, {x: 1, y: 2});          //=> {x: 4, y: 2}\n *      R.over(xLens, R.negate, {x: 1, y: 2});  //=> {x: -1, y: 2}\n */\n\nvar lensProp =\n/*#__PURE__*/\n_curry1(function lensProp(k) {\n  return lens(prop(k), assoc(k));\n});\n\nexport default lensProp;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns `true` if the first argument is less than the second; `false`\n * otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> Boolean\n * @param {*} a\n * @param {*} b\n * @return {Boolean}\n * @see R.gt\n * @example\n *\n *      R.lt(2, 1); //=> false\n *      R.lt(2, 2); //=> false\n *      R.lt(2, 3); //=> true\n *      R.lt('a', 'z'); //=> true\n *      R.lt('z', 'a'); //=> false\n */\n\nvar lt =\n/*#__PURE__*/\n_curry2(function lt(a, b) {\n  return a < b;\n});\n\nexport default lt;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns `true` if the first argument is less than or equal to the second;\n * `false` otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> Boolean\n * @param {Number} a\n * @param {Number} b\n * @return {Boolean}\n * @see R.gte\n * @example\n *\n *      R.lte(2, 1); //=> false\n *      R.lte(2, 2); //=> true\n *      R.lte(2, 3); //=> true\n *      R.lte('a', 'z'); //=> true\n *      R.lte('z', 'a'); //=> false\n */\n\nvar lte =\n/*#__PURE__*/\n_curry2(function lte(a, b) {\n  return a <= b;\n});\n\nexport default lte;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * The `mapAccum` function behaves like a combination of map and reduce; it\n * applies a function to each element of a list, passing an accumulating\n * parameter from left to right, and returning a final value of this\n * accumulator together with the new list.\n *\n * The iterator function receives two arguments, *acc* and *value*, and should\n * return a tuple *[acc, value]*.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category List\n * @sig ((acc, x) -> (acc, y)) -> acc -> [x] -> (acc, [y])\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.scan, R.addIndex, R.mapAccumRight\n * @example\n *\n *      const digits = ['1', '2', '3', '4'];\n *      const appender = (a, b) => [a + b, a + b];\n *\n *      R.mapAccum(appender, 0, digits); //=> ['01234', ['01', '012', '0123', '01234']]\n * @symb R.mapAccum(f, a, [b, c, d]) = [\n *   f(f(f(a, b)[0], c)[0], d)[0],\n *   [\n *     f(a, b)[1],\n *     f(f(a, b)[0], c)[1],\n *     f(f(f(a, b)[0], c)[0], d)[1]\n *   ]\n * ]\n */\n\nvar mapAccum =\n/*#__PURE__*/\n_curry3(function mapAccum(fn, acc, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n  var tuple = [acc];\n\n  while (idx < len) {\n    tuple = fn(tuple[0], list[idx]);\n    result[idx] = tuple[1];\n    idx += 1;\n  }\n\n  return [tuple[0], result];\n});\n\nexport default mapAccum;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * The `mapAccumRight` function behaves like a combination of map and reduce; it\n * applies a function to each element of a list, passing an accumulating\n * parameter from right to left, and returning a final value of this\n * accumulator together with the new list.\n *\n * Similar to [`mapAccum`](#mapAccum), except moves through the input list from\n * the right to the left.\n *\n * The iterator function receives two arguments, *acc* and *value*, and should\n * return a tuple *[acc, value]*.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category List\n * @sig ((acc, x) -> (acc, y)) -> acc -> [x] -> (acc, [y])\n * @param {Function} fn The function to be called on every element of the input `list`.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.addIndex, R.mapAccum\n * @example\n *\n *      const digits = ['1', '2', '3', '4'];\n *      const appender = (a, b) => [b + a, b + a];\n *\n *      R.mapAccumRight(appender, 5, digits); //=> ['12345', ['12345', '2345', '345', '45']]\n * @symb R.mapAccumRight(f, a, [b, c, d]) = [\n *   f(f(f(a, d)[0], c)[0], b)[0],\n *   [\n *     f(a, d)[1],\n *     f(f(a, d)[0], c)[1],\n *     f(f(f(a, d)[0], c)[0], b)[1]\n *   ]\n * ]\n */\n\nvar mapAccumRight =\n/*#__PURE__*/\n_curry3(function mapAccumRight(fn, acc, list) {\n  var idx = list.length - 1;\n  var result = [];\n  var tuple = [acc];\n\n  while (idx >= 0) {\n    tuple = fn(tuple[0], list[idx]);\n    result[idx] = tuple[1];\n    idx -= 1;\n  }\n\n  return [tuple[0], result];\n});\n\nexport default mapAccumRight;", "import _curry2 from \"./internal/_curry2.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport keys from \"./keys.js\";\n/**\n * An Object-specific version of [`map`](#map). The function is applied to three\n * arguments: *(value, key, obj)*. If only the value is significant, use\n * [`map`](#map) instead.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Object\n * @sig ((*, String, Object) -> *) -> Object -> Object\n * @param {Function} fn\n * @param {Object} obj\n * @return {Object}\n * @see R.map\n * @example\n *\n *      const xyz = { x: 1, y: 2, z: 3 };\n *      const prependKeyAndDouble = (num, key, obj) => key + (num * 2);\n *\n *      R.mapObjIndexed(prependKeyAndDouble, xyz); //=> { x: 'x2', y: 'y4', z: 'z6' }\n */\n\nvar mapObjIndexed =\n/*#__PURE__*/\n_curry2(function mapObjIndexed(fn, obj) {\n  return _reduce(function (acc, key) {\n    acc[key] = fn(obj[key], key, obj);\n    return acc;\n  }, {}, keys(obj));\n});\n\nexport default mapObjIndexed;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Tests a regular expression against a String. Note that this function will\n * return an empty array when there are no matches. This differs from\n * [`String.prototype.match`](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/match)\n * which returns `null` when there are no matches.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category String\n * @sig RegExp -> String -> [String | Undefined]\n * @param {RegExp} rx A regular expression.\n * @param {String} str The string to match against\n * @return {Array} The list of matches or empty array.\n * @see R.test\n * @example\n *\n *      R.match(/([a-z]a)/g, 'bananas'); //=> ['ba', 'na', 'na']\n *      R.match(/a/, 'b'); //=> []\n *      R.match(/a/, null); //=> TypeError: null does not have a method named \"match\"\n */\n\nvar match =\n/*#__PURE__*/\n_curry2(function match(rx, str) {\n  return str.match(rx) || [];\n});\n\nexport default match;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isInteger from \"./internal/_isInteger.js\";\n/**\n * `mathMod` behaves like the modulo operator should mathematically, unlike the\n * `%` operator (and by extension, [`R.modulo`](#modulo)). So while\n * `-17 % 5` is `-2`, `mathMod(-17, 5)` is `3`. `mathMod` requires Integer\n * arguments, and returns NaN when the modulus is zero or negative.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} m The dividend.\n * @param {Number} p the modulus.\n * @return {Number} The result of `b mod a`.\n * @see R.modulo\n * @example\n *\n *      R.mathMod(-17, 5);  //=> 3\n *      R.mathMod(17, 5);   //=> 2\n *      R.mathMod(17, -5);  //=> NaN\n *      R.mathMod(17, 0);   //=> NaN\n *      R.mathMod(17.2, 5); //=> NaN\n *      R.mathMod(17, 5.3); //=> NaN\n *\n *      const clock = R.mathMod(R.__, 12);\n *      clock(15); //=> 3\n *      clock(24); //=> 0\n *\n *      const seventeenMod = R.mathMod(17);\n *      seventeenMod(3);  //=> 2\n *      seventeenMod(4);  //=> 1\n *      seventeenMod(10); //=> 7\n */\n\nvar mathMod =\n/*#__PURE__*/\n_curry2(function mathMod(m, p) {\n  if (!_isInteger(m)) {\n    return NaN;\n  }\n\n  if (!_isInteger(p) || p < 1) {\n    return NaN;\n  }\n\n  return (m % p + p) % p;\n});\n\nexport default mathMod;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Takes a function and two values, and returns whichever value produces the\n * larger result when passed to the provided function.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Relation\n * @sig Ord b => (a -> b) -> a -> a -> a\n * @param {Function} f\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @see R.max, R.minBy\n * @example\n *\n *      //  square :: Number -> Number\n *      const square = n => n * n;\n *\n *      R.maxBy(square, -3, 2); //=> -3\n *\n *      R.reduce(R.maxBy(square), 0, [3, -5, 4, 1, -2]); //=> -5\n *      R.reduce(R.maxBy(square), 0, []); //=> 0\n */\n\nvar maxBy =\n/*#__PURE__*/\n_curry3(function maxBy(f, a, b) {\n  return f(b) > f(a) ? b : a;\n});\n\nexport default maxBy;", "import add from \"./add.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Adds together all the elements of a list.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig [Number] -> Number\n * @param {Array} list An array of numbers\n * @return {Number} The sum of all the numbers in the list.\n * @see R.reduce\n * @example\n *\n *      R.sum([2,4,6,8,100,1]); //=> 121\n */\n\nvar sum =\n/*#__PURE__*/\nreduce(add, 0);\nexport default sum;", "import _curry1 from \"./internal/_curry1.js\";\nimport sum from \"./sum.js\";\n/**\n * Returns the mean of the given list of numbers.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category Math\n * @sig [Number] -> Number\n * @param {Array} list\n * @return {Number}\n * @see R.median\n * @example\n *\n *      R.mean([2, 7, 9]); //=> 6\n *      R.mean([]); //=> NaN\n */\n\nvar mean =\n/*#__PURE__*/\n_curry1(function mean(list) {\n  return sum(list) / list.length;\n});\n\nexport default mean;", "import _curry1 from \"./internal/_curry1.js\";\nimport mean from \"./mean.js\";\n/**\n * Returns the median of the given list of numbers.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category Math\n * @sig [Number] -> Number\n * @param {Array} list\n * @return {Number}\n * @see R.mean\n * @example\n *\n *      R.median([2, 9, 7]); //=> 7\n *      R.median([7, 2, 10, 9]); //=> 8\n *      R.median([]); //=> NaN\n */\n\nvar median =\n/*#__PURE__*/\n_curry1(function median(list) {\n  var len = list.length;\n\n  if (len === 0) {\n    return NaN;\n  }\n\n  var width = 2 - len % 2;\n  var idx = (len - width) / 2;\n  return mean(Array.prototype.slice.call(list, 0).sort(function (a, b) {\n    return a < b ? -1 : a > b ? 1 : 0;\n  }).slice(idx, idx + width));\n});\n\nexport default median;", "import _arity from \"./internal/_arity.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Creates a new function that, when invoked, caches the result of calling `fn`\n * for a given argument set and returns the result. Subsequent calls to the\n * memoized `fn` with the same argument set will not result in an additional\n * call to `fn`; instead, the cached result for that set of arguments will be\n * returned.\n *\n * Care must be taken when implementing key generation to avoid key collision,\n * or if tracking references, memory leaks and mutating arguments.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Function\n * @sig (*... -> String) -> (*... -> a) -> (*... -> a)\n * @param {Function} fn The function to generate the cache key.\n * @param {Function} fn The function to memoize.\n * @return {Function} Memoized version of `fn`.\n * @example\n *\n *      let count = 0;\n *      const factorial = R.memoizeWith(Number, n => {\n *        count += 1;\n *        return R.product(R.range(1, n + 1));\n *      });\n *      factorial(5); //=> 120\n *      factorial(5); //=> 120\n *      factorial(5); //=> 120\n *      count; //=> 1\n */\n\nvar memoizeWith =\n/*#__PURE__*/\n_curry2(function memoizeWith(mFn, fn) {\n  var cache = {};\n  return _arity(fn.length, function () {\n    var key = mFn.apply(this, arguments);\n\n    if (!_has(key, cache)) {\n      cache[key] = fn.apply(this, arguments);\n    }\n\n    return cache[key];\n  });\n});\n\nexport default memoizeWith;", "import _objectAssign from \"./internal/_objectAssign.js\";\nimport _curry1 from \"./internal/_curry1.js\";\n/**\n * Creates one new object with the own properties from a list of objects.\n * If a key exists in more than one object, the value from the last\n * object it exists in will be used.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category List\n * @sig [{k: v}] -> {k: v}\n * @param {Array} list An array of objects\n * @return {Object} A merged object.\n * @see R.reduce\n * @example\n *\n *      R.mergeAll([{foo:1},{bar:2},{baz:3}]); //=> {foo:1,bar:2,baz:3}\n *      R.mergeAll([{foo:1},{foo:2},{bar:2}]); //=> {foo:2,bar:2}\n * @symb R.mergeAll([{ x: 1 }, { y: 2 }, { z: 3 }]) = { x: 1, y: 2, z: 3 }\n */\n\nvar mergeAll =\n/*#__PURE__*/\n_curry1(function mergeAll(list) {\n  return _objectAssign.apply(null, [{}].concat(list));\n});\n\nexport default mergeAll;", "import _curry3 from \"./internal/_curry3.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the key\n * and the values associated with the key in each object, with the result being\n * used as the value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWithKey, R.merge, R.mergeWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeWithKey(concatValues,\n *                     { a: true, thing: 'foo', values: [10, 20] },\n *                     { b: true, thing: 'bar', values: [15, 35] });\n *      //=> { a: true, b: true, thing: 'bar', values: [10, 20, 15, 35] }\n * @symb R.mergeWithKey(f, { x: 1, y: 2 }, { y: 5, z: 3 }) = { x: 1, y: f('y', 2, 5), z: 3 }\n */\n\nvar mergeWithKey =\n/*#__PURE__*/\n_curry3(function mergeWithKey(fn, l, r) {\n  var result = {};\n  var k;\n\n  for (k in l) {\n    if (_has(k, l)) {\n      result[k] = _has(k, r) ? fn(k, l[k], r[k]) : l[k];\n    }\n  }\n\n  for (k in r) {\n    if (_has(k, r) && !_has(k, result)) {\n      result[k] = r[k];\n    }\n  }\n\n  return result;\n});\n\nexport default mergeWithKey;", "import _curry3 from \"./internal/_curry3.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport mergeWithKey from \"./mergeWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to the key and associated values\n *   using the resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((String, a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWithKey, R.mergeDeepWith\n * @example\n *\n *      let concatValues = (k, l, r) => k == 'values' ? R.concat(l, r) : r\n *      R.mergeDeepWithKey(concatValues,\n *                         { a: true, c: { thing: 'foo', values: [10, 20] }},\n *                         { b: true, c: { thing: 'bar', values: [15, 35] }});\n *      //=> { a: true, b: true, c: { thing: 'bar', values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWithKey =\n/*#__PURE__*/\n_curry3(function mergeDeepWithKey(fn, lObj, rObj) {\n  return mergeWithKey(function (k, lVal, rVal) {\n    if (_isObject(lVal) && _isObject(rVal)) {\n      return mergeDeepWithKey(fn, lVal, rVal);\n    } else {\n      return fn(k, lVal, rVal);\n    }\n  }, lObj, rObj);\n});\n\nexport default mergeDeepWithKey;", "import _curry2 from \"./internal/_curry2.js\";\nimport mergeDeepWithKey from \"./mergeDeepWithKey.js\";\n/**\n * Creates a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects:\n * - and both values are objects, the two values will be recursively merged\n * - otherwise the value from the first object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig {a} -> {a} -> {a}\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.merge, R.mergeDeepRight, R.mergeDeepWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepLeft({ name: 'fred', age: 10, contact: { email: 'moo@example.com' }},\n *                      { age: 40, contact: { email: 'baa@example.com' }});\n *      //=> { name: 'fred', age: 10, contact: { email: 'moo@example.com' }}\n */\n\nvar mergeDeepLeft =\n/*#__PURE__*/\n_curry2(function mergeDeepLeft(lObj, rObj) {\n  return mergeDeepWithKey(function (k, lVal, rVal) {\n    return lVal;\n  }, lObj, rObj);\n});\n\nexport default mergeDeepLeft;", "import _curry2 from \"./internal/_curry2.js\";\nimport mergeDeepWithKey from \"./mergeDeepWithKey.js\";\n/**\n * Creates a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects:\n * - and both values are objects, the two values will be recursively merged\n * - otherwise the value from the second object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig {a} -> {a} -> {a}\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.merge, R.mergeDeepLeft, R.mergeDeepWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepRight({ name: 'fred', age: 10, contact: { email: 'moo@example.com' }},\n *                       { age: 40, contact: { email: 'baa@example.com' }});\n *      //=> { name: 'fred', age: 40, contact: { email: 'baa@example.com' }}\n */\n\nvar mergeDeepRight =\n/*#__PURE__*/\n_curry2(function mergeDeepRight(lObj, rObj) {\n  return mergeDeepWithKey(function (k, lVal, rVal) {\n    return rVal;\n  }, lObj, rObj);\n});\n\nexport default mergeDeepRight;", "import _curry3 from \"./internal/_curry3.js\";\nimport mergeDeepWithKey from \"./mergeDeepWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects.\n * If a key exists in both objects:\n * - and both associated values are also objects then the values will be\n *   recursively merged.\n * - otherwise the provided function is applied to associated values using the\n *   resulting value as the new value associated with the key.\n * If a key only exists in one object, the value will be associated with the key\n * of the resulting object.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Object\n * @sig ((a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} lObj\n * @param {Object} rObj\n * @return {Object}\n * @see R.mergeWith, R.mergeDeepWithKey\n * @example\n *\n *      R.mergeDeepWith(R.concat,\n *                      { a: true, c: { values: [10, 20] }},\n *                      { b: true, c: { values: [15, 35] }});\n *      //=> { a: true, b: true, c: { values: [10, 20, 15, 35] }}\n */\n\nvar mergeDeepWith =\n/*#__PURE__*/\n_curry3(function mergeDeepWith(fn, lObj, rObj) {\n  return mergeDeepWithKey(function (k, lVal, rVal) {\n    return fn(lVal, rVal);\n  }, lObj, rObj);\n});\n\nexport default mergeDeepWith;", "import _objectAssign from \"./internal/_objectAssign.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Create a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects,\n * the value from the first object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Object\n * @sig {k: v} -> {k: v} -> {k: v}\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeRight, R.mergeDeepLeft, R.mergeWith, R.mergeWithKey\n * @example\n *\n *      R.mergeLeft({ 'age': 40 }, { 'name': 'fred', 'age': 10 });\n *      //=> { 'name': 'fred', 'age': 40 }\n *\n *      const resetToDefault = R.mergeLeft({x: 0});\n *      resetToDefault({x: 5, y: 2}); //=> {x: 0, y: 2}\n * @symb R.mergeLeft(a, b) = {...b, ...a}\n */\n\nvar mergeLeft =\n/*#__PURE__*/\n_curry2(function mergeLeft(l, r) {\n  return _objectAssign({}, r, l);\n});\n\nexport default mergeLeft;", "import _objectAssign from \"./internal/_objectAssign.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Create a new object with the own properties of the first object merged with\n * the own properties of the second object. If a key exists in both objects,\n * the value from the second object will be used.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Object\n * @sig {k: v} -> {k: v} -> {k: v}\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeLeft, R.mergeDeepRight, R.mergeWith, R.mergeWithKey\n * @example\n *\n *      R.mergeRight({ 'name': 'fred', 'age': 10 }, { 'age': 40 });\n *      //=> { 'name': 'fred', 'age': 40 }\n *\n *      const withDefaults = R.mergeRight({x: 0, y: 0});\n *      withDefaults({y: 2}); //=> {x: 0, y: 2}\n * @symb R.mergeRight(a, b) = {...a, ...b}\n */\n\nvar mergeRight =\n/*#__PURE__*/\n_curry2(function mergeRight(l, r) {\n  return _objectAssign({}, l, r);\n});\n\nexport default mergeRight;", "import _curry3 from \"./internal/_curry3.js\";\nimport mergeWithKey from \"./mergeWithKey.js\";\n/**\n * Creates a new object with the own properties of the two provided objects. If\n * a key exists in both objects, the provided function is applied to the values\n * associated with the key in each object, with the result being used as the\n * value associated with the key in the returned object.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Object\n * @sig ((a, a) -> a) -> {a} -> {a} -> {a}\n * @param {Function} fn\n * @param {Object} l\n * @param {Object} r\n * @return {Object}\n * @see R.mergeDeepWith, R.merge, R.mergeWithKey\n * @example\n *\n *      R.mergeWith(R.concat,\n *                  { a: true, values: [10, 20] },\n *                  { b: true, values: [15, 35] });\n *      //=> { a: true, b: true, values: [10, 20, 15, 35] }\n */\n\nvar mergeWith =\n/*#__PURE__*/\n_curry3(function mergeWith(fn, l, r) {\n  return mergeWithKey(function (_, _l, _r) {\n    return fn(_l, _r);\n  }, l, r);\n});\n\nexport default mergeWith;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns the smaller of its two arguments.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord a => a -> a -> a\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @see R.minBy, R.max\n * @example\n *\n *      R.min(789, 123); //=> 123\n *      R.min('a', 'b'); //=> 'a'\n */\n\nvar min =\n/*#__PURE__*/\n_curry2(function min(a, b) {\n  return b < a ? b : a;\n});\n\nexport default min;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Takes a function and two values, and returns whichever value produces the\n * smaller result when passed to the provided function.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Relation\n * @sig Ord b => (a -> b) -> a -> a -> a\n * @param {Function} f\n * @param {*} a\n * @param {*} b\n * @return {*}\n * @see R.min, R.maxBy\n * @example\n *\n *      //  square :: Number -> Number\n *      const square = n => n * n;\n *\n *      R.minBy(square, -3, 2); //=> 2\n *\n *      R.reduce(R.minBy(square), Infinity, [3, -5, 4, 1, -2]); //=> 1\n *      R.reduce(R.minBy(square), Infinity, []); //=> Infinity\n */\n\nvar minBy =\n/*#__PURE__*/\n_curry3(function minBy(f, a, b) {\n  return f(b) < f(a) ? b : a;\n});\n\nexport default minBy;", "import _isArray from \"./_isArray.js\";\nimport _isInteger from \"./_isInteger.js\";\n/**\n * Makes a shallow clone of an object, applying the given fn to the specified\n * property with the given value. Note that this copies and flattens prototype\n * properties onto the new object as well. All non-primitive properties are\n * copied by reference.\n *\n * @private\n * @param {String|Number} prop The property name to set\n * @param {Function} fn The function to apply to the property\n * @param {Object|Array} obj The object to clone\n * @return {Object|Array} A new object equivalent to the original except for the changed property.\n */\n\nexport default function _modify(prop, fn, obj) {\n  if (_isInteger(prop) && _isArray(obj)) {\n    var arr = [].concat(obj);\n    arr[prop] = fn(arr[prop]);\n    return arr;\n  }\n\n  var result = {};\n\n  for (var p in obj) {\n    result[p] = obj[p];\n  }\n\n  result[prop] = fn(result[prop]);\n  return result;\n}", "import _curry3 from \"./internal/_curry3.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _isObject from \"./internal/_isObject.js\";\nimport _has from \"./internal/_has.js\";\nimport _assoc from \"./internal/_assoc.js\";\nimport _modify from \"./internal/_modify.js\";\n/**\n * Creates a shallow clone of the passed object by applying an `fn` function\n * to the value at the given path.\n *\n * The function will not be invoked, and the object will not change\n * if its corresponding path does not exist in the object.\n * All non-primitive properties are copied to the new object by reference.\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category Object\n * @sig [Idx] -> (v -> v) -> {k: v} -> {k: v}\n * @param {Array} path The path to be modified.\n * @param {Function} fn The function to apply to the path.\n * @param {Object} object The object to be transformed.\n * @return {Object} The transformed object.\n * @example\n *\n *      const person = {name: 'James', address: { zipCode: '90216' }};\n *      R.modifyPath(['address', 'zipCode'], R.reverse, person); //=> {name: 'James', address: { zipCode: '61209' }}\n *\n *      // Can handle arrays too\n *      const person = {name: 'James', addresses: [{ zipCode: '90216' }]};\n *      R.modifyPath(['addresses', 0, 'zipCode'], R.reverse, person); //=> {name: 'James', addresses: [{ zipCode: '61209' }]}\n */\n\nvar modifyPath =\n/*#__PURE__*/\n_curry3(function modifyPath(path, fn, object) {\n  if (!_isObject(object) && !_isArray(object) || path.length === 0) {\n    return object;\n  }\n\n  var idx = path[0];\n\n  if (!_has(idx, object)) {\n    return object;\n  }\n\n  if (path.length === 1) {\n    return _modify(idx, fn, object);\n  }\n\n  var val = modifyPath(Array.prototype.slice.call(path, 1), fn, object[idx]);\n\n  if (val === object[idx]) {\n    return object;\n  }\n\n  return _assoc(idx, val, object);\n});\n\nexport default modifyPath;", "import _curry3 from \"./internal/_curry3.js\";\nimport modifyPath from \"./modifyPath.js\";\n/**\n * Creates a copy of the passed object by applying an `fn` function to the given `prop` property.\n *\n * The function will not be invoked, and the object will not change\n * if its corresponding property does not exist in the object.\n * All non-primitive properties are copied to the new object by reference.\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category Object\n * @sig Idx -> (v -> v) -> {k: v} -> {k: v}\n * @param {String|Number} prop The property to be modified.\n * @param {Function} fn The function to apply to the property.\n * @param {Object} object The object to be transformed.\n * @return {Object} The transformed object.\n * @example\n *\n *      const person = {name: 'James', age: 20, pets: ['dog', 'cat']};\n *      R.modify('age', R.add(1), person); //=> {name: 'James', age: 21, pets: ['dog', 'cat']}\n *      R.modify('pets', R.append('turtle'), person); //=> {name: 'James', age: 20, pets: ['dog', 'cat', 'turtle']}\n */\n\nvar modify =\n/*#__PURE__*/\n_curry3(function modify(prop, fn, object) {\n  return modifyPath([prop], fn, object);\n});\n\nexport default modify;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Divides the first parameter by the second and returns the remainder. Note\n * that this function preserves the JavaScript-style behavior for modulo. For\n * mathematical modulo see [`mathMod`](#mathMod).\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a The value to the divide.\n * @param {Number} b The pseudo-modulus\n * @return {Number} The result of `b % a`.\n * @see R.mathMod\n * @example\n *\n *      R.modulo(17, 3); //=> 2\n *      // JS behavior:\n *      R.modulo(-17, 3); //=> -2\n *      R.modulo(17, -3); //=> 2\n *\n *      const isOdd = R.modulo(R.__, 2);\n *      isOdd(42); //=> 0\n *      isOdd(21); //=> 1\n */\n\nvar modulo =\n/*#__PURE__*/\n_curry2(function modulo(a, b) {\n  return a % b;\n});\n\nexport default modulo;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Move an item, at index `from`, to index `to`, in a list of elements.\n * A new list will be created containing the new elements order.\n *\n * @func\n * @memberOf R\n * @since v0.27.1\n * @category List\n * @sig Number -> Number -> [a] -> [a]\n * @param {Number} from The source index\n * @param {Number} to The destination index\n * @param {Array} list The list which will serve to realise the move\n * @return {Array} The new list reordered\n * @example\n *\n *      R.move(0, 2, ['a', 'b', 'c', 'd', 'e', 'f']); //=> ['b', 'c', 'a', 'd', 'e', 'f']\n *      R.move(-1, 0, ['a', 'b', 'c', 'd', 'e', 'f']); //=> ['f', 'a', 'b', 'c', 'd', 'e'] list rotation\n */\n\nvar move =\n/*#__PURE__*/\n_curry3(function (from, to, list) {\n  var length = list.length;\n  var result = list.slice();\n  var positiveFrom = from < 0 ? length + from : from;\n  var positiveTo = to < 0 ? length + to : to;\n  var item = result.splice(positiveFrom, 1);\n  return positiveFrom < 0 || positiveFrom >= list.length || positiveTo < 0 || positiveTo >= list.length ? list : [].concat(result.slice(0, positiveTo)).concat(item).concat(result.slice(positiveTo, list.length));\n});\n\nexport default move;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Multiplies two numbers. Equivalent to `a * b` but curried.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a The first value.\n * @param {Number} b The second value.\n * @return {Number} The result of `a * b`.\n * @see R.divide\n * @example\n *\n *      const double = R.multiply(2);\n *      const triple = R.multiply(3);\n *      double(3);       //=>  6\n *      triple(4);       //=> 12\n *      R.multiply(2, 5);  //=> 10\n */\n\nvar multiply =\n/*#__PURE__*/\n_curry2(function multiply(a, b) {\n  return a * b;\n});\n\nexport default multiply;", "import mergeDeepRight from \"./mergeDeepRight.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Takes a function `f` and an object, and returns a function `g`.\n * When applied, `g` returns the result of applying `f` to the object\n * provided initially merged deeply (right) with the object provided as an argument to `g`.\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category Function\n * @sig (({ a, b, c, ..., n }) -> x) -> { a, b, c, ...} -> ({ d, e, f, ..., n } -> x)\n * @param {Function} f\n * @param {Object} props\n * @return {Function}\n * @see R.partial, R.partialRight, R.curry, R.mergeDeepRight\n * @example\n *\n *      const multiply2 = ({ a, b }) => a * b;\n *      const double = R.partialObject(multiply2, { a: 2 });\n *      double({ b: 2 }); //=> 4\n *\n *      const greet = ({ salutation, title, firstName, lastName }) =>\n *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';\n *\n *      const sayHello = R.partialObject(greet, { salutation: 'Hello' });\n *      const sayHelloToMs = R.partialObject(sayHello, { title: 'Ms.' });\n *      sayHelloToMs({ firstName: 'Jane', lastName: 'Jones' }); //=> 'Hello, Ms. Jane Jones!'\n * @symb R.partialObject(f, { a, b })({ c, d }) = f({ a, b, c, d })\n */\n\nexport default\n/*#__PURE__*/\n_curry2((f, o) => props => f.call(this, mergeDeepRight(o, props)));", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Negates its argument.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Math\n * @sig Number -> Number\n * @param {Number} n\n * @return {Number}\n * @example\n *\n *      R.negate(42); //=> -42\n */\n\nvar negate =\n/*#__PURE__*/\n_curry1(function negate(n) {\n  return -n;\n});\n\nexport default negate;", "import _complement from \"./internal/_complement.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport all from \"./all.js\";\n/**\n * Returns `true` if no elements of the list match the predicate, `false`\n * otherwise.\n *\n * Dispatches to the `all` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> Boolean\n * @param {Function} fn The predicate function.\n * @param {Array} list The array to consider.\n * @return {Boolean} `true` if the predicate is not satisfied by every element, `false` otherwise.\n * @see R.all, R.any\n * @example\n *\n *      const isEven = n => n % 2 === 0;\n *      const isOdd = n => n % 2 !== 0;\n *\n *      R.none(isEven, [1, 3, 5, 7, 9, 11]); //=> true\n *      R.none(isOdd, [1, 3, 5, 7, 8, 11]); //=> false\n */\n\nvar none =\n/*#__PURE__*/\n_curry2(function none(fn, input) {\n  return all(_complement(fn), input);\n});\n\nexport default none;", "import _curry1 from \"./internal/_curry1.js\";\nimport curryN from \"./curryN.js\";\nimport nth from \"./nth.js\";\n/**\n * Returns a function which returns its nth argument.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category Function\n * @sig Number -> *... -> *\n * @param {Number} n\n * @return {Function}\n * @example\n *\n *      R.nthArg(1)('a', 'b', 'c'); //=> 'b'\n *      R.nthArg(-1)('a', 'b', 'c'); //=> 'c'\n * @symb R.nthArg(-1)(a, b, c) = c\n * @symb R.nthArg(0)(a, b, c) = a\n * @symb R.nthArg(1)(a, b, c) = b\n */\n\nvar nthArg =\n/*#__PURE__*/\n_curry1(function nthArg(n) {\n  var arity = n < 0 ? 1 : n + 1;\n  return curryN(arity, function () {\n    return nth(n, arguments);\n  });\n});\n\nexport default nthArg;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * `o` is a curried composition function that returns a unary function.\n * Like [`compose`](#compose), `o` performs right-to-left function composition.\n * Unlike [`compose`](#compose), the rightmost function passed to `o` will be\n * invoked with only one argument. Also, unlike [`compose`](#compose), `o` is\n * limited to accepting only 2 unary functions. The name o was chosen because\n * of its similarity to the mathematical composition operator \u2218.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category Function\n * @sig (b -> c) -> (a -> b) -> a -> c\n * @param {Function} f\n * @param {Function} g\n * @return {Function}\n * @see R.compose, R.pipe\n * @example\n *\n *      const classyGreeting = name => \"The name's \" + name.last + \", \" + name.first + \" \" + name.last\n *      const yellGreeting = R.o(R.toUpper, classyGreeting);\n *      yellGreeting({first: 'James', last: 'Bond'}); //=> \"THE NAME'S BOND, JAMES BOND\"\n *\n *      R.o(R.multiply(10), R.add(10))(-4) //=> 60\n *\n * @symb R.o(f, g, x) = f(g(x))\n */\n\nvar o =\n/*#__PURE__*/\n_curry3(function o(f, g, x) {\n  return f(g(x));\n});\n\nexport default o;", "export default function _of(x) {\n  return [x];\n}", "import _curry1 from \"./internal/_curry1.js\";\nimport _of from \"./internal/_of.js\";\n/**\n * Returns a singleton array containing the value provided.\n *\n * Note this `of` is different from the ES6 `of`; See\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/of\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category Function\n * @sig a -> [a]\n * @param {*} x any value\n * @return {Array} An array wrapping `x`.\n * @example\n *\n *      R.of(null); //=> [null]\n *      R.of([42]); //=> [[42]]\n */\n\nvar of =\n/*#__PURE__*/\n_curry1(_of);\n\nexport default of;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a partial copy of an object omitting the keys specified.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [String] -> {String: *} -> {String: *}\n * @param {Array} names an array of String property names to omit from the new object\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with properties from `names` not on it.\n * @see R.pick\n * @example\n *\n *      R.omit(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {b: 2, c: 3}\n */\n\nvar omit =\n/*#__PURE__*/\n_curry2(function omit(names, obj) {\n  var result = {};\n  var index = {};\n  var idx = 0;\n  var len = names.length;\n\n  while (idx < len) {\n    index[names[idx]] = 1;\n    idx += 1;\n  }\n\n  for (var prop in obj) {\n    if (!index.hasOwnProperty(prop)) {\n      result[prop] = obj[prop];\n    }\n  }\n\n  return result;\n});\n\nexport default omit;", "import curryN from \"./internal/_curryN.js\";\n/**\n * Takes a binary function `f`, a unary function `g`, and two values.\n * Applies `g` to each value, then applies the result of each to `f`.\n *\n * Also known as the P combinator.\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category Function\n * @sig ((a, a) -> b) -> (c -> a) -> c -> c -> b\n * @param {Function} f a binary function\n * @param {Function} g a unary function\n * @param {any} a any value\n * @param {any} b any value\n * @return {any} The result of `f`\n * @example\n *\n *      const eqBy = R.on((a, b) => a === b);\n *      eqBy(R.prop('a'), {b:0, a:1}, {a:1}) //=> true;\n *\n *      const containsInsensitive = R.on(R.contains, R.toLower);\n *      containsInsensitive('o', 'FOO'); //=> true\n * @symb R.on(f, g, a, b) = f(g(a), g(b))\n */\n\nvar on =\n/*#__PURE__*/\ncurryN(4, [], function on(f, g, a, b) {\n  return f(g(a), g(b));\n});\nexport default on;", "import _arity from \"./internal/_arity.js\";\nimport _curry1 from \"./internal/_curry1.js\";\n/**\n * Accepts a function `fn` and returns a function that guards invocation of\n * `fn` such that `fn` can only ever be called once, no matter how many times\n * the returned function is invoked. The first value calculated is returned in\n * subsequent invocations.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (a... -> b) -> (a... -> b)\n * @param {Function} fn The function to wrap in a call-only-once wrapper.\n * @return {Function} The wrapped function.\n * @example\n *\n *      const addOneOnce = R.once(x => x + 1);\n *      addOneOnce(10); //=> 11\n *      addOneOnce(addOneOnce(50)); //=> 11\n */\n\nvar once =\n/*#__PURE__*/\n_curry1(function once(fn) {\n  var called = false;\n  var result;\n  return _arity(fn.length, function () {\n    if (called) {\n      return result;\n    }\n\n    called = true;\n    result = fn.apply(this, arguments);\n    return result;\n  });\n});\n\nexport default once;", "import _isFunction from \"./_isFunction.js\";\nimport _toString from \"./_toString.js\";\nexport default function _assertPromise(name, p) {\n  if (p == null || !_isFunction(p.then)) {\n    throw new TypeError('`' + name + '` expected a Promise, received ' + _toString(p, []));\n  }\n}", "import _curry2 from \"./internal/_curry2.js\";\nimport _assertPromise from \"./internal/_assertPromise.js\";\n/**\n * Returns the result of applying the onFailure function to the value inside\n * a failed promise. This is useful for handling rejected promises\n * inside function compositions.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Function\n * @sig (e -> b) -> (Promise e a) -> (Promise e b)\n * @sig (e -> (Promise f b)) -> (Promise e a) -> (Promise f b)\n * @param {Function} onFailure The function to apply. Can return a value or a promise of a value.\n * @param {Promise} p\n * @return {Promise} The result of calling `p.then(null, onFailure)`\n * @see R.andThen\n * @example\n *\n *      const failedFetch = id => Promise.reject('bad ID');\n *      const useDefault = () => ({ firstName: 'Bob', lastName: 'Loblaw' });\n *\n *      //recoverFromFailure :: String -> Promise ({ firstName, lastName })\n *      const recoverFromFailure = R.pipe(\n *        failedFetch,\n *        R.otherwise(useDefault),\n *        R.andThen(R.pick(['firstName', 'lastName'])),\n *      );\n *      recoverFromFailure(12345).then(console.log);\n */\n\nvar otherwise =\n/*#__PURE__*/\n_curry2(function otherwise(f, p) {\n  _assertPromise('otherwise', p);\n\n  return p.then(null, f);\n});\n\nexport default otherwise;", "import _curry3 from \"./internal/_curry3.js\"; // `Identity` is a functor that holds a single value, where `map` simply\n// transforms the held value with the provided function.\n\nvar Identity = function (x) {\n  return {\n    value: x,\n    map: function (f) {\n      return Identity(f(x));\n    }\n  };\n};\n/**\n * Returns the result of \"setting\" the portion of the given data structure\n * focused by the given lens to the result of applying the given function to\n * the focused value.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category Object\n * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n * @sig Lens s a -> (a -> a) -> s -> s\n * @param {Lens} lens\n * @param {*} v\n * @param {*} x\n * @return {*}\n * @see R.view, R.set, R.lens, R.lensIndex, R.lensProp, R.lensPath\n * @example\n *\n *      const headLens = R.lensIndex(0);\n *\n *      R.over(headLens, R.toUpper, ['foo', 'bar', 'baz']); //=> ['FOO', 'bar', 'baz']\n */\n\n\nvar over =\n/*#__PURE__*/\n_curry3(function over(lens, f, x) {\n  // The value returned by the getter function is first transformed with `f`,\n  // then set as the value of an `Identity`. This is then mapped over with the\n  // setter function of the lens.\n  return lens(function (y) {\n    return Identity(f(y));\n  })(x).value;\n});\n\nexport default over;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Takes two arguments, `fst` and `snd`, and returns `[fst, snd]`.\n *\n * @func\n * @memberOf R\n * @since v0.18.0\n * @category List\n * @sig a -> b -> (a,b)\n * @param {*} fst\n * @param {*} snd\n * @return {Array}\n * @see R.objOf, R.of\n * @example\n *\n *      R.pair('foo', 'bar'); //=> ['foo', 'bar']\n */\n\nvar pair =\n/*#__PURE__*/\n_curry2(function pair(fst, snd) {\n  return [fst, snd];\n});\n\nexport default pair;", "import _arity from \"./_arity.js\";\nimport _curry2 from \"./_curry2.js\";\nexport default function _createPartialApplicator(concat) {\n  return _curry2(function (fn, args) {\n    return _arity(Math.max(0, fn.length - args.length), function () {\n      return fn.apply(this, concat(args, arguments));\n    });\n  });\n}", "import _concat from \"./internal/_concat.js\";\nimport _createPartialApplicator from \"./internal/_createPartialApplicator.js\";\n/**\n * Takes a function `f` and a list of arguments, and returns a function `g`.\n * When applied, `g` returns the result of applying `f` to the arguments\n * provided initially followed by the arguments provided to `g`.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Function\n * @sig ((a, b, c, ..., n) -> x) -> [a, b, c, ...] -> ((d, e, f, ..., n) -> x)\n * @param {Function} f\n * @param {Array} args\n * @return {Function}\n * @see R.partialRight, R.curry\n * @example\n *\n *      const multiply2 = (a, b) => a * b;\n *      const double = R.partial(multiply2, [2]);\n *      double(3); //=> 6\n *\n *      const greet = (salutation, title, firstName, lastName) =>\n *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';\n *\n *      const sayHello = R.partial(greet, ['Hello']);\n *      const sayHelloToMs = R.partial(sayHello, ['Ms.']);\n *      sayHelloToMs('Jane', 'Jones'); //=> 'Hello, Ms. Jane Jones!'\n * @symb R.partial(f, [a, b])(c, d) = f(a, b, c, d)\n */\n\nvar partial =\n/*#__PURE__*/\n_createPartialApplicator(_concat);\n\nexport default partial;", "import _concat from \"./internal/_concat.js\";\nimport _createPartialApplicator from \"./internal/_createPartialApplicator.js\";\nimport flip from \"./flip.js\";\n/**\n * Takes a function `f` and a list of arguments, and returns a function `g`.\n * When applied, `g` returns the result of applying `f` to the arguments\n * provided to `g` followed by the arguments provided initially.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category Function\n * @sig ((a, b, c, ..., n) -> x) -> [d, e, f, ..., n] -> ((a, b, c, ...) -> x)\n * @param {Function} f\n * @param {Array} args\n * @return {Function}\n * @see R.partial\n * @example\n *\n *      const greet = (salutation, title, firstName, lastName) =>\n *        salutation + ', ' + title + ' ' + firstName + ' ' + lastName + '!';\n *\n *      const greetMsJaneJones = R.partialRight(greet, ['Ms.', 'Jane', 'Jones']);\n *\n *      greetMsJaneJones('Hello'); //=> 'Hello, Ms. Jane Jones!'\n * @symb R.partialRight(f, [a, b])(c, d) = f(c, d, a, b)\n */\n\nvar partialRight =\n/*#__PURE__*/\n_createPartialApplicator(\n/*#__PURE__*/\nflip(_concat));\n\nexport default partialRight;", "import filter from \"./filter.js\";\nimport juxt from \"./juxt.js\";\nimport reject from \"./reject.js\";\n/**\n * Takes a predicate and a list or other `Filterable` object and returns the\n * pair of filterable objects of the same type of elements which do and do not\n * satisfy, the predicate, respectively. Filterable objects include plain objects or any object\n * that has a filter method such as `Array`.\n *\n * @func\n * @memberOf R\n * @since v0.1.4\n * @category List\n * @sig Filterable f => (a -> Boolean) -> f a -> [f a, f a]\n * @param {Function} pred A predicate to determine which side the element belongs to.\n * @param {Array} filterable the list (or other filterable) to partition.\n * @return {Array} An array, containing first the subset of elements that satisfy the\n *         predicate, and second the subset of elements that do not satisfy.\n * @see R.filter, R.reject\n * @example\n *\n *      R.partition(R.includes('s'), ['sss', 'ttt', 'foo', 'bars']);\n *      // => [ [ 'sss', 'bars' ],  [ 'ttt', 'foo' ] ]\n *\n *      R.partition(R.includes('s'), { a: 'sss', b: 'ttt', foo: 'bars' });\n *      // => [ { a: 'sss', foo: 'bars' }, { b: 'ttt' }  ]\n */\n\nvar partition =\n/*#__PURE__*/\njuxt([filter, reject]);\nexport default partition;", "import _curry3 from \"./internal/_curry3.js\";\nimport equals from \"./equals.js\";\nimport path from \"./path.js\";\n/**\n * Determines whether a nested path on an object has a specific value, in\n * [`R.equals`](#equals) terms. Most likely used to filter a list.\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category Relation\n * @typedefn Idx = String | Int | Symbol\n * @sig [Idx] -> a -> {a} -> Boolean\n * @param {Array} path The path of the nested property to use\n * @param {*} val The value to compare the nested property with\n * @param {Object} obj The object to check the nested property in\n * @return {Boolean} `true` if the value equals the nested object property,\n *         `false` otherwise.\n * @example\n *\n *      const user1 = { address: { zipCode: 90210 } };\n *      const user2 = { address: { zipCode: 55555 } };\n *      const user3 = { name: 'Bob' };\n *      const users = [ user1, user2, user3 ];\n *      const isFamous = R.pathEq(['address', 'zipCode'], 90210);\n *      R.filter(isFamous, users); //=> [ user1 ]\n */\n\nvar pathEq =\n/*#__PURE__*/\n_curry3(function pathEq(_path, val, obj) {\n  return equals(path(_path, obj), val);\n});\n\nexport default pathEq;", "import _curry3 from \"./internal/_curry3.js\";\nimport defaultTo from \"./defaultTo.js\";\nimport path from \"./path.js\";\n/**\n * If the given, non-null object has a value at the given path, returns the\n * value at that path. Otherwise returns the provided default value.\n *\n * @func\n * @memberOf R\n * @since v0.18.0\n * @category Object\n * @typedefn Idx = String | Int | Symbol\n * @sig a -> [Idx] -> {a} -> a\n * @param {*} d The default value.\n * @param {Array} p The path to use.\n * @param {Object} obj The object to retrieve the nested property from.\n * @return {*} The data at `path` of the supplied object or the default value.\n * @example\n *\n *      R.pathOr('N/A', ['a', 'b'], {a: {b: 2}}); //=> 2\n *      R.pathOr('N/A', ['a', 'b'], {c: {b: 2}}); //=> \"N/A\"\n */\n\nvar pathOr =\n/*#__PURE__*/\n_curry3(function pathOr(d, p, obj) {\n  return defaultTo(d, path(p, obj));\n});\n\nexport default pathOr;", "import _curry3 from \"./internal/_curry3.js\";\nimport path from \"./path.js\";\n/**\n * Returns `true` if the specified object property at given path satisfies the\n * given predicate; `false` otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Logic\n * @typedefn Idx = String | Int | Symbol\n * @sig (a -> Boolean) -> [Idx] -> {a} -> Boolean\n * @param {Function} pred\n * @param {Array} propPath\n * @param {*} obj\n * @return {Boolean}\n * @see R.propSatisfies, R.path\n * @example\n *\n *      R.pathSatisfies(y => y > 0, ['x', 'y'], {x: {y: 2}}); //=> true\n *      R.pathSatisfies(R.is(Object), [], {x: {y: 2}}); //=> true\n */\n\nvar pathSatisfies =\n/*#__PURE__*/\n_curry3(function pathSatisfies(pred, propPath, obj) {\n  return pred(path(propPath, obj));\n});\n\nexport default pathSatisfies;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a partial copy of an object containing only the keys specified. If\n * the key does not exist, the property is ignored.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [k] -> {k: v} -> {k: v}\n * @param {Array} names an array of String property names to copy onto a new object\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties from `names` on it.\n * @see R.omit, R.props\n * @example\n *\n *      R.pick(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}\n *      R.pick(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1}\n */\n\nvar pick =\n/*#__PURE__*/\n_curry2(function pick(names, obj) {\n  var result = {};\n  var idx = 0;\n\n  while (idx < names.length) {\n    if (names[idx] in obj) {\n      result[names[idx]] = obj[names[idx]];\n    }\n\n    idx += 1;\n  }\n\n  return result;\n});\n\nexport default pick;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Similar to `pick` except that this one includes a `key: undefined` pair for\n * properties that don't exist.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [k] -> {k: v} -> {k: v}\n * @param {Array} names an array of String property names to copy onto a new object\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties from `names` on it.\n * @see R.pick\n * @example\n *\n *      R.pickAll(['a', 'd'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, d: 4}\n *      R.pickAll(['a', 'e', 'f'], {a: 1, b: 2, c: 3, d: 4}); //=> {a: 1, e: undefined, f: undefined}\n */\n\nvar pickAll =\n/*#__PURE__*/\n_curry2(function pickAll(names, obj) {\n  var result = {};\n  var idx = 0;\n  var len = names.length;\n\n  while (idx < len) {\n    var name = names[idx];\n    result[name] = obj[name];\n    idx += 1;\n  }\n\n  return result;\n});\n\nexport default pickAll;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a partial copy of an object containing only the keys that satisfy\n * the supplied predicate.\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Object\n * @sig ((v, k) -> Boolean) -> {k: v} -> {k: v}\n * @param {Function} pred A predicate to determine whether or not a key\n *        should be included on the output object.\n * @param {Object} obj The object to copy from\n * @return {Object} A new object with only properties that satisfy `pred`\n *         on it.\n * @see R.pick, R.filter\n * @example\n *\n *      const isUpperCase = (val, key) => key.toUpperCase() === key;\n *      R.pickBy(isUpperCase, {a: 1, b: 2, A: 3, B: 4}); //=> {A: 3, B: 4}\n */\n\nvar pickBy =\n/*#__PURE__*/\n_curry2(function pickBy(test, obj) {\n  var result = {};\n\n  for (var prop in obj) {\n    if (test(obj[prop], prop, obj)) {\n      result[prop] = obj[prop];\n    }\n  }\n\n  return result;\n});\n\nexport default pickBy;", "import _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a new list with the given element at the front, followed by the\n * contents of the list.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig a -> [a] -> [a]\n * @param {*} el The item to add to the head of the output list.\n * @param {Array} list The array to add to the tail of the output list.\n * @return {Array} A new array.\n * @see R.append\n * @example\n *\n *      R.prepend('fee', ['fi', 'fo', 'fum']); //=> ['fee', 'fi', 'fo', 'fum']\n */\n\nvar prepend =\n/*#__PURE__*/\n_curry2(function prepend(el, list) {\n  return _concat([el], list);\n});\n\nexport default prepend;", "import multiply from \"./multiply.js\";\nimport reduce from \"./reduce.js\";\n/**\n * Multiplies together all the elements of a list.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig [Number] -> Number\n * @param {Array} list An array of numbers\n * @return {Number} The product of all the numbers in the list.\n * @see R.reduce\n * @example\n *\n *      R.product([2,4,6,8,100,1]); //=> 38400\n */\n\nvar product =\n/*#__PURE__*/\nreduce(multiply, 1);\nexport default product;", "import _curry2 from \"./internal/_curry2.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Accepts a function `fn` and a list of transformer functions and returns a\n * new curried function. When the new function is invoked, it calls the\n * function `fn` with parameters consisting of the result of calling each\n * supplied handler on successive arguments to the new function.\n *\n * If more arguments are passed to the returned function than transformer\n * functions, those arguments are passed directly to `fn` as additional\n * parameters. If you expect additional arguments that don't need to be\n * transformed, although you can ignore them, it's best to pass an identity\n * function so that the new function reports the correct arity.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig ((x1, x2, ...) -> z) -> [(a -> x1), (b -> x2), ...] -> (a -> b -> ... -> z)\n * @param {Function} fn The function to wrap.\n * @param {Array} transformers A list of transformer functions\n * @return {Function} The wrapped function.\n * @see R.converge\n * @example\n *\n *      R.useWith(Math.pow, [R.identity, R.identity])(3, 4); //=> 81\n *      R.useWith(Math.pow, [R.identity, R.identity])(3)(4); //=> 81\n *      R.useWith(Math.pow, [R.dec, R.inc])(3, 4); //=> 32\n *      R.useWith(Math.pow, [R.dec, R.inc])(3)(4); //=> 32\n * @symb R.useWith(f, [g, h])(a, b) = f(g(a), h(b))\n */\n\nvar useWith =\n/*#__PURE__*/\n_curry2(function useWith(fn, transformers) {\n  return curryN(transformers.length, function () {\n    var args = [];\n    var idx = 0;\n\n    while (idx < transformers.length) {\n      args.push(transformers[idx].call(this, arguments[idx]));\n      idx += 1;\n    }\n\n    return fn.apply(this, args.concat(Array.prototype.slice.call(arguments, transformers.length)));\n  });\n});\n\nexport default useWith;", "import _map from \"./internal/_map.js\";\nimport identity from \"./identity.js\";\nimport pickAll from \"./pickAll.js\";\nimport useWith from \"./useWith.js\";\n/**\n * Reasonable analog to SQL `select` statement.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @category Relation\n * @sig [k] -> [{k: v}] -> [{k: v}]\n * @param {Array} props The property names to project\n * @param {Array} objs The objects to query\n * @return {Array} An array of objects with just the `props` properties.\n * @see R.pluck, R.props, R.prop\n * @example\n *\n *      const abby = {name: 'Abby', age: 7, hair: 'blond', grade: 2};\n *      const fred = {name: 'Fred', age: 12, hair: 'brown', grade: 7};\n *      const kids = [abby, fred];\n *      R.project(['name', 'grade'], kids); //=> [{name: 'Abby', grade: 2}, {name: 'Fred', grade: 7}]\n */\n\nvar project =\n/*#__PURE__*/\nuseWith(_map, [pickAll, identity]); // passing `identity` gives correct arity\n\nexport default project;", "export default function _promap(f, g, profunctor) {\n  return function (x) {\n    return g(profunctor(f(x)));\n  };\n}", "import _curry3 from \"./_curry3.js\";\nimport _xfBase from \"./_xfBase.js\";\nimport _promap from \"./_promap.js\";\n\nvar XPromap =\n/*#__PURE__*/\nfunction () {\n  function XPromap(f, g, xf) {\n    this.xf = xf;\n    this.f = f;\n    this.g = g;\n  }\n\n  XPromap.prototype['@@transducer/init'] = _xfBase.init;\n  XPromap.prototype['@@transducer/result'] = _xfBase.result;\n\n  XPromap.prototype['@@transducer/step'] = function (result, input) {\n    return this.xf['@@transducer/step'](result, _promap(this.f, this.g, input));\n  };\n\n  return XPromap;\n}();\n\nvar _xpromap =\n/*#__PURE__*/\n_curry3(function _xpromap(f, g, xf) {\n  return new XPromap(f, g, xf);\n});\n\nexport default _xpromap;", "import _curry3 from \"./internal/_curry3.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _promap from \"./internal/_promap.js\";\nimport _xpromap from \"./internal/_xpromap.js\";\n/**\n * Takes two functions as pre- and post- processors respectively for a third function,\n * i.e. `promap(f, g, h)(x) === g(h(f(x)))`.\n *\n * Dispatches to the `promap` method of the third argument, if present,\n * according to the [FantasyLand Profunctor spec](https://github.com/fantasyland/fantasy-land#profunctor).\n *\n * Acts as a transducer if a transformer is given in profunctor position.\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category Function\n * @sig (a -> b) -> (c -> d) -> (b -> c) -> (a -> d)\n * @sig Profunctor p => (a -> b) -> (c -> d) -> p b c -> p a d\n * @param {Function} f The preprocessor function, a -> b\n * @param {Function} g The postprocessor function, c -> d\n * @param {Profunctor} profunctor The profunctor instance to be promapped, e.g. b -> c\n * @return {Profunctor} The new profunctor instance, e.g. a -> d\n * @see R.transduce\n * @example\n *\n *      const decodeChar = R.promap(s => s.charCodeAt(), String.fromCharCode, R.add(-8))\n *      const decodeString = R.promap(R.split(''), R.join(''), R.map(decodeChar))\n *      decodeString(\"ziuli\") //=> \"ramda\"\n *\n * @symb R.promap(f, g, h) = x => g(h(f(x)))\n * @symb R.promap(f, g, profunctor) = profunctor.promap(f, g)\n */\n\nvar promap =\n/*#__PURE__*/\n_curry3(\n/*#__PURE__*/\n_dispatchable(['fantasy-land/promap', 'promap'], _xpromap, _promap));\n\nexport default promap;", "import _curry3 from \"./internal/_curry3.js\";\nimport prop from \"./prop.js\";\nimport equals from \"./equals.js\";\n/**\n * Returns `true` if the specified object property is equal, in\n * [`R.equals`](#equals) terms, to the given value; `false` otherwise.\n * You can test multiple properties with [`R.whereEq`](#whereEq).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig String -> a -> Object -> Boolean\n * @param {String} name\n * @param {*} val\n * @param {*} obj\n * @return {Boolean}\n * @see R.whereEq, R.propSatisfies, R.equals\n * @example\n *\n *      const abby = {name: 'Abby', age: 7, hair: 'blond'};\n *      const fred = {name: 'Fred', age: 12, hair: 'brown'};\n *      const rusty = {name: 'Rusty', age: 10, hair: 'brown'};\n *      const alois = {name: 'Alois', age: 15, disposition: 'surly'};\n *      const kids = [abby, fred, rusty, alois];\n *      const hasBrownHair = R.propEq('hair', 'brown');\n *      R.filter(hasBrownHair, kids); //=> [fred, rusty]\n */\n\nvar propEq =\n/*#__PURE__*/\n_curry3(function propEq(name, val, obj) {\n  return equals(val, prop(name, obj));\n});\n\nexport default propEq;", "import _curry3 from \"./internal/_curry3.js\";\nimport prop from \"./prop.js\";\nimport is from \"./is.js\";\n/**\n * Returns `true` if the specified object property is of the given type;\n * `false` otherwise.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category Type\n * @sig Type -> String -> Object -> Boolean\n * @param {Function} type\n * @param {String} name\n * @param {*} obj\n * @return {Boolean}\n * @see R.is, R.propSatisfies\n * @example\n *\n *      R.propIs(Number, 'x', {x: 1, y: 2});  //=> true\n *      R.propIs(Number, 'x', {x: 'foo'});    //=> false\n *      R.propIs(Number, 'x', {});            //=> false\n */\n\nvar propIs =\n/*#__PURE__*/\n_curry3(function propIs(type, name, obj) {\n  return is(type, prop(name, obj));\n});\n\nexport default propIs;", "import _curry3 from \"./internal/_curry3.js\";\nimport defaultTo from \"./defaultTo.js\";\nimport prop from \"./prop.js\";\n/**\n * Return the specified property of the given non-null object if the property\n * is present and it's value is not `null`, `undefined` or `NaN`.\n *\n * Otherwise the first argument is returned.\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category Object\n * @sig a -> String -> Object -> a\n * @param {*} val The default value.\n * @param {String} p The name of the property to return.\n * @param {Object} obj The object to query.\n * @return {*} The value of given property of the supplied object or the default value.\n * @example\n *\n *      const alice = {\n *        name: 'ALICE',\n *        age: 101\n *      };\n *      const favorite = R.prop('favoriteLibrary');\n *      const favoriteWithDefault = R.propOr('Ramda', 'favoriteLibrary');\n *\n *      favorite(alice);  //=> undefined\n *      favoriteWithDefault(alice);  //=> 'Ramda'\n */\n\nvar propOr =\n/*#__PURE__*/\n_curry3(function propOr(val, p, obj) {\n  return defaultTo(val, prop(p, obj));\n});\n\nexport default propOr;", "import _curry3 from \"./internal/_curry3.js\";\nimport prop from \"./prop.js\";\n/**\n * Returns `true` if the specified object property satisfies the given\n * predicate; `false` otherwise. You can test multiple properties with\n * [`R.where`](#where).\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category Logic\n * @sig (a -> Boolean) -> String -> {String: a} -> Boolean\n * @param {Function} pred\n * @param {String} name\n * @param {*} obj\n * @return {Boolean}\n * @see R.where, R.propEq, R.propIs\n * @example\n *\n *      R.propSatisfies(x => x > 0, 'x', {x: 1, y: 2}); //=> true\n */\n\nvar propSatisfies =\n/*#__PURE__*/\n_curry3(function propSatisfies(pred, name, obj) {\n  return pred(prop(name, obj));\n});\n\nexport default propSatisfies;", "import _curry2 from \"./internal/_curry2.js\";\nimport path from \"./path.js\";\n/**\n * Acts as multiple `prop`: array of keys in, array of values out. Preserves\n * order.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Object\n * @sig [k] -> {k: v} -> [v]\n * @param {Array} ps The property names to fetch\n * @param {Object} obj The object to query\n * @return {Array} The corresponding values or partially applied function.\n * @see R.prop, R.pluck, R.project\n * @example\n *\n *      R.props(['x', 'y'], {x: 1, y: 2}); //=> [1, 2]\n *      R.props(['c', 'a', 'b'], {b: 2, a: 1}); //=> [undefined, 1, 2]\n *\n *      const fullName = R.compose(R.join(' '), R.props(['first', 'last']));\n *      fullName({last: 'Bullet-Tooth', age: 33, first: 'Tony'}); //=> 'Tony Bullet-Tooth'\n */\n\nvar props =\n/*#__PURE__*/\n_curry2(function props(ps, obj) {\n  return ps.map(function (p) {\n    return path([p], obj);\n  });\n});\n\nexport default props;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isNumber from \"./internal/_isNumber.js\";\n/**\n * Returns a list of numbers from `from` (inclusive) to `to` (exclusive).\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig Number -> Number -> [Number]\n * @param {Number} from The first number in the list.\n * @param {Number} to One more than the last number in the list.\n * @return {Array} The list of numbers in the set `[a, b)`.\n * @example\n *\n *      R.range(1, 5);    //=> [1, 2, 3, 4]\n *      R.range(50, 53);  //=> [50, 51, 52]\n */\n\nvar range =\n/*#__PURE__*/\n_curry2(function range(from, to) {\n  if (!(_isNumber(from) && _isNumber(to))) {\n    throw new TypeError('Both arguments to range must be numbers');\n  }\n\n  var result = [];\n  var n = from;\n\n  while (n < to) {\n    result.push(n);\n    n += 1;\n  }\n\n  return result;\n});\n\nexport default range;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Returns a single item by iterating through the list, successively calling\n * the iterator function and passing it an accumulator value and the current\n * value from the array, and then passing the result to the next call.\n *\n * Similar to [`reduce`](#reduce), except moves through the input list from the\n * right to the left.\n *\n * The iterator function receives two values: *(value, acc)*, while the arguments'\n * order of `reduce`'s iterator function is *(acc, value)*. `reduceRight` may use [`reduced`](#reduced)\n * to short circuit the iteration.\n *\n * Note: `R.reduceRight` does not skip deleted or unassigned indices (sparse\n * arrays), unlike the native `Array.prototype.reduceRight` method. For more details\n * on this behavior, see:\n * https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/reduceRight#Description\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> b) -> b -> [a] -> b\n * @param {Function} fn The iterator function. Receives two values, the current element from the array\n *        and the accumulator.\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduce, R.addIndex, R.reduced\n * @example\n *\n *      R.reduceRight(R.subtract, 0, [1, 2, 3, 4]) // => (1 - (2 - (3 - (4 - 0)))) = -2\n *      //    -               -2\n *      //   / \\              / \\\n *      //  1   -            1   3\n *      //     / \\              / \\\n *      //    2   -     ==>    2  -1\n *      //       / \\              / \\\n *      //      3   -            3   4\n *      //         / \\              / \\\n *      //        4   0            4   0\n *\n * @symb R.reduceRight(f, a, [b, c, d]) = f(b, f(c, f(d, a)))\n */\n\nvar reduceRight =\n/*#__PURE__*/\n_curry3(function reduceRight(fn, acc, list) {\n  var idx = list.length - 1;\n\n  while (idx >= 0) {\n    acc = fn(list[idx], acc);\n\n    if (acc && acc['@@transducer/reduced']) {\n      acc = acc['@@transducer/value'];\n      break;\n    }\n\n    idx -= 1;\n  }\n\n  return acc;\n});\n\nexport default reduceRight;", "import _curryN from \"./internal/_curryN.js\";\nimport _reduce from \"./internal/_reduce.js\";\nimport _reduced from \"./internal/_reduced.js\";\n/**\n * Like [`reduce`](#reduce), `reduceWhile` returns a single item by iterating\n * through the list, successively calling the iterator function. `reduceWhile`\n * also takes a predicate that is evaluated before each step. If the predicate\n * returns `false`, it \"short-circuits\" the iteration and returns the current\n * value of the accumulator. `reduceWhile` may alternatively be short-circuited\n * via [`reduced`](#reduced).\n *\n * @func\n * @memberOf R\n * @since v0.22.0\n * @category List\n * @sig ((a, b) -> Boolean) -> ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} pred The predicate. It is passed the accumulator and the\n *        current element.\n * @param {Function} fn The iterator function. Receives two values, the\n *        accumulator and the current element.\n * @param {*} a The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduce, R.reduced\n * @example\n *\n *      const isOdd = (acc, x) => x % 2 !== 0;\n *      const xs = [1, 3, 5, 60, 777, 800];\n *      R.reduceWhile(isOdd, R.add, 0, xs); //=> 9\n *\n *      const ys = [2, 4, 6]\n *      R.reduceWhile(isOdd, R.add, 111, ys); //=> 111\n */\n\nvar reduceWhile =\n/*#__PURE__*/\n_curryN(4, [], function _reduceWhile(pred, fn, a, list) {\n  return _reduce(function (acc, x) {\n    return pred(acc, x) ? fn(acc, x) : _reduced(acc);\n  }, a, list);\n});\n\nexport default reduceWhile;", "import _curry1 from \"./internal/_curry1.js\";\nimport _reduced from \"./internal/_reduced.js\";\n/**\n * Returns a value wrapped to indicate that it is the final value of the reduce\n * and transduce functions. The returned value should be considered a black\n * box: the internal structure is not guaranteed to be stable.\n *\n * This optimization is available to the below functions:\n * - [`reduce`](#reduce)\n * - [`reduceWhile`](#reduceWhile)\n * - [`reduceBy`](#reduceBy)\n * - [`reduceRight`](#reduceRight)\n * - [`transduce`](#transduce)\n *\n * @func\n * @memberOf R\n * @since v0.15.0\n * @category List\n * @sig a -> *\n * @param {*} x The final value of the reduce.\n * @return {*} The wrapped value.\n * @see R.reduce, R.reduceWhile, R.reduceBy, R.reduceRight, R.transduce\n * @example\n *\n *     R.reduce(\n *       (acc, item) => item > 3 ? R.reduced(acc) : acc.concat(item),\n *       [],\n *       [1, 2, 3, 4, 5]) // [1, 2, 3]\n */\n\nvar reduced =\n/*#__PURE__*/\n_curry1(_reduced);\n\nexport default reduced;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Calls an input function `n` times, returning an array containing the results\n * of those function calls.\n *\n * `fn` is passed one argument: The current value of `n`, which begins at `0`\n * and is gradually incremented to `n - 1`.\n *\n * @func\n * @memberOf R\n * @since v0.2.3\n * @category List\n * @sig (Number -> a) -> Number -> [a]\n * @param {Function} fn The function to invoke. Passed one argument, the current value of `n`.\n * @param {Number} n A value between `0` and `n - 1`. Increments after each function call.\n * @return {Array} An array containing the return values of all calls to `fn`.\n * @see R.repeat\n * @example\n *\n *      R.times(R.identity, 5); //=> [0, 1, 2, 3, 4]\n * @symb R.times(f, 0) = []\n * @symb R.times(f, 1) = [f(0)]\n * @symb R.times(f, 2) = [f(0), f(1)]\n */\n\nvar times =\n/*#__PURE__*/\n_curry2(function times(fn, n) {\n  var len = Number(n);\n  var idx = 0;\n  var list;\n\n  if (len < 0 || isNaN(len)) {\n    throw new RangeError('n must be a non-negative number');\n  }\n\n  list = new Array(len);\n\n  while (idx < len) {\n    list[idx] = fn(idx);\n    idx += 1;\n  }\n\n  return list;\n});\n\nexport default times;", "import _curry2 from \"./internal/_curry2.js\";\nimport always from \"./always.js\";\nimport times from \"./times.js\";\n/**\n * Returns a fixed list of size `n` containing a specified identical value.\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category List\n * @sig a -> n -> [a]\n * @param {*} value The value to repeat.\n * @param {Number} n The desired size of the output list.\n * @return {Array} A new array containing `n` `value`s.\n * @see R.times\n * @example\n *\n *      R.repeat('hi', 5); //=> ['hi', 'hi', 'hi', 'hi', 'hi']\n *\n *      const obj = {};\n *      const repeatedObjs = R.repeat(obj, 5); //=> [{}, {}, {}, {}, {}]\n *      repeatedObjs[0] === repeatedObjs[1]; //=> true\n * @symb R.repeat(a, 0) = []\n * @symb R.repeat(a, 1) = [a]\n * @symb R.repeat(a, 2) = [a, a]\n */\n\nvar repeat =\n/*#__PURE__*/\n_curry2(function repeat(value, n) {\n  return times(always(value), n);\n});\n\nexport default repeat;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Replace a substring or regex match in a string with a replacement.\n *\n * The first two parameters correspond to the parameters of the\n * `String.prototype.replace()` function, so the second parameter can also be a\n * function.\n *\n * @func\n * @memberOf R\n * @since v0.7.0\n * @category String\n * @sig RegExp|String -> String -> String -> String\n * @param {RegExp|String} pattern A regular expression or a substring to match.\n * @param {String} replacement The string to replace the matches with.\n * @param {String} str The String to do the search and replacement in.\n * @return {String} The result.\n * @example\n *\n *      R.replace('foo', 'bar', 'foo foo foo'); //=> 'bar foo foo'\n *      R.replace(/foo/, 'bar', 'foo foo foo'); //=> 'bar foo foo'\n *\n *      // Use the \"g\" (global) flag to replace all occurrences:\n *      R.replace(/foo/g, 'bar', 'foo foo foo'); //=> 'bar bar bar'\n */\n\nvar replace =\n/*#__PURE__*/\n_curry3(function replace(regex, replacement, str) {\n  return str.replace(regex, replacement);\n});\n\nexport default replace;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Scan is similar to [`reduce`](#reduce), but returns a list of successively\n * reduced values from the left\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category List\n * @sig ((a, b) -> a) -> a -> [b] -> [a]\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array\n * @param {*} acc The accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {Array} A list of all intermediately reduced values.\n * @see R.reduce, R.mapAccum\n * @example\n *\n *      const numbers = [1, 2, 3, 4];\n *      const factorials = R.scan(R.multiply, 1, numbers); //=> [1, 1, 2, 6, 24]\n * @symb R.scan(f, a, [b, c]) = [a, f(a, b), f(f(a, b), c)]\n */\n\nvar scan =\n/*#__PURE__*/\n_curry3(function scan(fn, acc, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [acc];\n\n  while (idx < len) {\n    acc = fn(acc, list[idx]);\n    result[idx + 1] = acc;\n    idx += 1;\n  }\n\n  return result;\n});\n\nexport default scan;", "import _curry2 from \"./internal/_curry2.js\";\nimport ap from \"./ap.js\";\nimport map from \"./map.js\";\nimport prepend from \"./prepend.js\";\nimport reduceRight from \"./reduceRight.js\";\n/**\n * Transforms a [Traversable](https://github.com/fantasyland/fantasy-land#traversable)\n * of [Applicative](https://github.com/fantasyland/fantasy-land#applicative) into an\n * Applicative of Traversable.\n *\n * Dispatches to the `sequence` method of the second argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @sig (Applicative f, Traversable t) => (a -> f a) -> t (f a) -> f (t a)\n * @param {Function} of\n * @param {*} traversable\n * @return {*}\n * @see R.traverse\n * @example\n *\n *      R.sequence(Maybe.of, [Just(1), Just(2), Just(3)]);   //=> Just([1, 2, 3])\n *      R.sequence(Maybe.of, [Just(1), Just(2), Nothing()]); //=> Nothing()\n *\n *      R.sequence(R.of, Just([1, 2, 3])); //=> [Just(1), Just(2), Just(3)]\n *      R.sequence(R.of, Nothing());       //=> [Nothing()]\n */\n\nvar sequence =\n/*#__PURE__*/\n_curry2(function sequence(of, traversable) {\n  return typeof traversable.sequence === 'function' ? traversable.sequence(of) : reduceRight(function (x, acc) {\n    return ap(map(prepend, x), acc);\n  }, of([]), traversable);\n});\n\nexport default sequence;", "import _curry3 from \"./internal/_curry3.js\";\nimport always from \"./always.js\";\nimport over from \"./over.js\";\n/**\n * Returns the result of \"setting\" the portion of the given data structure\n * focused by the given lens to the given value.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category Object\n * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n * @sig Lens s a -> a -> s -> s\n * @param {Lens} lens\n * @param {*} v\n * @param {*} x\n * @return {*}\n * @see R.view, R.over, R.lens, R.lensIndex, R.lensProp, R.lensPath\n * @example\n *\n *      const xLens = R.lensProp('x');\n *\n *      R.set(xLens, 4, {x: 1, y: 2});  //=> {x: 4, y: 2}\n *      R.set(xLens, 8, {x: 1, y: 2});  //=> {x: 8, y: 2}\n */\n\nvar set =\n/*#__PURE__*/\n_curry3(function set(lens, v, x) {\n  return over(lens, always(v), x);\n});\n\nexport default set;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Returns a copy of the list, sorted according to the comparator function,\n * which should accept two values at a time and return a negative number if the\n * first value is smaller, a positive number if it's larger, and zero if they\n * are equal. Please note that this is a **copy** of the list. It does not\n * modify the original.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, a) -> Number) -> [a] -> [a]\n * @param {Function} comparator A sorting function :: a -> b -> Int\n * @param {Array} list The list to sort\n * @return {Array} a new array with its elements sorted by the comparator function.\n * @see R.ascend, R.descend\n * @example\n *\n *      const diff = function(a, b) { return a - b; };\n *      R.sort(diff, [4,2,7,5]); //=> [2, 4, 5, 7]\n */\n\nvar sort =\n/*#__PURE__*/\n_curry2(function sort(comparator, list) {\n  return Array.prototype.slice.call(list, 0).sort(comparator);\n});\n\nexport default sort;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Sorts the list according to the supplied function.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig Ord b => (a -> b) -> [a] -> [a]\n * @param {Function} fn\n * @param {Array} list The list to sort.\n * @return {Array} A new list sorted by the keys generated by `fn`.\n * @example\n *\n *      const sortByFirstItem = R.sortBy(R.prop(0));\n *      const pairs = [[-1, 1], [-2, 2], [-3, 3]];\n *      sortByFirstItem(pairs); //=> [[-3, 3], [-2, 2], [-1, 1]]\n *\n *      const sortByNameCaseInsensitive = R.sortBy(R.compose(R.toLower, R.prop('name')));\n *      const alice = {\n *        name: 'ALICE',\n *        age: 101\n *      };\n *      const bob = {\n *        name: 'Bob',\n *        age: -10\n *      };\n *      const clara = {\n *        name: 'clara',\n *        age: 314.159\n *      };\n *      const people = [clara, bob, alice];\n *      sortByNameCaseInsensitive(people); //=> [alice, bob, clara]\n */\n\nvar sortBy =\n/*#__PURE__*/\n_curry2(function sortBy(fn, list) {\n  return Array.prototype.slice.call(list, 0).sort(function (a, b) {\n    var aa = fn(a);\n    var bb = fn(b);\n    return aa < bb ? -1 : aa > bb ? 1 : 0;\n  });\n});\n\nexport default sortBy;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Sorts a list according to a list of comparators.\n *\n * @func\n * @memberOf R\n * @since v0.23.0\n * @category Relation\n * @sig [(a, a) -> Number] -> [a] -> [a]\n * @param {Array} functions A list of comparator functions.\n * @param {Array} list The list to sort.\n * @return {Array} A new list sorted according to the comarator functions.\n * @see R.ascend, R.descend\n * @example\n *\n *      const alice = {\n *        name: 'alice',\n *        age: 40\n *      };\n *      const bob = {\n *        name: 'bob',\n *        age: 30\n *      };\n *      const clara = {\n *        name: 'clara',\n *        age: 40\n *      };\n *      const people = [clara, bob, alice];\n *      const ageNameSort = R.sortWith([\n *        R.descend(R.prop('age')),\n *        R.ascend(R.prop('name'))\n *      ]);\n *      ageNameSort(people); //=> [alice, clara, bob]\n */\n\nvar sortWith =\n/*#__PURE__*/\n_curry2(function sortWith(fns, list) {\n  return Array.prototype.slice.call(list, 0).sort(function (a, b) {\n    var result = 0;\n    var i = 0;\n\n    while (result === 0 && i < fns.length) {\n      result = fns[i](a, b);\n      i += 1;\n    }\n\n    return result;\n  });\n});\n\nexport default sortWith;", "import invoker from \"./invoker.js\";\n/**\n * Splits a string into an array of strings based on the given\n * separator.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category String\n * @sig (String | RegExp) -> String -> [String]\n * @param {String|RegExp} sep The pattern.\n * @param {String} str The string to separate into an array.\n * @return {Array} The array of strings from `str` separated by `sep`.\n * @see R.join\n * @example\n *\n *      const pathComponents = R.split('/');\n *      R.tail(pathComponents('/usr/local/bin/node')); //=> ['usr', 'local', 'bin', 'node']\n *\n *      R.split('.', 'a.b.c.xyz.d'); //=> ['a', 'b', 'c', 'xyz', 'd']\n */\n\nvar split =\n/*#__PURE__*/\ninvoker(1, 'split');\nexport default split;", "import _curry2 from \"./internal/_curry2.js\";\nimport length from \"./length.js\";\nimport slice from \"./slice.js\";\n/**\n * Splits a given list or string at a given index.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @sig Number -> [a] -> [[a], [a]]\n * @sig Number -> String -> [String, String]\n * @param {Number} index The index where the array/string is split.\n * @param {Array|String} array The array/string to be split.\n * @return {Array}\n * @example\n *\n *      R.splitAt(1, [1, 2, 3]);          //=> [[1], [2, 3]]\n *      R.splitAt(5, 'hello world');      //=> ['hello', ' world']\n *      R.splitAt(-1, 'foobar');          //=> ['fooba', 'r']\n */\n\nvar splitAt =\n/*#__PURE__*/\n_curry2(function splitAt(index, array) {\n  return [slice(0, index, array), slice(index, length(array), array)];\n});\n\nexport default splitAt;", "import _curry2 from \"./internal/_curry2.js\";\nimport slice from \"./slice.js\";\n/**\n * Splits a collection into slices of the specified length.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category List\n * @sig Number -> [a] -> [[a]]\n * @sig Number -> String -> [String]\n * @param {Number} n\n * @param {Array} list\n * @return {Array}\n * @example\n *\n *      R.splitEvery(3, [1, 2, 3, 4, 5, 6, 7]); //=> [[1, 2, 3], [4, 5, 6], [7]]\n *      R.splitEvery(3, 'foobarbaz'); //=> ['foo', 'bar', 'baz']\n */\n\nvar splitEvery =\n/*#__PURE__*/\n_curry2(function splitEvery(n, list) {\n  if (n <= 0) {\n    throw new Error('First argument to splitEvery must be a positive integer');\n  }\n\n  var result = [];\n  var idx = 0;\n\n  while (idx < list.length) {\n    result.push(slice(idx, idx += n, list));\n  }\n\n  return result;\n});\n\nexport default splitEvery;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Takes a list and a predicate and returns a pair of lists with the following properties:\n *\n *  - the result of concatenating the two output lists is equivalent to the input list;\n *  - none of the elements of the first output list satisfies the predicate; and\n *  - if the second output list is non-empty, its first element satisfies the predicate.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> [[a], [a]]\n * @param {Function} pred The predicate that determines where the array is split.\n * @param {Array} list The array to be split.\n * @return {Array}\n * @example\n *\n *      R.splitWhen(R.equals(2), [1, 2, 3, 1, 2, 3]);   //=> [[1], [2, 3, 1, 2, 3]]\n */\n\nvar splitWhen =\n/*#__PURE__*/\n_curry2(function splitWhen(pred, list) {\n  var idx = 0;\n  var len = list.length;\n  var prefix = [];\n\n  while (idx < len && !pred(list[idx])) {\n    prefix.push(list[idx]);\n    idx += 1;\n  }\n\n  return [prefix, Array.prototype.slice.call(list, idx)];\n});\n\nexport default splitWhen;", "import _curryN from \"./internal/_curryN.js\";\n/**\n * Splits an array into slices on every occurrence of a value.\n *\n * @func\n * @memberOf R\n * @since v0.26.1\n * @category List\n * @sig (a -> Boolean) -> [a] -> [[a]]\n * @param {Function} pred The predicate that determines where the array is split.\n * @param {Array} list The array to be split.\n * @return {Array}\n * @example\n *\n *      R.splitWhenever(R.equals(2), [1, 2, 3, 2, 4, 5, 2, 6, 7]); //=> [[1], [3], [4, 5], [6, 7]]\n */\n\nvar splitWhenever =\n/*#__PURE__*/\n_curryN(2, [], function splitWhenever(pred, list) {\n  var acc = [];\n  var curr = [];\n\n  for (var i = 0; i < list.length; i = i + 1) {\n    if (!pred(list[i])) {\n      curr.push(list[i]);\n    }\n\n    if ((i < list.length - 1 && pred(list[i + 1]) || i === list.length - 1) && curr.length > 0) {\n      acc.push(curr);\n      curr = [];\n    }\n  }\n\n  return acc;\n});\n\nexport default splitWhenever;", "import _curry2 from \"./internal/_curry2.js\";\nimport equals from \"./equals.js\";\nimport take from \"./take.js\";\n/**\n * Checks if a list starts with the provided sublist.\n *\n * Similarly, checks if a string starts with the provided substring.\n *\n * @func\n * @memberOf R\n * @since v0.24.0\n * @category List\n * @sig [a] -> [a] -> Boolean\n * @sig String -> String -> Boolean\n * @param {*} prefix\n * @param {*} list\n * @return {Boolean}\n * @see R.endsWith\n * @example\n *\n *      R.startsWith('a', 'abc')                //=> true\n *      R.startsWith('b', 'abc')                //=> false\n *      R.startsWith(['a'], ['a', 'b', 'c'])    //=> true\n *      R.startsWith(['b'], ['a', 'b', 'c'])    //=> false\n */\n\nvar startsWith =\n/*#__PURE__*/\n_curry2(function (prefix, list) {\n  return equals(take(prefix.length, list), prefix);\n});\n\nexport default startsWith;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Subtracts its second argument from its first argument.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Math\n * @sig Number -> Number -> Number\n * @param {Number} a The first value.\n * @param {Number} b The second value.\n * @return {Number} The result of `a - b`.\n * @see R.add\n * @example\n *\n *      R.subtract(10, 8); //=> 2\n *\n *      const minus5 = R.subtract(R.__, 5);\n *      minus5(17); //=> 12\n *\n *      const complementaryAngle = R.subtract(90);\n *      complementaryAngle(30); //=> 60\n *      complementaryAngle(72); //=> 18\n */\n\nvar subtract =\n/*#__PURE__*/\n_curry2(function subtract(a, b) {\n  return Number(a) - Number(b);\n});\n\nexport default subtract;", "import _curry2 from \"./internal/_curry2.js\";\nimport concat from \"./concat.js\";\nimport difference from \"./difference.js\";\n/**\n * Finds the set (i.e. no duplicates) of all elements contained in the first or\n * second list, but not both.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Relation\n * @sig [*] -> [*] -> [*]\n * @param {Array} list1 The first list.\n * @param {Array} list2 The second list.\n * @return {Array} The elements in `list1` or `list2`, but not both.\n * @see R.symmetricDifferenceWith, R.difference, R.differenceWith\n * @example\n *\n *      R.symmetricDifference([1,2,3,4], [7,6,5,4,3]); //=> [1,2,7,6,5]\n *      R.symmetricDifference([7,6,5,4,3], [1,2,3,4]); //=> [7,6,5,1,2]\n */\n\nvar symmetricDifference =\n/*#__PURE__*/\n_curry2(function symmetricDifference(list1, list2) {\n  return concat(difference(list1, list2), difference(list2, list1));\n});\n\nexport default symmetricDifference;", "import _curry3 from \"./internal/_curry3.js\";\nimport concat from \"./concat.js\";\nimport differenceWith from \"./differenceWith.js\";\n/**\n * Finds the set (i.e. no duplicates) of all elements contained in the first or\n * second list, but not both. Duplication is determined according to the value\n * returned by applying the supplied predicate to two list elements.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category Relation\n * @sig ((a, a) -> Boolean) -> [a] -> [a] -> [a]\n * @param {Function} pred A predicate used to test whether two items are equal.\n * @param {Array} list1 The first list.\n * @param {Array} list2 The second list.\n * @return {Array} The elements in `list1` or `list2`, but not both.\n * @see R.symmetricDifference, R.difference, R.differenceWith\n * @example\n *\n *      const eqA = R.eqBy(R.prop('a'));\n *      const l1 = [{a: 1}, {a: 2}, {a: 3}, {a: 4}];\n *      const l2 = [{a: 3}, {a: 4}, {a: 5}, {a: 6}];\n *      R.symmetricDifferenceWith(eqA, l1, l2); //=> [{a: 1}, {a: 2}, {a: 5}, {a: 6}]\n */\n\nvar symmetricDifferenceWith =\n/*#__PURE__*/\n_curry3(function symmetricDifferenceWith(pred, list1, list2) {\n  return concat(differenceWith(pred, list1, list2), differenceWith(pred, list2, list1));\n});\n\nexport default symmetricDifferenceWith;", "import _curry2 from \"./internal/_curry2.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns a new list containing the last `n` elements of a given list, passing\n * each value to the supplied predicate function, and terminating when the\n * predicate function returns `false`. Excludes the element that caused the\n * predicate function to fail. The predicate function is passed one argument:\n * *(value)*.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> [a]\n * @sig (a -> Boolean) -> String -> String\n * @param {Function} fn The function called per iteration.\n * @param {Array} xs The collection to iterate over.\n * @return {Array} A new array.\n * @see R.dropLastWhile, R.addIndex\n * @example\n *\n *      const isNotOne = x => x !== 1;\n *\n *      R.takeLastWhile(isNotOne, [1, 2, 3, 4]); //=> [2, 3, 4]\n *\n *      R.takeLastWhile(x => x !== 'R' , 'Ramda'); //=> 'amda'\n */\n\nvar takeLastWhile =\n/*#__PURE__*/\n_curry2(function takeLastWhile(fn, xs) {\n  var idx = xs.length - 1;\n\n  while (idx >= 0 && fn(xs[idx])) {\n    idx -= 1;\n  }\n\n  return slice(idx + 1, Infinity, xs);\n});\n\nexport default takeLastWhile;", "import _curry2 from \"./_curry2.js\";\nimport _reduced from \"./_reduced.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XTakeWhile =\n/*#__PURE__*/\nfunction () {\n  function XTakeWhile(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XTakeWhile.prototype['@@transducer/init'] = _xfBase.init;\n  XTakeWhile.prototype['@@transducer/result'] = _xfBase.result;\n\n  XTakeWhile.prototype['@@transducer/step'] = function (result, input) {\n    return this.f(input) ? this.xf['@@transducer/step'](result, input) : _reduced(result);\n  };\n\n  return XTakeWhile;\n}();\n\nvar _xtakeWhile =\n/*#__PURE__*/\n_curry2(function _xtakeWhile(f, xf) {\n  return new XTakeWhile(f, xf);\n});\n\nexport default _xtakeWhile;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xtakeWhile from \"./internal/_xtakeWhile.js\";\nimport slice from \"./slice.js\";\n/**\n * Returns a new list containing the first `n` elements of a given list,\n * passing each value to the supplied predicate function, and terminating when\n * the predicate function returns `false`. Excludes the element that caused the\n * predicate function to fail. The predicate function is passed one argument:\n * *(value)*.\n *\n * Dispatches to the `takeWhile` method of the second argument, if present.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig (a -> Boolean) -> [a] -> [a]\n * @sig (a -> Boolean) -> String -> String\n * @param {Function} fn The function called per iteration.\n * @param {Array} xs The collection to iterate over.\n * @return {Array} A new array.\n * @see R.dropWhile, R.transduce, R.addIndex\n * @example\n *\n *      const isNotFour = x => x !== 4;\n *\n *      R.takeWhile(isNotFour, [1, 2, 3, 4, 3, 2, 1]); //=> [1, 2, 3]\n *\n *      R.takeWhile(x => x !== 'd' , 'Ramda'); //=> 'Ram'\n */\n\nvar takeWhile =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable(['takeWhile'], _xtakeWhile, function takeWhile(fn, xs) {\n  var idx = 0;\n  var len = xs.length;\n\n  while (idx < len && fn(xs[idx])) {\n    idx += 1;\n  }\n\n  return slice(0, idx, xs);\n}));\n\nexport default takeWhile;", "import _curry2 from \"./_curry2.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XTap =\n/*#__PURE__*/\nfunction () {\n  function XTap(f, xf) {\n    this.xf = xf;\n    this.f = f;\n  }\n\n  XTap.prototype['@@transducer/init'] = _xfBase.init;\n  XTap.prototype['@@transducer/result'] = _xfBase.result;\n\n  XTap.prototype['@@transducer/step'] = function (result, input) {\n    this.f(input);\n    return this.xf['@@transducer/step'](result, input);\n  };\n\n  return XTap;\n}();\n\nvar _xtap =\n/*#__PURE__*/\n_curry2(function _xtap(f, xf) {\n  return new XTap(f, xf);\n});\n\nexport default _xtap;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _xtap from \"./internal/_xtap.js\";\n/**\n * Runs the given function with the supplied object, then returns the object.\n *\n * Acts as a transducer if a transformer is given as second parameter.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Function\n * @sig (a -> *) -> a -> a\n * @param {Function} fn The function to call with `x`. The return value of `fn` will be thrown away.\n * @param {*} x\n * @return {*} `x`.\n * @example\n *\n *      const sayX = x => console.log('x is ' + x);\n *      R.tap(sayX, 100); //=> 100\n *      // logs 'x is 100'\n * @symb R.tap(f, a) = a\n */\n\nvar tap =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xtap, function tap(fn, x) {\n  fn(x);\n  return x;\n}));\n\nexport default tap;", "export default function _isRegExp(x) {\n  return Object.prototype.toString.call(x) === '[object RegExp]';\n}", "import _cloneRegExp from \"./internal/_cloneRegExp.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport _isRegExp from \"./internal/_isRegExp.js\";\nimport toString from \"./toString.js\";\n/**\n * Determines whether a given string matches a given regular expression.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category String\n * @sig RegExp -> String -> Boolean\n * @param {RegExp} pattern\n * @param {String} str\n * @return {Boolean}\n * @see R.match\n * @example\n *\n *      R.test(/^x/, 'xyz'); //=> true\n *      R.test(/^y/, 'xyz'); //=> false\n */\n\nvar test =\n/*#__PURE__*/\n_curry2(function test(pattern, str) {\n  if (!_isRegExp(pattern)) {\n    throw new TypeError('\u2018test\u2019 requires a value of type RegExp as its first argument; received ' + toString(pattern));\n  }\n\n  return _cloneRegExp(pattern).test(str);\n});\n\nexport default test;", "import _curry2 from \"./internal/_curry2.js\";\nimport _assertPromise from \"./internal/_assertPromise.js\";\n/**\n * Returns the result of applying the onSuccess function to the value inside\n * a successfully resolved promise. This is useful for working with promises\n * inside function compositions.\n *\n * @func\n * @memberOf R\n * @since v0.27.1\n * @category Function\n * @sig (a -> b) -> (Promise e a) -> (Promise e b)\n * @sig (a -> (Promise e b)) -> (Promise e a) -> (Promise e b)\n * @param {Function} onSuccess The function to apply. Can return a value or a promise of a value.\n * @param {Promise} p\n * @return {Promise} The result of calling `p.then(onSuccess)`\n * @see R.otherwise\n * @example\n *\n *      const makeQuery = email => ({ query: { email }});\n *      const fetchMember = request =>\n *        Promise.resolve({ firstName: 'Bob', lastName: 'Loblaw', id: 42 });\n *\n *      //getMemberName :: String -> Promise ({ firstName, lastName })\n *      const getMemberName = R.pipe(\n *        makeQuery,\n *        fetchMember,\n *        R.andThen(R.pick(['firstName', 'lastName']))\n *      );\n *\n *      getMemberName('bob@gmail.com').then(console.log);\n */\n\nvar andThen =\n/*#__PURE__*/\n_curry2(function andThen(f, p) {\n  _assertPromise('andThen', p);\n\n  return p.then(f);\n});\n\nexport default andThen;", "import invoker from \"./invoker.js\";\n/**\n * The lower case version of a string.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category String\n * @sig String -> String\n * @param {String} str The string to lower case.\n * @return {String} The lower case version of `str`.\n * @see R.toUpper\n * @example\n *\n *      R.toLower('XYZ'); //=> 'xyz'\n */\n\nvar toLower =\n/*#__PURE__*/\ninvoker(0, 'toLowerCase');\nexport default toLower;", "import _curry1 from \"./internal/_curry1.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Converts an object into an array of key, value arrays. Only the object's\n * own properties are used.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.4.0\n * @category Object\n * @sig {String: *} -> [[String,*]]\n * @param {Object} obj The object to extract from\n * @return {Array} An array of key, value arrays from the object's own properties.\n * @see R.fromPairs, R.keys, R.values\n * @example\n *\n *      R.toPairs({a: 1, b: 2, c: 3}); //=> [['a', 1], ['b', 2], ['c', 3]]\n */\n\nvar toPairs =\n/*#__PURE__*/\n_curry1(function toPairs(obj) {\n  var pairs = [];\n\n  for (var prop in obj) {\n    if (_has(prop, obj)) {\n      pairs[pairs.length] = [prop, obj[prop]];\n    }\n  }\n\n  return pairs;\n});\n\nexport default toPairs;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Converts an object into an array of key, value arrays. The object's own\n * properties and prototype properties are used. Note that the order of the\n * output array is not guaranteed to be consistent across different JS\n * platforms.\n *\n * @func\n * @memberOf R\n * @since v0.4.0\n * @category Object\n * @sig {String: *} -> [[String,*]]\n * @param {Object} obj The object to extract from\n * @return {Array} An array of key, value arrays from the object's own\n *         and prototype properties.\n * @example\n *\n *      const F = function() { this.x = 'X'; };\n *      F.prototype.y = 'Y';\n *      const f = new F();\n *      R.toPairsIn(f); //=> [['x','X'], ['y','Y']]\n */\n\nvar toPairsIn =\n/*#__PURE__*/\n_curry1(function toPairsIn(obj) {\n  var pairs = [];\n\n  for (var prop in obj) {\n    pairs[pairs.length] = [prop, obj[prop]];\n  }\n\n  return pairs;\n});\n\nexport default toPairsIn;", "import invoker from \"./invoker.js\";\n/**\n * The upper case version of a string.\n *\n * @func\n * @memberOf R\n * @since v0.9.0\n * @category String\n * @sig String -> String\n * @param {String} str The string to upper case.\n * @return {String} The upper case version of `str`.\n * @see R.toLower\n * @example\n *\n *      R.toUpper('abc'); //=> 'ABC'\n */\n\nvar toUpper =\n/*#__PURE__*/\ninvoker(0, 'toUpperCase');\nexport default toUpper;", "import _reduce from \"./internal/_reduce.js\";\nimport _xwrap from \"./internal/_xwrap.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Initializes a transducer using supplied iterator function. Returns a single\n * item by iterating through the list, successively calling the transformed\n * iterator function and passing it an accumulator value and the current value\n * from the array, and then passing the result to the next call.\n *\n * The iterator function receives two values: *(acc, value)*. It will be\n * wrapped as a transformer to initialize the transducer. A transformer can be\n * passed directly in place of an iterator function. In both cases, iteration\n * may be stopped early with the [`R.reduced`](#reduced) function.\n *\n * A transducer is a function that accepts a transformer and returns a\n * transformer and can be composed directly.\n *\n * A transformer is an object that provides a 2-arity reducing iterator\n * function, step, 0-arity initial value function, init, and 1-arity result\n * extraction function, result. The step function is used as the iterator\n * function in reduce. The result function is used to convert the final\n * accumulator into the return type and in most cases is\n * [`R.identity`](#identity). The init function can be used to provide an\n * initial accumulator, but is ignored by transduce.\n *\n * The iteration is performed with [`R.reduce`](#reduce) after initializing the transducer.\n *\n * @func\n * @memberOf R\n * @since v0.12.0\n * @category List\n * @sig (c -> c) -> ((a, b) -> a) -> a -> [b] -> a\n * @param {Function} xf The transducer function. Receives a transformer and returns a transformer.\n * @param {Function} fn The iterator function. Receives two values, the accumulator and the\n *        current element from the array. Wrapped as transformer, if necessary, and used to\n *        initialize the transducer\n * @param {*} acc The initial accumulator value.\n * @param {Array} list The list to iterate over.\n * @return {*} The final, accumulated value.\n * @see R.reduce, R.reduced, R.into\n * @example\n *\n *      const numbers = [1, 2, 3, 4];\n *      const transducer = R.compose(R.map(R.add(1)), R.take(2));\n *      R.transduce(transducer, R.flip(R.append), [], numbers); //=> [2, 3]\n *\n *      const isOdd = (x) => x % 2 !== 0;\n *      const firstOddTransducer = R.compose(R.filter(isOdd), R.take(1));\n *      R.transduce(firstOddTransducer, R.flip(R.append), [], R.range(0, 100)); //=> [1]\n */\n\nvar transduce =\n/*#__PURE__*/\ncurryN(4, function transduce(xf, fn, acc, list) {\n  return _reduce(xf(typeof fn === 'function' ? _xwrap(fn) : fn), acc, list);\n});\nexport default transduce;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Transposes the rows and columns of a 2D list.\n * When passed a list of `n` lists of length `x`,\n * returns a list of `x` lists of length `n`.\n *\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @sig [[a]] -> [[a]]\n * @param {Array} list A 2D list\n * @return {Array} A 2D list\n * @example\n *\n *      R.transpose([[1, 'a'], [2, 'b'], [3, 'c']]) //=> [[1, 2, 3], ['a', 'b', 'c']]\n *      R.transpose([[1, 2, 3], ['a', 'b', 'c']]) //=> [[1, 'a'], [2, 'b'], [3, 'c']]\n *\n *      // If some of the rows are shorter than the following rows, their elements are skipped:\n *      R.transpose([[10, 11], [20], [], [30, 31, 32]]) //=> [[10, 20, 30], [11, 31], [32]]\n * @symb R.transpose([[a], [b], [c]]) = [a, b, c]\n * @symb R.transpose([[a, b], [c, d]]) = [[a, c], [b, d]]\n * @symb R.transpose([[a, b], [c]]) = [[a, c], [b]]\n */\n\nvar transpose =\n/*#__PURE__*/\n_curry1(function transpose(outerlist) {\n  var i = 0;\n  var result = [];\n\n  while (i < outerlist.length) {\n    var innerlist = outerlist[i];\n    var j = 0;\n\n    while (j < innerlist.length) {\n      if (typeof result[j] === 'undefined') {\n        result[j] = [];\n      }\n\n      result[j].push(innerlist[j]);\n      j += 1;\n    }\n\n    i += 1;\n  }\n\n  return result;\n});\n\nexport default transpose;", "import _curry3 from \"./internal/_curry3.js\";\nimport map from \"./map.js\";\nimport sequence from \"./sequence.js\";\n/**\n * Maps an [Applicative](https://github.com/fantasyland/fantasy-land#applicative)-returning\n * function over a [Traversable](https://github.com/fantasyland/fantasy-land#traversable),\n * then uses [`sequence`](#sequence) to transform the resulting Traversable of Applicative\n * into an Applicative of Traversable.\n *\n * Dispatches to the `traverse` method of the third argument, if present.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @sig (Applicative f, Traversable t) => (a -> f a) -> (a -> f b) -> t a -> f (t b)\n * @param {Function} of\n * @param {Function} f\n * @param {*} traversable\n * @return {*}\n * @see R.sequence\n * @example\n *\n *      // Returns `Maybe.Nothing` if the given divisor is `0`\n *      const safeDiv = n => d => d === 0 ? Maybe.Nothing() : Maybe.Just(n / d)\n *\n *      R.traverse(Maybe.of, safeDiv(10), [2, 4, 5]); //=> Maybe.Just([5, 2.5, 2])\n *      R.traverse(Maybe.of, safeDiv(10), [2, 0, 5]); //=> Maybe.Nothing\n */\n\nvar traverse =\n/*#__PURE__*/\n_curry3(function traverse(of, f, traversable) {\n  return typeof traversable['fantasy-land/traverse'] === 'function' ? traversable['fantasy-land/traverse'](f, of) : typeof traversable.traverse === 'function' ? traversable.traverse(f, of) : sequence(of, map(f, traversable));\n});\n\nexport default traverse;", "import _curry1 from \"./internal/_curry1.js\";\nvar ws = '\\x09\\x0A\\x0B\\x0C\\x0D\\x20\\xA0\\u1680\\u2000\\u2001\\u2002\\u2003' + '\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200A\\u202F\\u205F\\u3000\\u2028' + '\\u2029\\uFEFF';\nvar zeroWidth = '\\u200b';\nvar hasProtoTrim = typeof String.prototype.trim === 'function';\n/**\n * Removes (strips) whitespace from both ends of the string.\n *\n * @func\n * @memberOf R\n * @since v0.6.0\n * @category String\n * @sig String -> String\n * @param {String} str The string to trim.\n * @return {String} Trimmed version of `str`.\n * @example\n *\n *      R.trim('   xyz  '); //=> 'xyz'\n *      R.map(R.trim, R.split(',', 'x, y, z')); //=> ['x', 'y', 'z']\n */\n\nvar trim = !hasProtoTrim ||\n/*#__PURE__*/\nws.trim() || !\n/*#__PURE__*/\nzeroWidth.trim() ?\n/*#__PURE__*/\n_curry1(function trim(str) {\n  var beginRx = new RegExp('^[' + ws + '][' + ws + ']*');\n  var endRx = new RegExp('[' + ws + '][' + ws + ']*$');\n  return str.replace(beginRx, '').replace(endRx, '');\n}) :\n/*#__PURE__*/\n_curry1(function trim(str) {\n  return str.trim();\n});\nexport default trim;", "import _arity from \"./internal/_arity.js\";\nimport _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\n/**\n * `tryCatch` takes two functions, a `tryer` and a `catcher`. The returned\n * function evaluates the `tryer`; if it does not throw, it simply returns the\n * result. If the `tryer` *does* throw, the returned function evaluates the\n * `catcher` function and returns its result. Note that for effective\n * composition with this function, both the `tryer` and `catcher` functions\n * must return the same type of results.\n *\n * @func\n * @memberOf R\n * @since v0.20.0\n * @category Function\n * @sig (...x -> a) -> ((e, ...x) -> a) -> (...x -> a)\n * @param {Function} tryer The function that may throw.\n * @param {Function} catcher The function that will be evaluated if `tryer` throws.\n * @return {Function} A new function that will catch exceptions and send them to the catcher.\n * @example\n *\n *      R.tryCatch(R.prop('x'), R.F)({x: true}); //=> true\n *      R.tryCatch(() => { throw 'foo'}, R.always('caught'))('bar') // =>\n *      'caught'\n *      R.tryCatch(R.times(R.identity), R.always([]))('s') // => []\n *      R.tryCatch(() => { throw 'this is not a valid value'}, (err, value)=>({error : err,  value }))('bar') // => {'error': 'this is not a valid value', 'value': 'bar'}\n */\n\nvar tryCatch =\n/*#__PURE__*/\n_curry2(function _tryCatch(tryer, catcher) {\n  return _arity(tryer.length, function () {\n    try {\n      return tryer.apply(this, arguments);\n    } catch (e) {\n      return catcher.apply(this, _concat([e], arguments));\n    }\n  });\n});\n\nexport default tryCatch;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Takes a function `fn`, which takes a single array argument, and returns a\n * function which:\n *\n *   - takes any number of positional arguments;\n *   - passes these arguments to `fn` as an array; and\n *   - returns the result.\n *\n * In other words, `R.unapply` derives a variadic function from a function which\n * takes an array. `R.unapply` is the inverse of [`R.apply`](#apply).\n *\n * @func\n * @memberOf R\n * @since v0.8.0\n * @category Function\n * @sig ([*...] -> a) -> (*... -> a)\n * @param {Function} fn\n * @return {Function}\n * @see R.apply\n * @example\n *\n *      R.unapply(JSON.stringify)(1, 2, 3); //=> '[1,2,3]'\n * @symb R.unapply(f)(a, b) = f([a, b])\n */\n\nvar unapply =\n/*#__PURE__*/\n_curry1(function unapply(fn) {\n  return function () {\n    return fn(Array.prototype.slice.call(arguments, 0));\n  };\n});\n\nexport default unapply;", "import _curry1 from \"./internal/_curry1.js\";\nimport nAry from \"./nAry.js\";\n/**\n * Wraps a function of any arity (including nullary) in a function that accepts\n * exactly 1 parameter. Any extraneous parameters will not be passed to the\n * supplied function.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Function\n * @sig (a -> b -> c -> ... -> z) -> (a -> z)\n * @param {Function} fn The function to wrap.\n * @return {Function} A new function wrapping `fn`. The new function is guaranteed to be of\n *         arity 1.\n * @see R.binary, R.nAry\n * @example\n *\n *      const takesTwoArgs = function(a, b) {\n *        return [a, b];\n *      };\n *      takesTwoArgs.length; //=> 2\n *      takesTwoArgs(1, 2); //=> [1, 2]\n *\n *      const takesOneArg = R.unary(takesTwoArgs);\n *      takesOneArg.length; //=> 1\n *      // Only 1 argument is passed to the wrapped function\n *      takesOneArg(1, 2); //=> [1, undefined]\n * @symb R.unary(f)(a, b, c) = f(a)\n */\n\nvar unary =\n/*#__PURE__*/\n_curry1(function unary(fn) {\n  return nAry(1, fn);\n});\n\nexport default unary;", "import _curry2 from \"./internal/_curry2.js\";\nimport curryN from \"./curryN.js\";\n/**\n * Returns a function of arity `n` from a (manually) curried function.\n * Note that, the returned function is actually a ramda style\n * curryied function, which can accept one or more arguments in each\n * function calling.\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category Function\n * @sig Number -> (a -> b -> c ... -> z) -> ((a -> b -> c ...) -> z)\n * @param {Number} length The arity for the returned function.\n * @param {Function} fn The function to uncurry.\n * @return {Function} A new function.\n * @see R.curry, R.curryN\n * @example\n *\n *      const addFour = a => b => c => d => a + b + c + d;\n *\n *      const uncurriedAddFour = R.uncurryN(4, addFour);\n *      uncurriedAddFour(1, 2, 3, 4); //=> 10\n */\n\nvar uncurryN =\n/*#__PURE__*/\n_curry2(function uncurryN(depth, fn) {\n  return curryN(depth, function () {\n    var currentDepth = 1;\n    var value = fn;\n    var idx = 0;\n    var endIdx;\n\n    while (currentDepth <= depth && typeof value === 'function') {\n      endIdx = currentDepth === depth ? arguments.length : idx + value.length;\n      value = value.apply(this, Array.prototype.slice.call(arguments, idx, endIdx));\n      currentDepth += 1;\n      idx = endIdx;\n    }\n\n    return value;\n  });\n});\n\nexport default uncurryN;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Builds a list from a seed value. Accepts an iterator function, which returns\n * either false to stop iteration or an array of length 2 containing the value\n * to add to the resulting list and the seed to be used in the next call to the\n * iterator function.\n *\n * The iterator function receives one argument: *(seed)*.\n *\n * @func\n * @memberOf R\n * @since v0.10.0\n * @category List\n * @sig (a -> [b]) -> * -> [b]\n * @param {Function} fn The iterator function. receives one argument, `seed`, and returns\n *        either false to quit iteration or an array of length two to proceed. The element\n *        at index 0 of this array will be added to the resulting array, and the element\n *        at index 1 will be passed to the next call to `fn`.\n * @param {*} seed The seed value.\n * @return {Array} The final list.\n * @example\n *\n *      const f = n => n > 50 ? false : [-n, n + 10];\n *      R.unfold(f, 10); //=> [-10, -20, -30, -40, -50]\n * @symb R.unfold(f, x) = [f(x)[0], f(f(x)[1])[0], f(f(f(x)[1])[1])[0], ...]\n */\n\nvar unfold =\n/*#__PURE__*/\n_curry2(function unfold(fn, seed) {\n  var pair = fn(seed);\n  var result = [];\n\n  while (pair && pair.length) {\n    result[result.length] = pair[0];\n    pair = fn(pair[1]);\n  }\n\n  return result;\n});\n\nexport default unfold;", "import _concat from \"./internal/_concat.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport compose from \"./compose.js\";\nimport uniq from \"./uniq.js\";\n/**\n * Combines two lists into a set (i.e. no duplicates) composed of the elements\n * of each list.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig [*] -> [*] -> [*]\n * @param {Array} as The first list.\n * @param {Array} bs The second list.\n * @return {Array} The first and second lists concatenated, with\n *         duplicates removed.\n * @example\n *\n *      R.union([1, 2, 3], [2, 3, 4]); //=> [1, 2, 3, 4]\n */\n\nvar union =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\ncompose(uniq, _concat));\n\nexport default union;", "import _curry2 from \"./_curry2.js\";\nimport _includesWith from \"./_includesWith.js\";\nimport _xfBase from \"./_xfBase.js\";\n\nvar XUniqWith =\n/*#__PURE__*/\nfunction () {\n  function XUniqWith(pred, xf) {\n    this.xf = xf;\n    this.pred = pred;\n    this.items = [];\n  }\n\n  XUniqWith.prototype['@@transducer/init'] = _xfBase.init;\n  XUniqWith.prototype['@@transducer/result'] = _xfBase.result;\n\n  XUniqWith.prototype['@@transducer/step'] = function (result, input) {\n    if (_includesWith(this.pred, input, this.items)) {\n      return result;\n    } else {\n      this.items.push(input);\n      return this.xf['@@transducer/step'](result, input);\n    }\n  };\n\n  return XUniqWith;\n}();\n\nvar _xuniqWith =\n/*#__PURE__*/\n_curry2(function _xuniqWith(pred, xf) {\n  return new XUniqWith(pred, xf);\n});\n\nexport default _xuniqWith;", "import _curry2 from \"./internal/_curry2.js\";\nimport _dispatchable from \"./internal/_dispatchable.js\";\nimport _includesWith from \"./internal/_includesWith.js\";\nimport _xuniqWith from \"./internal/_xuniqWith.js\";\n/**\n * Returns a new list containing only one copy of each element in the original\n * list, based upon the value returned by applying the supplied predicate to\n * two list elements. Prefers the first item if two items compare equal based\n * on the predicate.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category List\n * @sig ((a, a) -> Boolean) -> [a] -> [a]\n * @param {Function} pred A predicate used to test whether two items are equal.\n * @param {Array} list The array to consider.\n * @return {Array} The list of unique items.\n * @example\n *\n *      const strEq = R.eqBy(String);\n *      R.uniqWith(strEq)([1, '1', 2, 1]); //=> [1, 2]\n *      R.uniqWith(strEq)([{}, {}]);       //=> [{}]\n *      R.uniqWith(strEq)([1, '1', 1]);    //=> [1]\n *      R.uniqWith(strEq)(['1', 1, 1]);    //=> ['1']\n */\n\nvar uniqWith =\n/*#__PURE__*/\n_curry2(\n/*#__PURE__*/\n_dispatchable([], _xuniqWith, function (pred, list) {\n  var idx = 0;\n  var len = list.length;\n  var result = [];\n  var item;\n\n  while (idx < len) {\n    item = list[idx];\n\n    if (!_includesWith(pred, item, result)) {\n      result[result.length] = item;\n    }\n\n    idx += 1;\n  }\n\n  return result;\n}));\n\nexport default uniqWith;", "import _concat from \"./internal/_concat.js\";\nimport _curry3 from \"./internal/_curry3.js\";\nimport uniqWith from \"./uniqWith.js\";\n/**\n * Combines two lists into a set (i.e. no duplicates) composed of the elements\n * of each list. Duplication is determined according to the value returned by\n * applying the supplied predicate to two list elements. If an element exists\n * in both lists, the first element from the first list will be used.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category Relation\n * @sig ((a, a) -> Boolean) -> [*] -> [*] -> [*]\n * @param {Function} pred A predicate used to test whether two items are equal.\n * @param {Array} list1 The first list.\n * @param {Array} list2 The second list.\n * @return {Array} The first and second lists concatenated, with\n *         duplicates removed.\n * @see R.union\n * @example\n *\n *      const l1 = [{a: 1}, {a: 2}];\n *      const l2 = [{a: 1}, {a: 4}];\n *      R.unionWith(R.eqBy(R.prop('a')), l1, l2); //=> [{a: 1}, {a: 2}, {a: 4}]\n */\n\nvar unionWith =\n/*#__PURE__*/\n_curry3(function unionWith(pred, list1, list2) {\n  return uniqWith(pred, _concat(list1, list2));\n});\n\nexport default unionWith;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Tests the final argument by passing it to the given predicate function. If\n * the predicate is not satisfied, the function will return the result of\n * calling the `whenFalseFn` function with the same argument. If the predicate\n * is satisfied, the argument is returned as is.\n *\n * @func\n * @memberOf R\n * @since v0.18.0\n * @category Logic\n * @sig (a -> Boolean) -> (a -> b) -> a -> a | b\n * @param {Function} pred        A predicate function\n * @param {Function} whenFalseFn A function to invoke when the `pred` evaluates\n *                               to a falsy value.\n * @param {*}        x           An object to test with the `pred` function and\n *                               pass to `whenFalseFn` if necessary.\n * @return {*} Either `x` or the result of applying `x` to `whenFalseFn`.\n * @see R.ifElse, R.when, R.cond\n * @example\n *\n *      let safeInc = R.unless(R.isNil, R.inc);\n *      safeInc(null); //=> null\n *      safeInc(1); //=> 2\n */\n\nvar unless =\n/*#__PURE__*/\n_curry3(function unless(pred, whenFalseFn, x) {\n  return pred(x) ? x : whenFalseFn(x);\n});\n\nexport default unless;", "import _identity from \"./internal/_identity.js\";\nimport chain from \"./chain.js\";\n/**\n * Shorthand for `R.chain(R.identity)`, which removes one level of nesting from\n * any [Chain](https://github.com/fantasyland/fantasy-land#chain).\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig Chain c => c (c a) -> c a\n * @param {*} list\n * @return {*}\n * @see R.flatten, R.chain\n * @example\n *\n *      R.unnest([1, [2], [[3]]]); //=> [1, 2, [3]]\n *      R.unnest([[1, 2], [3, 4], [5, 6]]); //=> [1, 2, 3, 4, 5, 6]\n */\n\nvar unnest =\n/*#__PURE__*/\nchain(_identity);\nexport default unnest;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Takes a predicate, a transformation function, and an initial value,\n * and returns a value of the same type as the initial value.\n * It does so by applying the transformation until the predicate is satisfied,\n * at which point it returns the satisfactory value.\n *\n * @func\n * @memberOf R\n * @since v0.20.0\n * @category Logic\n * @sig (a -> Boolean) -> (a -> a) -> a -> a\n * @param {Function} pred A predicate function\n * @param {Function} fn The iterator function\n * @param {*} init Initial value\n * @return {*} Final value that satisfies predicate\n * @example\n *\n *      R.until(R.gt(R.__, 100), R.multiply(2))(1) // => 128\n */\n\nvar until =\n/*#__PURE__*/\n_curry3(function until(pred, fn, init) {\n  var val = init;\n\n  while (!pred(val)) {\n    val = fn(val);\n  }\n\n  return val;\n});\n\nexport default until;", "import _curry2 from \"./internal/_curry2.js\";\nimport _isArray from \"./internal/_isArray.js\";\nimport _map from \"./internal/_map.js\";\nimport _assoc from \"./internal/_assoc.js\";\n/**\n *\n * Deconstructs an array field from the input documents to output a document for each element.\n * Each output document is the input document with the value of the array field replaced by the element.\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category Object\n * @sig String -> {k: [v]} -> [{k: v}]\n * @param {String} key The key to determine which property of the object should be unwind\n * @param {Object} object The object containing list under property named as key which is to unwind\n * @return {List} A new list of object containing the value of input key having list replaced by each element in the object.\n * @example\n *\n * R.unwind('hobbies', {\n *   name: 'alice',\n *   hobbies: ['Golf', 'Hacking'],\n *   colors: ['red', 'green'],\n * });\n * // [\n * //   { name: 'alice', hobbies: 'Golf', colors: ['red', 'green'] },\n * //   { name: 'alice', hobbies: 'Hacking', colors: ['red', 'green'] }\n * // ]\n */\n\nvar unwind =\n/*#__PURE__*/\n_curry2(function (key, object) {\n  // If key is not in object or key is not as a list in object\n  if (!(key in object && _isArray(object[key]))) {\n    return [object];\n  } // Map over object[key] which is a list and assoc each element with key\n\n\n  return _map(function (item) {\n    return _assoc(key, item, object);\n  }, object[key]);\n});\n\nexport default unwind;", "import _curry1 from \"./internal/_curry1.js\";\n/**\n * Returns a list of all the properties, including prototype properties, of the\n * supplied object.\n * Note that the order of the output array is not guaranteed to be consistent\n * across different JS platforms.\n *\n * @func\n * @memberOf R\n * @since v0.2.0\n * @category Object\n * @sig {k: v} -> [v]\n * @param {Object} obj The object to extract values from\n * @return {Array} An array of the values of the object's own and prototype properties.\n * @see R.values, R.keysIn\n * @example\n *\n *      const F = function() { this.x = 'X'; };\n *      F.prototype.y = 'Y';\n *      const f = new F();\n *      R.valuesIn(f); //=> ['X', 'Y']\n */\n\nvar valuesIn =\n/*#__PURE__*/\n_curry1(function valuesIn(obj) {\n  var prop;\n  var vs = [];\n\n  for (prop in obj) {\n    vs[vs.length] = obj[prop];\n  }\n\n  return vs;\n});\n\nexport default valuesIn;", "import _curry2 from \"./internal/_curry2.js\"; // `Const` is a functor that effectively ignores the function given to `map`.\n\nvar Const = function (x) {\n  return {\n    value: x,\n    'fantasy-land/map': function () {\n      return this;\n    }\n  };\n};\n/**\n * Returns a \"view\" of the given data structure, determined by the given lens.\n * The lens's focus determines which portion of the data structure is visible.\n *\n * @func\n * @memberOf R\n * @since v0.16.0\n * @category Object\n * @typedefn Lens s a = Functor f => (a -> f a) -> s -> f s\n * @sig Lens s a -> s -> a\n * @param {Lens} lens\n * @param {*} x\n * @return {*}\n * @see R.set, R.over, R.lens, R.lensIndex, R.lensProp, R.lensPath\n * @example\n *\n *      const xLens = R.lensProp('x');\n *\n *      R.view(xLens, {x: 1, y: 2});  //=> 1\n *      R.view(xLens, {x: 4, y: 2});  //=> 4\n */\n\n\nvar view =\n/*#__PURE__*/\n_curry2(function view(lens, x) {\n  // Using `Const` effectively ignores the setter function of the `lens`,\n  // leaving the value returned by the getter function unmodified.\n  return lens(Const)(x).value;\n});\n\nexport default view;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Tests the final argument by passing it to the given predicate function. If\n * the predicate is satisfied, the function will return the result of calling\n * the `whenTrueFn` function with the same argument. If the predicate is not\n * satisfied, the argument is returned as is.\n *\n * @func\n * @memberOf R\n * @since v0.18.0\n * @category Logic\n * @sig (a -> Boolean) -> (a -> b) -> a -> a | b\n * @param {Function} pred       A predicate function\n * @param {Function} whenTrueFn A function to invoke when the `condition`\n *                              evaluates to a truthy value.\n * @param {*}        x          An object to test with the `pred` function and\n *                              pass to `whenTrueFn` if necessary.\n * @return {*} Either `x` or the result of applying `x` to `whenTrueFn`.\n * @see R.ifElse, R.unless, R.cond\n * @example\n *\n *      // truncate :: String -> String\n *      const truncate = R.when(\n *        R.propSatisfies(R.gt(R.__, 10), 'length'),\n *        R.pipe(R.take(10), R.append('\u2026'), R.join(''))\n *      );\n *      truncate('12345');         //=> '12345'\n *      truncate('0123456789ABC'); //=> '0123456789\u2026'\n */\n\nvar when =\n/*#__PURE__*/\n_curry3(function when(pred, whenTrueFn, x) {\n  return pred(x) ? whenTrueFn(x) : x;\n});\n\nexport default when;", "import _curry2 from \"./internal/_curry2.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Takes a spec object and a test object; returns true if the test satisfies\n * the spec. Each of the spec's own properties must be a predicate function.\n * Each predicate is applied to the value of the corresponding property of the\n * test object. `where` returns true if all the predicates return true, false\n * otherwise.\n *\n * `where` is well suited to declaratively expressing constraints for other\n * functions such as [`filter`](#filter) and [`find`](#find).\n *\n * @func\n * @memberOf R\n * @since v0.1.1\n * @category Object\n * @sig {String: (* -> Boolean)} -> {String: *} -> Boolean\n * @param {Object} spec\n * @param {Object} testObj\n * @return {Boolean}\n * @see R.propSatisfies, R.whereEq\n * @example\n *\n *      // pred :: Object -> Boolean\n *      const pred = R.where({\n *        a: R.equals('foo'),\n *        b: R.complement(R.equals('bar')),\n *        x: R.gt(R.__, 10),\n *        y: R.lt(R.__, 20)\n *      });\n *\n *      pred({a: 'foo', b: 'xxx', x: 11, y: 19}); //=> true\n *      pred({a: 'xxx', b: 'xxx', x: 11, y: 19}); //=> false\n *      pred({a: 'foo', b: 'bar', x: 11, y: 19}); //=> false\n *      pred({a: 'foo', b: 'xxx', x: 10, y: 19}); //=> false\n *      pred({a: 'foo', b: 'xxx', x: 11, y: 20}); //=> false\n */\n\nvar where =\n/*#__PURE__*/\n_curry2(function where(spec, testObj) {\n  for (var prop in spec) {\n    if (_has(prop, spec) && !spec[prop](testObj[prop])) {\n      return false;\n    }\n  }\n\n  return true;\n});\n\nexport default where;", "import _curry2 from \"./internal/_curry2.js\";\nimport _has from \"./internal/_has.js\";\n/**\n * Takes a spec object and a test object; each of the spec's own properties must be a predicate function.\n * Each predicate is applied to the value of the corresponding property of the\n * test object. `whereAny` returns true if at least one of the predicates return true,\n * false otherwise.\n *\n * `whereAny` is well suited to declaratively expressing constraints for other\n * functions such as [`filter`](#filter) and [`find`](#find).\n *\n * @func\n * @memberOf R\n * @since v0.28.0\n * @category Object\n * @sig {String: (* -> Boolean)} -> {String: *} -> Boolean\n * @param {Object} spec\n * @param {Object} testObj\n * @return {Boolean}\n * @see R.propSatisfies, R.where\n * @example\n *\n *      // pred :: Object -> Boolean\n *      const pred = R.whereAny({\n *        a: R.equals('foo'),\n *        b: R.complement(R.equals('xxx')),\n *        x: R.gt(R.__, 10),\n *        y: R.lt(R.__, 20)\n *      });\n *\n *      pred({a: 'foo', b: 'xxx', x: 8, y: 34}); //=> true\n *      pred({a: 'xxx', b: 'xxx', x: 9, y: 21}); //=> false\n *      pred({a: 'bar', b: 'xxx', x: 10, y: 20}); //=> false\n *      pred({a: 'foo', b: 'bar', x: 10, y: 20}); //=> true\n *      pred({a: 'foo', b: 'xxx', x: 11, y: 20}); //=> true\n */\n\nvar whereAny =\n/*#__PURE__*/\n_curry2(function whereAny(spec, testObj) {\n  for (var prop in spec) {\n    if (_has(prop, spec) && spec[prop](testObj[prop])) {\n      return true;\n    }\n  }\n\n  return false;\n});\n\nexport default whereAny;", "import _curry2 from \"./internal/_curry2.js\";\nimport equals from \"./equals.js\";\nimport map from \"./map.js\";\nimport where from \"./where.js\";\n/**\n * Takes a spec object and a test object; returns true if the test satisfies\n * the spec, false otherwise. An object satisfies the spec if, for each of the\n * spec's own properties, accessing that property of the object gives the same\n * value (in [`R.equals`](#equals) terms) as accessing that property of the\n * spec.\n *\n * `whereEq` is a specialization of [`where`](#where).\n *\n * @func\n * @memberOf R\n * @since v0.14.0\n * @category Object\n * @sig {String: *} -> {String: *} -> Boolean\n * @param {Object} spec\n * @param {Object} testObj\n * @return {Boolean}\n * @see R.propEq, R.where\n * @example\n *\n *      // pred :: Object -> Boolean\n *      const pred = R.whereEq({a: 1, b: 2});\n *\n *      pred({a: 1});              //=> false\n *      pred({a: 1, b: 2});        //=> true\n *      pred({a: 1, b: 2, c: 3});  //=> true\n *      pred({a: 1, b: 1});        //=> false\n */\n\nvar whereEq =\n/*#__PURE__*/\n_curry2(function whereEq(spec, testObj) {\n  return where(map(equals, spec), testObj);\n});\n\nexport default whereEq;", "import _includes from \"./internal/_includes.js\";\nimport _curry2 from \"./internal/_curry2.js\";\nimport flip from \"./flip.js\";\nimport reject from \"./reject.js\";\n/**\n * Returns a new list without values in the first argument.\n * [`R.equals`](#equals) is used to determine equality.\n *\n * Acts as a transducer if a transformer is given in list position.\n *\n * @func\n * @memberOf R\n * @since v0.19.0\n * @category List\n * @sig [a] -> [a] -> [a]\n * @param {Array} list1 The values to be removed from `list2`.\n * @param {Array} list2 The array to remove values from.\n * @return {Array} The new array without values in `list1`.\n * @see R.transduce, R.difference, R.remove\n * @example\n *\n *      R.without([1, 2], [1, 2, 1, 3, 4]); //=> [3, 4]\n */\n\nvar without =\n/*#__PURE__*/\n_curry2(function (xs, list) {\n  return reject(flip(_includes)(xs), list);\n});\n\nexport default without;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Exclusive disjunction logical operation.\n * Returns `true` if one of the arguments is truthy and the other is falsy.\n * Otherwise, it returns `false`.\n *\n * @func\n * @memberOf R\n * @since v0.27.1\n * @category Logic\n * @sig a -> b -> Boolean\n * @param {Any} a\n * @param {Any} b\n * @return {Boolean} true if one of the arguments is truthy and the other is falsy\n * @see R.or, R.and\n * @example\n *\n *      R.xor(true, true); //=> false\n *      R.xor(true, false); //=> true\n *      R.xor(false, true); //=> true\n *      R.xor(false, false); //=> false\n */\n\nvar xor =\n/*#__PURE__*/\n_curry2(function xor(a, b) {\n  return Boolean(!a ^ !b);\n});\n\nexport default xor;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a new list out of the two supplied by creating each possible pair\n * from the lists.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [b] -> [[a,b]]\n * @param {Array} as The first list.\n * @param {Array} bs The second list.\n * @return {Array} The list made by combining each possible pair from\n *         `as` and `bs` into pairs (`[a, b]`).\n * @example\n *\n *      R.xprod([1, 2], ['a', 'b']); //=> [[1, 'a'], [1, 'b'], [2, 'a'], [2, 'b']]\n * @symb R.xprod([a, b], [c, d]) = [[a, c], [a, d], [b, c], [b, d]]\n */\n\nvar xprod =\n/*#__PURE__*/\n_curry2(function xprod(a, b) {\n  // = xprodWith(prepend); (takes about 3 times as long...)\n  var idx = 0;\n  var ilen = a.length;\n  var j;\n  var jlen = b.length;\n  var result = [];\n\n  while (idx < ilen) {\n    j = 0;\n\n    while (j < jlen) {\n      result[result.length] = [a[idx], b[j]];\n      j += 1;\n    }\n\n    idx += 1;\n  }\n\n  return result;\n});\n\nexport default xprod;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a new list out of the two supplied by pairing up equally-positioned\n * items from both lists. The returned list is truncated to the length of the\n * shorter of the two input lists.\n * Note: `zip` is equivalent to `zipWith(function(a, b) { return [a, b] })`.\n *\n * @func\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig [a] -> [b] -> [[a,b]]\n * @param {Array} list1 The first array to consider.\n * @param {Array} list2 The second array to consider.\n * @return {Array} The list made by pairing up same-indexed elements of `list1` and `list2`.\n * @example\n *\n *      R.zip([1, 2, 3], ['a', 'b', 'c']); //=> [[1, 'a'], [2, 'b'], [3, 'c']]\n * @symb R.zip([a, b, c], [d, e, f]) = [[a, d], [b, e], [c, f]]\n */\n\nvar zip =\n/*#__PURE__*/\n_curry2(function zip(a, b) {\n  var rv = [];\n  var idx = 0;\n  var len = Math.min(a.length, b.length);\n\n  while (idx < len) {\n    rv[idx] = [a[idx], b[idx]];\n    idx += 1;\n  }\n\n  return rv;\n});\n\nexport default zip;", "import _curry2 from \"./internal/_curry2.js\";\n/**\n * Creates a new object out of a list of keys and a list of values.\n * Key/value pairing is truncated to the length of the shorter of the two lists.\n * Note: `zipObj` is equivalent to `pipe(zip, fromPairs)`.\n *\n * @func\n * @memberOf R\n * @since v0.3.0\n * @category List\n * @sig [String] -> [*] -> {String: *}\n * @param {Array} keys The array that will be properties on the output object.\n * @param {Array} values The list of values on the output object.\n * @return {Object} The object made by pairing up same-indexed elements of `keys` and `values`.\n * @example\n *\n *      R.zipObj(['a', 'b', 'c'], [1, 2, 3]); //=> {a: 1, b: 2, c: 3}\n */\n\nvar zipObj =\n/*#__PURE__*/\n_curry2(function zipObj(keys, values) {\n  var idx = 0;\n  var len = Math.min(keys.length, values.length);\n  var out = {};\n\n  while (idx < len) {\n    out[keys[idx]] = values[idx];\n    idx += 1;\n  }\n\n  return out;\n});\n\nexport default zipObj;", "import _curry3 from \"./internal/_curry3.js\";\n/**\n * Creates a new list out of the two supplied by applying the function to each\n * equally-positioned pair in the lists. The returned list is truncated to the\n * length of the shorter of the two input lists.\n *\n * @function\n * @memberOf R\n * @since v0.1.0\n * @category List\n * @sig ((a, b) -> c) -> [a] -> [b] -> [c]\n * @param {Function} fn The function used to combine the two elements into one value.\n * @param {Array} list1 The first array to consider.\n * @param {Array} list2 The second array to consider.\n * @return {Array} The list made by combining same-indexed elements of `list1` and `list2`\n *         using `fn`.\n * @example\n *\n *      const f = (x, y) => {\n *        // ...\n *      };\n *      R.zipWith(f, [1, 2, 3], ['a', 'b', 'c']);\n *      //=> [f(1, 'a'), f(2, 'b'), f(3, 'c')]\n * @symb R.zipWith(fn, [a, b, c], [d, e, f]) = [fn(a, d), fn(b, e), fn(c, f)]\n */\n\nvar zipWith =\n/*#__PURE__*/\n_curry3(function zipWith(fn, a, b) {\n  var rv = [];\n  var idx = 0;\n  var len = Math.min(a.length, b.length);\n\n  while (idx < len) {\n    rv[idx] = fn(a[idx], b[idx]);\n    idx += 1;\n  }\n\n  return rv;\n});\n\nexport default zipWith;", "import curryN from \"./curryN.js\";\nimport _curry1 from \"./internal/_curry1.js\";\n/**\n * Creates a thunk out of a function. A thunk delays a calculation until\n * its result is needed, providing lazy evaluation of arguments.\n *\n * @func\n * @memberOf R\n * @since v0.26.0\n * @category Function\n * @sig ((a, b, ..., j) -> k) -> (a, b, ..., j) -> (() -> k)\n * @param {Function} fn A function to wrap in a thunk\n * @return {Function} Expects arguments for `fn` and returns a new function\n *  that, when called, applies those arguments to `fn`.\n * @see R.partial, R.partialRight\n * @example\n *\n *      R.thunkify(R.identity)(42)(); //=> 42\n *      R.thunkify((a, b) => a + b)(25, 17)(); //=> 42\n */\n\nvar thunkify =\n/*#__PURE__*/\n_curry1(function thunkify(fn) {\n  return curryN(fn.length, function createThunk() {\n    var fnArgs = arguments;\n    return function invokeThunk() {\n      return fn.apply(this, fnArgs);\n    };\n  });\n});\n\nexport default thunkify;", "export { default as F } from \"./F.js\";\nexport { default as T } from \"./T.js\";\nexport { default as __ } from \"./__.js\";\nexport { default as add } from \"./add.js\";\nexport { default as addIndex } from \"./addIndex.js\";\nexport { default as adjust } from \"./adjust.js\";\nexport { default as all } from \"./all.js\";\nexport { default as allPass } from \"./allPass.js\";\nexport { default as always } from \"./always.js\";\nexport { default as and } from \"./and.js\";\nexport { default as any } from \"./any.js\";\nexport { default as anyPass } from \"./anyPass.js\";\nexport { default as ap } from \"./ap.js\";\nexport { default as aperture } from \"./aperture.js\";\nexport { default as append } from \"./append.js\";\nexport { default as apply } from \"./apply.js\";\nexport { default as applySpec } from \"./applySpec.js\";\nexport { default as applyTo } from \"./applyTo.js\";\nexport { default as ascend } from \"./ascend.js\";\nexport { default as assoc } from \"./assoc.js\";\nexport { default as assocPath } from \"./assocPath.js\";\nexport { default as binary } from \"./binary.js\";\nexport { default as bind } from \"./bind.js\";\nexport { default as both } from \"./both.js\";\nexport { default as call } from \"./call.js\";\nexport { default as chain } from \"./chain.js\";\nexport { default as clamp } from \"./clamp.js\";\nexport { default as clone } from \"./clone.js\";\nexport { default as collectBy } from \"./collectBy.js\";\nexport { default as comparator } from \"./comparator.js\";\nexport { default as complement } from \"./complement.js\";\nexport { default as compose } from \"./compose.js\";\nexport { default as composeWith } from \"./composeWith.js\";\nexport { default as concat } from \"./concat.js\";\nexport { default as cond } from \"./cond.js\";\nexport { default as construct } from \"./construct.js\";\nexport { default as constructN } from \"./constructN.js\";\nexport { default as converge } from \"./converge.js\";\nexport { default as count } from \"./count.js\";\nexport { default as countBy } from \"./countBy.js\";\nexport { default as curry } from \"./curry.js\";\nexport { default as curryN } from \"./curryN.js\";\nexport { default as dec } from \"./dec.js\";\nexport { default as defaultTo } from \"./defaultTo.js\";\nexport { default as descend } from \"./descend.js\";\nexport { default as difference } from \"./difference.js\";\nexport { default as differenceWith } from \"./differenceWith.js\";\nexport { default as dissoc } from \"./dissoc.js\";\nexport { default as dissocPath } from \"./dissocPath.js\";\nexport { default as divide } from \"./divide.js\";\nexport { default as drop } from \"./drop.js\";\nexport { default as dropLast } from \"./dropLast.js\";\nexport { default as dropLastWhile } from \"./dropLastWhile.js\";\nexport { default as dropRepeats } from \"./dropRepeats.js\";\nexport { default as dropRepeatsWith } from \"./dropRepeatsWith.js\";\nexport { default as dropWhile } from \"./dropWhile.js\";\nexport { default as either } from \"./either.js\";\nexport { default as empty } from \"./empty.js\";\nexport { default as endsWith } from \"./endsWith.js\";\nexport { default as eqBy } from \"./eqBy.js\";\nexport { default as eqProps } from \"./eqProps.js\";\nexport { default as equals } from \"./equals.js\";\nexport { default as evolve } from \"./evolve.js\";\nexport { default as filter } from \"./filter.js\";\nexport { default as find } from \"./find.js\";\nexport { default as findIndex } from \"./findIndex.js\";\nexport { default as findLast } from \"./findLast.js\";\nexport { default as findLastIndex } from \"./findLastIndex.js\";\nexport { default as flatten } from \"./flatten.js\";\nexport { default as flip } from \"./flip.js\";\nexport { default as forEach } from \"./forEach.js\";\nexport { default as forEachObjIndexed } from \"./forEachObjIndexed.js\";\nexport { default as fromPairs } from \"./fromPairs.js\";\nexport { default as groupBy } from \"./groupBy.js\";\nexport { default as groupWith } from \"./groupWith.js\";\nexport { default as gt } from \"./gt.js\";\nexport { default as gte } from \"./gte.js\";\nexport { default as has } from \"./has.js\";\nexport { default as hasIn } from \"./hasIn.js\";\nexport { default as hasPath } from \"./hasPath.js\";\nexport { default as head } from \"./head.js\";\nexport { default as identical } from \"./identical.js\";\nexport { default as identity } from \"./identity.js\";\nexport { default as ifElse } from \"./ifElse.js\";\nexport { default as inc } from \"./inc.js\";\nexport { default as includes } from \"./includes.js\";\nexport { default as indexBy } from \"./indexBy.js\";\nexport { default as indexOf } from \"./indexOf.js\";\nexport { default as init } from \"./init.js\";\nexport { default as innerJoin } from \"./innerJoin.js\";\nexport { default as insert } from \"./insert.js\";\nexport { default as insertAll } from \"./insertAll.js\";\nexport { default as intersection } from \"./intersection.js\";\nexport { default as intersperse } from \"./intersperse.js\";\nexport { default as into } from \"./into.js\";\nexport { default as invert } from \"./invert.js\";\nexport { default as invertObj } from \"./invertObj.js\";\nexport { default as invoker } from \"./invoker.js\";\nexport { default as is } from \"./is.js\";\nexport { default as isEmpty } from \"./isEmpty.js\";\nexport { default as isNil } from \"./isNil.js\";\nexport { default as join } from \"./join.js\";\nexport { default as juxt } from \"./juxt.js\";\nexport { default as keys } from \"./keys.js\";\nexport { default as keysIn } from \"./keysIn.js\";\nexport { default as last } from \"./last.js\";\nexport { default as lastIndexOf } from \"./lastIndexOf.js\";\nexport { default as length } from \"./length.js\";\nexport { default as lens } from \"./lens.js\";\nexport { default as lensIndex } from \"./lensIndex.js\";\nexport { default as lensPath } from \"./lensPath.js\";\nexport { default as lensProp } from \"./lensProp.js\";\nexport { default as lift } from \"./lift.js\";\nexport { default as liftN } from \"./liftN.js\";\nexport { default as lt } from \"./lt.js\";\nexport { default as lte } from \"./lte.js\";\nexport { default as map } from \"./map.js\";\nexport { default as mapAccum } from \"./mapAccum.js\";\nexport { default as mapAccumRight } from \"./mapAccumRight.js\";\nexport { default as mapObjIndexed } from \"./mapObjIndexed.js\";\nexport { default as match } from \"./match.js\";\nexport { default as mathMod } from \"./mathMod.js\";\nexport { default as max } from \"./max.js\";\nexport { default as maxBy } from \"./maxBy.js\";\nexport { default as mean } from \"./mean.js\";\nexport { default as median } from \"./median.js\";\nexport { default as memoizeWith } from \"./memoizeWith.js\";\nexport { default as mergeAll } from \"./mergeAll.js\";\nexport { default as mergeDeepLeft } from \"./mergeDeepLeft.js\";\nexport { default as mergeDeepRight } from \"./mergeDeepRight.js\";\nexport { default as mergeDeepWith } from \"./mergeDeepWith.js\";\nexport { default as mergeDeepWithKey } from \"./mergeDeepWithKey.js\";\nexport { default as mergeLeft } from \"./mergeLeft.js\";\nexport { default as mergeRight } from \"./mergeRight.js\";\nexport { default as mergeWith } from \"./mergeWith.js\";\nexport { default as mergeWithKey } from \"./mergeWithKey.js\";\nexport { default as min } from \"./min.js\";\nexport { default as minBy } from \"./minBy.js\";\nexport { default as modify } from \"./modify.js\";\nexport { default as modifyPath } from \"./modifyPath.js\";\nexport { default as modulo } from \"./modulo.js\";\nexport { default as move } from \"./move.js\";\nexport { default as multiply } from \"./multiply.js\";\nexport { default as nAry } from \"./nAry.js\";\nexport { default as partialObject } from \"./partialObject.js\";\nexport { default as negate } from \"./negate.js\";\nexport { default as none } from \"./none.js\";\nexport { default as not } from \"./not.js\";\nexport { default as nth } from \"./nth.js\";\nexport { default as nthArg } from \"./nthArg.js\";\nexport { default as o } from \"./o.js\";\nexport { default as objOf } from \"./objOf.js\";\nexport { default as of } from \"./of.js\";\nexport { default as omit } from \"./omit.js\";\nexport { default as on } from \"./on.js\";\nexport { default as once } from \"./once.js\";\nexport { default as or } from \"./or.js\";\nexport { default as otherwise } from \"./otherwise.js\";\nexport { default as over } from \"./over.js\";\nexport { default as pair } from \"./pair.js\";\nexport { default as partial } from \"./partial.js\";\nexport { default as partialRight } from \"./partialRight.js\";\nexport { default as partition } from \"./partition.js\";\nexport { default as path } from \"./path.js\";\nexport { default as paths } from \"./paths.js\";\nexport { default as pathEq } from \"./pathEq.js\";\nexport { default as pathOr } from \"./pathOr.js\";\nexport { default as pathSatisfies } from \"./pathSatisfies.js\";\nexport { default as pick } from \"./pick.js\";\nexport { default as pickAll } from \"./pickAll.js\";\nexport { default as pickBy } from \"./pickBy.js\";\nexport { default as pipe } from \"./pipe.js\";\nexport { default as pipeWith } from \"./pipeWith.js\";\nexport { default as pluck } from \"./pluck.js\";\nexport { default as prepend } from \"./prepend.js\";\nexport { default as product } from \"./product.js\";\nexport { default as project } from \"./project.js\";\nexport { default as promap } from \"./promap.js\";\nexport { default as prop } from \"./prop.js\";\nexport { default as propEq } from \"./propEq.js\";\nexport { default as propIs } from \"./propIs.js\";\nexport { default as propOr } from \"./propOr.js\";\nexport { default as propSatisfies } from \"./propSatisfies.js\";\nexport { default as props } from \"./props.js\";\nexport { default as range } from \"./range.js\";\nexport { default as reduce } from \"./reduce.js\";\nexport { default as reduceBy } from \"./reduceBy.js\";\nexport { default as reduceRight } from \"./reduceRight.js\";\nexport { default as reduceWhile } from \"./reduceWhile.js\";\nexport { default as reduced } from \"./reduced.js\";\nexport { default as reject } from \"./reject.js\";\nexport { default as remove } from \"./remove.js\";\nexport { default as repeat } from \"./repeat.js\";\nexport { default as replace } from \"./replace.js\";\nexport { default as reverse } from \"./reverse.js\";\nexport { default as scan } from \"./scan.js\";\nexport { default as sequence } from \"./sequence.js\";\nexport { default as set } from \"./set.js\";\nexport { default as slice } from \"./slice.js\";\nexport { default as sort } from \"./sort.js\";\nexport { default as sortBy } from \"./sortBy.js\";\nexport { default as sortWith } from \"./sortWith.js\";\nexport { default as split } from \"./split.js\";\nexport { default as splitAt } from \"./splitAt.js\";\nexport { default as splitEvery } from \"./splitEvery.js\";\nexport { default as splitWhen } from \"./splitWhen.js\";\nexport { default as splitWhenever } from \"./splitWhenever.js\";\nexport { default as startsWith } from \"./startsWith.js\";\nexport { default as subtract } from \"./subtract.js\";\nexport { default as sum } from \"./sum.js\";\nexport { default as symmetricDifference } from \"./symmetricDifference.js\";\nexport { default as symmetricDifferenceWith } from \"./symmetricDifferenceWith.js\";\nexport { default as tail } from \"./tail.js\";\nexport { default as take } from \"./take.js\";\nexport { default as takeLast } from \"./takeLast.js\";\nexport { default as takeLastWhile } from \"./takeLastWhile.js\";\nexport { default as takeWhile } from \"./takeWhile.js\";\nexport { default as tap } from \"./tap.js\";\nexport { default as test } from \"./test.js\";\nexport { default as andThen } from \"./andThen.js\";\nexport { default as times } from \"./times.js\";\nexport { default as toLower } from \"./toLower.js\";\nexport { default as toPairs } from \"./toPairs.js\";\nexport { default as toPairsIn } from \"./toPairsIn.js\";\nexport { default as toString } from \"./toString.js\";\nexport { default as toUpper } from \"./toUpper.js\";\nexport { default as transduce } from \"./transduce.js\";\nexport { default as transpose } from \"./transpose.js\";\nexport { default as traverse } from \"./traverse.js\";\nexport { default as trim } from \"./trim.js\";\nexport { default as tryCatch } from \"./tryCatch.js\";\nexport { default as type } from \"./type.js\";\nexport { default as unapply } from \"./unapply.js\";\nexport { default as unary } from \"./unary.js\";\nexport { default as uncurryN } from \"./uncurryN.js\";\nexport { default as unfold } from \"./unfold.js\";\nexport { default as union } from \"./union.js\";\nexport { default as unionWith } from \"./unionWith.js\";\nexport { default as uniq } from \"./uniq.js\";\nexport { default as uniqBy } from \"./uniqBy.js\";\nexport { default as uniqWith } from \"./uniqWith.js\";\nexport { default as unless } from \"./unless.js\";\nexport { default as unnest } from \"./unnest.js\";\nexport { default as until } from \"./until.js\";\nexport { default as unwind } from \"./unwind.js\";\nexport { default as update } from \"./update.js\";\nexport { default as useWith } from \"./useWith.js\";\nexport { default as values } from \"./values.js\";\nexport { default as valuesIn } from \"./valuesIn.js\";\nexport { default as view } from \"./view.js\";\nexport { default as when } from \"./when.js\";\nexport { default as where } from \"./where.js\";\nexport { default as whereAny } from \"./whereAny.js\";\nexport { default as whereEq } from \"./whereEq.js\";\nexport { default as without } from \"./without.js\";\nexport { default as xor } from \"./xor.js\";\nexport { default as xprod } from \"./xprod.js\";\nexport { default as zip } from \"./zip.js\";\nexport { default as zipObj } from \"./zipObj.js\";\nexport { default as zipWith } from \"./zipWith.js\";\nexport { default as thunkify } from \"./thunkify.js\";", "/** Number theory-friendly modulo implementation\n\n    If divisor is positive, return value will be too.\n*/\nNumber.prototype.mod = function (this: number, n: number): number {\n    return knuth_mod(this, n)\n}\n\n/** Takes sign of divisor -- incl. returning -0 */\nexport function knuth_mod(dividend: number, divisor: number) {\n    return dividend - divisor * Math.floor(dividend / divisor)\n}\n\n/** Equivalent to knuth_mod but doesn't return -0 */\nexport function my_mod(dividend: number, divisor: number) {\n    return ((dividend % divisor) + divisor) % divisor\n}\n\n/** Always gives a positive result.\n\n    Equivalent to knuth_mod when divisor is +ve\n    Equivalent to % when dividend is +ve\n*/\nexport function euclid_mod(dividend: number, divisor: number) {\n    const abs_divisor = Math.abs(divisor)\n    const quotient = Math.floor(dividend / abs_divisor)\n    return dividend - abs_divisor * quotient\n}\n\nexport {}\n", "import \"@src/lib/number.mod\"\n\nexport function head<T>(iterable: Iterable<T>) {\n    const iterator = iterable[Symbol.iterator]()\n    const result = iterator.next()\n    if (result.done) throw RangeError(\"Empty iterator has no head/tail\")\n    else return result.value\n}\n\n/** Get the last item of an array or iterable */\nexport function tail<T>(iter: Iterable<T>) {\n    if (Array.isArray(iter)) {\n        if (iter.length < 1) throw RangeError(\"Empty iterator has no head/tail\")\n        return iter[iter.length - 1]\n    } else {\n        // Re-use error handling in head()\n        let last = head(iter)\n        for (last of iter);\n        return last\n    }\n}\n\nexport function* filter<T>(iter: Iterable<T>, predicate: (item: T) => boolean) {\n    for (const v of iter) {\n        if (predicate(v)) yield v\n    }\n}\n\nexport function find<T>(iter: Iterable<T>, predicate: (item: T) => boolean) {\n    return head(filter(iter, predicate))\n}\n\n/** Zip some arrays together\n\n    If you need variable length args, you need izip for now.\n\n*/\nexport function zip(...arrays) {\n    // Make an array of length values\n    // TODO: Explain how this works\n    return [...Array(arrays[0].length)].map((_, i) => arrays.map(a => a[i]))\n}\n\nexport function* range(length) {\n    if (length < 0) return\n    for (let index = 0; index < length; index++) {\n        yield index\n    }\n}\n\nexport function* enumerate(iterable) {\n    let index = 0\n    for (const element of iterable) {\n        yield [index, element]\n        index++\n    }\n}\n\n/* Zip arbitrary iterators together */\nexport function* izip(...arrays) {\n    const iterators = arrays.map(e => e[Symbol.iterator]())\n    const box = Array(arrays.length)\n    for (let v of iterators[0]) {\n        box[0] = v\n        let i\n        try {\n            for ([i, v] of enumerate(iterators.slice(1))) {\n                box[i + 1] = head(v)\n            }\n            yield [...box]\n        } catch (e) {\n            return\n        }\n    }\n}\n\n/* Test if two iterables are equal */\nexport function iterEq(...arrays) {\n    for (const a of zip(...arrays)) {\n        if (!a.reduce((x, y) => x === y)) return false\n    }\n    return true\n}\n\nexport function zeros(n) {\n    return new Array(n).fill(0)\n}\n\n/** islice(iter, stop) = Give the first `stop` elements\n    islice(iter, start, stop)\n        skip `start` elements, then give `stop - start` elements,\n        unless `stop` is null, then emit indefinitely\n\n    If the iterator runs out early so will this.\n*/\nexport function* islice(iterable, start: number, stop?: number) {\n    const iter = iterable[Symbol.iterator]()\n\n    // If stop is not defined then they're using the two argument variant\n    if (stop === undefined) {\n        stop = start\n        start = 0\n    }\n\n    // Skip elements until start\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const _ of range(start)) {\n        const res = iter.next()\n        if (res.done) return\n    }\n\n    // Emit elements\n    if (stop === null) {\n        yield* iter\n    } else {\n        for (let i = start; i < stop; i++) {\n            const res = iter.next()\n            if (res.done) return\n            else yield res.value\n        }\n    }\n}\n\nexport function* chain(...iterables) {\n    for (const iter of iterables) {\n        yield* iter[Symbol.iterator]()\n    }\n}\n\n/** All permutations of n items from array */\nexport function* permutationsWithReplacement(arr, n) {\n    const len = arr.length\n    const counters = zeros(n)\n    let index = 1\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    for (const _ of range(Math.pow(len, n))) {\n        yield counters.map(i => arr[i])\n        for (const i of range(counters.length)) {\n            if (index.mod(Math.pow(len, counters.length - 1 - i)) === 0)\n                counters[i] = (counters[i] + 1).mod(len)\n        }\n        index++\n    }\n}\n\nexport function* map(arr, func) {\n    for (const v of arr) yield func(v)\n}\n\n// Returns an array of unique elements.\nexport function unique(arr) {\n    return arr.reduce((acc, cur) => {\n        if (!acc.includes(cur)) acc.push(cur)\n        return acc\n    }, [])\n}\n\n/** Yield values that are unique under hasher(value) */\nexport function* uniqueBy(arr, hasher) {\n    const hashes = new Set()\n    for (const e of arr) {\n        const hash = hasher(e)\n        if (!hashes.has(hash)) {\n            yield e\n            hashes.add(hash)\n        }\n    }\n}\n\n/** Drop from iterable until predicate is false */\nexport function* dropwhile(iterable, predicate) {\n    let allmatched = true\n    for (const elem of iterable) {\n        if (!(allmatched && predicate(elem))) {\n            allmatched = false\n            yield elem\n        }\n    }\n}\n\n/** Take from iterable until predicate is false */\nexport function* takewhile(iterable, predicate) {\n    for (const elem of iterable) {\n        if (predicate(elem)) {\n            yield elem\n        } else {\n            return\n        }\n    }\n}\n", "(function(root, factory) {\n    if (typeof module === 'object' && module.exports) {\n        module.exports = factory();\n    } else {\n        root.nearley = factory();\n    }\n}(this, function() {\n\n    function Rule(name, symbols, postprocess) {\n        this.id = ++Rule.highestId;\n        this.name = name;\n        this.symbols = symbols;        // a list of literal | regex class | nonterminal\n        this.postprocess = postprocess;\n        return this;\n    }\n    Rule.highestId = 0;\n\n    Rule.prototype.toString = function(withCursorAt) {\n        var symbolSequence = (typeof withCursorAt === \"undefined\")\n                             ? this.symbols.map(getSymbolShortDisplay).join(' ')\n                             : (   this.symbols.slice(0, withCursorAt).map(getSymbolShortDisplay).join(' ')\n                                 + \" \u25CF \"\n                                 + this.symbols.slice(withCursorAt).map(getSymbolShortDisplay).join(' ')     );\n        return this.name + \" \u2192 \" + symbolSequence;\n    }\n\n\n    // a State is a rule at a position from a given starting point in the input stream (reference)\n    function State(rule, dot, reference, wantedBy) {\n        this.rule = rule;\n        this.dot = dot;\n        this.reference = reference;\n        this.data = [];\n        this.wantedBy = wantedBy;\n        this.isComplete = this.dot === rule.symbols.length;\n    }\n\n    State.prototype.toString = function() {\n        return \"{\" + this.rule.toString(this.dot) + \"}, from: \" + (this.reference || 0);\n    };\n\n    State.prototype.nextState = function(child) {\n        var state = new State(this.rule, this.dot + 1, this.reference, this.wantedBy);\n        state.left = this;\n        state.right = child;\n        if (state.isComplete) {\n            state.data = state.build();\n            // Having right set here will prevent the right state and its children\n            // form being garbage collected\n            state.right = undefined;\n        }\n        return state;\n    };\n\n    State.prototype.build = function() {\n        var children = [];\n        var node = this;\n        do {\n            children.push(node.right.data);\n            node = node.left;\n        } while (node.left);\n        children.reverse();\n        return children;\n    };\n\n    State.prototype.finish = function() {\n        if (this.rule.postprocess) {\n            this.data = this.rule.postprocess(this.data, this.reference, Parser.fail);\n        }\n    };\n\n\n    function Column(grammar, index) {\n        this.grammar = grammar;\n        this.index = index;\n        this.states = [];\n        this.wants = {}; // states indexed by the non-terminal they expect\n        this.scannable = []; // list of states that expect a token\n        this.completed = {}; // states that are nullable\n    }\n\n\n    Column.prototype.process = function(nextColumn) {\n        var states = this.states;\n        var wants = this.wants;\n        var completed = this.completed;\n\n        for (var w = 0; w < states.length; w++) { // nb. we push() during iteration\n            var state = states[w];\n\n            if (state.isComplete) {\n                state.finish();\n                if (state.data !== Parser.fail) {\n                    // complete\n                    var wantedBy = state.wantedBy;\n                    for (var i = wantedBy.length; i--; ) { // this line is hot\n                        var left = wantedBy[i];\n                        this.complete(left, state);\n                    }\n\n                    // special-case nullables\n                    if (state.reference === this.index) {\n                        // make sure future predictors of this rule get completed.\n                        var exp = state.rule.name;\n                        (this.completed[exp] = this.completed[exp] || []).push(state);\n                    }\n                }\n\n            } else {\n                // queue scannable states\n                var exp = state.rule.symbols[state.dot];\n                if (typeof exp !== 'string') {\n                    this.scannable.push(state);\n                    continue;\n                }\n\n                // predict\n                if (wants[exp]) {\n                    wants[exp].push(state);\n\n                    if (completed.hasOwnProperty(exp)) {\n                        var nulls = completed[exp];\n                        for (var i = 0; i < nulls.length; i++) {\n                            var right = nulls[i];\n                            this.complete(state, right);\n                        }\n                    }\n                } else {\n                    wants[exp] = [state];\n                    this.predict(exp);\n                }\n            }\n        }\n    }\n\n    Column.prototype.predict = function(exp) {\n        var rules = this.grammar.byName[exp] || [];\n\n        for (var i = 0; i < rules.length; i++) {\n            var r = rules[i];\n            var wantedBy = this.wants[exp];\n            var s = new State(r, 0, this.index, wantedBy);\n            this.states.push(s);\n        }\n    }\n\n    Column.prototype.complete = function(left, right) {\n        var copy = left.nextState(right);\n        this.states.push(copy);\n    }\n\n\n    function Grammar(rules, start) {\n        this.rules = rules;\n        this.start = start || this.rules[0].name;\n        var byName = this.byName = {};\n        this.rules.forEach(function(rule) {\n            if (!byName.hasOwnProperty(rule.name)) {\n                byName[rule.name] = [];\n            }\n            byName[rule.name].push(rule);\n        });\n    }\n\n    // So we can allow passing (rules, start) directly to Parser for backwards compatibility\n    Grammar.fromCompiled = function(rules, start) {\n        var lexer = rules.Lexer;\n        if (rules.ParserStart) {\n          start = rules.ParserStart;\n          rules = rules.ParserRules;\n        }\n        var rules = rules.map(function (r) { return (new Rule(r.name, r.symbols, r.postprocess)); });\n        var g = new Grammar(rules, start);\n        g.lexer = lexer; // nb. storing lexer on Grammar is iffy, but unavoidable\n        return g;\n    }\n\n\n    function StreamLexer() {\n      this.reset(\"\");\n    }\n\n    StreamLexer.prototype.reset = function(data, state) {\n        this.buffer = data;\n        this.index = 0;\n        this.line = state ? state.line : 1;\n        this.lastLineBreak = state ? -state.col : 0;\n    }\n\n    StreamLexer.prototype.next = function() {\n        if (this.index < this.buffer.length) {\n            var ch = this.buffer[this.index++];\n            if (ch === '\\n') {\n              this.line += 1;\n              this.lastLineBreak = this.index;\n            }\n            return {value: ch};\n        }\n    }\n\n    StreamLexer.prototype.save = function() {\n      return {\n        line: this.line,\n        col: this.index - this.lastLineBreak,\n      }\n    }\n\n    StreamLexer.prototype.formatError = function(token, message) {\n        // nb. this gets called after consuming the offending token,\n        // so the culprit is index-1\n        var buffer = this.buffer;\n        if (typeof buffer === 'string') {\n            var lines = buffer\n                .split(\"\\n\")\n                .slice(\n                    Math.max(0, this.line - 5), \n                    this.line\n                );\n\n            var nextLineBreak = buffer.indexOf('\\n', this.index);\n            if (nextLineBreak === -1) nextLineBreak = buffer.length;\n            var col = this.index - this.lastLineBreak;\n            var lastLineDigits = String(this.line).length;\n            message += \" at line \" + this.line + \" col \" + col + \":\\n\\n\";\n            message += lines\n                .map(function(line, i) {\n                    return pad(this.line - lines.length + i + 1, lastLineDigits) + \" \" + line;\n                }, this)\n                .join(\"\\n\");\n            message += \"\\n\" + pad(\"\", lastLineDigits + col) + \"^\\n\";\n            return message;\n        } else {\n            return message + \" at index \" + (this.index - 1);\n        }\n\n        function pad(n, length) {\n            var s = String(n);\n            return Array(length - s.length + 1).join(\" \") + s;\n        }\n    }\n\n    function Parser(rules, start, options) {\n        if (rules instanceof Grammar) {\n            var grammar = rules;\n            var options = start;\n        } else {\n            var grammar = Grammar.fromCompiled(rules, start);\n        }\n        this.grammar = grammar;\n\n        // Read options\n        this.options = {\n            keepHistory: false,\n            lexer: grammar.lexer || new StreamLexer,\n        };\n        for (var key in (options || {})) {\n            this.options[key] = options[key];\n        }\n\n        // Setup lexer\n        this.lexer = this.options.lexer;\n        this.lexerState = undefined;\n\n        // Setup a table\n        var column = new Column(grammar, 0);\n        var table = this.table = [column];\n\n        // I could be expecting anything.\n        column.wants[grammar.start] = [];\n        column.predict(grammar.start);\n        // TODO what if start rule is nullable?\n        column.process();\n        this.current = 0; // token index\n    }\n\n    // create a reserved token for indicating a parse fail\n    Parser.fail = {};\n\n    Parser.prototype.feed = function(chunk) {\n        var lexer = this.lexer;\n        lexer.reset(chunk, this.lexerState);\n\n        var token;\n        while (true) {\n            try {\n                token = lexer.next();\n                if (!token) {\n                    break;\n                }\n            } catch (e) {\n                // Create the next column so that the error reporter\n                // can display the correctly predicted states.\n                var nextColumn = new Column(this.grammar, this.current + 1);\n                this.table.push(nextColumn);\n                var err = new Error(this.reportLexerError(e));\n                err.offset = this.current;\n                err.token = e.token;\n                throw err;\n            }\n            // We add new states to table[current+1]\n            var column = this.table[this.current];\n\n            // GC unused states\n            if (!this.options.keepHistory) {\n                delete this.table[this.current - 1];\n            }\n\n            var n = this.current + 1;\n            var nextColumn = new Column(this.grammar, n);\n            this.table.push(nextColumn);\n\n            // Advance all tokens that expect the symbol\n            var literal = token.text !== undefined ? token.text : token.value;\n            var value = lexer.constructor === StreamLexer ? token.value : token;\n            var scannable = column.scannable;\n            for (var w = scannable.length; w--; ) {\n                var state = scannable[w];\n                var expect = state.rule.symbols[state.dot];\n                // Try to consume the token\n                // either regex or literal\n                if (expect.test ? expect.test(value) :\n                    expect.type ? expect.type === token.type\n                                : expect.literal === literal) {\n                    // Add it\n                    var next = state.nextState({data: value, token: token, isToken: true, reference: n - 1});\n                    nextColumn.states.push(next);\n                }\n            }\n\n            // Next, for each of the rules, we either\n            // (a) complete it, and try to see if the reference row expected that\n            //     rule\n            // (b) predict the next nonterminal it expects by adding that\n            //     nonterminal's start state\n            // To prevent duplication, we also keep track of rules we have already\n            // added\n\n            nextColumn.process();\n\n            // If needed, throw an error:\n            if (nextColumn.states.length === 0) {\n                // No states at all! This is not good.\n                var err = new Error(this.reportError(token));\n                err.offset = this.current;\n                err.token = token;\n                throw err;\n            }\n\n            // maybe save lexer state\n            if (this.options.keepHistory) {\n              column.lexerState = lexer.save()\n            }\n\n            this.current++;\n        }\n        if (column) {\n          this.lexerState = lexer.save()\n        }\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n\n        // Allow chaining, for whatever it's worth\n        return this;\n    };\n\n    Parser.prototype.reportLexerError = function(lexerError) {\n        var tokenDisplay, lexerMessage;\n        // Planning to add a token property to moo's thrown error\n        // even on erroring tokens to be used in error display below\n        var token = lexerError.token;\n        if (token) {\n            tokenDisplay = \"input \" + JSON.stringify(token.text[0]) + \" (lexer error)\";\n            lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        } else {\n            tokenDisplay = \"input (lexer error)\";\n            lexerMessage = lexerError.message;\n        }\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportError = function(token) {\n        var tokenDisplay = (token.type ? token.type + \" token: \" : \"\") + JSON.stringify(token.value !== undefined ? token.value : token);\n        var lexerMessage = this.lexer.formatError(token, \"Syntax error\");\n        return this.reportErrorCommon(lexerMessage, tokenDisplay);\n    };\n\n    Parser.prototype.reportErrorCommon = function(lexerMessage, tokenDisplay) {\n        var lines = [];\n        lines.push(lexerMessage);\n        var lastColumnIndex = this.table.length - 2;\n        var lastColumn = this.table[lastColumnIndex];\n        var expectantStates = lastColumn.states\n            .filter(function(state) {\n                var nextSymbol = state.rule.symbols[state.dot];\n                return nextSymbol && typeof nextSymbol !== \"string\";\n            });\n\n        if (expectantStates.length === 0) {\n            lines.push('Unexpected ' + tokenDisplay + '. I did not expect any more input. Here is the state of my parse table:\\n');\n            this.displayStateStack(lastColumn.states, lines);\n        } else {\n            lines.push('Unexpected ' + tokenDisplay + '. Instead, I was expecting to see one of the following:\\n');\n            // Display a \"state stack\" for each expectant state\n            // - which shows you how this state came to be, step by step.\n            // If there is more than one derivation, we only display the first one.\n            var stateStacks = expectantStates\n                .map(function(state) {\n                    return this.buildFirstStateStack(state, []) || [state];\n                }, this);\n            // Display each state that is expecting a terminal symbol next.\n            stateStacks.forEach(function(stateStack) {\n                var state = stateStack[0];\n                var nextSymbol = state.rule.symbols[state.dot];\n                var symbolDisplay = this.getSymbolDisplay(nextSymbol);\n                lines.push('A ' + symbolDisplay + ' based on:');\n                this.displayStateStack(stateStack, lines);\n            }, this);\n        }\n        lines.push(\"\");\n        return lines.join(\"\\n\");\n    }\n    \n    Parser.prototype.displayStateStack = function(stateStack, lines) {\n        var lastDisplay;\n        var sameDisplayCount = 0;\n        for (var j = 0; j < stateStack.length; j++) {\n            var state = stateStack[j];\n            var display = state.rule.toString(state.dot);\n            if (display === lastDisplay) {\n                sameDisplayCount++;\n            } else {\n                if (sameDisplayCount > 0) {\n                    lines.push('    ^ ' + sameDisplayCount + ' more lines identical to this');\n                }\n                sameDisplayCount = 0;\n                lines.push('    ' + display);\n            }\n            lastDisplay = display;\n        }\n    };\n\n    Parser.prototype.getSymbolDisplay = function(symbol) {\n        return getSymbolLongDisplay(symbol);\n    };\n\n    /*\n    Builds a the first state stack. You can think of a state stack as the call stack\n    of the recursive-descent parser which the Nearley parse algorithm simulates.\n    A state stack is represented as an array of state objects. Within a\n    state stack, the first item of the array will be the starting\n    state, with each successive item in the array going further back into history.\n\n    This function needs to be given a starting state and an empty array representing\n    the visited states, and it returns an single state stack.\n\n    */\n    Parser.prototype.buildFirstStateStack = function(state, visited) {\n        if (visited.indexOf(state) !== -1) {\n            // Found cycle, return null\n            // to eliminate this path from the results, because\n            // we don't know how to display it meaningfully\n            return null;\n        }\n        if (state.wantedBy.length === 0) {\n            return [state];\n        }\n        var prevState = state.wantedBy[0];\n        var childVisited = [state].concat(visited);\n        var childResult = this.buildFirstStateStack(prevState, childVisited);\n        if (childResult === null) {\n            return null;\n        }\n        return [state].concat(childResult);\n    };\n\n    Parser.prototype.save = function() {\n        var column = this.table[this.current];\n        column.lexerState = this.lexerState;\n        return column;\n    };\n\n    Parser.prototype.restore = function(column) {\n        var index = column.index;\n        this.current = index;\n        this.table[index] = column;\n        this.table.splice(index + 1);\n        this.lexerState = column.lexerState;\n\n        // Incrementally keep track of results\n        this.results = this.finish();\n    };\n\n    // nb. deprecated: use save/restore instead!\n    Parser.prototype.rewind = function(index) {\n        if (!this.options.keepHistory) {\n            throw new Error('set option `keepHistory` to enable rewinding')\n        }\n        // nb. recall column (table) indicies fall between token indicies.\n        //        col 0   --   token 0   --   col 1\n        this.restore(this.table[index]);\n    };\n\n    Parser.prototype.finish = function() {\n        // Return the possible parsings\n        var considerations = [];\n        var start = this.grammar.start;\n        var column = this.table[this.table.length - 1]\n        column.states.forEach(function (t) {\n            if (t.rule.name === start\n                    && t.dot === t.rule.symbols.length\n                    && t.reference === 0\n                    && t.data !== Parser.fail) {\n                considerations.push(t);\n            }\n        });\n        return considerations.map(function(c) {return c.data; });\n    };\n\n    function getSymbolLongDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return 'character matching ' + symbol;\n            } else if (symbol.type) {\n                return symbol.type + ' token';\n            } else if (symbol.test) {\n                return 'token matching ' + String(symbol.test);\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    function getSymbolShortDisplay(symbol) {\n        var type = typeof symbol;\n        if (type === \"string\") {\n            return symbol;\n        } else if (type === \"object\") {\n            if (symbol.literal) {\n                return JSON.stringify(symbol.literal);\n            } else if (symbol instanceof RegExp) {\n                return symbol.toString();\n            } else if (symbol.type) {\n                return '%' + symbol.type;\n            } else if (symbol.test) {\n                return '<' + String(symbol.test) + '>';\n            } else {\n                throw new Error('Unknown symbol type: ' + symbol);\n            }\n        }\n    }\n\n    return {\n        Parser: Parser,\n        Grammar: Grammar,\n        Rule: Rule,\n    };\n\n}));\n", "import * as nearley from \"nearley\"\n\n/** Friendlier interface around nearley parsers */\nexport class Parser {\n    private parser\n    private initial_state\n    /* public results */\n\n    constructor(grammar) {\n        this.parser = new nearley.Parser(nearley.Grammar.fromCompiled(grammar))\n        this.initial_state = this.parser.save()\n        /* this.results = this.parser.results */\n    }\n\n    feedUntilError(input) {\n        let lastResult\n        let consumedIndex = 0\n        try {\n            for (const val of input) {\n                this.parser.feed(val)\n                lastResult = this.parser.results[0]\n                consumedIndex++\n            }\n        } finally {\n            this.reset()\n            if (lastResult === undefined) {\n                throw new Error(\"Error: no result!\")\n            } else {\n                return [lastResult, input.slice(consumedIndex)]\n            }\n        }\n    }\n\n    private reset() {\n        this.parser.restore(this.initial_state)\n    }\n\n    /* feed(input) { */\n    /*     return this.parser.feed(input) */\n    /* } */\n}\n", "// Generated automatically by nearley, version 2.20.1\n// http://github.com/Hardmath123/nearley\n// Bypasses TS6133. Allow declared but unused functions.\n// @ts-ignore\nfunction id(d: any[]): any { return d[0]; }\n\ninterface NearleyToken {\n  value: any;\n  [key: string]: any;\n};\n\ninterface NearleyLexer {\n  reset: (chunk: string, info: any) => void;\n  next: () => NearleyToken | undefined;\n  save: () => any;\n  formatError: (token: never) => string;\n  has: (tokenType: string) => boolean;\n};\n\ninterface NearleyRule {\n  name: string;\n  symbols: NearleySymbol[];\n  postprocess?: (d: any[], loc?: number, reject?: {}) => any;\n};\n\ntype NearleySymbol = string | { literal: any } | { test: (token: any) => boolean };\n\ninterface Grammar {\n  Lexer: NearleyLexer | undefined;\n  ParserRules: NearleyRule[];\n  ParserStart: string;\n};\n\nconst grammar: Grammar = {\n  Lexer: undefined,\n  ParserRules: [\n    {\"name\": \"BracketExpr\", \"symbols\": [{\"literal\":\"<\"}, \"Modifier\", \"ModKey\", {\"literal\":\">\"}], \"postprocess\": bexpr=>bexpr.slice(1,-1)},\n    {\"name\": \"BracketExpr\", \"symbols\": [{\"literal\":\"<\"}, \"Key\", {\"literal\":\">\"}], \"postprocess\": bexpr=>[{}].concat(bexpr.slice(1,-1))},\n    {\"name\": \"Modifier$ebnf$1\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$1\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier$ebnf$2\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$2\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier$ebnf$3\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$3\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier$ebnf$4\", \"symbols\": [/[acmsACMS]/], \"postprocess\": id},\n    {\"name\": \"Modifier$ebnf$4\", \"symbols\": [], \"postprocess\": () => null},\n    {\"name\": \"Modifier\", \"symbols\": [\"Modifier$ebnf$1\", \"Modifier$ebnf$2\", \"Modifier$ebnf$3\", \"Modifier$ebnf$4\", {\"literal\":\"-\"}], \"postprocess\": \n        /** For each modifier present,\n            add its long name as an attribute set to true to an object */\n        (mods, _, reject) => {\n            const longNames = new Map([\n                [\"A\", \"altKey\"],\n                [\"C\", \"ctrlKey\"],\n                [\"M\", \"metaKey\"],\n                [\"S\", \"shiftKey\"],\n            ])\n        \n            let modifiersObj = {}\n            for (let mod of mods) {\n                if (mod === null || mod === \"-\") continue\n                let longName = longNames.get(mod.toUpperCase())\n                if (longName) {\n                    // Reject if the same name is used twice.\n                    if (longName in modifiersObj) return reject\n                    else modifiersObj[longName] = true\n                }\n            }\n            return modifiersObj\n        }\n        },\n    {\"name\": \"ModKey\", \"symbols\": [{\"literal\":\"<\"}], \"postprocess\": id},\n    {\"name\": \"ModKey\", \"symbols\": [{\"literal\":\">\"}], \"postprocess\": id},\n    {\"name\": \"ModKey\", \"symbols\": [{\"literal\":\"-\"}], \"postprocess\": id},\n    {\"name\": \"ModKey\", \"symbols\": [\"Key\"], \"postprocess\": id},\n    {\"name\": \"Key$ebnf$1\", \"symbols\": [/[^\\s<>-]/]},\n    {\"name\": \"Key$ebnf$1\", \"symbols\": [\"Key$ebnf$1\", /[^\\s<>-]/], \"postprocess\": (d) => d[0].concat([d[1]])},\n    {\"name\": \"Key\", \"symbols\": [\"Key$ebnf$1\"], \"postprocess\": (key)=>key[0].join(\"\")}\n  ],\n  ParserStart: \"BracketExpr\",\n};\n\nexport default grammar;\n", "/** Key-sequence parser\n\n    If `map` is a Map of `MinimalKey[]` to objects (exstrs or callbacks)\n    and `keyseq` is an array of [[MinimalKey]] compatible objects...\n\n     - `parse(keyseq, map)` returns the mapped object and a count OR a prefix\n       of `MinimalKey[]` (possibly empty) that, if more keys are pressed, could\n       map to an object.\n     - `completions(keyseq, map)` returns the fragment of `map` that keyseq is\n       a valid prefix of.\n     - `mapstrToKeySeq` generates KeySequences for the rest of the API.\n\n    No key sequence in a `map` may be a prefix of another key sequence in that\n    map. This is a point of difference from Vim that removes any time-dependence\n    in the parser. Vimperator, Pentadactyl, saka-key, etc, all share this\n    limitation.\n\n    If a key is represented by a single character then the shift modifier state\n    is ignored unless other modifiers are also present.\n\n*/\n\n/** */\nimport { filter, find, izip } from \"@src/lib/itertools\"\nimport { Parser } from \"@src/lib/nearley_utils\"\nimport * as config from \"@src/lib/config\"\nimport * as R from \"ramda\"\nimport grammar from \"@src/grammars/.bracketexpr.generated\"\nconst bracketexpr_grammar = grammar\nconst bracketexpr_parser = new Parser(bracketexpr_grammar)\n\nlet KEYCODETRANSLATEMAP = {}\n\n// {{{ General types\n\nexport interface KeyModifiers {\n    altKey?: boolean\n    ctrlKey?: boolean\n    metaKey?: boolean\n    shiftKey?: boolean\n}\n\n// Format modifiers\nconst modifiers = new Map([\n    [\"A\", \"altKey\"],\n    [\"C\", \"ctrlKey\"],\n    [\"M\", \"metaKey\"],\n    [\"S\", \"shiftKey\"],\n])\nexport class MinimalKey {\n    readonly altKey = false\n    readonly ctrlKey = false\n    readonly metaKey = false\n    readonly shiftKey = false\n    translated = false\n    constructor(readonly key: string, modifiers?: KeyModifiers) {\n        if (modifiers !== undefined) {\n            for (const mod of Object.keys(modifiers)) {\n                if (\n                    this.key.length === 1 &&\n                    this.key !== \" \" &&\n                    mod === \"shiftKey\"\n                )\n                    continue\n                this[mod] = modifiers[mod]\n            }\n        }\n    }\n\n    /** Does this key match another MinimalKey */\n    public match(keyevent: MinimalKey) {\n        if (this.key !== keyevent.key) return false\n        for (const [_, attr] of modifiers.entries()) {\n            if (this[attr] !== keyevent[attr]) return false\n        }\n        return true\n    }\n\n    public translate(keytranslatemap: { [inkey: string]: string }): MinimalKey {\n        let newkey = keytranslatemap[this.key]\n        if (newkey === undefined || this.translated) newkey = this.key\n        const result = new MinimalKey(newkey, {\n            altKey: this.altKey,\n            ctrlKey: this.ctrlKey,\n            metaKey: this.metaKey,\n            shiftKey: this.shiftKey,\n        })\n        result.translated = true\n        return result\n    }\n\n    public toMapstr() {\n        let str = \"\"\n        let needsBrackets = this.key.length > 1\n\n        for (const [letter, attr] of modifiers.entries()) {\n            if (this[attr]) {\n                str += letter\n                needsBrackets = true\n            }\n        }\n        if (str) {\n            str += \"-\"\n        }\n\n        let key = this.key\n        if (key === \" \") {\n            key = \"Space\"\n            needsBrackets = true\n        }\n\n        // Format the rest\n        str += key\n        if (needsBrackets) {\n            str = \"<\" + str + \">\"\n        }\n\n        return str\n    }\n    public isPrintable() {\n        return this.key.length === 1\n    }\n}\n\nexport type KeyEventLike = MinimalKey | KeyboardEvent\n\n// }}}\n\n// {{{ parser and completions\n\ntype MapTarget = string | ((...args: any[]) => any)\ntype KeyMap = Map<MinimalKey[], MapTarget>\n\nexport interface ParserResponse {\n    keys?: MinimalKey[]\n    value?: string\n    exstr?: string\n    isMatch?: boolean\n    numericPrefix?: number\n}\n\nfunction splitNumericPrefix(\n    keyseq: MinimalKey[],\n): [MinimalKey[], MinimalKey[]] {\n    // If the first key is in 1:9, partition all numbers until you reach a non-number.\n    if (\n        !hasModifiers(keyseq[0]) &&\n        [1, 2, 3, 4, 5, 6, 7, 8, 9].includes(Number(keyseq[0].key))\n    ) {\n        const prefix = [keyseq[0]]\n        for (const ke of keyseq.slice(1)) {\n            if (\n                !hasModifiers(ke) &&\n                [0, 1, 2, 3, 4, 5, 6, 7, 8, 9].includes(Number(ke.key))\n            )\n                prefix.push(ke)\n            else break\n        }\n        const rest = keyseq.slice(prefix.length)\n        return [prefix, rest]\n    } else {\n        return [[], keyseq]\n    }\n}\n\nexport function stripOnlyModifiers(keyseq) {\n    return keyseq.filter(\n        key =>\n            ![\"Control\", \"Shift\", \"Alt\", \"AltGraph\", \"Meta\"].includes(key.key),\n    )\n}\n\nexport function parse(keyseq: MinimalKey[], map: KeyMap): ParserResponse {\n    // Remove bare modifiers\n    keyseq = stripOnlyModifiers(keyseq)\n\n    // If the keyseq is now empty, abort.\n    if (keyseq.length === 0) return { keys: [], isMatch: false }\n\n    // Split into numeric prefix and non-numeric suffix\n    let numericPrefix: MinimalKey[]\n    ;[numericPrefix, keyseq] = splitNumericPrefix(keyseq)\n\n    // If keyseq is a prefix of a key in map, proceed, else try dropping keys\n    // from keyseq until it is empty or is a prefix.\n    let possibleMappings = completions(keyseq, map)\n    while (possibleMappings.size === 0 && keyseq.length > 0) {\n        keyseq.shift()\n        numericPrefix = []\n        possibleMappings = completions(keyseq, map)\n    }\n\n    if (possibleMappings.size > 0) {\n        // Check if any of the mappings is a perfect match (this will only\n        // happen if some sequences in the KeyMap are prefixes of other seqs).\n        try {\n            const perfect = find(\n                possibleMappings,\n                ([k, _v]) => k.length === keyseq.length,\n            )\n            return {\n                value: perfect[1],\n                exstr: perfect[1] + numericPrefixToExstrSuffix(numericPrefix),\n                isMatch: true,\n                numericPrefix: numericPrefix.length\n                    ? Number(numericPrefix.map(ke => ke.key).join(\"\"))\n                    : undefined,\n                keys: [],\n            }\n        } catch (e) {\n            if (!(e instanceof RangeError)) throw e\n        }\n    }\n\n    // keyseq is the longest suffix of keyseq that is the prefix of a\n    // command, numericPrefix is a numeric prefix of that. We want to\n    // preserve that whole thing, so concat them back together before\n    // returning.\n    return { keys: numericPrefix.concat(keyseq), isMatch: keyseq.length > 0 }\n}\n\n/** True if seq1 is a prefix or equal to seq2 */\nfunction prefixes(seq1: MinimalKey[], seq2: MinimalKey[]) {\n    if (seq1.length > seq2.length) {\n        return false\n    } else {\n        for (const [key1, key2] of izip(seq1, seq2)) {\n            if (!key2.match(key1)) return false\n        }\n        return true\n    }\n}\n\n/** returns the fragment of `map` that keyseq is a valid prefix of. */\nexport function completions(keyseq: MinimalKey[], map: KeyMap): KeyMap {\n    return new Map(\n        filter(map.entries(), ([ks, _maptarget]) => prefixes(keyseq, ks)),\n    )\n}\n\n// }}}\n\n// {{{ mapStrToKeySeq stuff\n\n/** Expand special key aliases that Vim provides to canonical values\n\n    Vim aliases are case insensitive.\n*/\nfunction expandAliases(key: string) {\n    // Vim compatibility aliases\n    const aliases = {\n        cr: \"Enter\",\n        esc: \"Escape\",\n        return: \"Enter\",\n        enter: \"Enter\",\n        space: \" \",\n        bar: \"|\",\n        del: \"Delete\",\n        bs: \"Backspace\",\n        lt: \"<\",\n    }\n    if (key.toLowerCase() in aliases) return aliases[key.toLowerCase()]\n    else return key\n}\n\n/** String starting with a `<` to MinimalKey and remainder.\n\n    Bracket expressions generally start with a `<` contain no angle brackets or\n    whitespace and end with a `>.` These special-cased expressions are also\n    permitted: `<{modifier}<>`, `<{modifier}>>`, and `<{modifier}->`.\n\n    If the string passed does not match this definition, it is treated as a\n    literal `<.`\n\n    Backus Naur approximation:\n\n    ```\n        - bracketexpr ::= '<' modifier? key '>'\n        - modifier ::= 'm'|'s'|'a'|'c' '-'\n        - key ::= '<'|'>'|/[^\\s<>-]+/\n    ```\n\n    See `src/grammars/bracketExpr.ne` for the canonical definition.\n\n    Modifiers are case insensitive.\n\n    Some case insensitive vim compatibility aliases are also defined, see\n    [[expandAliases]].\n\n    Compatibility breaks:\n\n    Shift + key must use the correct capitalisation of key:\n        `<S-j> != J, <S-J> == J`.\n\n    In Vim `<A-x> == <M-x>` on most systems. Not so here: we can't detect\n    platform, so just have to use what the browser gives us.\n\n    Vim has a predefined list of special key sequences, we don't: there are too\n    many (and they're non-standard) [1].\n\n    In the future, we may just use the names as defined in keyNameList.h [2].\n\n    In Vim, you're still allowed to use `<lt>` within angled brackets:\n        `<M-<> == <M-lt> == <M-<lt>>`\n    Here only the first two will work.\n\n    Restrictions:\n\n    It is not possible to map to a keyevent that actually sends the key value\n    of any of the aliases or to any multi-character sequence containing a space\n    or `>.` It is unlikely that browsers will ever do either of those things.\n\n    [1]: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\n    [2]: https://searchfox.org/mozilla-central/source/dom/events/KeyNameList.h\n\n*/\nexport function bracketexprToKey(inputStr) {\n    if (inputStr.indexOf(\">\") > 0) {\n        try {\n            const [[modifiers, key], remainder] =\n                bracketexpr_parser.feedUntilError(inputStr)\n            return [new MinimalKey(expandAliases(key), modifiers), remainder]\n        } catch (e) {\n            // No valid bracketExpr\n            return [new MinimalKey(\"<\"), inputStr.slice(1)]\n        }\n    } else {\n        // No end bracket to match == no valid bracketExpr\n        return [new MinimalKey(\"<\"), inputStr.slice(1)]\n    }\n}\n\n/** Generate KeySequences for the rest of the API.\n\n    A map expression is something like:\n\n    ```\n    j scrollline 10\n    <C-f> scrollpage 0.5\n    <C-d> scrollpage 0.5\n    <C-/><C-n> mode normal\n    ```\n\n    A mapstr is the bit before the space.\n\n    mapstrToKeyseq turns a mapstr into a keySequence that looks like this:\n\n    ```\n    [MinimalKey {key: 'j'}]\n    [MinimalKey {key: 'f', ctrlKey: true}]\n    [MinimalKey {key: 'd', ctrlKey: true}]\n    [MinimalKey {key: '/', ctrlKey: true}, MinimalKey {key: 'n', ctrlKey: true}]\n    ```\n\n    (All four {modifier}Key flags are actually provided on all MinimalKeys)\n*/\nexport function mapstrToKeyseq(mapstr: string): MinimalKey[] {\n    const keyseq: MinimalKey[] = []\n    let key: MinimalKey\n    // Reduce mapstr by one character or one bracket expression per iteration\n    while (mapstr.length) {\n        if (mapstr[0] === \"<\") {\n            ;[key, mapstr] = bracketexprToKey(mapstr)\n            keyseq.push(key)\n        } else {\n            keyseq.push(new MinimalKey(mapstr[0]))\n            mapstr = mapstr.slice(1)\n        }\n    }\n    return keyseq\n}\n\nexport function canonicaliseMapstr(mapstr: string): string {\n    return mapstrToKeyseq(mapstr)\n        .map(k => k.toMapstr())\n        .join(\"\")\n}\n\nexport const commandKey2jsKey = {\n    Comma: \",\",\n    Period: \".\",\n    Up: \"ArrowUp\",\n    Down: \"ArrowDown\",\n    Left: \"ArrowLeft\",\n    Right: \"ArrowRight\",\n    Space: \" \",\n}\n\n/*\n * Convert a Commands API shortcut string to a MinimalKey. NB: no error checking done, media keys probably unsupported.\n */\nexport function mozMapToMinimalKey(mozmap: string): MinimalKey {\n    const arr = mozmap.split(\"+\")\n    const modifiers = {\n        altKey: arr.includes(\"Alt\"),\n        ctrlKey: arr.includes(\"MacCtrl\"), // MacCtrl gives us _actual_ ctrl on all platforms rather than splat on Mac and Ctrl everywhere else\n        shiftKey: arr.includes(\"Shift\"),\n        metaKey: arr.includes(\"Command\"),\n    }\n    let key = arr[arr.length - 1]\n    key = R.propOr(key.toLowerCase(), key, commandKey2jsKey)\n    // TODO: support mediakeys: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/manifest.json/commands#Media_keys\n\n    return new MinimalKey(key, modifiers)\n}\n\n/*\n * Convert a minimal key to a Commands API compatible bind. NB: no error checking done.\n *\n * Ctrl-key behaviour on Mac may be surprising.\n */\nexport function minimalKeyToMozMap(key: MinimalKey): string {\n    const mozMap: string[] = []\n    key.altKey && mozMap.push(\"Alt\")\n    key.ctrlKey && mozMap.push(\"MacCtrl\")\n    key.shiftKey && mozMap.push(\"Shift\")\n    key.metaKey && mozMap.push(\"Command\")\n    const jsKey2commandKey = Object.fromEntries(\n        Object.entries(commandKey2jsKey).map(([key, value]) => [value, key]),\n    )\n    mozMap.push(R.propOr(key.key.toUpperCase(), key.key, jsKey2commandKey))\n    return mozMap.join(\"+\")\n}\n\n/** Convert a map of mapstrs (e.g. from config) to a KeyMap */\nexport function mapstrMapToKeyMap(mapstrMap: Map<string, MapTarget>): KeyMap {\n    const newKeyMap = new Map()\n    for (const [mapstr, target] of mapstrMap.entries()) {\n        newKeyMap.set(mapstrToKeyseq(mapstr), target)\n    }\n    return newKeyMap\n}\n\nlet KEYMAP_CACHE = {}\n\n/**\n * Return a \"*maps\" config converted into sequences of minimalkeys (e.g. \"nmaps\")\n */\nexport function keyMap(conf): KeyMap {\n    if (KEYMAP_CACHE[conf]) return KEYMAP_CACHE[conf]\n\n    // Fail silently and pass keys through to page if Tridactyl hasn't loaded yet\n    if (!config.INITIALISED) return new Map()\n\n    const mapobj: { [keyseq: string]: string } = config.get(conf)\n    if (mapobj === undefined)\n        throw new Error(\n            \"No binds defined for this mode. Reload page with <C-r> and add binds, e.g. :bind --mode=[mode] <Esc> mode normal\",\n        )\n\n    // Convert to KeyMap\n    const maps = new Map(Object.entries(mapobj))\n    KEYMAP_CACHE[conf] = mapstrMapToKeyMap(maps)\n    return KEYMAP_CACHE[conf]\n}\n\n// }}}\n\n// {{{ Utility functions for dealing with KeyboardEvents\n\nexport function hasModifiers(keyEvent: MinimalKey) {\n    return (\n        keyEvent.ctrlKey ||\n        keyEvent.altKey ||\n        keyEvent.metaKey ||\n        keyEvent.shiftKey\n    )\n}\n\n/** shiftKey is true for any capital letter, most numbers, etc. Generally care about other modifiers. */\nexport function hasNonShiftModifiers(keyEvent: MinimalKey) {\n    return keyEvent.ctrlKey || keyEvent.altKey || keyEvent.metaKey\n}\n\nfunction numericPrefixToExstrSuffix(numericPrefix: MinimalKey[]) {\n    if (numericPrefix.length > 0) {\n        return \" \" + numericPrefix.map(k => k.key).join(\"\")\n    } else {\n        return \"\"\n    }\n}\n\n/**\n * Convert keyboardEvent to internal type MinimalKey\n * for further use. Key is obtained through layout-independent\n * code if config says so.\n */\nexport function minimalKeyFromKeyboardEvent(\n    keyEvent: KeyboardEvent,\n): MinimalKey {\n    const modifiers = {\n        altKey: keyEvent.altKey,\n        ctrlKey: keyEvent.ctrlKey,\n        metaKey: keyEvent.metaKey,\n        shiftKey: keyEvent.shiftKey,\n    }\n    if (config.get(\"keyboardlayoutforce\") === \"true\") {\n        Object.keys(KEYCODETRANSLATEMAP).length === 0 && updateBaseLayout()\n        let newkey = keyEvent.key\n        const translation = KEYCODETRANSLATEMAP[keyEvent.code]\n        if (translation) newkey = translation[+keyEvent.shiftKey]\n        return new MinimalKey(newkey, modifiers)\n    }\n\n    const result = new MinimalKey(keyEvent.key, modifiers)\n    if (config.get(\"usekeytranslatemap\") === \"true\") {\n        const translationmap = config.get(\"keytranslatemap\")\n        return result.translate(translationmap)\n    }\n    return result\n}\n\n// }}}\n\nbrowser.storage.onChanged.addListener(changes => {\n    if (\"userconfig\" in changes) {\n        KEYMAP_CACHE = {}\n    }\n})\n\n// ideally this would get called via a config.addChangeListener but they are not fired for mysterious reasons\nfunction updateBaseLayout() {\n    KEYCODETRANSLATEMAP = R.mergeRight(\n        config.keyboardlayouts[config.get(\"keyboardlayoutbase\")],\n        config.get(\"keyboardlayoutoverrides\"),\n    )\n}\n", "/** # Binding Functions\n *\n */\n\nimport { canonicaliseMapstr } from \"@src/lib/keyseq\"\n\nexport const mode2maps = new Map([\n    [\"normal\", \"nmaps\"],\n    [\"ignore\", \"ignoremaps\"],\n    [\"insert\", \"imaps\"],\n    [\"input\", \"inputmaps\"],\n    [\"ex\", \"exmaps\"],\n    [\"hint\", \"hintmaps\"],\n    [\"visual\", \"vmaps\"],\n    [\"browser\", \"browsermaps\"],\n])\n\nexport const maps2mode = new Map(\n    Array.from(mode2maps.keys()).map(k => [mode2maps.get(k), k]),\n)\n\nexport const modes = Array.from(mode2maps.keys())\nexport const modeMaps = Array.from(maps2mode.keys())\n\ninterface bind_args {\n    mode: string\n    configName: string\n    key: string\n    excmd: string\n}\n\nexport function parse_bind_args(...args: string[]): bind_args {\n    if (args.length === 0) throw new Error(\"Invalid bind/unbind arguments.\")\n\n    const result = {} as bind_args\n    result.mode = \"normal\"\n\n    if (args[0].startsWith(\"--mode=\")) {\n        result.mode = args.shift().replace(\"--mode=\", \"\")\n    }\n    if (!mode2maps.has(result.mode)) {\n        result.configName = result.mode + \"maps\"\n    } else {\n        result.configName = mode2maps.get(result.mode)\n    }\n\n    const key = args.shift()\n    // Convert key to internal representation\n    result.key = canonicaliseMapstr(key)\n\n    result.excmd = args.join(\" \")\n\n    return result\n}\n", "import * as R from \"ramda\"\n\n// Synchronous version of runtime.getPlatformInfo()\n// Not as exhaustive as the real thing\n// Will return undefined if it can't work it out\nexport function getPlatformOs(): browser.runtime.PlatformOs {\n    const platform = navigator.platform\n    const mapping = {\n        win: \"Win\",\n        openbsd: \"BSD\",\n        mac: \"Mac\",\n        linux: \"Linux\",\n    }\n    return R.keys(\n        R.filter(x => platform.includes(x), mapping),\n    )[0] as keyof typeof mapping\n}\n", "// Sketch\n//\n// Need an easy way of getting and setting settings\n// If a setting is not set, the default should probably be returned.\n// That probably means that binds etc. should be per-key?\n//\n// We should probably store all settings in memory, and only load from storage on startup and when we set it\n//\n// Really, we'd like a way of just letting things use the variables\n//\n\n/** # Tridactyl Configuration\n *\n * We very strongly recommend that you pretty much ignore this page and instead follow the link below DEFAULTS that will take you to our own source code which is formatted in a marginally more sane fashion.\n *\n * Intrepid Tridactyl users: this page is how Tridactyl arranges and manages its settings internally. To view your own settings, use `:viewconfig` and `:viewconfig --user`. To understand how to set settings, see `:help set`.\n *\n */\nimport * as R from \"ramda\"\nimport * as binding from \"@src/lib/binding\"\nimport * as platform from \"@src/lib/platform\"\nimport { DeepPartial } from \"tsdef\"\n\n/* Remove all nulls from objects recursively\n * NB: also applies to arrays\n */\nconst removeNull = R.when(\n    R.is(Object),\n    R.pipe(\n        // Ramda gives an error here without the any\n        R.reject(val => val === null) as any,\n        R.map(a => removeNull(a)),\n    ),\n)\n\n/** @hidden */\nconst CONFIGNAME = \"userconfig\"\n/** @hidden */\nconst WAITERS = []\n/** @hidden */\nexport let INITIALISED = false\n\n/** @hidden */\n// make a naked object\nexport function o(object) {\n    return Object.assign(Object.create(null), object)\n}\n\n/** @hidden */\n// \"Import\" is a reserved word so this will have to do\nfunction schlepp(settings) {\n    Object.assign(USERCONFIG, settings)\n}\n\n/** @hidden */\nexport let USERCONFIG = o({})\n\n/** @hidden\n * Ideally, LoggingLevel should be in logging.ts and imported from there. However this would cause a circular dependency, which webpack can't deal with\n */\nexport type LoggingLevel = \"never\" | \"error\" | \"warning\" | \"info\" | \"debug\"\n\n/**\n * This is the default configuration that Tridactyl comes with.\n *\n * You can change anything here using `set key1.key2.key3 value` or specific things any of the various helper commands such as `bind` or `command`. You can also jump to the help section of a setting using `:help $settingname`. Some of the settings have an input field containing their current value. You can modify these values and save them by pressing `<Enter>` but using `:set $setting $value` is a good habit to take as it doesn't force you to leave the page you're visiting to change your settings.\n *\n * If the setting you are changing has a dot or period character (.) in it, it cannot be set with `:set` directly. You must either use a helper command for that specific setting - e.g. `:seturl` or `:autocontain`, or you must use Tridactyl's JavaScript API with `:js tri.config.set(\"path\", \"to\", \"key\", \"value\")` to set `{path: {to: {key: value}}}`.\n *\n */\nexport class default_config {\n    /**\n     * Internal version number Tridactyl uses to know whether it needs to update from old versions of the configuration.\n     *\n     * Changing this might do weird stuff.\n     */\n    configversion = \"0.0\"\n\n    /**\n     * Internal field to handle site-specific configs. Use :seturl/:unseturl to change these values.\n     */\n    subconfigs: { [key: string]: DeepPartial<default_config> } = {\n        \"www.google.com\": {\n            followpagepatterns: {\n                next: \"Next\",\n                prev: \"Previous\",\n            },\n        },\n        \"^https://web.whatsapp.com\": {\n            nmaps: {\n                f: \"hint -c [tabindex]:not(.two)>div,a\",\n                F: \"hint -bc [tabindex]:not(.two)>div,a\",\n            },\n        },\n    }\n\n    /**\n     * Internal field to handle mode-specific configs. Use :setmode/:unsetmode to change these values.\n     *\n     * Changing this might do weird stuff.\n     */\n    modesubconfigs: { [key: string]: DeepPartial<default_config> } = {\n        normal: {},\n        insert: {},\n        input: {},\n        ignore: {},\n        ex: {},\n        hint: {},\n        visual: {},\n    }\n\n    /**\n     * Internal field to handle site-specific config priorities. Use :seturl/:unseturl to change this value.\n     */\n    priority = 0\n\n    // Note to developers: When creating new <modifier-letter> maps, make sure to make the modifier uppercase (e.g. <C-a> instead of <c-a>) otherwise some commands might not be able to find them (e.g. `bind <c-a>`)\n\n    /**\n     * exmaps contains all of the bindings for the command line.\n     * You can of course bind regular ex commands but also [editor functions](/static/docs/modules/_src_lib_editor_.html) and [commandline-specific functions](/static/docs/modules/_src_commandline_frame_.html).\n     */\n    exmaps = {\n        \"<Enter>\": \"ex.accept_line\",\n        \"<C-Enter>\": \"ex.execute_ex_on_completion\",\n        \"<C-j>\": \"ex.accept_line\",\n        \"<C-m>\": \"ex.accept_line\",\n        \"<Escape>\": \"ex.hide_and_clear\",\n        \"<C-[>\": \"ex.hide_and_clear\",\n        \"<ArrowUp>\": \"ex.prev_history\",\n        \"<ArrowDown>\": \"ex.next_history\",\n        \"<S-Delete>\": \"ex.execute_ex_on_completion_args tabclose\",\n\n        \"<A-b>\": \"text.backward_word\",\n        \"<A-f>\": \"text.forward_word\",\n        \"<C-e>\": \"text.end_of_line\",\n        \"<A-d>\": \"text.kill_word\",\n        \"<S-Backspace>\": \"text.backward_kill_word\",\n        \"<C-u>\": \"text.backward_kill_line\",\n        \"<C-k>\": \"text.kill_line\",\n\n        \"<C-f>\": \"ex.complete\",\n        \"<Tab>\": \"ex.next_completion\",\n        \"<S-Tab>\": \"ex.prev_completion\",\n        \"<Space>\": \"ex.insert_space_or_completion\",\n        \"<C-Space>\": \"ex.insert_space\",\n\n        \"<C-o>yy\": \"ex.execute_ex_on_completion_args clipboard yank\",\n        \"<C-o>t\": \"ex.execute_ex_on_completion_args tabopen -b\",\n        \"<C-o>w\": \"ex.execute_ex_on_completion_args winopen\",\n    }\n\n    /**\n     * ignoremaps contain all of the bindings for \"ignore mode\".\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    ignoremaps = {\n        \"<S-Insert>\": \"mode normal\",\n        \"<AC-Escape>\": \"mode normal\",\n        \"<AC-`>\": \"mode normal\",\n        \"<S-Escape>\": \"mode normal\",\n        \"<C-o>\": \"nmode normal 1 mode ignore\",\n    }\n\n    /**\n     * imaps contain all of the bindings for \"insert mode\".\n     *\n     * On top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in insert mode.\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    imaps = {\n        \"<Escape>\": \"composite unfocus | mode normal\",\n        \"<C-[>\": \"composite unfocus | mode normal\",\n        \"<C-i>\": \"editor\",\n        \"<AC-Escape>\": \"mode normal\",\n        \"<AC-`>\": \"mode normal\",\n        \"<S-Escape>\": \"mode ignore\",\n    }\n\n    /**\n     * inputmaps contain all of the bindings for \"input mode\".\n     *\n     * On top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in input mode.\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    inputmaps = {\n        \"<Tab>\": \"focusinput -n\",\n        \"<S-Tab>\": \"focusinput -N\",\n        /**\n         * Config objects with this key inherit their keys from the object specified.\n         *\n         * Only supports \"root\" objects. Subconfigs (`seturl`) work as expected.\n         *\n         * Here, this means that input mode is the same as insert mode except it has added binds for tab and shift-tab.\n         */\n        \"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\": \"imaps\",\n    }\n\n    /**\n     * Disable Tridactyl almost completely within a page, e.g. `seturl ^https?://mail.google.com disable true`. Only takes affect on page reload.\n     *\n     * You are usually better off using `blacklistadd` and `seturl [url] noiframe true` as you can then still use some Tridactyl binds, e.g. `shift-insert` for exiting ignore mode.\n     *\n     * NB: you should only use this with `seturl`. If you get trapped with Tridactyl disabled everywhere just run `tri unset superignore` in the Firefox address bar. If that still doesn't fix things, you can totally reset Tridactyl by running `tri help superignore` in the Firefox address bar, scrolling to the bottom of that page and then clicking \"Reset Tridactyl config\".\n     */\n    superignore: \"true\" | \"false\" = \"false\"\n\n    /**\n     * nmaps contain all of the bindings for \"normal mode\".\n     *\n     * They consist of key sequences mapped to ex commands.\n     */\n    nmaps = {\n        \"<A-p>\": \"pin\",\n        \"<A-m>\": \"mute toggle\",\n        \"<F1>\": \"help\",\n        o: \"fillcmdline open\",\n        O: \"current_url open\",\n        w: \"fillcmdline winopen\",\n        W: \"current_url winopen\",\n        t: \"fillcmdline tabopen\",\n        \"]]\": \"followpage next\",\n        \"[[\": \"followpage prev\",\n        \"[c\": \"urlincrement -1\",\n        \"]c\": \"urlincrement 1\",\n        \"<C-x>\": \"urlincrement -1\",\n        \"<C-a>\": \"urlincrement 1\",\n        T: \"current_url tabopen\",\n        yy: \"clipboard yank\",\n        ys: \"clipboard yankshort\",\n        yq: \"text2qr --timeout 5\",\n        yc: \"clipboard yankcanon\",\n        ym: \"clipboard yankmd\",\n        yo: \"clipboard yankorg\",\n        yt: \"clipboard yanktitle\",\n        gh: \"home\",\n        gH: \"home true\",\n        p: \"clipboard open\",\n        P: \"clipboard tabopen\",\n        j: \"scrollline 10\",\n        \"<C-e>\": \"scrollline 10\",\n        k: \"scrollline -10\",\n        \"<C-y>\": \"scrollline -10\",\n        h: \"scrollpx -50\",\n        l: \"scrollpx 50\",\n        G: \"scrollto 100\",\n        gg: \"scrollto 0\",\n        \"<C-u>\": \"scrollpage -0.5\",\n        \"<C-d>\": \"scrollpage 0.5\",\n        \"<C-f>\": \"scrollpage 1\",\n        \"<C-b>\": \"scrollpage -1\",\n        \"<C-v>\": \"nmode ignore 1 mode normal\", // Is this a terrible idea? Pentadactyl did it http://bug.5digits.org/help/pentadactyl/browsing.xhtml#send-key\n        $: \"scrollto 100 x\",\n        // \"0\": \"scrollto 0 x\", // will get interpreted as a count\n        \"^\": \"scrollto 0 x\",\n        H: \"back\",\n        L: \"forward\",\n        \"<C-o>\": \"jumpprev\",\n        \"<C-i>\": \"jumpnext\",\n        d: \"tabclose\",\n        D: \"composite tabprev; tabclose #\",\n        gx0: \"tabclosealltoleft\",\n        gx$: \"tabclosealltoright\",\n        \"<<\": \"tabmove -1\",\n        \">>\": \"tabmove +1\",\n        u: \"undo\",\n        U: \"undo window\",\n        r: \"reload\",\n        R: \"reloadhard\",\n        x: \"stop\",\n        gi: \"focusinput -l\",\n        \"g?\": \"rot13\",\n        \"g!\": \"jumble\",\n        \"g;\": \"changelistjump -1\",\n        J: \"tabprev\",\n        K: \"tabnext\",\n        gt: \"tabnext_gt\",\n        gT: \"tabprev\",\n        // \"<c-n>\": \"tabnext_gt\", // c-n is reserved for new window\n        // \"<c-p>\": \"tabprev\",\n        \"g^\": \"tabfirst\",\n        g0: \"tabfirst\",\n        g$: \"tablast\",\n        ga: \"tabaudio\",\n        gr: \"reader --old\",\n        gu: \"urlparent\",\n        gU: \"urlroot\",\n        gf: \"viewsource\",\n        \":\": \"fillcmdline_notrail\",\n        s: \"fillcmdline open search\",\n        S: \"fillcmdline tabopen search\",\n        // find mode not suitable for general consumption yet.\n        // \"/\": \"fillcmdline find\",\n        // \"?\": \"fillcmdline find -?\",\n        // n: \"findnext 1\",\n        // N: \"findnext -1\",\n        // \",<Space>\": \"nohlsearch\",\n        M: \"gobble 1 quickmark\",\n        B: \"fillcmdline taball\",\n        b: \"fillcmdline tab\",\n        ZZ: \"qall\",\n        f: \"hint\",\n        F: \"hint -b\",\n        gF: \"hint -qb\",\n        \";i\": \"hint -i\",\n        \";b\": \"hint -b\",\n        \";o\": \"hint\",\n        \";I\": \"hint -I\",\n        \";k\": \"hint -k\",\n        \";K\": \"hint -K\",\n        \";y\": \"hint -y\",\n        \";Y\": \"hint -cF img i => tri.excmds.yankimage(tri.urlutils.getAbsoluteURL(i.src))\",\n        \";p\": \"hint -p\",\n        \";h\": \"hint -h\",\n        v: \"hint -h\", // Easiest way of entering visual mode for now. Expect this bind to change\n        \";P\": \"hint -P\",\n        \";r\": \"hint -r\",\n        \";s\": \"hint -s\",\n        \";S\": \"hint -S\",\n        \";a\": \"hint -a\",\n        \";A\": \"hint -A\",\n        \";;\": \"hint -; *\",\n        \";#\": \"hint -#\",\n        \";v\": \"hint -W mpvsafe\",\n        \";V\": \"hint -V\",\n        \";w\": \"hint -w\",\n        \";t\": \"hint -W tabopen\",\n        \";O\": \"hint -W fillcmdline_notrail open \",\n        \";W\": \"hint -W fillcmdline_notrail winopen \",\n        \";T\": \"hint -W fillcmdline_notrail tabopen \",\n        \";d\": \"hint -W tabopen --discard\",\n        \";gd\": \"hint -qW tabopen --discard\",\n        \";z\": \"hint -z\",\n        \";m\": \"hint -JFc img i => tri.excmds.open('https://lens.google.com/uploadbyurl?url='+i.src)\",\n        \";M\": \"hint -JFc img i => tri.excmds.tabopen('https://lens.google.com/uploadbyurl?url='+i.src)\",\n        \";gi\": \"hint -qi\",\n        \";gI\": \"hint -qI\",\n        \";gk\": \"hint -qk\",\n        \";gy\": \"hint -qy\",\n        \";gp\": \"hint -qp\",\n        \";gP\": \"hint -qP\",\n        \";gr\": \"hint -qr\",\n        \";gs\": \"hint -qs\",\n        \";gS\": \"hint -qS\",\n        \";ga\": \"hint -qa\",\n        \";gA\": \"hint -qA\",\n        \";g;\": \"hint -q;\",\n        \";g#\": \"hint -q#\",\n        \";gv\": \"hint -qW mpvsafe\",\n        \";gw\": \"hint -qw\",\n        \";gb\": \"hint -qb\",\n        // These two don't strictly follow the \"bind is ;g[flag]\" rule but they make sense\n        \";gF\": \"hint -qb\",\n        \";gf\": \"hint -q\",\n\n        \"<S-Insert>\": \"mode ignore\",\n        \"<AC-Escape>\": \"mode ignore\",\n        \"<AC-`>\": \"mode ignore\",\n        \"<S-Escape>\": \"mode ignore\",\n        \"<Escape>\": \"composite mode normal ; hidecmdline\",\n        \"<C-[>\": \"composite mode normal ; hidecmdline\",\n        a: \"current_url bmark\",\n        A: \"bmark\",\n        zi: \"zoom 0.1 true\",\n        zo: \"zoom -0.1 true\",\n        zm: \"zoom 0.5 true\",\n        zr: \"zoom -0.5 true\",\n        zM: \"zoom 0.5 true\",\n        zR: \"zoom -0.5 true\",\n        zz: \"zoom 1\",\n        zI: \"zoom 3\",\n        zO: \"zoom 0.3\",\n        \".\": \"repeat\",\n        \"<AS-ArrowUp><AS-ArrowUp><AS-ArrowDown><AS-ArrowDown><AS-ArrowLeft><AS-ArrowRight><AS-ArrowLeft><AS-ArrowRight>ba\":\n            \"open https://www.youtube.com/watch?v=M3iOROuTuMA\",\n        m: \"gobble 1 markadd\",\n        \"`\": \"gobble 1 markjump\",\n    }\n\n    vmaps = {\n        \"<Escape>\":\n            \"composite js document.getSelection().empty(); mode normal; hidecmdline\",\n        \"<C-[>\":\n            \"composite js document.getSelection().empty(); mode normal ; hidecmdline\",\n        y: \"composite js document.getSelection().toString() | clipboard yank\",\n        s: \"composite js document.getSelection().toString() | fillcmdline open search\",\n        S: \"composite js document.getSelection().toString() | fillcmdline tabopen search\",\n        l: 'js document.getSelection().modify(\"extend\",\"forward\",\"character\")',\n        h: 'js document.getSelection().modify(\"extend\",\"backward\",\"character\")',\n        e: 'js document.getSelection().modify(\"extend\",\"forward\",\"word\")',\n        w: 'js document.getSelection().modify(\"extend\",\"forward\",\"word\"); document.getSelection().modify(\"extend\",\"forward\",\"word\"); document.getSelection().modify(\"extend\",\"backward\",\"word\"); document.getSelection().modify(\"extend\",\"forward\",\"character\")',\n        b: 'js document.getSelection().modify(\"extend\",\"backward\",\"character\"); document.getSelection().modify(\"extend\",\"backward\",\"word\"); document.getSelection().modify(\"extend\",\"forward\",\"character\")',\n        j: 'js document.getSelection().modify(\"extend\",\"forward\",\"line\")',\n        q: \"composite js document.getSelection().toString() | text2qr --timeout 5\",\n        // \"j\": 'js document.getSelection().modify(\"extend\",\"forward\",\"paragraph\")', // not implemented in Firefox\n        k: 'js document.getSelection().modify(\"extend\",\"backward\",\"line\")',\n        $: 'js document.getSelection().modify(\"extend\",\"forward\",\"lineboundary\")',\n        \"0\": 'js document.getSelection().modify(\"extend\",\"backward\",\"lineboundary\")',\n        \"=\": \"js let n = document.getSelection().anchorNode.parentNode; let s = window.getSelection(); let r = document.createRange(); s.removeAllRanges(); r.selectNodeContents(n); s.addRange(r)\",\n        o: \"js tri.visual.reverseSelection(document.getSelection())\",\n        \"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\": \"nmaps\",\n    }\n\n    hintmaps = {\n        \"<Backspace>\": \"hint.popKey\",\n        \"<Escape>\": \"hint.reset\",\n        \"<C-[>\": \"hint.reset\",\n        \"<Tab>\": \"hint.focusNextHint\",\n        \"<S-Tab>\": \"hint.focusPreviousHint\",\n        \"<ArrowUp>\": \"hint.focusTopHint\",\n        \"<ArrowDown>\": \"hint.focusBottomHint\",\n        \"<ArrowLeft>\": \"hint.focusLeftHint\",\n        \"<ArrowRight>\": \"hint.focusRightHint\",\n        \"<Enter>\": \"hint.selectFocusedHint\",\n        \"<Space>\": \"hint.selectFocusedHint\",\n    }\n\n    /**\n     * Browser-wide binds accessible in all modes and on pages where Tridactyl \"cannot run\".\n     * <!-- Note to developers: binds here need to also be listed in manifest.json -->\n     */\n    browsermaps = {\n        \"<C-,>\": \"escapehatch\",\n        \"<C-6>\": \"tab #\",\n        // \"<CS-6>\": \"tab #\", // banned by e2e tests\n    }\n\n    /**\n     * Whether to allow pages (not necessarily github) to override `/`, which is a default Firefox binding.\n     */\n    leavegithubalone: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Which keys to protect from pages that try to override them. Requires [[leavegithubalone]] to be set to false.\n     */\n    blacklistkeys: string[] = [\"/\"]\n\n    /**\n     * Autocommands that run when certain events happen, and other conditions are met.\n     *\n     * Related ex command: `autocmd`.\n     */\n    autocmds = {\n        /**\n         * Commands that will be run as soon as Tridactyl loads into a page.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        DocStart: {\n            // \"addons.mozilla.org\": \"mode ignore\",\n        },\n\n        /**\n         * Commands that will be run when pages are loaded.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        DocLoad: {\n            \"^https://github.com/tridactyl/tridactyl/issues/new$\": \"issue\",\n        },\n\n        /**\n         * Commands that will be run when pages are unloaded.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        DocEnd: {\n            // \"emacs.org\": \"sanitise history\",\n        },\n\n        /**\n         * Commands that will be run when Tridactyl first runs each time you start your browser.\n         *\n         * Each key corresponds to a javascript regex that matches the hostname of the computer Firefox is running on. Note that fetching the hostname could be a little slow, if you want to execute something unconditionally, use \".*\" as Tridactyl special-cases this pattern to avoid hostname lookups.\n         */\n        TriStart: {\n            \".*\": \"source_quiet\",\n        },\n\n        /**\n         * Commands that will be run when you enter a tab.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        TabEnter: {\n            // \"gmail.com\": \"mode ignore\",\n        },\n\n        /**\n         * Commands that will be run when you leave a tab.\n         *\n         * Each key corresponds to a URL fragment which, if contained within the page URL, will run the corresponding command.\n         */\n        TabLeft: {\n            // Actually, this doesn't work because tabclose closes the current tab\n            // Too bad :/\n            // \"emacs.org\": \"tabclose\",\n        },\n\n        /**\n         * Commands that will be run when fullscreen state changes.\n         */\n        FullscreenChange: {},\n\n        /**\n         * Commands that will be run when fullscreen state is entered.\n         */\n        FullscreenEnter: {},\n\n        /**\n         * Commands that will be run when fullscreen state is left.\n         */\n        FullscreenLeft: {},\n    }\n\n    /**\n     * @deprecated Map for translating keys directly into other keys in normal-ish modes.\n     * For example, if you have an entry in this config option mapping `\u043F` to `g`,\n     * then you could type `\u043F\u043F` instead of `gg` or `\u043Fi` instead of `gi` or `;\u043F` instead\n     * of `;g`.\n     *\n     * This was primarily useful for international users, but now you can `set\n     * keyboardlayoutforce true`, which will make everything layout-independent(and work like qwerty by default),\n     * and use [[keyboardlayoutoverrides]] setting to change the desired layout.\n     *\n     *\n     * For example, you may want to map 'a' to 'q` on azerty\n     * or 'r' to 'p' if you use dvorak.\n     *\n     * Note that the current implementation does not allow you to \"chain\" keys, for example, \"a\"=>\"b\" and \"b\"=>\"c\" for \"a\"=>\"c\". You can, however, swap or rotate keys, so \"a\"=>\"b\" and \"b\"=>\"a\" will work the way you'd expect, as will \"a\"=>\"b\" and \"b\"=>\"c\" and \"c\"=>\"a\".\n     */\n    keytranslatemap = {\n        // Examples (I think >_>):\n        // \"\u0434\": \"l\", // Russian language\n        // \"\u00E9\" : \"w\", // B\u00C9PO\n        // \"h\": \"j\", // Dvorak\n        // \"n\": \"j\", // Colemak\n        // etc\n    }\n\n    /**\n     * @deprecated Whether to use the keytranslatemap.\n     * Legacy option to map one keyboard character to another, was used to emulate\n     * layout-independence. Now deprecated since you can set your layout once with [[keyboardlayoutforce]]\n     * and [[keyboardlayoutoverrides]].\n     */\n    usekeytranslatemap: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Instead of fetching actual character which depends on selected layout,\n     * use machine code of a key and convert to character according to keyboardlayoutoverrides. The default layout mapping\n     * is US `qwerty`, but can be changed with [[keyboardlayoutbase]].\n     *\n     * There is a much more detailed help page towards the end of `:tutor` under the title \"Non-QWERTY layouts\".\n     *\n     * Recommended for everyone with multiple or/and non-latin keyboard layouts. Make sure [[usekeytranslatemap]] is false\n     * if you have previously used `keymap`.\n     */\n    keyboardlayoutforce: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Base keyboard layout to use when [[keyboardlayoutforce]] is enabled. At the time of writing, the following layouts are supported: `qwerty, azerty, german, dvorak, uk, ca, bepo`. Requires page reload to take effect.\n     *\n     * If your layout is missing, you can contribute it with the help of https://gistpreview.github.io/?324119c773fac31651f6422087b36804 - please just open an `:issue` with your layout and we'll add it.\n     *\n     * You can manually override individual keys for a layout with [[keyboardlayoutoverrides]].\n     */\n    keyboardlayoutbase: keyof typeof keyboardlayouts = \"qwerty\"\n\n    /**\n     * Override individual keys for a layout when [[keyboardlayoutforce]] is enabled. Changes take effect only after a page reload.\n     *\n     * Key codes for printable keys for [[keyboardlayoutforce]], lower and upper register. See https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values for the names of each key.\n     *\n     * NB: due to a Tridactyl bug, you cannot set this using array notation as you can for, e.g. [[homepage]].\n     * You must instead set the lower and upper registers using a string with no spaces in it, for example\n     * `:set keyboardlayoutoverrides Digit2: 2\"` for the British English layout.\n     */\n    keyboardlayoutoverrides = {}\n\n    /**\n     * Automatically place these sites in the named container.\n     *\n     * Each key corresponds to a URL fragment which, if contained within the page URL, the site will be opened in a container tab instead.\n     */\n    autocontain = o({\n        // \"github.com\": \"microsoft\",\n        // \"youtube.com\": \"google\",\n    })\n\n    /**\n     * Default proxy to use for all URLs. Has to be the name of a proxy. To add a proxy, see `:help proxyadd`. NB: usage with `:seturl` is buggy, use `:autocontain -s [regex to match URL] none [proxy]` instead\n     */\n    proxy = \"\"\n\n    /**\n     * Definitions of proxies.\n     *\n     * You can add a new proxy with `proxyadd proxyname proxyurl`\n     */\n    proxies = o({\n        // \"socksName\": \"socks://hostname:port\",\n        // \"socks4\": \"socks4://hostname:port\",\n        // \"https\": \"https://username:password@hostname:port\"\n    })\n\n    /**\n     * Whether to use proxy settings.\n     *\n     * If set to `true`, all proxy settings will be ignored.\n     */\n    noproxy: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Strict mode will always ensure a domain is open in the correct container, replacing the current tab if necessary.\n     *\n     * Relaxed mode is less aggressive and instead treats container domains as a default when opening a new tab.\n     */\n    autocontainmode: \"strict\" | \"relaxed\" = \"strict\"\n\n    /**\n     * Aliases for the commandline.\n     *\n     * You can make a new one with `command alias ex-command`.\n     */\n    exaliases = {\n        alias: \"command\",\n        au: \"autocmd\",\n        aucon: \"autocontain\",\n        audel: \"autocmddelete\",\n        audelete: \"autocmddelete\",\n        blacklistremove: \"autocmddelete DocStart\",\n        b: \"tab\",\n        clsh: \"clearsearchhighlight\",\n        nohlsearch: \"clearsearchhighlight\",\n        noh: \"clearsearchhighlight\",\n        o: \"open\",\n        w: \"winopen\",\n        t: \"tabopen\",\n        tabgroupabort: \"tgroupabort\",\n        tabgroupclose: \"tgroupclose\",\n        tabgroupcreate: \"tgroupcreate\",\n        tabgrouplast: \"tgrouplast\",\n        tabgroupmove: \"tgroupmove\",\n        tabgrouprename: \"tgrouprename\",\n        tabgroupswitch: \"tgroupswitch\",\n        tabnew: \"tabopen\",\n        tabm: \"tabmove\",\n        tabo: \"tabonly\",\n        tn: \"tabnext_gt\",\n        bn: \"tabnext_gt\",\n        tnext: \"tabnext_gt\",\n        bnext: \"tabnext_gt\",\n        tp: \"tabprev\",\n        tN: \"tabprev\",\n        bp: \"tabprev\",\n        bN: \"tabprev\",\n        tprev: \"tabprev\",\n        bprev: \"tabprev\",\n        tabfirst: \"tab 1\",\n        tablast: \"tab 0\",\n        bfirst: \"tabfirst\",\n        blast: \"tablast\",\n        tfirst: \"tabfirst\",\n        tlast: \"tablast\",\n        buffer: \"tab\",\n        bufferall: \"taball\",\n        bd: \"tabclose\",\n        bdelete: \"tabclose\",\n        quit: \"tabclose\",\n        q: \"tabclose\",\n        qa: \"qall\",\n        sanitize: \"sanitise\",\n        \"saveas!\": \"saveas --cleanup --overwrite\",\n        tutorial: \"tutor\",\n        h: \"help\",\n        unmute: \"mute unmute\",\n        authors: \"credits\",\n        openwith: \"hint -W\",\n        \"!\": \"exclaim\",\n        \"!s\": \"exclaim_quiet\",\n        containerremove: \"containerdelete\",\n        colours: \"colourscheme\",\n        colorscheme: \"colourscheme\",\n        colors: \"colourscheme\",\n        man: \"help\",\n        \"!js\": \"fillcmdline_tmp 3000 !js is deprecated. Please use js instead\",\n        \"!jsb\": \"fillcmdline_tmp 3000 !jsb is deprecated. Please use jsb instead\",\n        get_current_url: \"js document.location.href\",\n        current_url: \"composite get_current_url | fillcmdline_notrail \",\n        stop: \"js window.stop()\",\n        zo: \"zoom\",\n        installnative: \"nativeinstall\",\n        nativeupdate: \"updatenative\",\n        mkt: \"mktridactylrc\",\n        \"mkt!\": \"mktridactylrc -f\",\n        \"mktridactylrc!\": \"mktridactylrc -f\",\n        mpvsafe:\n            \"js -p tri.excmds.shellescape(JS_ARG).then(url => tri.excmds.exclaim_quiet('mpv --no-terminal ' + url))\",\n        drawingstop: \"mouse_mode\",\n        exto: \"extoptions\",\n        extpreferences: \"extoptions\",\n        extp: \"extpreferences\",\n        prefset: \"setpref\",\n        prefremove: \"removepref\",\n        tabclosealltoright: \"tabcloseallto right\",\n        tabclosealltoleft: \"tabcloseallto left\",\n        reibadailty: \"jumble\",\n    }\n\n    /**\n     * Used by `]]` and `[[` to look for links containing these words.\n     *\n     * Edit these if you want to add, e.g. other language support.\n     */\n    followpagepatterns = {\n        next: \"^(next|newer)\\\\b|\u00BB|>>|more\",\n        prev: \"^(prev(ious)?|older)\\\\b|\u00AB|<<\",\n    }\n\n    /**\n     * The default search engine used by `open search`. If empty string, your browser's default search engine will be used. If set to something, Tridactyl will first look at your [[searchurls]] and then at the search engines for which you have defined a keyword on `about:preferences#search`.\n     */\n    searchengine = \"\"\n\n    /**\n     * Definitions of search engines for use via `open [keyword]`.\n     *\n     * `%s` will be replaced with your whole query and `%s1`, `%s2`, ..., `%sn` will be replaced with the first, second and nth word of your query. Also supports array slicing, e.g. `%s[2:4]`, `%s[5:]`. If there are none of these patterns in your search urls, your query will simply be appended to the searchurl.\n     *\n     * Aliases are supported - for example, if you have a `google` searchurl, you can run `:set searchurls.g google` in which case `g` will act as if it was the `google` searchurl.\n     *\n     * Examples:\n     * - When running `open gi cute puppies`, with a `gi` searchurl defined with `set searchurls.gi https://www.google.com/search?q=%s&tbm=isch`, tridactyl will navigate to `https://www.google.com/search?q=cute puppies&tbm=isch`.\n     * - When running `tabopen translate en ja Tridactyl`, with a `translate` searchurl defined with `set searchurls.translate https://translate.google.com/#view=home&op=translate&sl=%s1&tl=%s2&text=%s3`, tridactyl will navigate to `https://translate.google.com/#view=home&op=translate&sl=en&tl=ja&text=Tridactyl`.\n     *\n     * [[setnull]] can be used to \"delete\" the default search engines. E.g. `setnull searchurls.google`.\n     */\n    searchurls = {\n        google: \"https://www.google.com/search?q=\",\n        googlelucky: \"https://www.google.com/search?btnI=I'm+Feeling+Lucky&q=\",\n        scholar: \"https://scholar.google.com/scholar?q=\",\n        googleuk: \"https://www.google.co.uk/search?q=\",\n        bing: \"https://www.bing.com/search?q=\",\n        duckduckgo: \"https://duckduckgo.com/?q=\",\n        yahoo: \"https://search.yahoo.com/search?p=\",\n        twitter: \"https://twitter.com/search?q=\",\n        wikipedia: \"https://en.wikipedia.org/wiki/Special:Search/\",\n        youtube: \"https://www.youtube.com/results?search_query=\",\n        amazon: \"https://www.amazon.com/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=\",\n        amazonuk:\n            \"https://www.amazon.co.uk/s/ref=nb_sb_noss?url=search-alias%3Daps&field-keywords=\",\n        startpage:\n            \"https://startpage.com/do/search?language=english&cat=web&query=\",\n        github: \"https://github.com/search?utf8=\u2713&q=\",\n        searx: \"https://searx.me/?category_general=on&q=\",\n        cnrtl: \"http://www.cnrtl.fr/lexicographie/\",\n        osm: \"https://www.openstreetmap.org/search?query=\",\n        mdn: \"https://developer.mozilla.org/en-US/search?q=\",\n        gentoo_wiki:\n            \"https://wiki.gentoo.org/index.php?title=Special%3ASearch&profile=default&fulltext=Search&search=\",\n        qwant: \"https://www.qwant.com/?q=\",\n    }\n\n    /**\n     * Like [[searchurls]] but must be a Javascript function that takes one argument (a single string with the remainder of the command line including spaces) and maps it to a valid href (or a promise that resolves to a valid href) that will be followed, e.g. `set jsurls.googleloud query => \"https://google.com/search?q=\" + query.toUpperCase()`\n     *\n     * NB: the href must be valid, i.e. it must include the protocol (e.g. \"http://\") and not just be e.g. \"www.\".\n     */\n    jsurls = {}\n\n    /**\n     * URL the newtab will redirect to.\n     *\n     * All usual rules about things you can open with `open` apply, with the caveat that you'll get interesting results if you try to use something that needs `nativeopen`: so don't try `about:newtab` or a `file:///` URI. You should instead use a data URI - https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs - or host a local webserver (e.g. Caddy).\n     */\n    newtab = \"\"\n\n    /**\n     * Whether `:viewsource` will use our own page that you can use Tridactyl binds on, or Firefox's default viewer, which you cannot use Tridactyl on.\n     */\n    viewsource: \"tridactyl\" | \"default\" = \"tridactyl\"\n\n    /**\n     * Pages opened with `gH`. In order to set this value, use `:set homepages [\"example.org\", \"example.net\", \"example.com\"]` and so on.\n     */\n    homepages: string[] = []\n\n    /**\n     * Characters to use in hint mode.\n     *\n     * They are used preferentially from left to right.\n     */\n    hintchars = \"hjklasdfgyuiopqwertnmzxcvb\"\n\n    /**\n     * The type of hinting to use. `vimperator` will allow you to filter links based on their names by typing non-hint chars. It is recommended that you use this in conjuction with the [[hintchars]] setting, which you should probably set to e.g, `5432167890`. \u00B4vimperator-reflow\u00B4 additionally updates the hint labels after filtering.\n     */\n    hintfiltermode: \"simple\" | \"vimperator\" | \"vimperator-reflow\" = \"simple\"\n\n    /**\n     * Whether to optimise for the shortest possible names for each hint, or to use a simple numerical ordering. If set to `numeric`, overrides `hintchars` setting.\n     */\n    hintnames: \"short\" | \"numeric\" | \"uniform\" = \"short\"\n\n    /**\n     * Whether to display the names for hints in uppercase.\n     */\n    hintuppercase: \"true\" | \"false\" = \"true\"\n\n    /**\n     * The delay in milliseconds in `vimperator` style hint modes after selecting a hint before you are returned to normal mode.\n     *\n     * The point of this is to prevent accidental execution of normal mode binds due to people typing more than is necessary to choose a hint.\n     */\n    hintdelay = 300\n\n    /**\n     * Controls whether hints should be shifted in quick-hints mode.\n     *\n     * Here's what it means: let's say you have hints from a to z but are only\n     * interested in every second hint. You first press `a`, then `c`.\n     * Tridactyl will realize that you skipped over `b`, and so that the next\n     * hint you're going to trigger is probably `e`. Tridactyl will shift all\n     * hint names so that `e` becomes `c`, `d` becomes `b`, `c` becomes `a` and\n     * so on.\n     * This means that once you pressed `c`, you can keep on pressing `c` to\n     * trigger every second hint. Only makes sense with hintnames = short.\n     */\n    hintshift: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Controls whether hints should be followed automatically.\n     *\n     * If set to `false`, hints will only be followed upon confirmation. This applies to cases when there is only a single match or only one link on the page.\n     */\n    hintautoselect: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Controls whether the page can focus elements for you via js\n     *\n     * NB: will break fancy editors such as CodeMirror on Jupyter. Simply use `seturl` to whitelist pages you need it on.\n     *\n     * Best used in conjunction with browser.autofocus in `about:config`\n     */\n    allowautofocus: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Uses a loop to prevent focus until you interact with a page. Only recommended for use via `seturl` for problematic sites as it can be a little heavy on CPU if running on all tabs. Should be used in conjuction with [[allowautofocus]]\n     */\n    preventautofocusjackhammer: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Whether to use Tridactyl's (bad) smooth scrolling.\n     */\n    smoothscroll: \"true\" | \"false\" = \"false\"\n\n    /**\n     * How viscous you want smooth scrolling to feel.\n     */\n    scrollduration = 100\n\n    /**\n     * Where to open tabs opened with `tabopen` - to the right of the current tab, or at the end of the tabs.\n     */\n    tabopenpos: \"next\" | \"last\" | \"related\" = \"next\"\n\n    /**\n     * When enabled (the default), running tabclose will close the tabs whether they are pinned or not. When disabled, tabclose will fail with an error if a tab is pinned.\n     */\n    tabclosepinned: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Controls which tab order to use when numbering tabs. Either mru = sort by most recent tab or default = by tab index\n     *\n     * Applies to all places where Tridactyl numbers tabs including `:tab`, `:tabnext_gt` etc. (so, for example, with `:set tabsort mru` `2gt` would take you to the second most recently used tab, not the second tab in the tab bar).\n     */\n    tabsort: \"mru\" | \"default\" = \"default\"\n\n    /**\n     * Where to open tabs opened with hinting - as if it had been middle clicked, to the right of the current tab, or at the end of the tabs.\n     */\n    relatedopenpos: \"related\" | \"next\" | \"last\" = \"related\"\n    /**\n     * The name of the voice to use for text-to-speech. You can get the list of installed voices by running the following snippet: `js alert(window.speechSynthesis.getVoices().reduce((a, b) => a + \" \" + b.name))`\n     */\n    ttsvoice = \"default\" // chosen from the listvoices list or \"default\"\n    /**\n     * Controls text-to-speech volume. Has to be a number between 0 and 1.\n     */\n    ttsvolume = 1\n    /**\n     * Controls text-to-speech speed. Has to be a number between 0.1 and 10.\n     */\n    ttsrate = 1\n    /**\n     * Controls text-to-speech pitch. Has to be between 0 and 2.\n     */\n    ttspitch = 1\n\n    /**\n     * When set to \"nextinput\", pressing `<Tab>` after gi selects the next input.\n     *\n     * When set to \"firefox\", `<Tab>` behaves like normal, focusing the next tab-indexed element regardless of type.\n     */\n    gimode: \"nextinput\" | \"firefox\" = \"nextinput\"\n\n    /**\n     * Decides where to place the cursor when selecting non-empty input fields\n     */\n    cursorpos: \"beginning\" | \"end\" = \"end\"\n\n    /**\n     * The theme to use.\n     *\n     * Permitted values: run `:composite js tri.styling.THEMES | fillcmdline` to find out.\n     */\n    theme = \"default\"\n\n    /**\n     * Storage for custom themes\n     *\n     * Maps theme names to CSS. Predominantly used automatically by [[colourscheme]] to store themes read from disk, as documented by [[colourscheme]]. Setting this manually is untested but might work provided that [[colourscheme]] is then used to change the theme to the right theme name.\n     */\n    customthemes = {}\n\n    /**\n     * Whether to display the mode indicator or not.\n     */\n    modeindicator: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to display the mode indicator in various modes. Ignored if modeindicator set to false.\n     */\n    modeindicatormodes: { [key: string]: \"true\" | \"false\" } = {\n        normal: \"true\",\n        insert: \"true\",\n        input: \"true\",\n        ignore: \"true\",\n        ex: \"true\",\n        hint: \"true\",\n        visual: \"true\",\n    }\n\n    /**\n     * Milliseconds before registering a scroll in the jumplist\n     */\n    jumpdelay = 3000\n\n    /**\n     * Logging levels. Unless you're debugging Tridactyl, it's unlikely you'll ever need to change these.\n     */\n    logging: { [key: string]: LoggingLevel } = {\n        cmdline: \"warning\",\n        containers: \"warning\",\n        controller: \"warning\",\n        excmd: \"error\",\n        hinting: \"warning\",\n        messaging: \"warning\",\n        native: \"warning\",\n        performance: \"warning\",\n        state: \"warning\",\n        styling: \"warning\",\n        autocmds: \"warning\",\n    }\n\n    /**\n     * Disables the commandline iframe. Dangerous setting, use [[seturl]] to set it. If you ever set this setting to \"true\" globally and then want to set it to false again, you can do this by opening Tridactyl's preferences page from about:addons.\n     */\n    noiframe: \"true\" | \"false\" = \"false\"\n\n    /**\n     * @deprecated A list of URLs on which to not load the iframe. Use `seturl [URL] noiframe true` instead, as shown in [[noiframe]].\n     */\n    noiframeon: string[] = []\n\n    /**\n     * Insert / input mode edit-in-$EDITOR command to run\n     * This has to be a command that stays in the foreground for the whole editing session\n     * \"auto\" will attempt to find a sane editor in your path.\n     * Please send your requests to have your favourite terminal moved further up the list to /dev/null.\n     *          (but we are probably happy to add your terminal to the list if it isn't already there.)\n     *\n     * Example values:\n     * - linux: `xterm -e vim`\n     * - windows: `start cmd.exe /c \\\"vim\\\"`.\n     *\n     * Also see [:editor](/static/docs/modules/_src_excmds_.html#editor).\n     */\n    editorcmd = \"auto\"\n\n    /**\n     * Command that should be run by the [[rssexec]] ex command. Has the\n     * following format:\n     * - %u: url\n     * - %t: title\n     * - %y: type (rss, atom, xml...)\n     * Warning: This is a very large footgun. %u will be inserted without any\n     * kind of escaping, hence you must obey the following rules if you care\n     * about security:\n     * - Do not use a composite command. If you need a composite command,\n     * create an alias.\n     * - Do not use `js` or `jsb`. If you need to use them, create an alias.\n     * - Do not insert any %u, %t or %y in shell commands run by the native\n     * messenger. Use pipes instead.\n     *\n     * Here's an example of how to save an rss url in a file on your disk\n     * safely:\n     * `alias save_rss jsb -p tri.native.run(\"cat >> ~/.config.newsboat/urls\", JS_ARG)`\n     * `set rsscmd save_rss %u`\n     * This is safe because the url is passed to jsb as an argument rather than\n     * being expanded inside of the string it will execute and because it is\n     * piped to the shell command rather than being expanded inside of it.\n     */\n    rsscmd = \"yank %u\"\n\n    /**\n     * The browser executable to look for in commands such as `restart`. Not as mad as it seems if you have multiple versions of Firefox...\n     */\n    browser = \"firefox\"\n\n    /**\n     * Which clipboard to store items in. Requires the native messenger to be installed.\n     */\n    yankto: \"clipboard\" | \"selection\" | \"both\" = \"clipboard\"\n\n    /**\n     * Which clipboard to retrieve items from. Requires the native messenger to be installed.\n     *\n     * Permitted values: `clipboard`, or `selection`.\n     */\n    putfrom: \"clipboard\" | \"selection\" = \"clipboard\"\n\n    /**\n     * Clipboard command to try to get the selection from (e.g. `xsel` or `xclip`)\n     */\n    externalclipboardcmd = \"auto\"\n\n    /**\n     * Whether downloads (e.g. via ;s hint modes) appear in your download history.\n     *\n     * NB: will cause downloads to fail silently if Tridactyl is not allowed to run in private windows (regardless of whether you are trying to call it in a private window).\n     */\n    downloadsskiphistory: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Set of characters that are to be considered illegal as download filenames.\n     */\n    downloadforbiddenchars = \"/\\0\"\n\n    /**\n     * Value that will be used to replace the illegal character(s), if found, in the download filename.\n     */\n    downloadforbiddenreplacement = \"_\"\n\n    /**\n     * Comma-separated list of whole filenames which, if match\n     * with the download filename, will be suffixed with the\n     * \"downloadforbiddenreplacement\" value.\n     */\n    downloadforbiddennames = \"\"\n\n    /**\n     * Set this to something weird if you want to have fun every time Tridactyl tries to update its native messenger.\n     *\n     * %TAG will be replaced with your version of Tridactyl for stable builds, or \"master\" for beta builds\n     *\n     * NB: Windows has its own platform-specific default.\n     */\n    nativeinstallcmd =\n        \"curl -fsSl https://raw.githubusercontent.com/tridactyl/native_messenger/master/installers/install.sh -o /tmp/trinativeinstall.sh && sh /tmp/trinativeinstall.sh %TAG\"\n\n    /**\n     * Used by :updatecheck and related built-in functionality to automatically check for updates and prompt users to upgrade.\n     */\n    update = {\n        /**\n         * Whether Tridactyl should check for available updates at startup.\n         */\n        nag: true,\n\n        /**\n         * How many days to wait after an update is first available until telling people.\n         */\n        nagwait: 7,\n\n        /**\n         * The version we last nagged you about. We only nag you once per version.\n         */\n        lastnaggedversion: \"1.14.0\",\n\n        /**\n         * Time we last checked for an update, milliseconds since unix epoch.\n         */\n        lastchecktime: 0,\n\n        /**\n         * Minimum interval between automatic update checks, in seconds.\n         */\n        checkintervalsecs: 60 * 60 * 24,\n    }\n\n    /**\n     * Profile directory to use with native messenger with e.g, `guiset`.\n     */\n    profiledir = \"auto\"\n\n    // Container settings\n\n    /**\n     * If enabled, tabopen opens a new tab in the currently active tab's container.\n     */\n    tabopencontaineraware: \"true\" | \"false\" = \"false\"\n\n    /**\n     * If moodeindicator is enabled, containerindicator will color the border of the mode indicator with the container color.\n     */\n    containerindicator: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Autocontain directives create a container if it doesn't exist already.\n     */\n    auconcreatecontainer: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Initial urls to navigate to when creating a new tab for a new tab group.\n     */\n    tabgroupnewtaburls = {}\n\n    /**\n     * Whether :tab shows completions for hidden tabs (e.g. tabs in other tab groups).\n     */\n    tabshowhidden: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Number of most recent results to ask Firefox for. We display the top 20 or so most frequently visited ones.\n     */\n    historyresults = 50\n\n    /**\n     * When displaying bookmarks in history completions, how many page views to pretend they have.\n     */\n    bmarkweight = 100\n\n    /**\n     * When displaying searchurls in history completions, how many page views to pretend they have.\n     */\n    searchurlweight = 150\n\n    /**\n     * Default selector for :goto command.\n     */\n    gotoselector = \"h1, h2, h3, h4, h5, h6\"\n\n    /**\n     * General completions options - NB: options are set according to our internal completion source name - see - `src/completions/[name].ts` in the Tridactyl source.\n     */\n    completions = {\n        Goto: {\n            autoselect: \"true\",\n        },\n        Tab: {\n            /**\n             * Whether to automatically select the closest matching completion\n             */\n            autoselect: \"true\",\n            /**\n             * Whether to use unicode symbols to display tab statuses\n             */\n            statusstylepretty: \"false\",\n        },\n        TabAll: {\n            autoselect: \"true\",\n        },\n        Rss: {\n            autoselect: \"true\",\n        },\n        Bmark: {\n            autoselect: \"true\",\n        },\n        Sessions: {\n            autoselect: \"true\",\n        },\n    }\n\n    /**\n     * Number of results that should be shown in completions. -1 for unlimited\n     */\n    findresults = -1\n\n    /**\n     * Number of characters to use as context for the matches shown in completions\n     */\n    findcontextlen = 100\n\n    /**\n     * Whether find should be case-sensitive\n     */\n    findcase: \"smart\" | \"sensitive\" | \"insensitive\" = \"smart\"\n\n    /**\n     * How long find highlights should persist in milliseconds. `<= 0` means they persist until cleared\n     */\n    findhighlighttimeout = 0\n\n    /**\n     * Whether Tridactyl should jump to the first match when using `:find`\n     */\n    incsearch: \"true\" | \"false\" = \"false\"\n\n    /**\n     * How many characters should be typed before triggering incsearch/completions\n     */\n    minincsearchlen = 3\n\n    /**\n     * Deprecated.\n     * Change this to \"clobber\" to ruin the \"Content Security Policy\" of all sites a bit and make Tridactyl run a bit better on some of them, e.g. raw.github*\n     */\n    csp: \"untouched\" | \"clobber\" = \"untouched\"\n\n    /**\n     * JavaScript RegExp used to recognize words in text.* functions (e.g. text.transpose_words). Should match any character belonging to a word.\n     */\n    wordpattern = \"[^\\\\s]+\"\n\n    /**\n     * Activate tridactyl's performance counters. These have a\n     * measurable performance impact, since every sample is a few\n     * hundred bytes and we sample tridactyl densely, but they're good\n     * when you're trying to optimize things.\n     */\n    perfcounters: \"true\" | \"false\" = \"false\"\n\n    /**\n     * How many samples to store from the perf counters.\n     *\n     * Each performance entry is two numbers (16 bytes), an entryType\n     * of either \"mark\" or \"measure\" (js strings are utf-16 ad we have\n     * two marks for each measure, so amortize to about 10 bytes per\n     * entry), and a string name that for Tridactyl object will be\n     * about 40 (utf-16) characters (80 bytes), plus object overhead\n     * roughly proportional to the string-length of the name of the\n     * constructor (in this case something like 30 bytes), for a total\n     * of what we'll call 128 bytes for ease of math.\n     *\n     * We want to store, by default, about 1MB of performance\n     * statistics, so somewhere around 10k samples.\n     *\n     */\n    perfsamples = \"10000\"\n\n    /**\n     * Show (partial) command in the mode indicator.\n     * Corresponds to 'showcmd' option of vi.\n     */\n    modeindicatorshowkeys: \"true\" | \"false\" = \"false\"\n\n    /**\n     * Whether a trailing slash is appended when we get the parent of a url with\n     * gu (or other means).\n     */\n    urlparenttrailingslash: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to enter visual mode when text is selected. Visual mode can always be entered with `:mode visual`.\n     */\n    visualenterauto: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to return to normal mode when text is deselected.\n     */\n    visualexitauto: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Whether to open and close the sidebar quickly to get focus back to the page when <C-,> is pressed.\n     *\n     * Disable if the fact that it closes TreeStyleTabs gets on your nerves too much : )\n     *\n     * NB: when disabled, <C-,> can't get focus back from the address bar, but it can still get it back from lots of other places (e.g. Flash-style video players)\n     */\n    escapehatchsidebarhack: \"true\" | \"false\" = \"true\"\n\n    /**\n     * Threshold for fuzzy matching on completions. Lower => stricter matching. Range between 0 and 1: 0 corresponds to perfect matches only. 1 will match anything.\n     *\n     * https://fusejs.io/api/options.html#threshold\n     */\n    completionfuzziness = 0.3\n\n    /**\n     * Whether to show article url in the document.title of Reader View.\n     */\n    readerurlintitle: \"true\" | \"false\" = \"false\"\n}\n\nconst platform_defaults = {\n    win: {\n        browsermaps: {\n            \"<C-6>\": null,\n            \"<A-6>\": \"buffer #\",\n        } as unknown, // typescript doesn't like me adding new binds like this\n        nmaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n        imaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n        inputmaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n        ignoremaps: {\n            \"<C-6>\": \"buffer #\",\n        } as unknown,\n\n        nativeinstallcmd: `powershell -ExecutionPolicy Bypass -NoProfile -Command \"\\\n[Net.ServicePointManager]::SecurityProtocol = [Net.ServicePointManager]::SecurityProtocol -bor [Net.SecurityProtocolType]::Tls12;\\\n(New-Object System.Net.WebClient).DownloadFile('https://raw.githubusercontent.com/tridactyl/native_messenger/master/installers/windows.ps1', '%TEMP%/tridactyl_installnative.ps1');\\\n& '%TEMP%/tridactyl_installnative.ps1' -Tag %TAG;\\\nRemove-Item '%TEMP%/tridactyl_installnative.ps1'\"`,\n        downloadforbiddenchars: \"#%&{}\\\\<>*?/$!'\\\":@+`|=\",\n        downloadforbiddennames:\n            \"CON, PRN, AUX, NUL, COM1, COM2,\" +\n            \"COM3, COM4, COM5, COM6, COM7, COM8, COM9, LPT1,\" +\n            \"LPT2, LPT3, LPT4, LPT5, LPT6, LPT7, LPT8, LPT9,\",\n    },\n    linux: {\n        nmaps: {\n            \";x\": 'hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet(\"xdotool mousemove --sync \" + window.devicePixelRatio * pos.x + \" \" + window.devicePixelRatio * pos.y + \"; xdotool click 1\")}',\n            \";X\": 'hint -F e => { const pos = tri.dom.getAbsoluteCentre(e); tri.excmds.exclaim_quiet(\"xdotool mousemove --sync \" + window.devicePixelRatio * pos.x + \" \" + window.devicePixelRatio * pos.y + \"; xdotool keydown ctrl+shift; xdotool click 1; xdotool keyup ctrl+shift\")}',\n        } as unknown,\n    },\n} as Record<browser.runtime.PlatformOs, default_config>\n\n/**\n * Key codes for printable keys for [[keyboardlayoutforce]], lower and upper register.\n * See https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values\n * These maps are assigned via `:set keyboardlayoutbase`\n * but keyboardlayoutoverrides can also be changed manually with `:set`.\n *\n * If your layout is missing here, you can contribute it with the help of [this](https://gistpreview.github.io/?324119c773fac31651f6422087b36804)\n * tool.\n */\nexport const keyboardlayouts = {\n    qwerty: {\n        KeyA: [\"a\", \"A\"],\n        KeyB: [\"b\", \"B\"],\n        KeyC: [\"c\", \"C\"],\n        KeyD: [\"d\", \"D\"],\n        KeyE: [\"e\", \"E\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyI: [\"i\", \"I\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        KeyM: [\"m\", \"M\"],\n        KeyN: [\"n\", \"N\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyR: [\"r\", \"R\"],\n        KeyS: [\"s\", \"S\"],\n        KeyT: [\"t\", \"T\"],\n        KeyU: [\"u\", \"U\"],\n        KeyV: [\"v\", \"V\"],\n        KeyW: [\"w\", \"W\"],\n        KeyX: [\"x\", \"X\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyZ: [\"z\", \"Z\"],\n        Digit0: [\"0\", \")\"],\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", \"@\"],\n        Digit3: [\"3\", \"#\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"^\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Equal: [\"=\", \"+\"],\n        Backquote: [\"`\", \"~\"],\n        Backslash: [\"\\\\\", \"|\"],\n        Period: [\".\", \">\"],\n        Comma: [\",\", \"<\"],\n        Semicolon: [\";\", \":\"],\n        Slash: [\"/\", \"?\"],\n        BracketLeft: [\"[\", \"{\"],\n        BracketRight: [\"]\", \"}\"],\n        Quote: [\"'\", '\"'],\n        Minus: [\"-\", \"_\"],\n    },\n    azerty: {\n        Backquote: [\"\u00B2\", \"\u00B2\"],\n        Digit1: [\"&\", \"1\"],\n        Digit2: [\"\u00E9\", \"2\"],\n        Digit3: ['\"', \"3\"],\n        Digit4: [\"'\", \"4\"],\n        Digit5: [\"(\", \"5\"],\n        Digit6: [\"-\", \"6\"],\n        Digit7: [\"\u00E8\", \"7\"],\n        Digit8: [\"_\", \"8\"],\n        Digit9: [\"\u00E7\", \"9\"],\n        Digit0: [\"\u00E0\", \"0\"],\n        Minus: [\")\", \"\u00B0\"],\n        Equal: [\"=\", \"+\"],\n        KeyQ: [\"a\", \"A\"],\n        KeyW: [\"z\", \"Z\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        BracketRight: [\"$\", \"\u00A3\"],\n        Backslash: [\"*\", \"\u00B5\"],\n        KeyA: [\"q\", \"Q\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        Semicolon: [\"m\", \"M\"],\n        Quote: [\"\u00F9\", \"%\"],\n        KeyZ: [\"w\", \"W\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\",\", \"?\"],\n        Comma: [\";\", \".\"],\n        Period: [\":\", \"/\"],\n        Slash: [\"!\", \"\u00A7\"],\n    },\n    german: {\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", '\"'],\n        Digit3: [\"3\", \"\u00A7\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"&\"],\n        Digit7: [\"7\", \"/\"],\n        Digit8: [\"8\", \"(\"],\n        Digit9: [\"9\", \")\"],\n        Digit0: [\"0\", \"=\"],\n        Minus: [\"\u00DF\", \"?\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyW: [\"w\", \"W\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"z\", \"Z\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        BracketLeft: [\"\u00FC\", \"\u00DC\"],\n        BracketRight: [\"+\", \"*\"],\n        Backslash: [\"#\", \"'\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        Semicolon: [\"\u00F6\", \"\u00D6\"],\n        Quote: [\"\u00E4\", \"\u00C4\"],\n        KeyZ: [\"y\", \"Y\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\"m\", \"M\"],\n        Comma: [\",\", \";\"],\n        Period: [\".\", \":\"],\n        Slash: [\"-\", \"_\"],\n        Backquote: [\"\", \"\u00B0\"],\n    },\n    dvorak: {\n        Backquote: [\"`\", \"~\"],\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", \"@\"],\n        Digit3: [\"3\", \"#\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"^\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Digit0: [\"0\", \")\"],\n        Minus: [\"[\", \"{\"],\n        Equal: [\"]\", \"}\"],\n        KeyQ: [\"'\", '\"'],\n        KeyW: [\",\", \"<\"],\n        KeyE: [\".\", \">\"],\n        KeyR: [\"p\", \"P\"],\n        KeyT: [\"y\", \"Y\"],\n        KeyY: [\"f\", \"F\"],\n        KeyU: [\"g\", \"G\"],\n        KeyI: [\"c\", \"C\"],\n        KeyO: [\"r\", \"R\"],\n        KeyP: [\"l\", \"L\"],\n        BracketLeft: [\"/\", \"?\"],\n        BracketRight: [\"=\", \"+\"],\n        Backslash: [\"\\\\\", \"|\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"o\", \"O\"],\n        KeyD: [\"e\", \"E\"],\n        KeyF: [\"u\", \"U\"],\n        KeyG: [\"i\", \"I\"],\n        KeyH: [\"d\", \"D\"],\n        KeyJ: [\"h\", \"H\"],\n        KeyK: [\"t\", \"T\"],\n        KeyL: [\"n\", \"N\"],\n        Semicolon: [\"s\", \"S\"],\n        Quote: [\"-\", \"_\"],\n        KeyZ: [\";\", \":\"],\n        KeyX: [\"q\", \"Q\"],\n        KeyC: [\"j\", \"J\"],\n        KeyV: [\"k\", \"K\"],\n        KeyB: [\"x\", \"X\"],\n        KeyN: [\"b\", \"B\"],\n        KeyM: [\"m\", \"M\"],\n        Comma: [\"w\", \"W\"],\n        Period: [\"v\", \"V\"],\n        Slash: [\"z\", \"Z\"],\n    },\n    uk: {\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", '\"'],\n        Digit3: [\"3\", \"\u00A3\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"^\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Digit0: [\"0\", \")\"],\n        Minus: [\"-\", \"_\"],\n        Equal: [\"=\", \"+\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyW: [\"w\", \"W\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        BracketLeft: [\"[\", \"{\"],\n        KeyK: [\"k\", \"K\"],\n        BracketRight: [\"]\", \"}\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        Semicolon: [\";\", \":\"],\n        Quote: [\"'\", \"@\"],\n        Backslash: [\"#\", \"~\"],\n        IntlBackslash: [\"\\\\\", \"|\"],\n        KeyZ: [\"z\", \"Z\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\"m\", \"M\"],\n        Period: [\".\", \">\"],\n        Slash: [\"/\", \"?\"],\n        Backquote: [\"`\", \"\u00AC\"],\n        KeyL: [\"l\", \"L\"],\n        Comma: [\",\", \"<\"],\n    },\n    ca: {\n        Backquote: [\"#\", \"|\"],\n        Digit1: [\"1\", \"!\"],\n        Digit2: [\"2\", '\"'],\n        Digit3: [\"3\", \"/\"],\n        Digit4: [\"4\", \"$\"],\n        Digit5: [\"5\", \"%\"],\n        Digit6: [\"6\", \"?\"],\n        Digit7: [\"7\", \"&\"],\n        Digit8: [\"8\", \"*\"],\n        Digit9: [\"9\", \"(\"],\n        Digit0: [\"0\", \")\"],\n        Minus: [\"-\", \"_\"],\n        Equal: [\"=\", \"+\"],\n        KeyQ: [\"q\", \"Q\"],\n        KeyW: [\"w\", \"W\"],\n        KeyE: [\"e\", \"E\"],\n        KeyR: [\"r\", \"R\"],\n        KeyT: [\"t\", \"T\"],\n        KeyY: [\"y\", \"Y\"],\n        KeyU: [\"u\", \"U\"],\n        KeyI: [\"i\", \"I\"],\n        KeyO: [\"o\", \"O\"],\n        KeyP: [\"p\", \"P\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"s\", \"S\"],\n        KeyD: [\"d\", \"D\"],\n        KeyF: [\"f\", \"F\"],\n        KeyG: [\"g\", \"G\"],\n        KeyH: [\"h\", \"H\"],\n        KeyJ: [\"j\", \"J\"],\n        KeyK: [\"k\", \"K\"],\n        KeyL: [\"l\", \"L\"],\n        Semicolon: [\";\", \":\"],\n        Backslash: [\"<\", \">\"],\n        IntlBackslash: [\"\u00AB\", \"\u00BB\"],\n        KeyZ: [\"z\", \"Z\"],\n        KeyX: [\"x\", \"X\"],\n        KeyC: [\"c\", \"C\"],\n        KeyV: [\"v\", \"V\"],\n        KeyB: [\"b\", \"B\"],\n        KeyN: [\"n\", \"N\"],\n        KeyM: [\"m\", \"M\"],\n        Comma: [\",\", \"'\"],\n        Period: [\".\", \".\"],\n        Slash: [\"\u00E9\", \"\u00C9\"],\n    },\n    bepo: {\n        Backquote: [\"$\", \"#\"],\n        Digit1: ['\"', \"1\"],\n        Digit2: [\"\u00AB\", \"2\"],\n        Digit3: [\"\u00BB\", \"3\"],\n        Digit4: [\"(\", \"4\"],\n        Digit5: [\")\", \"5\"],\n        Digit6: [\"@\", \"6\"],\n        Digit7: [\"+\", \"7\"],\n        Digit8: [\"-\", \"8\"],\n        Digit9: [\"/\", \"9\"],\n        Digit0: [\"*\", \"0\"],\n        Minus: [\"=\", \"\u00B0\"],\n        Equal: [\"%\", \"`\"],\n        KeyQ: [\"b\", \"B\"],\n        KeyW: [\"\u00E9\", \"\u00C9\"],\n        KeyE: [\"p\", \"P\"],\n        KeyR: [\"o\", \"O\"],\n        KeyT: [\"\u00E8\", \"\u00C8\"],\n        KeyU: [\"v\", \"V\"],\n        KeyI: [\"d\", \"D\"],\n        KeyO: [\"l\", \"L\"],\n        KeyP: [\"j\", \"J\"],\n        BracketLeft: [\"z\", \"Z\"],\n        BracketRight: [\"w\", \"W\"],\n        KeyA: [\"a\", \"A\"],\n        KeyS: [\"u\", \"U\"],\n        KeyD: [\"i\", \"I\"],\n        KeyF: [\"e\", \"E\"],\n        KeyG: [\",\", \";\"],\n        KeyH: [\"c\", \"C\"],\n        KeyJ: [\"t\", \"T\"],\n        KeyK: [\"s\", \"S\"],\n        KeyL: [\"r\", \"R\"],\n        Semicolon: [\"n\", \"N\"],\n        Quote: [\"m\", \"M\"],\n        Backslash: [\"\u00E7\", \"\u00C7\"],\n        IntlBackslash: [\"\u00EA\", \"\u00CA\"],\n        KeyZ: [\"\u00E0\", \"\u00C0\"],\n        KeyX: [\"y\", \"Y\"],\n        KeyC: [\"x\", \"X\"],\n        KeyV: [\".\", \":\"],\n        KeyB: [\"k\", \"K\"],\n        KeyN: [\"'\", \"?\"],\n        KeyM: [\"q\", \"Q\"],\n        Comma: [\"g\", \"G\"],\n        Period: [\"h\", \"H\"],\n        Slash: [\"f\", \"F\"],\n        KeyY: [\"\", \"!\"],\n    },\n}\n\n/** @hidden\n * Merges two objects and removes all keys with null values at all levels\n */\nexport const mergeDeepCull = R.pipe(mergeDeep, removeNull)\n\n/** @hidden */\nexport const DEFAULTS = mergeDeepCull(\n    o(new default_config()),\n    platform_defaults[platform.getPlatformOs()],\n)\n\n/** Given an object and a target, extract the target if it exists, else return undefined\n\n    @param target path of properties as an array\n    @hidden\n */\nexport function getDeepProperty(obj, target: string[]) {\n    if (obj !== undefined && obj !== null && target.length) {\n        if (obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"] === undefined) {\n            return getDeepProperty(obj[target[0]], target.slice(1))\n        } else {\n            return getDeepProperty(\n                mergeDeepCull(get(obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"]), obj)[target[0]],\n                target.slice(1),\n            )\n        }\n    } else {\n        if (obj === undefined || obj === null) return obj\n        if (obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"] !== undefined) {\n            return mergeDeepCull(get(obj[\"\uD83D\uDD77\uD83D\uDD77INHERITS\uD83D\uDD77\uD83D\uDD77\"]), obj)\n        } else {\n            return obj\n        }\n    }\n}\n\n/** Create the key path target if it doesn't exist and set the final property to value.\n\n    If the path is an empty array, replace the obj.\n\n    @param target path of properties as an array\n    @hidden\n */\nfunction setDeepProperty(obj, value, target) {\n    if (target.length > 1) {\n        // If necessary antecedent objects don't exist, create them.\n        if (obj[target[0]] === undefined) {\n            obj[target[0]] = o({})\n        }\n        return setDeepProperty(obj[target[0]], value, target.slice(1))\n    } else {\n        obj[target[0]] = value\n    }\n}\n\n/** @hidden\n * Merges two objects and any child objects they may have\n */\nexport function mergeDeep(o1, o2) {\n    if (o1 === null) return Object.assign({}, o2)\n    const r = Array.isArray(o1) ? o1.slice() : Object.create(o1)\n    Object.assign(r, o1, o2)\n    if (o2 === undefined) return r\n    Object.keys(o1)\n        .filter(\n            key => typeof o1[key] === \"object\" && typeof o2[key] === \"object\",\n        )\n        .forEach(key =>\n            r[key] == null\n                ? null\n                : Object.assign(r[key], mergeDeep(o1[key], o2[key])),\n        )\n    return r\n}\n\n/** @hidden\n * Gets a site-specific setting.\n */\nexport function getURL(url: string, target: string[]) {\n    function _getURL(conf, url, target) {\n        if (!conf.subconfigs) return undefined\n        // For each key\n        return (\n            Object.keys(conf.subconfigs)\n                // Keep only the ones that have a match\n                .filter(\n                    k =>\n                        url.match(k) &&\n                        getDeepProperty(conf.subconfigs[k], target) !==\n                            undefined,\n                )\n                // Sort them from lowest to highest priority, default to a priority of 10\n                .sort(\n                    (k1, k2) =>\n                        (conf.subconfigs[k1].priority || 10) -\n                        (conf.subconfigs[k2].priority || 10),\n                )\n                // Merge their corresponding value if they're objects, otherwise return the last value\n                .reduce((acc, curKey) => {\n                    const curVal = getDeepProperty(\n                        conf.subconfigs[curKey],\n                        target,\n                    )\n                    if (acc instanceof Object && curVal instanceof Object)\n                        return mergeDeep(acc, curVal)\n                    return curVal\n                }, undefined as any)\n        )\n    }\n    const user = _getURL(USERCONFIG, url, target)\n    const deflt = _getURL(DEFAULTS, url, target)\n    if (user === undefined || user === null) return deflt\n    if (typeof user !== \"object\" || typeof deflt !== \"object\") return user\n    return mergeDeepCull(deflt, user)\n}\n\n/** Get the value of the key target.\n\n    If the user has not specified a key, use the corresponding key from\n    defaults, if one exists, else undefined.\n    @hidden\n */\nexport function get(target_typed?: keyof default_config, ...target: string[]) {\n    if (target_typed === undefined) {\n        target = []\n    } else {\n        target = [target_typed as string].concat(target)\n    }\n    // Window.tri might not be defined when called from the untrusted page context\n    let loc = window.location\n    if ((window as any).tri && (window as any).tri.contentLocation)\n        loc = (window as any).tri.contentLocation\n    // If there's a site-specifing setting, it overrides global settings\n    const site = getURL(loc.href, target)\n    const user = getDeepProperty(USERCONFIG, target)\n    const defult = getDeepProperty(DEFAULTS, target)\n\n    // Merge results if there's a default value and it's not an Array or primitive.\n    if (typeof defult === \"object\") {\n        return mergeDeepCull(mergeDeepCull(defult, user), site)\n    } else {\n        if (site !== undefined) {\n            return site\n        } else if (user !== undefined) {\n            return user\n        } else {\n            return defult\n        }\n    }\n}\n\n/** Get the value of the key target.\n\n    Please only use this with targets that will be used at runtime - it skips static checks. Prefer [[get]].\n */\nexport function getDynamic(...target: string[]) {\n    return get(target[0] as keyof default_config, ...target.slice(1))\n}\n\n/** Get the value of the key target.\n\n    Please only use this with targets that will be used at runtime - it skips static checks. Prefer [[getAsync]].\n */\nexport async function getAsyncDynamic(...target: string[]) {\n    return getAsync(target[0] as keyof default_config, ...target.slice(1))\n}\n\n/** Get the value of the key target, but wait for config to be loaded from the\n    database first if it has not been at least once before.\n\n    This is useful if you are a content script and you've just been loaded.\n    @hidden\n */\nexport async function getAsync(\n    target_typed?: keyof default_config,\n    ...target: string[]\n) {\n    if (INITIALISED) {\n        // TODO: consider storing keys directly\n        const browserconfig = await browser.storage.local.get(CONFIGNAME)\n        USERCONFIG = browserconfig[CONFIGNAME] || o({})\n\n        return get(target_typed, ...target)\n    } else {\n        return new Promise(resolve =>\n            WAITERS.push(() => resolve(get(target_typed, ...target))),\n        )\n    }\n}\n\n/*\n * Replaces the configuration in your sync storage with your current configuration. Does not merge: it overwrites.\n *\n * Does not synchronise custom themes due to storage constraints.\n */\nexport async function push() {\n    const local_conf = await browser.storage.local.get(CONFIGNAME)\n    // eslint-disable-next-line @typescript-eslint/dot-notation\n    delete local_conf[CONFIGNAME][\"customthemes\"]\n    return browser.storage.sync.set(local_conf)\n}\n\n/*\n * Replaces the local configuration with the configuration from your sync storage. Does not merge: it overwrites.\n */\nexport async function pull() {\n    return browser.storage.local.set(await browser.storage.sync.get(CONFIGNAME))\n}\n\n/** @hidden\n * Like set(), but for a specific pattern.\n */\nexport function setURL(pattern, ...args) {\n    try {\n        new RegExp(pattern)\n        return set(\"subconfigs\", pattern, ...args)\n    } catch (err) {\n        if (err instanceof SyntaxError)\n            throw new SyntaxError(`invalid pattern: ${err.message}`)\n        throw err\n    }\n}\n/** Full target specification, then value\n\n    e.g.\n        set(\"nmaps\", \"o\", \"open\")\n        set(\"search\", \"default\", \"google\")\n        set(\"aucmd\", \"BufRead\", \"memrise.com\", \"open memrise.com\")\n\n    @hidden\n */\nexport async function set(...args) {\n    if (args.length < 2) {\n        throw new Error(\"You must provide at least two arguments!\")\n    }\n\n    const target = args.slice(0, args.length - 1)\n    const value = args[args.length - 1]\n\n    if (INITIALISED) {\n        // wait for storage to settle, otherwise we could clobber a previous incomplete set()\n        setDeepProperty(USERCONFIG, value, target)\n\n        return save()\n    } else {\n        setDeepProperty(USERCONFIG, value, target)\n    }\n}\n\n/** @hidden\n * Delete the key at USERCONFIG[pattern][target]\n */\nexport function unsetURL(pattern, ...target) {\n    return unset(\"subconfigs\", pattern, ...target)\n}\n\n/** Delete the key at target in USERCONFIG if it exists\n * @hidden */\nexport function unset(...target) {\n    const parent = getDeepProperty(USERCONFIG, target.slice(0, -1))\n    if (parent !== undefined) delete parent[target[target.length - 1]]\n    return save()\n}\n\n/** Save the config back to storage API.\n\n    Config is not synchronised between different instances of this module until\n    sometime after this happens.\n\n    @hidden\n */\nexport async function save() {\n    const settingsobj = o({})\n    settingsobj[CONFIGNAME] = USERCONFIG\n    return browser.storage.local.set(settingsobj)\n}\n\n/** Updates the config to the latest version.\n    Proposed semantic for config versionning:\n     - x.y -> x+1.0 : major architectural changes\n     - x.y -> x.y+1 : renaming settings/changing their types\n    There's no need for an updater if you're only adding a new setting/changing\n    a default setting\n\n    When adding updaters, don't forget to set(\"configversion\", newversionnumber)!\n    @hidden\n */\nexport async function update() {\n    // Updates a value both in the main config and in sub (=site specific) configs\n    const updateAll = (setting: string[], fn: (any) => any) => {\n        const val = getDeepProperty(USERCONFIG, setting)\n        if (val) {\n            set(...setting, fn(val))\n        }\n        const subconfigs = getDeepProperty(USERCONFIG, [\"subconfigs\"])\n        if (subconfigs) {\n            Object.keys(subconfigs)\n                .map(pattern => [pattern, getURL(pattern, setting)])\n                .filter(([_pattern, value]) => value)\n                .forEach(([pattern, value]) =>\n                    setURL(pattern, ...setting, fn(value)),\n                )\n        }\n    }\n\n    if (!get(\"configversion\")) set(\"configversion\", \"0.0\")\n\n    let updated = false\n    switch (get(\"configversion\")) {\n        case \"0.0\": {\n            try {\n                // Before we had a config system, we had nmaps, and we put them in the\n                // root namespace because we were young and bold.\n                const legacy_nmaps = await browser.storage.sync.get(\"nmaps\")\n                if (Object.keys(legacy_nmaps).length > 0) {\n                    USERCONFIG.nmaps = Object.assign(\n                        legacy_nmaps.nmaps,\n                        USERCONFIG.nmaps,\n                    )\n                }\n            } finally {\n                set(\"configversion\", \"1.0\")\n            }\n        }\n        case \"1.0\": {\n            const vimiumgi = getDeepProperty(USERCONFIG, [\"vimium-gi\"])\n            if (vimiumgi === true || vimiumgi === \"true\")\n                set(\"gimode\", \"nextinput\")\n            else if (vimiumgi === false || vimiumgi === \"false\")\n                set(\"gimode\", \"firefox\")\n            unset(\"vimium-gi\")\n            set(\"configversion\", \"1.1\")\n        }\n        case \"1.1\": {\n            const leveltostr: { [key: number]: LoggingLevel } = {\n                0: \"never\",\n                1: \"error\",\n                2: \"warning\",\n                3: \"info\",\n                4: \"debug\",\n            }\n            const logging = getDeepProperty(USERCONFIG, [\"logging\"])\n            // logging is not necessarily defined if the user didn't change default values\n            if (logging)\n                Object.keys(logging).forEach(l =>\n                    set(\"logging\", l, leveltostr[logging[l]]),\n                )\n            set(\"configversion\", \"1.2\")\n        }\n        case \"1.2\": {\n            ;[\"ignoremaps\", \"inputmaps\", \"imaps\", \"nmaps\"]\n                .map(mapname => [\n                    mapname,\n                    getDeepProperty(USERCONFIG, [mapname]),\n                ])\n                // mapobj is undefined if the user didn't define any bindings\n                .filter(([_mapname, mapobj]) => mapobj)\n                .forEach(([mapname, mapobj]) => {\n                    // For each mapping\n                    Object.keys(mapobj)\n                        // Keep only the ones with im_* functions\n                        .filter(\n                            key =>\n                                mapobj[key]?.search(\n                                    \"^im_|([^a-zA-Z0-9_-])im_\",\n                                ) >= 0,\n                        )\n                        // Replace the prefix\n                        .forEach(key =>\n                            setDeepProperty(\n                                USERCONFIG,\n                                mapobj[key].replace(\n                                    new RegExp(\"^im_|([^a-zA-Z0-9_-])im_\"),\n                                    \"$1text.\",\n                                ),\n                                [mapname, key],\n                            ),\n                        )\n                })\n            set(\"configversion\", \"1.3\")\n        }\n        case \"1.3\": {\n            ;[\n                \"priority\",\n                \"hintdelay\",\n                \"scrollduration\",\n                \"ttsvolume\",\n                \"ttsrate\",\n                \"ttspitch\",\n                \"jumpdelay\",\n                \"historyresults\",\n            ].forEach(setting => updateAll([setting], parseInt))\n            set(\"configversion\", \"1.4\")\n        }\n        case \"1.4\": {\n            ;(getDeepProperty(USERCONFIG, [\"noiframeon\"]) || []).forEach(\n                site => {\n                    setURL(site, \"noiframe\", \"true\")\n                },\n            )\n            set(\"configversion\", \"1.5\")\n        }\n        case \"1.5\": {\n            unset(\"exaliases\", \"tab\")\n            set(\"configversion\", \"1.6\")\n        }\n        case \"1.6\": {\n            const updateSetting = mapObj => {\n                if (!mapObj) return mapObj\n                if (mapObj[\" \"] !== undefined) {\n                    mapObj[\"<Space>\"] = mapObj[\" \"]\n                    delete mapObj[\" \"]\n                }\n                ;[\n                    \"<A- >\",\n                    \"<C- >\",\n                    \"<M- >\",\n                    \"<S- >\",\n                    \"<AC- >\",\n                    \"<AM- >\",\n                    \"<AS- >\",\n                    \"<CM- >\",\n                    \"<CS- >\",\n                    \"<MS- >\",\n                ].forEach(binding => {\n                    if (mapObj[binding] !== undefined) {\n                        const key = binding.replace(\" \", \"Space\")\n                        mapObj[key] = mapObj[binding]\n                        delete mapObj[binding]\n                    }\n                })\n                return mapObj\n            }\n            ;[\"nmaps\", \"exmaps\", \"imaps\", \"inputmaps\", \"ignoremaps\"].forEach(\n                settingName => updateAll([settingName], updateSetting),\n            )\n            set(\"configversion\", \"1.7\")\n        }\n        case \"1.7\": {\n            const autocontain = getDeepProperty(USERCONFIG, [\"autocontain\"])\n            unset(\"autocontain\")\n            if (autocontain !== undefined) {\n                Object.entries(autocontain).forEach(([domain, container]) => {\n                    set(\n                        \"autocontain\",\n                        `^https?://([^/]*\\\\.|)*${domain}/`,\n                        container,\n                    )\n                })\n            }\n            set(\"configversion\", \"1.8\")\n        }\n        case \"1.8\": {\n            const updateSetting = mapObj => {\n                if (!mapObj) return mapObj\n                return R.map(val => {\n                    if (val === \"\") return null\n                    return val\n                }, mapObj)\n            }\n            ;[\n                \"nmaps\",\n                \"exmaps\",\n                \"imaps\",\n                \"inputmaps\",\n                \"ignoremaps\",\n                \"hintmaps\",\n                \"vmaps\",\n            ].forEach(settingName => updateAll([settingName], updateSetting))\n            set(\"configversion\", \"1.9\")\n        }\n        case \"1.9\": {\n            const local = (await browser.storage.local.get(CONFIGNAME))[\n                CONFIGNAME\n            ] as { storageloc?: \"local\" | \"sync\" }\n            const sync = (await browser.storage.sync.get(CONFIGNAME))[\n                CONFIGNAME\n            ] as { storageloc?: \"local\" | \"sync\" }\n            // Possible combinations:\n            // storage:storageloc_setting => winning storageloc setting\n            // l:l, s:* => l\n            // l:undefined, s:l =>  l\n            // l:undefined, s:s => s\n            // l: undefined, s:undefined => s\n            // l:s, s:* =>  s\n            const current_storageloc =\n                local?.storageloc !== undefined\n                    ? local.storageloc\n                    : sync?.storageloc !== undefined\n                    ? sync.storageloc\n                    : \"sync\"\n            if (current_storageloc == \"sync\") {\n                await pull()\n            } else if (current_storageloc != \"local\") {\n                throw new Error(\n                    \"storageloc was set to something weird: \" +\n                        current_storageloc +\n                        \", automatic migration of settings was not possible.\",\n                )\n            }\n            set(\"configversion\", \"2.0\")\n            updated = true // NB: when adding a new updater, move this line to the end of it\n        }\n    }\n    return updated\n}\n\n/** Read all user configuration from storage API then notify any waiting asynchronous calls\n\n    asynchronous calls generated by getAsync.\n    @hidden\n */\nasync function init() {\n    const localConfig = await browser.storage.local.get(CONFIGNAME)\n    schlepp(localConfig[CONFIGNAME])\n\n    INITIALISED = true\n    for (const waiter of WAITERS) {\n        waiter()\n    }\n}\n\n/** @hidden */\nconst changeListeners = new Map()\n\n/** @hidden\n * @param name The name of a \"toplevel\" config setting (i.e. \"nmaps\", not \"nmaps.j\")\n * @param listener A function to call when the value of $name is modified in the config. Takes the previous and new value as parameters.\n */\nexport function addChangeListener<P extends keyof default_config>(\n    name: P,\n    listener: (old: default_config[P], neww: default_config[P]) => void,\n) {\n    let arr = changeListeners.get(name)\n    if (!arr) {\n        arr = []\n        changeListeners.set(name, arr)\n    }\n    arr.push(listener)\n}\n\n/** @hidden\n * Removes event listeners set with addChangeListener\n */\nexport function removeChangeListener<P extends keyof default_config>(\n    name: P,\n    listener: (old: default_config[P], neww: default_config[P]) => void,\n) {\n    const arr = changeListeners.get(name)\n    if (!arr) return\n    const i = arr.indexOf(listener)\n    if (i >= 0) arr.splice(i, 1)\n}\n\n/** Parse the config into a string representation of a .tridactylrc config file.\n    Tries to parse the config into sectionable chunks based on keywords.\n    Binds, aliases, autocmds and logging settings each have their own section while the rest are dumped into \"General Settings\".\n\n    @returns string The parsed config file.\n\n */\nexport function parseConfig(): string {\n    let p = {\n        conf: [],\n        binds: [],\n        aliases: [],\n        subconfigs: [],\n        aucmds: [],\n        aucons: [],\n        logging: [],\n        nulls: [],\n    }\n\n    p = parseConfigHelper(USERCONFIG, p)\n\n    const s = {\n        general: ``,\n        binds: ``,\n        aliases: ``,\n        aucmds: ``,\n        aucons: ``,\n        subconfigs: ``,\n        logging: ``,\n        nulls: ``,\n    }\n\n    if (p.conf.length > 0)\n        s.general = `\" General Settings\\n${p.conf.join(\"\\n\")}\\n\\n`\n    if (p.binds.length > 0) s.binds = `\" Binds\\n${p.binds.join(\"\\n\")}\\n\\n`\n    if (p.aliases.length > 0)\n        s.aliases = `\" Aliases\\n${p.aliases.join(\"\\n\")}\\n\\n`\n    if (p.aucmds.length > 0) s.aucmds = `\" Autocmds\\n${p.aucmds.join(\"\\n\")}\\n\\n`\n    if (p.aucons.length > 0)\n        s.aucons = `\" Autocontainers\\n${p.aucons.join(\"\\n\")}\\n\\n`\n    if (p.subconfigs.length > 0)\n        s.subconfigs = `\" Subconfig Settings\\n${p.subconfigs.join(\"\\n\")}\\n\\n`\n    if (p.logging.length > 0)\n        s.logging = `\" Logging\\n${p.logging.join(\"\\n\")}\\n\\n`\n    if (p.nulls.length > 0)\n        s.nulls = `\" Removed settings\\n${p.nulls.join(\"\\n\")}\\n\\n`\n\n    const ftdetect = `\" For syntax highlighting see https://github.com/tridactyl/vim-tridactyl\\n\" vim: set filetype=tridactyl`\n\n    return `${s.general}${s.binds}${s.subconfigs}${s.aliases}${s.aucmds}${s.aucons}${s.logging}${s.nulls}${ftdetect}`\n}\n\nconst parseConfigHelper = (pconf, parseobj, prefix = []) => {\n    for (const i of Object.keys(pconf)) {\n        if (typeof pconf[i] !== \"object\") {\n            if (prefix[0] === \"subconfigs\") {\n                const pattern = prefix[1]\n                const subconf = [...prefix.slice(2), i].join(\".\")\n                parseobj.subconfigs.push(\n                    `seturl ${pattern} ${subconf} ${pconf[i]}`,\n                )\n            } else {\n                parseobj.conf.push(\n                    `set ${[...prefix, i].join(\".\")} ${pconf[i]}`,\n                )\n            }\n        } else if (pconf[i] === null) {\n            parseobj.nulls.push(`setnull ${[...prefix, i].join(\".\")}`)\n        } else {\n            for (const e of Object.keys(pconf[i])) {\n                if (binding.modeMaps.includes(i)) {\n                    let cmd = \"bind\"\n                    if (prefix[0] === \"subconfigs\")\n                        cmd = cmd + \"url \" + prefix[1]\n\n                    if (i !== \"nmaps\") {\n                        const mode = binding.maps2mode.get(i)\n                        cmd += ` --mode=${mode}`\n                    }\n\n                    if (pconf[i][e] === null) {\n                        parseobj.binds.push(`un${cmd} ${e}`)\n                        continue\n                    }\n\n                    if (pconf[i][e].length > 0) {\n                        parseobj.binds.push(`${cmd} ${e} ${pconf[i][e]}`)\n                    } else {\n                        parseobj.binds.push(`un${cmd} ${e}`)\n                    }\n                } else if (pconf[i][e] === null) {\n                    parseobj.nulls.push(`setnull ${i}.${e}`)\n                } else if (i === \"exaliases\") {\n                    // Only really useful if mapping the entire config and not just pconf.\n                    if (e === \"alias\") {\n                        parseobj.aliases.push(`command ${e} ${pconf[i][e]}`)\n                    } else {\n                        parseobj.aliases.push(`alias ${e} ${pconf[i][e]}`)\n                    }\n                } else if (i === \"autocmds\") {\n                    for (const a of Object.keys(pconf[i][e])) {\n                        parseobj.aucmds.push(\n                            `autocmd ${e} ${a} ${pconf[i][e][a]}`,\n                        )\n                    }\n                } else if (i === \"autocontain\") {\n                    parseobj.aucons.push(`autocontain ${e} ${pconf[i][e]}`)\n                } else if (i === \"logging\") {\n                    // Map the int values in e to a log level\n                    let level\n                    if (pconf[i][e] === 0) level = \"never\"\n                    if (pconf[i][e] === 1) level = \"error\"\n                    if (pconf[i][e] === 2) level = \"warning\"\n                    if (pconf[i][e] === 3) level = \"info\"\n                    if (pconf[i][e] === 4) level = \"debug\"\n                    parseobj.logging.push(`set logging.${e} ${level}`)\n                } else if (i === \"customthemes\") {\n                    // Skip custom themes for now because writing their CSS is hard\n                    // parseobj.themes.push(`colourscheme ${e}`) // TODO: check if userconfig.theme == e and write this, otherwise don't.\n                } else {\n                    parseConfigHelper(pconf[i], parseobj, [...prefix, i])\n                    break\n                }\n            }\n        }\n    }\n    return parseobj\n}\n\n// Listen for changes to the storage and update the USERCONFIG if appropriate.\n// TODO: BUG! Sync and local storage are merged at startup, but not by this thing.\nbrowser.storage.onChanged.addListener((changes, areaname) => {\n    if (CONFIGNAME in changes) {\n        const { newValue, oldValue } = changes[CONFIGNAME]\n        const old = oldValue || {}\n\n        function triggerChangeListeners(key, value = newValue[key]) {\n            const arr = changeListeners.get(key)\n            if (arr) {\n                const v = old[key] === undefined ? DEFAULTS[key] : old[key]\n                arr.forEach(f => f(v, value))\n            }\n        }\n\n        if (areaname === \"sync\") {\n            // Probably do something here with push/pull?\n        } else if (newValue !== undefined) {\n            // A key has been :unset if it exists in USERCONFIG and doesn't in changes and if its value in USERCONFIG is different from the one it has in default_config\n            const unsetKeys = Object.keys(old).filter(\n                k =>\n                    newValue[k] === undefined &&\n                    JSON.stringify(old[k]) !== JSON.stringify(DEFAULTS[k]),\n            )\n\n            // A key has changed if it is defined in USERCONFIG and its value in USERCONFIG is different from the one in `changes` or if the value in defaultConf is different from the one in `changes`\n            const changedKeys = Object.keys(newValue).filter(\n                k =>\n                    JSON.stringify(\n                        old[k] !== undefined ? old[k] : DEFAULTS[k],\n                    ) !== JSON.stringify(newValue[k]),\n            )\n\n            // TODO: this should be a deep comparison but this is better than nothing\n            changedKeys.forEach(key => (USERCONFIG[key] = newValue[key]))\n            unsetKeys.forEach(key => delete USERCONFIG[key])\n\n            // Trigger listeners\n            unsetKeys.forEach(key => triggerChangeListeners(key, DEFAULTS[key]))\n\n            changedKeys.forEach(key => triggerChangeListeners(key))\n        } else {\n            // newValue is undefined when calling browser.storage.AREANAME.clear()\n            // If newValue is undefined and AREANAME is the same value as STORAGELOC, the user wants to clean their config\n            USERCONFIG = o({})\n\n            Object.keys(old)\n                .filter(key => old[key] !== DEFAULTS[key])\n                .forEach(key => triggerChangeListeners(key))\n        }\n    }\n})\n\ninit()\n", "/**\n * Helper functions for logging\n */\n\nimport * as Config from \"@src/lib/config\"\n\nconst LevelToNum = new Map<Config.LoggingLevel, number>()\nLevelToNum.set(\"never\", 0)\nLevelToNum.set(\"error\", 1)\nLevelToNum.set(\"warning\", 2)\nLevelToNum.set(\"info\", 3)\nLevelToNum.set(\"debug\", 4)\n\nexport class Logger {\n    /**\n     * Config-aware Logger class.\n     *\n     * @param logModule     the logging module name: this is ued to look up the\n     *                      configured/default level in the user config\n     */\n    constructor(private logModule) {}\n\n    /**\n     * Config-aware logging function.\n     *\n     * @param level         the level of the logging - if <= configured, the message\n     *                      will be shown\n     *\n     * @return              logging function: this is returned as a function to\n     *                      retain the call site\n     */\n    private log(level: Config.LoggingLevel) {\n        const configedLevel = Config.get(\"logging\", this.logModule)\n\n        if (LevelToNum.get(level) <= LevelToNum.get(configedLevel)) {\n            // hand over to console.log, error or debug as needed\n            switch (level) {\n                case \"error\":\n                    // TODO: replicate this for other levels, don't steal focus\n                    // work out how to import messaging/webext without breaking everything\n                    return async (...message) => {\n                        console.error(...message)\n                        return browser.runtime.sendMessage({\n                            type: \"controller_background\",\n                            command: \"acceptExCmd\",\n                            args: [\n                                \"fillcmdline_nofocus # \" + message.join(\" \"),\n                            ],\n                        })\n                    }\n                case \"warning\":\n                    return console.warn\n                case \"info\":\n                    return console.log\n                case \"debug\":\n                    return console.debug\n            }\n        }\n\n        // do nothing with the message\n        // eslint-disable-next-line @typescript-eslint/no-empty-function\n        return function () {}\n    }\n\n    // These are all getters so that logger.debug = console.debug and\n    // logger.debug('blah') translates into console.debug('blah') with the\n    // filename and line correct.\n    public get debug() {\n        return this.log(\"debug\")\n    }\n    public get info() {\n        return this.log(\"info\")\n    }\n    public get warning() {\n        return this.log(\"warning\")\n    }\n    public get error() {\n        return this.log(\"error\")\n    }\n}\n\nexport default Logger\n", "import Logger from \"@src/lib/logging\"\nconst logger = new Logger(\"state\")\n\nexport type ModeName =\n    | \"normal\"\n    | \"insert\"\n    | \"hint\"\n    | \"ignore\"\n    | \"gobble\"\n    | \"input\"\n    | \"visual\"\n    | \"nmode\"\n\nexport class PrevInput {\n    inputId: string\n    tab: number\n    jumppos?: number\n}\n\nclass ContentState {\n    mode: ModeName = \"normal\"\n    suffix = \"\"\n    group = \"\"\n    current_cmdline = \"\"\n    cmdline_filter = \"\"\n}\n\nexport type ContentStateProperty =\n    | \"mode\"\n    | \"cmdHistory\"\n    | \"prevInputs\"\n    | \"suffix\"\n    | \"group\"\n\nexport type ContentStateChangedCallback = (\n    property: ContentStateProperty,\n    oldValue: any,\n    newValue: any,\n    suffix: any,\n) => void\n\nconst onChangedListeners: ContentStateChangedCallback[] = []\n\nexport function addContentStateChangedListener(\n    callback: ContentStateChangedCallback,\n) {\n    onChangedListeners.push(callback)\n}\n\nexport const contentState = (new Proxy(\n    { mode: \"normal\" },\n    {\n        get(target, property: ContentStateProperty) {\n            return target[property]\n        },\n\n        set(target, property: ContentStateProperty, newValue) {\n            logger.debug(\"Content state changed!\", property, newValue)\n\n            const oldValue = target[property]\n            const mode = target.mode\n            target[property] = newValue\n\n            for (const listener of onChangedListeners) {\n                listener(property, mode, oldValue, newValue)\n            }\n            return true\n        },\n    },\n) as any) as ContentState\n", "export function toBoolean(s: string) {\n    if (s === \"true\") return true\n    else if (s === \"false\") return false\n    else throw new Error(\"Not a boolean\")\n}\n\nexport function toNumber(s: string) {\n    const n = Number(s)\n    if (isNaN(n)) throw new Error(\"Not a number! \" + s)\n    else return n\n}\n", "import { message } from \"@src/lib/messaging\"\n\nconst browserProxy = new Proxy(Object.create(null), {\n    get(target, api) {\n        return new Proxy(\n            {},\n            {\n                get(_, func) {\n                    return (...args) =>\n                        message(\n                            \"browser_proxy_background\",\n                            \"shim\",\n                            api,\n                            func,\n                            args,\n                        )\n                },\n            },\n        )\n    },\n}) as typeof browser\n\nexport default browserProxy\n", "/** URL handling utlity functions\n */\n\n/** Increment the last number in a URL.\n *\n * (perhaps this could be made so you can select the \"nth\" number in a\n * URL rather than just the last one?)\n *\n * @param url       the URL to increment\n * @param count     increment step to advance by (can be negative)\n * @return          the incremented URL, or null if cannot be incremented\n */\nexport function incrementUrl(url, count) {\n    const url_en=decodeURI(url)\n    const regex = /(.*?)(\\d+)(\\D*)$/\n    // Find the final number in a URL\n    const matches = regex.exec(url_en)\n\n    // no number in URL - nothing to do here\n    if (matches === null) {\n        return null\n    }\n\n    const [, pre, number, post] = matches\n    const newNumber = parseInt(number, 10) + count\n    let newNumberStr = String(newNumber > 0 ? newNumber : 0)\n\n    // Re-pad numbers that were zero-padded to be the same length:\n    // 0009 + 1 => 0010\n    if ((/^0/).exec(number)) {\n        while (newNumberStr.length < number.length) {\n            newNumberStr = \"0\" + newNumberStr\n        }\n    }\n\n    return encodeURI(pre + newNumberStr + post)\n}\n\n/** Get the root of a URL\n *\n * @param url   the url to find the root of\n * @return      the root of the URL, or the original URL when the URL isn't\n *              suitable for finding the root of.\n */\nexport function getUrlRoot(url) {\n    // exclude these special protocols for now;\n    if (/(about|mailto):/.test(url.protocol)) {\n        return null\n    }\n\n    // this works even for file:/// where the root is \"\"\n    return new URL(url.protocol + \"//\" + (url.host || \"\"))\n}\n\n/** Get the parent of the current URL. Parent is determined as:\n *\n * * if there is a hash fragment, strip that, or\n * * If there is a query string, strip that, or\n * * Remove one level from the path if there is one, or\n * * Remove one subdomain from the front if there is one\n *\n * @param url               the URL to get the parent of\n * @param trailingSlash     whether the returned URL has a trailing slash\n * @param count             how many \"generations\" you wish to go back (1 = parent, 2 = grandparent, etc.)\n * @return                  the parent of the URL, or null if there is no parent\n */\nexport function getUrlParent(url, trailingSlash, count = 1) {\n    // Helper function.\n    function gup(parent, trailingSlash, count) {\n        if (count < 1) {\n            // remove trailing slash(s) if desired\n            if (!trailingSlash) {\n                // remove 1 or more trailing slashes\n                parent.pathname = parent.pathname.replace(/\\/+$/, \"\")\n            }\n            return parent\n        }\n        // strip, in turn, hash/fragment and query/search\n        if (parent.hash) {\n            parent.hash = \"\"\n            return gup(parent, trailingSlash, count - 1)\n        }\n        if (parent.search) {\n            parent.search = \"\"\n            return gup(parent, trailingSlash, count - 1)\n        }\n\n        // empty path is '/'\n        if (parent.pathname !== \"/\") {\n            // Remove trailing slashes and everything to the next slash:\n            parent.pathname = parent.pathname.replace(/\\/[^\\/]*?\\/*$/, \"/\")\n            return gup(parent, trailingSlash, count - 1)\n        }\n\n        // strip off the first subdomain if there is one\n        {\n            const domains = parent.host.split(\".\")\n\n            // more than domain + TLD\n            if (domains.length > 2) {\n                // domains.pop()\n                parent.host = domains.slice(1).join(\".\")\n                return gup(parent, trailingSlash, count - 1)\n            }\n        }\n\n        // nothing to trim off URL, so no parent\n        return null\n    }\n\n    // exclude these special protocols where parents don't really make sense\n    if (/(about|mailto):/.test(url.protocol)) {\n        return null\n    }\n\n    const parent = new URL(url)\n    return gup(parent, trailingSlash, count)\n}\n\n/** Very incomplete lookup of extension for common mime types that might be\n * encountered when saving elements on a page. There are NPM libs for this,\n * but this should cover 99% of basic cases\n *\n * @param mime  mime type to get extension for (eg 'image/png')\n *\n * @return an extension for that mimetype, or undefined if that type is not\n * supported\n */\nfunction getExtensionForMimetype(mime: string): string {\n    const types = {\n        \"image/png\": \".png\",\n        \"image/jpeg\": \".jpg\",\n        \"image/gif\": \".gif\",\n        \"image/x-icon\": \".ico\",\n        \"image/svg+xml\": \".svg\",\n        \"image/tiff\": \".tiff\",\n        \"image/webp\": \".webp\",\n\n        \"text/plain\": \".txt\",\n        \"text/html\": \".html\",\n        \"text/css\": \".css\",\n        \"text/csv\": \".csv\",\n        \"text/calendar\": \".ics\",\n\n        \"application/octet-stream\": \".bin\",\n        \"application/javascript\": \".js\",\n        \"application/xhtml+xml\": \".xhtml\",\n\n        \"font/otf\": \".otf\",\n        \"font/woff\": \".woff\",\n        \"font/woff2\": \".woff2\",\n        \"font/ttf\": \".ttf\",\n    }\n\n    return types[mime] || \"\"\n}\n\n/** Get a suitable default filename for a given URL\n *\n * If the URL:\n *  - is a data URL, construct from the data and mimetype\n *  - has a path, use the last part of that (eg image.png, index.html)\n *  - otherwise, use the hostname of the URL\n *  - if that fails, \"download\"\n *\n * @param URL   the URL to make a filename for\n * @return      the filename according to the above rules\n */\nexport function getDownloadFilenameForUrl(url: URL): string {\n    // for a data URL, we have no really useful naming data intrinsic to the\n    // data, so we construct one using the data and guessing an extension\n    // from any mimetype\n    if (url.protocol === \"data:\") {\n        // data:[<mediatype>][;base64],<data>\n        const [prefix, data] = url.pathname.split(\",\", 2)\n\n        const [mediatype, b64] = prefix.split(\";\", 2)\n\n        // take a 15-char prefix of the data as a reasonably unique name\n        // sanitize in a very rough manner\n        let filename = data\n            .slice(0, 15)\n            .replace(/[^a-zA-Z0-9_\\-]/g, \"_\")\n            .replace(/_{2,}/g, \"_\")\n\n        // add a base64 prefix and the extension\n        filename =\n            (b64 ? b64 + \"-\" : \"\") +\n            filename +\n            getExtensionForMimetype(mediatype)\n\n        return filename\n    }\n\n    // if there's a useful path, use that directly\n    if (url.pathname !== \"/\") {\n        const paths = url.pathname.split(\"/\").slice(1)\n\n        // pop off empty pat bh tails\n        // e.g. https://www.mozilla.org/en-GB/firefox/new/\n        while (paths.length && !paths[paths.length - 1]) {\n            paths.pop()\n        }\n\n        if (paths.length) {\n            return paths.slice(-1)[0]\n        }\n    }\n\n    // if there's no path, use the domain (otherwise the FF-provided\n    // default is just \"download\"\n    return url.hostname || \"download\"\n}\n\n/**\n * Get an Array of the queries in a URL.\n *\n * These could be like \"query\" or \"query=val\"\n */\nfunction getUrlQueries(url: URL): string[] {\n    let qys = []\n\n    if (url.search) {\n        // get each query separately, leave the \"?\" off\n        qys = url.search.slice(1).split(\"&\")\n    }\n\n    return qys\n}\n\n/**\n * Update a URL with a new array of queries\n */\nfunction setUrlQueries(url: URL, qys: string[]) {\n    url.search = \"\"\n\n    if (qys.length) {\n        // rebuild string with the filtered list\n        url.search = \"?\" + qys.join(\"&\")\n    }\n}\n\n/**\n * Delete a query (and its value) in a URL\n *\n * If a query appears multiple times (which is a bit odd),\n * all instances are removed\n *\n * @param url           the URL to act on\n * @param query         the query to delete\n *\n * @return              the modified URL\n */\nexport function deleteQuery(url: URL, matchQuery: string): URL {\n    const newUrl = new URL(url.href)\n\n    const qys = getUrlQueries(url)\n\n    const new_qys = qys.filter(q => q.split(\"=\")[0] !== matchQuery)\n\n    setUrlQueries(newUrl, new_qys)\n\n    return newUrl\n}\n\n/**\n * Sets the value of a query in a URL with a specific one\n *\n * @param url           the URL to act on\n * @param matchQuery    the query key to set the value for\n * @param value         the value to use\n */\nexport function setQueryValue(\n    url: URL,\n    matchQuery: string,\n    value: string,\n): URL {\n    const newUrl = new URL(url.href)\n\n    // get each query separately, leave the \"?\" off\n    const qys = getUrlQueries(url)\n\n    // if the query exists just replace it\n    if (qys.map(q => q.split(\"=\")[0]).includes(matchQuery)) {\n        return replaceQueryValue(url, matchQuery, value)\n    }\n\n    // the query does not exist so add it\n    qys.push(matchQuery + \"=\" + value)\n    setUrlQueries(newUrl, qys)\n\n    return newUrl\n}\n\n/**\n * Replace the value of a query in a URL with a new one\n *\n * @param url           the URL to act on\n * @param matchQuery    the query key to replace the value for\n * @param newVal        the new value to use\n */\nexport function replaceQueryValue(\n    url: URL,\n    matchQuery: string,\n    newVal: string,\n): URL {\n    const newUrl = new URL(url.href)\n\n    // get each query separately, leave the \"?\" off\n    const qys = getUrlQueries(url)\n\n    const new_qys = qys.map(q => {\n        const [key] = q.split(\"=\")\n\n        // found a matching query key\n        if (q.split(\"=\")[0] === matchQuery) {\n            // return key=val or key as needed\n            if (newVal) {\n                return key + \"=\" + newVal\n            } else {\n                return key\n            }\n        }\n\n        // don't touch it\n        return q\n    })\n\n    setUrlQueries(newUrl, new_qys)\n\n    return newUrl\n}\n\n/**\n * Graft a new path onto some parent of the current URL\n *\n * E.g. grafting \"by-name/foobar\" onto the 2nd parent path:\n *      example.com/items/by-id/42 -> example.com/items/by-name/foobar\n *\n * @param url       the URL to modify\n * @param newTail   the new \"grafted\" URL path tail\n * @param level     the graft point in terms of path levels\n *                      >= 0: start at / and count right\n *                      <0: start at the current path and count left\n */\nexport function graftUrlPath(url: URL, newTail: string, level: number) {\n    const newUrl = new URL(url.href)\n\n    // path parts, ignore first /\n    const pathParts = url.pathname.split(\"/\").splice(1)\n\n    // more levels than we can handle\n    // (remember, if level <0, we start at -1)\n    if (\n        (level >= 0 && level > pathParts.length) ||\n        (level < 0 && -level - 1 > pathParts.length)\n    ) {\n        return null\n    }\n\n    const graftPoint = level >= 0 ? level : pathParts.length + level + 1\n\n    // lop off parts after the graft point\n    pathParts.splice(graftPoint, pathParts.length - graftPoint)\n\n    // extend part array with new parts\n    pathParts.push(...newTail.split(\"/\"))\n\n    newUrl.pathname = pathParts.join(\"/\")\n\n    return newUrl\n}\n\n/**\n * Interpolates a query or other search item into a URL\n *\n * If the URL pattern contains \"%s\", the query is interpolated there. If not,\n * it is appended to the end of the pattern.\n *\n * If the interpolation point is in the query string of the URL, it is\n * percent encoded, otherwise it is is inserted verbatim.\n *\n * @param urlPattern        a URL to interpolate/append a query to\n * @param query             a query to interpolate/append into the URL\n *\n * @return                  the URL with the query encoded (if needed) and\n *                          inserted at the relevant point\n */\nexport function interpolateSearchItem(urlPattern: URL, query: string): URL {\n    const hasInterpolationPoint = urlPattern.href.includes(\"%s\")\n\n    let queryWords = query.split(\" \")\n\n    // percent-encode if theres a %s in the query string, or if we're apppending\n    // and there's a query string\n    if (\n        (hasInterpolationPoint && urlPattern.search.includes(\"%s\")) ||\n        urlPattern.search !== \"\"\n    ) {\n        query = encodeURIComponent(query)\n        queryWords = queryWords.map(w => encodeURIComponent(w))\n    }\n\n    // replace or append as needed\n    if (hasInterpolationPoint) {\n        const resultingURL = new URL(\n            urlPattern.href.replace(/%s\\d+/g, function (x) {\n                const index = parseInt(x.slice(2), 10) - 1\n                if (index >= queryWords.length) {\n                    return \"\"\n                }\n\n                return queryWords[index]\n            }).replace(/%s\\[(-?\\d+)?:(-?\\d+)?\\]/g, function(match, p1, p2) {\n                const l = (x => x >= 1 ? x - 1 : x)\n                // slices are 1-indexed\n                const start = p1 ? l(parseInt(p1, 10)) : 0;\n                const slice = p2 ?\n                    queryWords.slice(start, l(parseInt(p2, 10))) :\n                    queryWords.slice(start)\n                return slice.join(\" \")\n            }),\n        )\n\n        return new URL(resultingURL.href.replace(\"%s\", query))\n    } else {\n        return new URL(urlPattern.href + query)\n    }\n}\n\n/**\n * @param url May be either an absolute or a relative URL.\n * @param baseURI The URL the absolute URL should be relative to. This is\n * usually the URL of the current page.\n */\nexport function getAbsoluteURL(url: string, baseURI: string = document.baseURI) {\n    // We can choose between using complicated RegEx and string manipulation,\n    // or just letting the browser do it for us. The latter is probably safer,\n    // which should make it worth the (small) overhead of constructing an URL\n    // just for this.\n    return new URL(url, baseURI).href\n}\n", "// Borrowed from\n// https://tech.mybuilder.com/handling-retries-and-back-off-attempts-with-javascript-promises/\nexport const sleep = (duration: number) =>\n    new Promise(res => setTimeout(res, duration))\n\nexport const backoff = (\n    fn: (...args: any[]) => Promise<any>,\n    retries = 5,\n    delay = 50,\n) =>\n    fn().catch(err => {\n        retries > 1\n            ? sleep(delay).then(() => backoff(fn, retries - 1, delay * 2))\n            : Promise.reject(err)\n    })\n", "import * as convert from \"@src/lib/convert\"\nimport browserProxy from \"@src/lib/browser_proxy\"\nimport * as config from \"@src/lib/config\"\nimport * as UrlUtil from \"@src/lib/url_util\"\nimport { sleep } from \"@src/lib/patience\"\nimport * as R from \"ramda\"\n\nexport async function getSortedTabs(\n    forceSort?: \"mru\" | \"default\",\n): Promise<browser.tabs.Tab[]> {\n    const sortAlg = forceSort ?? config.get(\"tabsort\")\n    const comp =\n        sortAlg === \"mru\"\n            ? (a, b) =>\n                  +a.active || -b.active || b.lastAccessed - a.lastAccessed\n            : (a, b) => a.index - b.index\n    const hiddenVal = config.get(\"tabshowhidden\") === \"true\" ? undefined : false\n    return browserBg.tabs\n        .query({\n            currentWindow: true,\n            hidden: hiddenVal,\n        })\n        .then(tabs => tabs.sort(comp))\n}\n\nexport function inContentScript() {\n    return getContext() === \"content\"\n}\n\nexport function getTriVersion() {\n    const manifest = browser.runtime.getManifest()\n\n    // version_name only really exists in Chrome\n    // but we're using it anyway for our own purposes\n    return (\n        manifest as browser._manifest.WebExtensionManifest & {\n            version_name: string\n        }\n    ).version_name\n}\n\nexport function getPrettyTriVersion() {\n    const manifest = browser.runtime.getManifest()\n    return manifest.name + \" \" + getTriVersion()\n}\n\nexport function notBackground() {\n    return getContext() !== \"background\"\n}\n\n/** WebExt code can be run from three contexts:\n\n    Content script\n    Extension page\n    Background page\n*/\nexport function getContext() {\n    if (!browser.tabs) {\n        return \"content\"\n    } else if (\n        browser.runtime.getURL(\"_generated_background_page.html\") ===\n        window.location.href\n    ) {\n        return \"background\"\n    } else {\n        return \"extension\"\n    }\n}\n\n// Make this library work for both content and background.\nexport const browserBg = inContentScript() ? browserProxy : browser\n\n/** The first active tab in the currentWindow.\n *\n * TODO: Highlander theory: Can there ever be more than one?\n *\n */\nexport async function activeTab() {\n    return (\n        await browserBg.tabs.query({\n            active: true,\n            currentWindow: true,\n        })\n    )[0]\n}\n\nexport async function activeTabId() {\n    return (await activeTab()).id\n}\n\nexport async function prevActiveTab() {\n    const tabs = (\n        await browserBg.tabs.query({\n            currentWindow: true,\n        })\n    ).sort((a, b) => b.lastAccessed - a.lastAccessed)\n\n    if (tabs.length > 1) return tabs[1]\n    return tabs[0]\n}\n\n/**\n * Return the active window's id.\n *\n */\nexport async function activeWindowId() {\n    return (await browserBg.windows.getCurrent()).id\n}\n\nexport async function removeActiveWindowValue(value) {\n    browserBg.sessions.removeWindowValue(await activeWindowId(), value)\n}\n\nexport async function activeTabContainerId() {\n    return (await activeTab()).cookieStoreId\n}\n\nexport async function ownTab() {\n    // Warning: this relies on the owntab_background listener being set in messaging.ts in order to work\n    return browser.runtime.sendMessage({ type: \"owntab_background\" })\n}\n\nexport async function ownTabId() {\n    return (await ownTab()).id\n}\n\nasync function windows() {\n    return (await browserBg.windows.getAll())\n        .map(w => w.id)\n        .sort((a, b) => a - b)\n}\n\n/* Returns Tridactyl's window index. */\nexport async function ownWinTriIndex() {\n    return (await windows()).indexOf((await ownTab()).windowId)\n}\n\n/* Returns mozilla's internal window id from Tridactyl's index. */\nexport async function getWinIdFromIndex(index: string) {\n    return (await windows())[index]\n}\n\nexport async function ownTabContainer() {\n    return browserBg.contextualIdentities.get((await ownTab()).cookieStoreId)\n}\n\nexport async function activeTabContainer() {\n    const containerId = await activeTabContainerId()\n    if (containerId !== \"firefox-default\")\n        return browserBg.contextualIdentities.get(containerId)\n    else\n        throw new Error(\n            \"firefox-default is not a valid contextualIdentity (activeTabContainer)\",\n        )\n}\n\n/** Compare major firefox versions */\nexport async function firefoxVersionAtLeast(desiredmajor: number) {\n    const versionstr = (await browserBg.runtime.getBrowserInfo()).version\n    const actualmajor = convert.toNumber(versionstr.split(\".\")[0])\n    return actualmajor >= desiredmajor\n}\n\n/** Simpler tabs.create option.\n\n    If related = true && relatedopenpos = 'related' then open a new tab with\n    some URL as if that URL had been middle clicked on the current tab. If\n    relatedopenpos = 'next', open it as the next tab. If 'last', open it last\n    and don't tell Firefox who opened it.\n\n    Similarly for tabopenpos, but only tell FF that the newtab is related to\n    the activeTab if tabopenpos == 'related'.\n\n    i.e. place that tab just after the current tab and set openerTabId\n*/\nexport async function openInNewTab(\n    url: string,\n\n    // NB: defaults are actually enforced just below\n    kwargs: { active?; related?; cookieStoreId?; bypassFocusHack?; discarded? } = {\n        active: true,\n        related: false,\n        cookieStoreId: undefined,\n        bypassFocusHack: false,\n        discarded: false,\n    },\n\n    waitForDOM = false,\n) {\n    // Ensure sensible defaults are used\n    kwargs = R.mergeLeft(kwargs, {\n        active: true,\n        related: false,\n        cookieStoreId: undefined,\n        bypassFocusHack: false,\n        discarded: false,\n    })\n\n    const thisTab = await activeTab()\n    const options: Parameters<typeof browser.tabs.create>[0] = {\n        active: kwargs.bypassFocusHack,\n        url,\n        cookieStoreId: kwargs.cookieStoreId,\n        discarded: kwargs.discarded,\n    }\n\n    // Be nice to behrmann, #342\n    let pos\n    if (kwargs.related) pos = config.get(\"relatedopenpos\")\n    else pos = config.get(\"tabopenpos\")\n    switch (pos) {\n        case \"next\":\n            options.index = thisTab.index + 1\n            if (kwargs.related && (await firefoxVersionAtLeast(57)))\n                options.openerTabId = thisTab.id\n            break\n        case \"last\":\n            // Infinity can't be serialised, apparently.\n            options.index = (\n                await browserBg.tabs.query({\n                    currentWindow: true,\n                })\n            ).length\n            break\n        case \"related\":\n            if (await firefoxVersionAtLeast(57)) {\n                options.openerTabId = thisTab.id\n            } else {\n                options.index = thisTab.index + 1\n            }\n            break\n    }\n\n    const tabCreateWrapper = async options => {\n        const tab = await browserBg.tabs.create(options)\n        const answer: Promise<browser.tabs.Tab> = new Promise(resolve => {\n            // This can't run in content scripts, obviously\n            // surely we never call this from a content script?\n            if (waitForDOM) {\n                const listener = (message, sender) => {\n                    if (\n                        message === \"dom_loaded_background\" &&\n                        sender?.tab?.id === tab.id\n                    ) {\n                        browserBg.runtime.onMessage.removeListener(listener)\n                        resolve(tab)\n                    }\n                }\n                browserBg.runtime.onMessage.addListener(listener)\n            } else {\n                resolve(tab)\n            }\n        })\n        // Return on slow- / extremely quick- loading pages anyway\n        return Promise.race([\n            answer,\n            (async () => {\n                await sleep(750)\n                return tab\n            })(),\n        ])\n    }\n    if (kwargs.active === false) {\n        // load in background\n        return tabCreateWrapper(options)\n    } else {\n        // load in background and then activate, per issue #1993\n        return tabCreateWrapper(options).then(newtab =>\n            browserBg.tabs.update(newtab.id, { active: true }),\n        )\n    }\n}\n\n// lazily copied from excmds.ts' winopen - forceURI really ought to be moved to lib/webext\n// Should consider changing interface of this to match openInNewTab or vice versa\nexport function openInNewWindow(createData = {}) {\n    browserBg.windows.create(createData)\n}\n\n// Returns object if we should use the search engine instead\nexport async function queryAndURLwrangler(\n    query: string[],\n): Promise<string | { engine?: string; query: string }> {\n    let address = query.join(\" \")\n\n    if (address === \"\") {\n        address = config.get(\"newtab\")\n    }\n\n    // Special ritual for about:newtab: we can access it but only if we don't ask for it\n    if (address === \"about:newtab\") {\n        return undefined\n    }\n\n    const index = address.indexOf(\" \")\n    let firstWord = address\n    if (index > -1) firstWord = address.substr(0, index)\n\n    if (firstWord === \"\") {\n        // No query, no newtab set, the user is asking for Tridactyl's newtab page, which we deal with in :tabopen / :open directly\n        return undefined\n    }\n\n    // Perhaps the user typed a URL?\n    if (/^[a-zA-Z0-9+.-]+:[^\\s:]/.test(address)) {\n        try {\n            return new URL(address).href\n        } catch (e) {\n            // Not a problem, we'll treat address as a regular search query\n        }\n    }\n\n    // `+ 1` because we want to get rid of the space\n    const rest = address.substr(firstWord.length + 1)\n\n    const expandRecursively = (name, dict, prevExpansions = []) => {\n        if (name in dict) {\n            if (prevExpansions.includes(name)) {\n                throw new Error(\n                    `Infinite loop detected while expanding ${name}. Stack: ${prevExpansions}.`,\n                )\n            }\n            prevExpansions.push(name)\n            return expandRecursively(dict[name], dict, prevExpansions)\n        }\n        return name\n    }\n\n    const searchurls = config.get(\"searchurls\")\n    const template = expandRecursively(firstWord, searchurls)\n    if (template != firstWord) {\n        const url = UrlUtil.interpolateSearchItem(new URL(template), rest)\n        // firstWord is a searchurl, so let's use that\n        return url.href\n    }\n\n    const jsurls = config.get(\"jsurls\")\n    const js = expandRecursively(firstWord, jsurls)\n    if (js != firstWord) {\n        return eval(js)(rest)\n    }\n\n    const searchEngines = await browserBg.search.get()\n    let engine = searchEngines.find(engine => engine.alias === firstWord)\n    // Maybe firstWord is the name of a firefox search engine?\n    if (engine !== undefined) {\n        return { engine: engine.name, query: rest }\n    }\n\n    // Maybe it's a domain without protocol\n    try {\n        const url = new URL(\"http://\" + address)\n        // Ignore unlikely domains\n        if (url.hostname.indexOf(\".\") > 0 || url.port || url.password) {\n            return url.href\n        }\n    } catch (e) {}\n\n    // Let's default to the user's search engine then\n\n    // if firstWord is \"search\", remove it from the query.\n    // This allows users to search for a URL or a word they defined as searchurl\n    let queryString = address\n    if (firstWord === \"search\") {\n        queryString = rest\n    }\n\n    const enginename = config.get(\"searchengine\")\n    // firstWord is neither a searchurl nor a search engine, let's see if a search engine has been defined in Tridactyl\n    if (enginename) {\n        if (searchurls[enginename]) {\n            const url = UrlUtil.interpolateSearchItem(\n                new URL(searchurls[enginename]),\n                queryString,\n            )\n            return url.href\n        }\n\n        engine = searchEngines.find(engine => engine.alias === enginename)\n        if (engine !== undefined) {\n            return { engine: engine.name, query: queryString }\n        }\n    }\n\n    // No search engine has been defined in Tridactyl, let's use firefox's default search engine\n    return { query: queryString }\n}\n\nexport async function openInTab(tab, opts = {}, strarr: string[]) {\n    const maybeURL = await queryAndURLwrangler(strarr)\n    if (typeof maybeURL === \"string\") {\n        return browserBg.tabs.update(\n            tab.id,\n            Object.assign({ url: maybeURL }, opts),\n        )\n    }\n    if (typeof maybeURL === \"object\") {\n        return browserBg.search.search({ tabId: tab.id, ...maybeURL })\n    }\n\n    // Fall back to our new tab page\n    return browserBg.tabs.update(\n        tab.id,\n        Object.assign({ url: \"/static/newtab.html\" }, opts),\n    )\n}\n\n/**\n * Set active the tab with tabId and focus the window it is located in.\n * @param tabId tab identifier\n */\nexport async function goToTab(tabId: number) {\n    const tab = await browserBg.tabs.update(tabId, { active: true })\n    await browserBg.windows.update(tab.windowId, { focused: true })\n    return tab\n}\n", "import { browserBg, activeTabId, ownTabId, getContext } from \"@src/lib/webext\"\nimport * as Messages from \"@src/message_protocols\"\nimport Logger from \"@src/lib/logging\"\nconst logger = new Logger(\"messaging\")\n\nexport type TabMessageType =\n    | \"editorfn_content\"\n    | \"excmd_content\"\n    | \"controller_content\"\n    | \"commandline_content\"\n    | \"finding_content\"\n    | \"commandline_cmd\"\n    | \"commandline_frame\"\n    | \"state\"\n    | \"lock\"\n    | \"alive\"\n    | \"tab_changes\"\n\nexport type NonTabMessageType =\n    | \"owntab_background\"\n    | \"excmd_background\"\n    | \"controller_background\"\n    | \"browser_proxy_background\"\n    | \"download_background\"\n    | \"performance_background\"\nexport type MessageType = TabMessageType | NonTabMessageType\n\nexport interface Message {\n    [key: string]: any\n    type: MessageType\n    // and other unknown attributes...\n}\n\nexport type listener = (\n    message: Message,\n    sender?,\n    sendResponse?,\n) => void | Promise<any>\n\n// Calls methods on obj that match .command and sends responses back\nexport function attributeCaller(obj) {\n    function handler(message: Message, sender, sendResponse) {\n        logger.debug(message)\n\n        // Args may be undefined, but you can't spread undefined...\n        if (message.args === undefined) message.args = []\n\n        // Call command on obj\n        try {\n            const response = obj[message.command](...message.args)\n\n            // Return response to sender\n            if (response instanceof Promise) {\n                logger.debug(\"Returning promise...\", response)\n                sendResponse(response)\n                // Docs say you should be able to return a promise, but that\n                // doesn't work.\n                /* return response */\n            } else if (response !== undefined) {\n                logger.debug(\"Returning synchronously...\", response)\n                sendResponse(response)\n            }\n        } catch (e) {\n            logger.error(\n                `Error processing ${message.command}(${message.args})`,\n                e,\n            )\n            return Promise.reject(e)\n        }\n    }\n    return handler\n}\n\ninterface TypedMessage<\n    Root,\n    Type extends keyof Root,\n    Command extends keyof Root[Type]\n> {\n    type: Type\n    command: Command\n    args: Parameters<Root[Type][Command]>\n}\n\nfunction backgroundHandler<\n    Root,\n    Type extends keyof Root,\n    Command extends keyof Root[Type]\n>(\n    root: Root,\n    message: TypedMessage<Root, Type, Command>,\n): ReturnType<Root[Type][Command]> {\n    return root[message.type][message.command](...message.args)\n}\n\nexport function setupListener<Root>(root: Root) {\n    browser.runtime.onMessage.addListener(\n        (message: any) => {\n            if (message.type in root) {\n                if (!(message.command in root[message.type]))\n                    throw new Error(\n                        `missing handler in protocol ${message.type} ${message.command}`,\n                    )\n                if (!Array.isArray(message.args))\n                    throw new Error(\n                        `wrong arguments in protocol ${message.type} ${message.command}`,\n                    )\n                return Promise.resolve(backgroundHandler(root, message))\n            }\n        },\n    )\n}\n\n// type StripPromise<T> = T extends Promise<infer U> ? U : T\n\n/** Send a message to non-content scripts */\nexport async function message<\n    Type extends keyof Messages.Background,\n    Command extends keyof Messages.Background[Type],\n    F extends ((...args: any[]) => any) & Messages.Background[Type][Command]\n>(type: Type, command: Command, ...args: Parameters<F>) {\n    const message: TypedMessage<Messages.Background, Type, Command> = {\n        type,\n        command,\n        args,\n    }\n\n    // Typescript didn't like this\n    // return browser.runtime.sendMessage<typeof message, StripPromise<ReturnType<F>>>(message)\n    return browser.runtime.sendMessage(message)\n}\n\n/** Message the active tab of the currentWindow */\nexport async function messageActiveTab(\n    type: TabMessageType,\n    command: string,\n    args?: any[],\n) {\n    return messageTab(await activeTabId(), type, command, args)\n}\n\nexport async function messageTab(\n    tabId,\n    type: TabMessageType,\n    command?,\n    args?,\n): Promise<any> {\n    const message: Message = {\n        type,\n        command,\n        args,\n    }\n    return browserBg.tabs.sendMessage(tabId, message)\n}\n\nlet _ownTabId\nexport async function messageOwnTab(type: TabMessageType, command, args?) {\n    if (_ownTabId === undefined) {\n        _ownTabId = await ownTabId()\n    }\n    if (_ownTabId === undefined)\n        throw new Error(\"Can't message own tab: _ownTabId is undefined\")\n    return messageTab(_ownTabId, type, command, args)\n}\n\nexport async function messageAllTabs(\n    type: TabMessageType,\n    command: string,\n    args?: any[],\n) {\n    const responses = []\n    for (const tab of await browserBg.tabs.query({})) {\n        try {\n            responses.push(await messageTab(tab.id, type, command, args))\n        } catch (e) {\n            // Skip errors caused by tabs we aren't running on\n            if (\n                e.message !=\n                \"Could not establish connection. Receiving end does not exist.\"\n            ) {\n                logger.error(e)\n            }\n        }\n    }\n    return responses\n}\n\nconst listeners = new Map<string, Set<listener>>()\n\n/** Register a listener to be called for each message with type */\nexport function addListener(type: MessageType, callback: listener) {\n    if (!listeners.get(type)) {\n        listeners.set(type, new Set())\n    }\n    listeners.get(type).add(callback)\n    return () => {\n        listeners.get(type).delete(callback)\n    }\n}\n\nif (getContext() === \"background\") {\n    // Warning: lib/webext.ts:ownTab() relies on this listener being added in order to work\n    addListener(\"owntab_background\", (message, sender, sendResponse) => {\n        const x = Object.assign(Object.create(null), sender.tab)\n        x.mutedInfo = Object.assign(Object.create(null), sender.tab.mutedInfo)\n        x.sharingState = Object.assign(\n            Object.create(null),\n            sender.tab.sharingState,\n        )\n        sendResponse(Promise.resolve(x))\n    })\n}\n\n/** Recv a message from runtime.onMessage and send to all listeners */\nfunction onMessage(message, sender, sendResponse) {\n    if (listeners.get(message.type)) {\n        for (const listener of listeners.get(message.type)) {\n            listener(message, sender, sendResponse)\n        }\n    }\n}\n\nbrowser.runtime.onMessage.addListener(onMessage)\n", "/**\n * Tridactyl shared state\n *\n * __NB__: Here be dragons.\n *\n * In the background script, \"state\" can be used as a normal object. Just \"import state from \"@src/state\"\n *\n * In the content scripts, \"state\" can be set as a normal object and changes will propagate to the background script.\n *\n * In the content scripts, \"state\" must be read using \"import * as State from \"@src/state\" and \"State.getAsync(property)\". If you read it directly with `state` you should get an error at runtime. Certain methods like `concat` will not throw an error but their behaviour is not defined and should be avoided.\n */\n\nimport Logger from \"@src/lib/logging\"\nimport * as messaging from \"@src/lib/messaging\"\nimport { notBackground } from \"@src/lib/webext\"\nimport * as R from \"ramda\"\n\nconst logger = new Logger(\"state\")\n\nclass State {\n    lastSearchQuery: string = undefined\n    cmdHistory: string[] = []\n    prevInputs: Array<{ inputId: string; tab: number; jumppos?: number }> = [\n        {\n            inputId: undefined,\n            tab: undefined,\n            jumppos: undefined,\n        },\n    ]\n    last_ex_str = \"echo\"\n    globalMarks: Map<\n        string,\n        {\n            url: string\n            scrollX: number\n            scrollY: number\n            tabId: number\n        }\n    > = new Map()\n    localMarks: Map<\n        string,\n        Map<\n            string,\n            {\n                scrollX: number\n                scrollY: number\n            }\n        >\n    > = new Map()\n    beforeJumpMark: {\n        url: string\n        scrollX: number\n        scrollY: number\n        tabId: number\n    } = undefined\n}\n\n// Store these keys in the local browser storage to persist between restarts\nconst PERSISTENT_KEYS: Array<keyof State> = [\"cmdHistory\", \"globalMarks\"]\n\n// Don't change these from const or you risk breaking the Proxy below.\nconst defaults = Object.freeze(new State())\n\nconst overlay = {} as State\nbrowser.storage.local\n    .get(\"state\")\n    .then(res => {\n        if (\"state\" in res) {\n            logger.debug(\"Loaded initial state:\", res.state)\n            Object.assign(overlay, res.state)\n        }\n    })\n    .catch((...args) => logger.error(...args))\n\nconst state = new Proxy(overlay, {\n    /** Give defaults if overlay doesn't have the key */\n    get(target, property) {\n        if (notBackground())\n            throw new Error(\n                \"State object must be accessed with getAsync in content\",\n            )\n        if (property in target) {\n            return target[property]\n        } else {\n            return defaults[property]\n        }\n    },\n\n    set(target, property: keyof State, value) {\n        logger.debug(\"State changed!\", property, value)\n        if (notBackground()) {\n            const inIncognitoContext = browser.extension.inIncognitoContext\n            browser.runtime.sendMessage({\n                type: \"state\",\n                command: \"stateUpdate\",\n                args: { property, value, inIncognitoContext },\n            })\n            return true\n        }\n        // Do we need a global storage lock?\n        target[property] = value\n\n        // Persist \"sets\" to storage in the background for some keys\n        if (PERSISTENT_KEYS.includes(property)) {\n            // Ensure we don't accidentally store anything sensitive\n            if (browser.extension.inIncognitoContext) {\n                console.error(\n                    \"Attempted to write to storage in private window.\",\n                )\n                return false\n            }\n            browser.storage.local.set({\n                state: R.pick(PERSISTENT_KEYS, target),\n            } as any)\n        }\n        return true\n    },\n})\n\nexport async function getAsync<K extends keyof State>(\n    property: K,\n): Promise<State[K]> {\n    if (notBackground())\n        return browser.runtime.sendMessage({\n            type: \"state\",\n            command: \"stateGet\",\n            args: [{ prop: property }],\n        })\n    else return state[property]\n}\n\n// Skip this in mock testing - the mock doesn't like notBackground\n// Keep instances of state.ts synchronised with each other\nnotBackground &&\n    !notBackground() &&\n    messaging.addListener(\"state\", (message, sender, sendResponse) => {\n        if (message.command == \"stateUpdate\") {\n            const property = message.args.property\n            const value = message.args.value\n            // Ensure we don't accidentally store anything sensitive\n            const inIncognitoContext = message.args.inIncognitoContext\n            if (inIncognitoContext) {\n                console.error(\n                    \"Attempted to write to storage in private window.\",\n                )\n                return\n            }\n            logger.debug(\"State changed!\", property, value)\n            state[property] = value\n        } else if (message.command == \"stateGet\") {\n            sendResponse(state[message.args[0].prop])\n        } else\n            throw new Error(\n                \"Unsupported message to state, type \" + message.command,\n            )\n    })\n\nexport { state as default }\n", "import { messageOwnTab } from \"@src/lib/messaging\"\nimport * as State from \"@src/state\"\nimport { contentState } from \"@src/content/state_content\"\n\nconst sleep = ms => new Promise(resolve => setTimeout(resolve, ms))\n\nasync function awaitProxyEq(proxy, a: string, b: string) {\n    let counter = 0\n    while (proxy[a] != proxy[b] && counter < 50) {\n        await sleep(10)\n        counter += 1\n    }\n    return proxy[a] == proxy[b]\n}\n\n// One day we'll use typeof commandline_state from commandline_frame.ts\nexport function getCommandlineFns(cmdline_state: {\n    [otherStuff: string]: any\n    fns: ReturnType<typeof getCommandlineFns>\n}) {\n    return {\n        /**\n         * Insert the first command line history line that starts with the content of the command line in the command line.\n         */\n        complete: async () => {\n            const fragment = cmdline_state.clInput.value\n            const matches = (await State.getAsync(\"cmdHistory\")).filter(key =>\n                key.startsWith(fragment),\n            )\n            const mostrecent = matches[matches.length - 1]\n            if (mostrecent !== undefined)\n                cmdline_state.clInput.value = mostrecent\n            return cmdline_state.refresh_completions(\n                cmdline_state.clInput.value,\n            )\n        },\n\n        /**\n         * Selects the next completion.\n         */\n        next_completion: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp => comp.next())\n        },\n\n        /**\n         * Selects the previous completion.\n         */\n        prev_completion: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp => comp.prev())\n        },\n\n        /**\n         * Deselects the currently selected completion.\n         */\n        deselect_completion: () => {\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp => comp.deselect())\n        },\n\n        /**\n         * Inserts the currently selected completion and a space in the command line.\n         */\n        insert_completion: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            const command = cmdline_state.getCompletion()\n            if (cmdline_state.activeCompletions) {\n                cmdline_state.activeCompletions.forEach(\n                    comp => (comp.completion = undefined),\n                )\n            }\n            let result = Promise.resolve([])\n            if (command) {\n                cmdline_state.clInput.value = command + \" \"\n                result = cmdline_state.refresh_completions(\n                    cmdline_state.clInput.value,\n                )\n            }\n            return result\n        },\n\n        /**\n         * If a completion is selected, inserts it in the command line with a space.\n         * If no completion is selected, inserts a space where the caret is.\n         */\n        insert_space_or_completion: () => {\n            const command = cmdline_state.getCompletion()\n            if (cmdline_state.activeCompletions) {\n                cmdline_state.activeCompletions.forEach(\n                    comp => (comp.completion = undefined),\n                )\n            }\n            if (command) {\n                cmdline_state.clInput.value = command + \" \"\n            } else {\n                space(cmdline_state)\n            }\n            return cmdline_state.refresh_completions(\n                cmdline_state.clInput.value,\n            )\n        },\n\n        /**\n         * Insert a space\n         */\n        insert_space: () => {\n            space(cmdline_state)\n        },\n\n        /** Hide the command line and cmdline_state.clear its content without executing it. **/\n        hide_and_clear: () => {\n            cmdline_state.clear(true)\n            cmdline_state.keyEvents = []\n\n            // Try to make the close cmdline animation as smooth as possible.\n            messageOwnTab(\"commandline_content\", \"hide\")\n            messageOwnTab(\"commandline_content\", \"blur\")\n            // Delete all completion sources - I don't think this is required, but this\n            // way if there is a transient bug in completions it shouldn't persist.\n            if (cmdline_state.activeCompletions)\n                cmdline_state.activeCompletions.forEach(comp =>\n                    cmdline_state.completionsDiv.removeChild(comp.node),\n                )\n            cmdline_state.activeCompletions = undefined\n            cmdline_state.isVisible = false\n        },\n\n        /**\n         * Check if the command is valid\n         */\n        is_valid_commandline: (command: string): boolean => {\n            if (command === undefined) return false\n\n            const func = command.trim().split(/\\s+/)[0]\n\n            return !(func.length === 0 || func.startsWith(\"#\"))\n        },\n\n        /**\n         * Save non-secret commands to the cmdHistory and update the cmdline_history_position\n         */\n        store_ex_string: (command: string) => {\n            const [func, ...args] = command.trim().split(/\\s+/)\n\n            // Save non-secret commandlines to the history.\n            if (\n                !browser.extension.inIncognitoContext &&\n                !(func === \"winopen\" && args[0] === \"-private\")\n            ) {\n                State.getAsync(\"cmdHistory\").then(c => {\n                    cmdline_state.state.cmdHistory = c.concat([command])\n                })\n                cmdline_state.cmdline_history_position = 0\n            }\n        },\n\n        /**\n         * Selects the next history line.\n         */\n        next_history: () => cmdline_state.history(1),\n\n        /**\n         * Selects the prev history line.\n         */\n        prev_history: () => cmdline_state.history(-1),\n        /**\n         * Execute the content of the command line and hide it.\n         **/\n        accept_line: async () => {\n            await awaitProxyEq(\n                contentState,\n                \"current_cmdline\",\n                \"cmdline_filter\",\n            )\n            const command =\n                cmdline_state.getCompletion() || cmdline_state.clInput.value\n\n            cmdline_state.fns.hide_and_clear()\n\n            if (cmdline_state.fns.is_valid_commandline(command) === false)\n                return\n\n            cmdline_state.fns.store_ex_string(command)\n\n            // Send excmds directly to our own tab, which fixes the\n            // old bug where a command would be issued in one tab but\n            // land in another because the active tab had\n            // changed. Background-mode excmds will be received by the\n            // own tab's content script and then bounced through a\n            // shim to the background, but the latency increase should\n            // be acceptable becuase the background-mode excmds tend\n            // to be a touch less latency-sensitive.\n            return messageOwnTab(\"controller_content\", \"acceptExCmd\", [command])\n        },\n\n        execute_ex_on_completion_args: (excmd: string) =>\n            execute_ex_on_x(true, cmdline_state, excmd),\n\n        execute_ex_on_completion: (excmd: string) =>\n            execute_ex_on_x(false, cmdline_state, excmd),\n\n        copy_completion: () => {\n            const command = cmdline_state.getCompletion()\n            cmdline_state.fns.hide_and_clear()\n            return messageOwnTab(\"controller_content\", \"acceptExCmd\", [\n                \"clipboard yank \" + command,\n            ])\n        },\n    }\n}\n\nfunction execute_ex_on_x(args_only: boolean, cmdline_state, excmd: string) {\n    const args =\n        cmdline_state.getCompletion(args_only) || cmdline_state.clInput.value\n\n    const cmdToExec = (excmd ? excmd + \" \" : \"\") + args\n    cmdline_state.fns.store_ex_string(cmdToExec)\n\n    return messageOwnTab(\"controller_content\", \"acceptExCmd\", [cmdToExec])\n}\n\nfunction space(cmdline_state) {\n    const selectionStart = cmdline_state.clInput.selectionStart\n    const selectionEnd = cmdline_state.clInput.selectionEnd\n    cmdline_state.clInput.value =\n        cmdline_state.clInput.value.substring(0, selectionStart) +\n        \" \" +\n        cmdline_state.clInput.value.substring(selectionEnd)\n    cmdline_state.clInput.selectionStart = cmdline_state.clInput.selectionEnd =\n        selectionStart + 1\n}\n", "import * as config from \"@src/lib/config\"\nimport state from \"@src/state\"\nimport * as State from \"@src/state\"\nimport * as Logging from \"@src/lib/logging\"\nimport { contentState } from \"@src/content/state_content\"\nimport {\n    activeTabId,\n    openInNewTab,\n    activeTabContainerId,\n    inContentScript,\n} from \"@src/lib/webext\"\nconst logger = new Logging.Logger(\"dom\")\n\n// From saka-key lib/dom.js, under Apachev2\n\n/**\n * Given a DOM element, returns true if you can edit it with key presses or\n * if the element is of a type that should handle its own keypresses\n * (e.g. role=application for google docs/sheets)\n * TODO: work on case sensitivity\n * consider all the possible cases\n * @param {HTMLElement} element\n * @returns {boolean}\n */\nexport function isTextEditable(element: Element) {\n    if (element) {\n        if ((element as any).readOnly === true) return false\n        // HTML is always upper case, but XHTML is not necessarily upper case\n        if (element.nodeName.toUpperCase() === \"INPUT\") {\n            return isEditableHTMLInput(element as HTMLInputElement)\n        }\n\n        if (\n            [\"SELECT\", \"TEXTAREA\", \"OBJECT\"].includes(\n                element.nodeName.toUpperCase(),\n            )\n        ) {\n            return true\n        }\n\n        // These properties are only defined on HTMLElements\n        if (element instanceof HTMLElement) {\n            if (element.contentEditable === undefined) {\n                // This happens on e.g. svgs.\n                return false\n            }\n            if (element.contentEditable.toUpperCase() === \"TRUE\") {\n                return true\n            }\n        }\n\n        // ARIA stuff isn't pulled out into fields, so we have to\n        // manually inspect the attributes to find it.\n        // Google products perform some witchcraft with its search input as\n        // seen in #1031, the conditional seems to be enough to fix it.\n        if (element.hasOwnProperty(\"attributes\")) {\n            for (const attr of element.attributes) {\n                if (attr.name === \"role\" && attr.value === \"application\") {\n                    return true\n                }\n            }\n        }\n    }\n    return false\n}\n\n/**\n * Returns whether the passed HTML input element is editable\n * @param {HTMLInputElement} element\n */\nfunction isEditableHTMLInput(element: HTMLInputElement) {\n    if (element.disabled || element.readOnly) return false\n    switch (element.type) {\n        case undefined:\n        case \"text\":\n        case \"search\":\n        case \"email\":\n        case \"url\":\n        case \"number\":\n        case \"password\":\n        case \"date\":\n        case \"tel\":\n            return true\n    }\n    return false\n}\n\n/**\n * Dispatch a mouse event to the target element\n * based on cVim's implementation\n * @param {HTMLElement} element\n * @param {'hover' | 'unhover' | 'click'} type\n * @param {{ ctrlKey, shiftKey, altKey, metaKey }} modifierKeys\n */\nexport function mouseEvent(\n    element: Element,\n    type: \"hover\" | \"unhover\" | \"click\",\n    modifierKeys = {},\n) {\n    let events = []\n    switch (type) {\n        case \"unhover\":\n            events = [\"mousemove\", \"mouseout\", \"mouseleave\"]\n            break\n        case \"click\":\n            events = [\"mousedown\", \"mouseup\", \"click\"]\n        case \"hover\":\n            events = [\"mouseover\", \"mouseenter\", \"mousemove\"].concat(events)\n            break\n    }\n    events.forEach(type => {\n        const event = new MouseEvent(type, {\n            bubbles: true,\n            cancelable: true,\n            view: window,\n            detail: 1, // usually the click count\n            ...modifierKeys,\n        })\n        element.dispatchEvent(event)\n    })\n}\n\nexport function elementsWithText(includeInvisible = false) {\n    return getElemsBySelector(\"*\", [\n        isVisibleFilter(includeInvisible),\n        hint => hint.textContent !== \"\",\n    ])\n}\n\n/** Iterable of elements that match xpath.\n\n    Adapted from stackoverflow\n */\nexport function* elementsByXPath(xpath, parent?) {\n    const query = document.evaluate(\n        xpath,\n        parent || document,\n        null,\n        XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,\n        null,\n    )\n    for (let i = 0, length = query.snapshotLength; i < length; ++i) {\n        yield query.snapshotItem(i)\n    }\n}\n\n/** Type for functions that can filter element arrays */\ntype ElementFilter = (element: Element) => boolean\n\n/** Is the element of \"substantial\" size and shown on the page. The element\n * doesn't need to be in the viewport. This is useful when you want to\n * scroll to something, but still want to exclude tiny and useless items\n */\nexport function isSubstantial(element: Element) {\n    const clientRect = element.getClientRects()[0]\n    const computedStyle = getComputedStyle(element)\n    // remove elements that are barely within the viewport, tiny, or invisible\n    switch (true) {\n        case !clientRect:\n        case clientRect.width < 3:\n        case clientRect.height < 3:\n        case computedStyle.visibility !== \"visible\":\n        case computedStyle.display === \"none\":\n            return false\n    }\n    return true\n}\n\n/** This function decides whether the height attribute contained in a\n   ComputedStyle matters.  For example, the height attribute doesn't matter for\n   elements that have \"display: inline\" because their height is overriden by\n   the height of the node they are in. */\nexport function heightMatters(style: CSSStyleDeclaration) {\n    switch (style.display) {\n        case \"inline\":\n        case \"table-column\":\n        case \"table-column-group\":\n            /* These two depend on other factors such as the element's type (span,\n         div...) or its parent's style. If the previous cases aren't enough to\n         decide whether the width attribute of the element matters, we should\n         maybe try to test for them.\n      case \"initial\":\n      case \"inherit\":*/\n            return false\n    }\n    return true\n}\n\n/* See [[heightMatters]] */\nexport function widthMatters(style: CSSStyleDeclaration) {\n    switch (style.display) {\n        case \"inline\":\n        case \"table-column\":\n        case \"table-column-group\":\n        case \"table-header-group\":\n        case \"table-footer-group\":\n        case \"table-row-group\":\n        case \"table-cell\":\n        case \"table-row\":\n            /* Take a look at [[heightMatters]] in order to understand why these two\n         cases are commented\n      case \"initial\":\n      case \"inherit?:*/\n            return false\n    }\n    return true\n}\n\nexport function isVisibleFilter(\n    includeInvisible: boolean,\n): (_: Element | Range) => boolean {\n    return (elem: Element | Range) => includeInvisible || isVisible(elem)\n}\n\n// Saka-key caches getComputedStyle. Maybe it's a good idea!\n/* let cgetComputedStyle = cacheDecorator(getComputedStyle) */\n\n/** is the element within a rect and not obscured by another element?\n\n    From: https://github.com/lusakasa/saka-key/blob/9f560b3a718a9efda809dcb794de14b4e675b35a/src/modes/hints/client/findHints.js#L97\n    Based on https://github.com/guyht/vimari/blob/master/vimari.safariextension/linkHints.js\n\n */\nexport function isVisible(thing: Element | Range) {\n    if (thing instanceof Element) {\n        while (typeof thing.getBoundingClientRect !== \"function\") {\n            thing = thing.parentElement\n        }\n    }\n    const clientRect = thing.getBoundingClientRect()\n    switch (true) {\n        case !clientRect:\n        case clientRect.bottom < 4:\n        case clientRect.top >= innerHeight - 4:\n        case clientRect.right < 4:\n        case clientRect.left >= innerWidth - 4:\n            return false\n    }\n\n    if (thing instanceof Range) return true\n\n    const element = thing\n    // remove elements that are barely within the viewport, tiny, or invisible\n    // Only call getComputedStyle when necessary\n    const computedStyle = getComputedStyle(element)\n    switch (true) {\n        case widthMatters(computedStyle) && clientRect.width < 3:\n        case heightMatters(computedStyle) && clientRect.height < 3:\n        case computedStyle.visibility !== \"visible\":\n        case computedStyle.display === \"none\":\n            return false\n    }\n    return true\n\n    /* // Eliminate elements hidden by another overlapping element. */\n    /* // To do that, get topmost element at some offset from upper-left corner of clientRect */\n    /* // and check whether it is the element itself or one of its descendants. */\n    /* // The offset is needed to account for coordinates truncation and elements with rounded borders. */\n    /* // */\n    /* // Coordinates truncation occcurs when using zoom. In that case, clientRect coords should be float, */\n    /* // but we get integers instead. That makes so that elementFromPoint(clientRect.left, clientRect.top) */\n    /* // sometimes returns an element different from the one clientRect was obtained from. */\n    /* // So we introduce an offset to make sure elementFromPoint hits the right element. */\n    /* // */\n    /* // For elements with a rounded topleft border, the upper left corner lies outside the element. */\n    /* // Then, we need an offset to get to the point nearest to the upper left corner, but within border. */\n    /* const coordTruncationOffset = 2 // A value of 1 has been observed not to be enough, */\n    /* // so we heuristically choose 2, which seems to work well. */\n    /* // We know a value of 2 is still safe (lies within the element) because, */\n    /* // from the code above, widht & height are >= 3. */\n    /* const radius = parseFloat(computedStyle.borderTopLeftRadius) */\n    /* const roundedBorderOffset = Math.ceil(radius * (1 - Math.sin(Math.PI / 4))) */\n    /* const offset = Math.max(coordTruncationOffset, roundedBorderOffset) */\n    /* if (offset >= clientRect.width || offset >= clientRect.height) { */\n    /*     return false */\n    /* } */\n    /* let el: Node = document.elementFromPoint( */\n    /*     clientRect.left + offset, */\n    /*     clientRect.top + offset */\n    /* ) */\n    /* while (el && el !== element) { */\n    /*     el = el.parentNode */\n    /* } */\n    /* if (!el) { */\n    /*     return false */\n    /* } */\n    /* return true */\n}\n\n/** Return all frames that belong to the document (frames that belong to\n * extensions are ignored).\n *\n * @param doc   The document the frames should be fetched from\n */\nexport function getAllDocumentFrames(doc = document) {\n    if (!(doc instanceof HTMLDocument)) return []\n    const frames = (\n        Array.from(doc.getElementsByTagName(\"iframe\")) as HTMLIFrameElement[] &\n            HTMLFrameElement[]\n    )\n        .concat(Array.from(doc.getElementsByTagName(\"frame\")))\n        .filter(frame => !frame.src.startsWith(\"moz-extension://\"))\n    return frames.concat(\n        frames.reduce((acc, f) => {\n            // Errors could be thrown because of CSP\n            let newFrames = []\n            try {\n                const doc = f.contentDocument || f.contentWindow.document\n                newFrames = getAllDocumentFrames(doc)\n            } catch (e) {}\n            return acc.concat(newFrames)\n        }, []),\n    )\n}\n\n/** Computes the unique CSS selector of a specific HTMLElement */\nexport function getSelector(e: HTMLElement) {\n    function uniqueSelector(e: HTMLElement) {\n        // Only matching alphanumeric selectors because others chars might have special meaning in CSS\n        if (e.id && /^[a-zA-Z0-9]+$/.exec(e.id)) return \"#\" + e.id\n        // If we reached the top of the document\n        if (!e.parentElement) return \"HTML\"\n        // Compute the position of the element\n        const index =\n            Array.from(e.parentElement.children)\n                .filter(child => child.tagName === e.tagName)\n                .indexOf(e) + 1\n        return (\n            uniqueSelector(e.parentElement) +\n            ` > ${e.tagName}:nth-of-type(${index})`\n        )\n    }\n    return uniqueSelector(e)\n}\n\n/* Get all the elements that match the given selector inside shadow DOM */\nfunction getShadowElementsBySelector(selector: string) {\n    let elems = []\n    document.querySelectorAll(\"*\").forEach(elem => {\n        if (elem.shadowRoot) {\n            elems = elems.concat(...elem.shadowRoot.querySelectorAll(selector))\n        }\n    })\n    return elems\n}\n\n/** Get all elements that match the given selector\n *\n * @param selector   `the CSS selector to choose elements with\n * @param filters     filter to use (in thre given order) to further chose\n *                    items, or [] for all\n */\nexport function getElemsBySelector(selector: string, filters: ElementFilter[]) {\n    let elems = Array.from(document.querySelectorAll(selector))\n    elems = elems.concat(...getShadowElementsBySelector(selector))\n    const frameElems = getAllDocumentFrames().reduce((acc, frame) => {\n        let newElems = []\n        // Errors could be thrown by CSP\n        try {\n            const doc = frame.contentDocument || frame.contentWindow.document\n            newElems = Array.from(doc.querySelectorAll(selector))\n        } catch (e) {}\n        return acc.concat(newElems)\n    }, [])\n\n    elems = elems.concat(frameElems)\n\n    for (const filter of filters) {\n        elems = elems.filter(filter)\n    }\n\n    return elems\n}\n\n/** Get the nth input element on a page\n *\n * @param nth         the element index, can be negative to start at the end\n * @param filters     filter to use (in thre given order) to further chose\n *                    items, or [] for all\n */\nexport function getNthElement(\n    selectors: string,\n    nth: number,\n    filters: ElementFilter[],\n): HTMLElement {\n    const inputs = getElemsBySelector(selectors, filters)\n\n    if (inputs.length) {\n        const index = Number(nth)\n            .clamp(-inputs.length, inputs.length - 1)\n            .mod(inputs.length)\n\n        return inputs[index] as HTMLElement\n    }\n\n    return null\n}\n\n/** Comparison function by offsetWidth/Height, used for sorting elements by their\n *  area on the page\n */\nexport function compareElementArea(a: HTMLElement, b: HTMLElement): number {\n    const aArea = a.offsetWidth * a.offsetHeight\n    const bArea = b.offsetWidth * b.offsetHeight\n\n    return aArea - bArea\n}\n\nexport const hintworthy_js_elems: Set<Element> = new Set()\n\n/** Adds or removes an element from the hintworthy_js_elems array of the\n *  current tab.\n *\n *  @param {EventTarget} elem  The element add/removeEventListener is called on\n *  @param {boolean} add       true when called from addEventListener,\n *                             false from removeEventListener\n *  @param {string} event      The event name given to add/removeEventListener\n *\n *  This function must be security reviewed when Custom Elements land in Firefox\n *  https://bugzilla.mozilla.org/show_bug.cgi?id=1406825\n *\n *  This function is exported to the web content window but should only be\n *  callable from our modified add/removeEventListener because we remove the\n *  reference to it before web content runs (if added afterwards a\n *  mutationobserver on the window object would probably capture a reference to\n *  this function).\n *\n *  Just in case web content does get a direct reference or the built-in\n *  add/removeEventListener code doesn't validate elem correctly, this function\n *  must assume that its inputs are potentially malicious.\n */\nexport function registerEvListenerAction(\n    elem: EventTarget,\n    add: boolean,\n    event: string,\n) {\n    // We're only interested in the subset of EventTargets that are Elements.\n    if (!(elem instanceof Element)) {\n        return\n    }\n\n    // Prevent bad elements from being processed\n    //\n    // This is defence in depth: we should never receive an invalid elem here\n    // because add/removeEventListener currently throws a TypeError if the given\n    // element is not a standard library EventTarget subclass.\n    try {\n        // Node prototype functions work on the C++ representation of the\n        // Node, which a faked JS object won't have.\n        // hasChildNodes() is chosen because it should be cheap.\n        Node.prototype.hasChildNodes.apply(elem)\n    } catch (e) {\n        // Don't throw a real exception because addEventListener wouldn't and we\n        // don't want to break content code.\n        logger.error(\"Elem is not a real Node\", elem)\n        return\n    }\n\n    switch (event) {\n        case \"click\":\n        case \"mousedown\":\n        case \"mouseup\":\n        case \"mouseover\":\n            if (add) {\n                hintworthy_js_elems.add(elem)\n            } else {\n                // Possible bug: If a page adds an event listener for \"click\" and\n                // \"mousedown\" and removes \"mousedown\" twice, we lose track of the\n                // elem even though it still has a \"click\" listener.\n                // Fixing this might not be worth the added complexity.\n                hintworthy_js_elems.delete(elem)\n            }\n    }\n}\n\n/** Replace the page's addEventListener with a closure containing a reference\n *  to the original addEventListener and [[registerEvListenerAction]]. Do the\n *  same with removeEventListener.\n */\nexport function hijackPageListenerFunctions(): void {\n    if (!inContentScript()) {\n        return\n    }\n    const exportedName = \"registerEvListenerAction\"\n    exportFunction(registerEvListenerAction, window, { defineAs: exportedName })\n\n    const eval_str = [\"addEventListener\", \"removeEventListener\"].reduce(\n        (acc, cur) => `${acc};\n      EventTarget.prototype.${cur} = ((realFunction, register) => {\n         return function (...args) {\n               let result = realFunction.apply(this, args)\n               try {\n                  register(this, ${cur === \"addEventListener\"}, args[0])\n               } catch (e) {\n                  // Don't let the page know something wrong happened here\n               }\n               return result\n         }\n      })(EventTarget.prototype.${cur}, ${exportedName})`,\n        \"\",\n    )\n\n    window.eval(eval_str + `;delete ${exportedName}`)\n}\n\n/** Focuses an input element and makes sure the cursor is put at the end of the input */\nexport function focus(e: HTMLElement): void {\n    e.focus()\n    // https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange\n    // \"Note that accordingly to the WHATWG forms spec selectionStart,\n    // selectionEnd properties and setSelectionRange method apply only to\n    // inputs of types text, search, URL, tel and password\"\n    // So you can't put the cursor at the end of an email field. I can't\n    // believe how stupid this is.\n    if (\n        e instanceof HTMLInputElement &&\n        [\"text\", \"search\", \"url\", \"tel\", \"password\"].includes(\n            e.type.toLowerCase(),\n        )\n    ) {\n        let pos = 0\n        if (config.get(\"cursorpos\") === \"end\") pos = e.value.length\n        e.setSelectionRange(pos, pos)\n    }\n}\n\n/** DOM reference to the last used Input field\n */\nlet LAST_USED_INPUT: HTMLElement = null\n\nexport function getLastUsedInput(): HTMLElement {\n    return LAST_USED_INPUT\n}\n\n/** WARNING: This function can potentially recieve malicious input! For the\n *  whole discussion about this, see\n *  https://github.com/tridactyl/tridactyl/pull/225\n *\n *  Remember to check whether WebComponents change anything security-wise:\n *  https://developer.mozilla.org/en-US/docs/Web/Web_Components/Custom_Elements\n *  https://bugzilla.mozilla.org/show_bug.cgi?id=1406825\n * */\nfunction onPageFocus(elem: HTMLElement): boolean {\n    elem = elem.shadowRoot ? elem.shadowRoot.activeElement as HTMLElement : elem\n    if (isTextEditable(elem)) {\n        LAST_USED_INPUT = elem\n    }\n    const setting =\n        config.get(\"modesubconfigs\", contentState.mode, \"allowautofocus\") ||\n        config.get(\"allowautofocus\")\n    return setting === \"true\"\n}\n\nasync function setInput(el) {\n    const tab = await activeTabId()\n    // store maximum of 10 elements to stop this getting bonkers huge\n    const arr = (await State.getAsync(\"prevInputs\")).concat({\n        tab,\n        inputId: el.id,\n    })\n    state.prevInputs = arr.slice(Math.max(arr.length - 10, 0))\n}\n\n/** Replaces the page's HTMLElement.prototype.focus with our own, onPageFocus */\nfunction hijackPageFocusFunction(): void {\n    const exportedName = \"onPageFocus\"\n    exportFunction(onPageFocus, window, { defineAs: exportedName })\n\n    const eval_str = `HTMLElement.prototype.focus = ((realFocus, ${exportedName}) => {\n        return function (...args) {\n            if (${exportedName}(this, args))\n                return realFocus.apply(this, args)\n        }\n     })(HTMLElement.prototype.focus, ${exportedName})`\n\n    window.eval(eval_str + `;delete ${exportedName}`)\n}\n\nexport function setupFocusHandler(): void {\n    // Handles when a user selects an input\n    document.addEventListener(\"focusin\", e => {\n        let elem = e.target as HTMLElement\n        elem = elem.shadowRoot ? elem.shadowRoot.activeElement as HTMLElement : elem\n        if (isTextEditable(elem)) {\n            LAST_USED_INPUT = elem\n            setInput(elem)\n        }\n    })\n    // Handles when the page tries to select an input\n    if (inContentScript()) {\n        hijackPageFocusFunction()\n    }\n}\n\n// CSS selectors. More readable for web developers. Not dead. Leaves browser to care about XML.\nexport const HINTTAGS_selectors = `\ninput:not([type=hidden]):not([disabled]),\na,\narea,\nbutton,\ndetails,\niframe,\nlabel,\nselect,\nsummary,\ntextarea,\n[onclick],\n[onmouseover],\n[onmousedown],\n[onmouseup],\n[oncommand],\n[role='link'],\n[role='button'],\n[role='checkbox'],\n[role='combobox'],\n[role='listbox'],\n[role='listitem'],\n[role='menuitem'],\n[role='menuitemcheckbox'],\n[role='menuitemradio'],\n[role='option'],\n[role='radio'],\n[role='scrollbar'],\n[role='slider'],\n[role='spinbutton'],\n[role='tab'],\n[role='textbox'],\n[role='treeitem'],\n[class*='button'],\n[tabindex]\n`\n\n// Selectors denoting elements where it makes sense to filter them by their\n// text\nexport const HINTTAGS_filter_by_text_selectors = `\ninput:not([type=hidden]):not([disabled]),\na,\ntextarea,\nbutton,\nselect,\n[class*='button']\n`\n\nexport const HINTTAGS_img_selectors = `\nimg,\n[src]\n`\n\nexport const HINTTAGS_anchor_selectors = `\n[id],\n[name]\n`\n\nexport const HINTTAGS_killable_selectors = `\nheader,\nfooter,\nnav,\nspan,\ndiv,\niframe,\nimg,\nbutton,\narticle,\nsummary\n`\n\n/** CSS selector for elements which point to a saveable resource\n */\nexport const HINTTAGS_saveable = `\n[href]:not([href='#'])\n`\n\n/** Get array of \"anchors\": elements which have id or name and can be addressed\n * with the hash/fragment in the URL\n */\nexport function anchors(includeInvisible = false) {\n    return getElemsBySelector(HINTTAGS_anchor_selectors, [\n        isVisibleFilter(includeInvisible),\n    ])\n}\n\nexport const enum TabTarget {\n    CurrentTab,\n    NewTab,\n    NewBackgroundTab,\n    NewWindow,\n}\n\nconst tabTargetToModifierKey = {\n    [TabTarget.CurrentTab]: {},\n    [TabTarget.NewTab]: { ctrlKey: true, shiftKey: true },\n    [TabTarget.NewBackgroundTab]: { ctrlKey: true },\n    [TabTarget.NewWindow]: { shiftKey: true },\n}\n\n/** if `target === _blank` clicking the link is treated as opening a popup and is blocked. Use webext API to avoid that. */\nexport function simulateClick(\n    target: HTMLElement,\n    tabTarget: TabTarget = TabTarget.CurrentTab,\n) {\n    // target can be set to other stuff, and we'll fail in annoying ways.\n    // There's no easy way around that while this code executes outside of the\n    // magic 'short lived event handler' context.\n    //\n    // OTOH, hardly anyone uses that functionality any more.\n    let usePopupBlockerWorkaround =\n        (target as HTMLAnchorElement).target === \"_blank\" ||\n        (target as HTMLAnchorElement).target === \"_new\"\n    const href = (target as HTMLAnchorElement).href\n    if (href?.startsWith(\"file:\")) {\n        // file URLS cannot be opend with browser.tabs.create\n        // see https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/create#url\n        // still create a new tab\n        if (tabTarget === TabTarget.CurrentTab && usePopupBlockerWorkaround) {\n            tabTarget = TabTarget.NewTab\n        }\n        usePopupBlockerWorkaround = false\n    }\n    if (usePopupBlockerWorkaround) {\n        // Try to open the new tab in the same container as the current one.\n        activeTabContainerId().then(containerId => {\n            if (containerId)\n                openInNewTab(href, {\n                    related: true,\n                    cookieStoreId: containerId,\n                })\n            else\n                openInNewTab(href, {\n                    related: true,\n                })\n        })\n    } else {\n        if (target instanceof HTMLDetailsElement) {\n            target.open = !target.open\n        }\n        mouseEvent(target, \"click\", tabTargetToModifierKey[tabTarget])\n        // DOM.focus has additional logic for focusing inputs\n        focus(target)\n    }\n}\n\n/** Recursively resolves an active shadow DOM element. */\nexport function deepestShadowRoot(sr: ShadowRoot | null): ShadowRoot | null {\n    if (sr === null) return sr\n    let shadowRoot = sr\n    while (shadowRoot.activeElement.shadowRoot != null) {\n        shadowRoot = shadowRoot.activeElement.shadowRoot\n    }\n    return shadowRoot\n}\n\nexport function getElementCentre(el) {\n    const pos = el.getBoundingClientRect()\n    return { x: 0.5 * (pos.left + pos.right), y: 0.5 * (pos.top + pos.bottom) }\n}\n\nexport function getAbsoluteCentre(el) {\n    const pos = getElementCentre(el)\n    return {\n        x: pos.x + (window as any).mozInnerScreenX,\n        y: pos.y + (window as any).mozInnerScreenY,\n    }\n}\n", "// We have a single dependency on config: getting the value of the WORDPATTERN setting\n// Perhaps we could find a way to get rid of it?\nimport * as config from \"@src/lib/config\"\n\nexport type editor_function = (\n    text: string,\n    start: number,\n    end: number,\n    arg?: any,\n) => [string, number, number]\n\n/**\n * Applies a function to an element. If the element is an HTMLInputElement and its type isn't \"text\", it is first turned into a \"text\" element. This is necessary because some elements (e.g. \"email\") do not have a selectionStart/selectionEnd.\n * https://developer.mozilla.org/en-US/docs/Web/API/HTMLInputElement/setSelectionRange .\n **/\nexport function applyToElem(e, fn) {\n    let result\n    if (e instanceof HTMLInputElement && e.type !== \"text\") {\n        const t = e.type\n        e.type = \"text\"\n        result = fn(e)\n        e.type = t\n    } else {\n        result = fn(e)\n    }\n    return result\n}\n\n/**\n * Returns values necessary for editor functions to work on textarea/input elements\n *\n * @param e the element\n * @return [string, number, number] The content of the element, the position of the caret, the position of the end of the visual selection\n */\nexport function getSimpleValues(e: any) {\n    return applyToElem(e, e => [e.value, e.selectionStart, e.selectionEnd])\n}\n\n/**\n * Returns values necessary for editor functions to work on contentEditable elements\n *\n * @param e a contentEditable element\n * @return [string, number, number] The content of the element, the position of the caret, the position of the end of the visual selection\n */\nexport function getContentEditableValues(e: any): [string, number, number] {\n    const selection = e.ownerDocument.getSelection()\n    // The selection might actually not be in e so we need to make sure it is\n    let n = selection.anchorNode\n    while (n && n !== e) n = n.parentNode\n    // The selection isn't for e, so we can't do anything\n    if (!n) return [null, null, null]\n    // selection might span multiple elements, might not start with the first element in e or end with the last element in e so the easiest way to compute caret position from beginning of e is to first compute distance from caret to end of e, then move beginning of selection to beginning of e and then use distance from end of selection to compute distance from beginning of selection\n    const r = selection.getRangeAt(0).cloneRange()\n    const selectionLength = r.toString().length\n    r.setEnd(e, e.childNodes.length)\n    const lengthFromCaretToEndOfText = r.toString().length\n    r.setStart(e, 0)\n    const s = r.toString()\n    const caretPos = s.length - lengthFromCaretToEndOfText\n    return [s, caretPos, caretPos + selectionLength]\n}\n\n/**\n * Change text in regular textarea/input fields. Note: this destroys the field's history (i.e. C-z won't work).\n *\n * @param e The element\n * @param text The new content of the element, null if it shouldn't change\n * @param start The new position of the caret, null if the caret shouldn't move\n * @param end The end of the visual selection, null if you just want to move the caret\n */\nexport function setSimpleValues(e, text, start, end) {\n    return applyToElem(e, e => {\n        if (text !== null) e.value = text\n        if (start !== null) {\n            if (end === null) end = start\n            e.selectionStart = start\n            e.selectionEnd = end\n        }\n    })\n}\n\n/**\n * Change text in contentEditable elements in a non-destructive way (i.e. C-z will undo changes).\n * @param e The content editable element\n * @param text The new content the element should have. null if you just want to move the caret around\n * @param start The new caret position. null if you just want to change text.\n * @param end The end of the visual selection. null if you just want to move the caret.\n */\nexport function setContentEditableValues(e, text, start, end) {\n    const selection = e.ownerDocument.getSelection()\n    if (selection.rangeCount < 1) {\n        const r = new Range()\n        r.setStart(e, 0)\n        r.setEnd(e, e.childNodes.length)\n        selection.addRange(r)\n    }\n    if (text !== null) {\n        const range = selection.getRangeAt(0)\n        const anchorNode = selection.anchorNode\n        const focusNode = selection.focusNode\n        range.setStart(anchorNode, 0)\n        range.setEndAfter(focusNode, focusNode.length)\n        e.ownerDocument.execCommand(\"insertText\", false, text)\n    }\n    if (start !== null) {\n        if (end === null) end = start\n        let range = selection.getRangeAt(0)\n        range.setStart(range.startContainer, start)\n        range = selection.getRangeAt(0)\n        range.setEnd(range.startContainer, end)\n    }\n}\n\n/**\n * Take an editor function as parameter and return it wrapped in a function that will handle grabbing text and caret position from the HTML element it takes as parameter\n *\n * @param editor_function A function that takes a [string, selectionStart, selectionEnd] tuple as argument and returns a [string, selectionStart, selectionEnd] tuple corresponding to the new state of the text.\n *\n * @return boolean Whether the editor function was actually called or not\n *\n **/\nexport function wrap_input(\n    fn: editor_function,\n): (e: HTMLElement, arg?: any) => boolean {\n    return (e: HTMLElement, arg?: any) => {\n        let getValues = getSimpleValues\n        let setValues = setSimpleValues\n        if (e.isContentEditable) {\n            getValues = getContentEditableValues\n            setValues = setContentEditableValues\n        }\n        const [origText, origStart, origEnd] = getValues(e)\n        if (origText === null || origStart === null) return false\n        setValues(e, ...fn(origText, origStart, origEnd, arg))\n        return true\n    }\n}\n\n/**\n * Take an editor function as parameter and wrap it in a function that will handle error conditions\n */\n// eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\nexport function needs_text(fn: editor_function, arg?: any): editor_function {\n    return (\n        text: string,\n        selectionStart: number,\n        selectionEnd: number,\n        arg?: any,\n    ) => {\n        if (\n            text.length === 0 ||\n            selectionStart === null ||\n            selectionStart === undefined\n        )\n            return [null, null, null]\n        return fn(\n            text,\n            selectionStart,\n            typeof selectionEnd === \"number\" ? selectionEnd : selectionStart,\n            arg,\n        )\n    }\n}\n\n/**\n * Returns line and column number.\n */\nexport function getLineAndColNumber(\n    text: string,\n    start: number,\n): [string, number, number] {\n    const lines = text.split(\"\\n\")\n    let totalChars = 0\n    for (let i = 0; i < lines.length; ++i) {\n        // +1 because we also need to take '\\n' into account\n        if (totalChars + lines[i].length + 1 > start) {\n            return [text, i + 1, start - totalChars]\n        }\n        totalChars += lines[i].length + 1\n    }\n    return [text, lines.length, 1]\n}\n\n/**\n * Detects the boundaries of a word in text according to the wordpattern setting. If POSITION is in a word, the boundaries of this word are returned. If POSITION is out of a word and BEFORE is true, the word before POSITION is returned. If BEFORE is false, the word after the caret is returned.\n */\nexport function getWordBoundaries(\n    text: string,\n    position: number,\n    before: boolean,\n): [number, number] {\n    if (position < 0 || position > text.length)\n        throw new Error(\n            `getWordBoundaries: position (${position}) should be within text (\"${text}\") boundaries (0, ${text.length})`,\n        )\n    const pattern = new RegExp(config.get(\"wordpattern\"), \"g\")\n    let boundary1 = position < text.length ? position : text.length\n    const direction = before ? -1 : 1\n    // if the caret is not in a word, try to find the word before or after it\n    // For `before`, we should check the char before the caret\n    if (before && boundary1 > 0) boundary1 -= 1\n    while (\n        boundary1 >= 0 &&\n        boundary1 < text.length &&\n        !text[boundary1].match(pattern)\n    ) {\n        boundary1 += direction\n    }\n\n    if (boundary1 < 0) boundary1 = 0\n    else if (boundary1 >= text.length) boundary1 = text.length - 1\n\n    // if a word couldn't be found in this direction, try the other one\n    while (\n        boundary1 >= 0 &&\n        boundary1 < text.length &&\n        !text[boundary1].match(pattern)\n    ) {\n        boundary1 -= direction\n    }\n\n    if (boundary1 < 0) boundary1 = 0\n    else if (boundary1 >= text.length) boundary1 = text.length - 1\n\n    if (!text[boundary1].match(pattern)) {\n        // there is no word in text\n        throw new Error(\n            `getWordBoundaries: no characters matching wordpattern (${pattern.source}) in text (${text})`,\n        )\n    }\n\n    // now that we know the caret is in a word (it could be in the middle depending on POSITION!), try to find its beginning/end\n    while (\n        boundary1 >= 0 &&\n        boundary1 < text.length &&\n        !!text[boundary1].match(pattern)\n    ) {\n        boundary1 += direction\n    }\n    // boundary1 is now outside of the word, bring it back inside of it\n    boundary1 -= direction\n\n    let boundary2 = boundary1\n    // now that we know the caret is at the beginning/end of a word, we need to find the other boundary\n    while (\n        boundary2 >= 0 &&\n        boundary2 < text.length &&\n        !!text[boundary2].match(pattern)\n    ) {\n        boundary2 -= direction\n    }\n    // boundary2 is outside of the word, bring it back in\n    boundary2 += direction\n\n    // Add 1 to the end boundary because the end of a word is marked by the character after said word\n    if (boundary1 > boundary2) return [boundary2, boundary1 + 1]\n    return [boundary1, boundary2 + 1]\n}\n\n/** @hidden\n * Finds the next word as defined by the wordpattern setting after POSITION. If POSITION is in a word, POSITION is moved forward until it is out of the word.\n * @return number The position of the next word in text or -1 if the next word can't be found.\n */\nexport function wordAfterPos(text: string, position: number) {\n    if (position < 0)\n        throw new Error(`wordAfterPos: position (${position}) is less that 0`)\n    const pattern = new RegExp(config.get(\"wordpattern\"), \"g\")\n    // move position out of the current word\n    while (position < text.length && !!text[position].match(pattern))\n        position += 1\n    // try to find characters that match wordpattern\n    while (position < text.length && !text[position].match(pattern))\n        position += 1\n    if (position >= text.length) return -1\n    return position\n}\n\n/** @hidden\n * Rots by 13.\n */\nexport const rot13_helper = (s: string, n = 13): string => {\n    let sa = s.split(\"\")\n    sa = sa.map(x => charesar(x, n))\n    return sa.join(\"\")\n}\n\nexport const charesar = (c: string, n = 13): string => {\n    const cn = c.charCodeAt(0)\n    if (cn >= 65 && cn <= 90)\n        return String.fromCharCode(((cn - 65 + n) % 26) + 65)\n    if (cn >= 97 && cn <= 122)\n        return String.fromCharCode(((cn - 97 + n) % 26) + 97)\n    return c\n}\n\n/** @hidden\n * Shuffles only letters except for the first and last letter in a word, where \"word\"\n * is a sequence of one of: only lowercase letters OR 5 or more uppercase letters OR an uppercase letter followed\n * by only lowercase letters.\n */\nexport const jumble_helper = (text: string): string => {\n    const wordSplitRegex = new RegExp(\"([^a-zA-Z]|[A-Z][a-z]+)\")\n    return text.split(wordSplitRegex).map(jumbleWord).join(\"\")\n}\n\nfunction jumbleWord(word: string): string {\n    if (word.length < 4 || isAcronym()) {\n        return word\n    }\n    const innerText = word.slice(1, -1)\n    return word.charAt(0) + shuffle(innerText) + word.charAt(word.length - 1)\n\n    function isAcronym() {\n        return word.length < 5 && word.toUpperCase() === word\n    }\n}\n\n/**\n * Shuffles input string\n * @param text string to be shuffled\n */\nexport const shuffle = (text: string): string => {\n    const arr = text.split(\"\")\n    for (let i = arr.length - 1; i >= 0; i--) {\n        const j = Math.floor(Math.random() * i + 1)\n        const t = arr[i]\n        arr[i] = arr[j]\n        arr[j] = t\n    }\n    return arr.join(\"\")\n}\n", "/** # Editor Functions\n *\n * This file contains functions to manipulate the content of textareas/input fields/contenteditable elements.\n *\n * If you want to bind them to keyboard shortcuts, be sure to prefix them with \"text.\". For example, if you want to bind control-a to `beginning_of_line` in all modes, use:\n *\n * ```\n * bind --mode=ex <C-a> text.beginning_of_line\n * bind --mode=input <C-a> text.beginning_of_line\n * bind --mode=insert <C-a> text.begining_of_line\n * ```\n *\n * Also keep in mind that if you want to bind something in insert mode, you'll probably also want to bind it in input mode (insert mode is entered by clicking on text areas while input mode is entered by using `gi`).\n *\n * If you're looking for command-line only functions, go [there](/static/docs/modules/_src_commandline_frame_.html).\n *\n * Contrary to the main tridactyl help page, this one doesn't tell you whether a specific function is bound to something. For now, you'll have to make do with with `:bind` and `:viewconfig`.\n *\n */\n/** ignore this line */\n\nimport {\n    wrap_input,\n    needs_text,\n    getWordBoundaries,\n    wordAfterPos,\n    rot13_helper,\n    jumble_helper\n} from \"@src/lib/editor_utils\"\n\n/**\n * Behaves like readline's [delete_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. deletes the character to the right of the caret.\n **/\nexport const delete_char = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) => {\n        if (selectionStart !== selectionEnd) {\n            // If the user selected text, then we need to delete that instead of a single char\n            text =\n                text.substring(0, selectionStart) + text.substring(selectionEnd)\n        } else {\n            text =\n                text.substring(0, selectionStart) +\n                text.substring(selectionStart + 1)\n        }\n        return [text, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [delete_backward_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. deletes the character to the left of the caret.\n **/\nexport const delete_backward_char = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) => {\n        if (selectionStart !== selectionEnd) {\n            text =\n                text.substring(0, selectionStart) + text.substring(selectionEnd)\n        } else {\n            text =\n                text.substring(0, selectionStart - 1) +\n                text.substring(selectionStart)\n        }\n        selectionStart -= 1\n        return [text, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [tab_insert](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. inserts a tab character to the left of the caret.\n **/\nexport const tab_insert = wrap_input((text, selectionStart, selectionEnd) => {\n    if (selectionStart !== selectionEnd) {\n        text =\n            text.substring(0, selectionStart) +\n            \"\\t\" +\n            text.substring(selectionEnd)\n    } else {\n        text =\n            text.substring(0, selectionStart) +\n            \"\\t\" +\n            text.substring(selectionStart)\n    }\n    selectionStart += 1\n    return [text, selectionStart, null]\n})\n\n/**\n * Behaves like readline's [transpose_chars](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14), i.e. transposes the character to the left of the caret with the character to the right of the caret and then moves the caret one character to the right. If there are no characters to the right or to the left of the caret, uses the two characters the closest to the caret.\n **/\nexport const transpose_chars = wrap_input(\n    (text, selectionStart) => {\n        if (text.length < 2) return [null, null, null]\n        // When at the beginning of the text, transpose the first and second characters\n        if (selectionStart === 0) selectionStart = 1\n        // When at the end of the text, transpose the last and second-to-last characters\n        if (selectionStart >= text.length) selectionStart = text.length - 1\n\n        text =\n            text.substring(0, selectionStart - 1) +\n            text.substring(selectionStart, selectionStart + 1) +\n            text.substring(selectionStart - 1, selectionStart) +\n            text.substring(selectionStart + 1)\n        selectionStart += 1\n        return [text, selectionStart, null]\n    },\n)\n\n/** @hidden\n * Applies a function to the word the caret is in, or to the next word if the caret is not in a word, or to the previous word if the current word is empty.\n */\nfunction applyWord(\n    text: string,\n    selectionStart,\n    selectionEnd,\n    fn: (s: string) => string,\n): [string, number, number] {\n    if (text.length === 0) return [null, null, null]\n    // If the caret is at the end of the text, move it just before the last character\n    if (selectionStart >= text.length) {\n        selectionStart = text.length - 1\n    }\n    const boundaries = getWordBoundaries(text, selectionStart, false)\n    const beginning =\n        text.substring(0, boundaries[0]) +\n        fn(text.substring(boundaries[0], boundaries[1]))\n    text = beginning + text.substring(boundaries[1])\n    selectionStart = beginning.length + 1\n    return [text, selectionStart, null]\n}\n\n/**\n * Behaves like readline's [transpose_words](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Basically equivalent to [[im_transpose_chars]], but using words as defined by the wordpattern setting.\n **/\nexport const transpose_words = wrap_input(\n    needs_text((text, selectionStart) => {\n        if (selectionStart >= text.length) {\n            selectionStart = text.length - 1\n        }\n        // Find the word the caret is in\n        let firstBoundaries = getWordBoundaries(text, selectionStart, false)\n        let secondBoundaries = firstBoundaries\n        // If there is a word after the word the caret is in, use it for the transselectionStartition, otherwise use the word before it\n        const nextWord = wordAfterPos(text, firstBoundaries[1])\n        if (nextWord > -1) {\n            secondBoundaries = getWordBoundaries(text, nextWord, false)\n        } else {\n            firstBoundaries = getWordBoundaries(\n                text,\n                firstBoundaries[0] - 1,\n                true,\n            )\n        }\n        const firstWord = text.substring(firstBoundaries[0], firstBoundaries[1])\n        const secondWord = text.substring(\n            secondBoundaries[0],\n            secondBoundaries[1],\n        )\n        const beginning =\n            text.substring(0, firstBoundaries[0]) +\n            secondWord +\n            text.substring(firstBoundaries[1], secondBoundaries[0])\n        selectionStart = beginning.length\n        return [\n            beginning + firstWord + text.substring(secondBoundaries[1]),\n            selectionStart,\n            null,\n        ]\n    }),\n)\n\n/**\n * Behaves like readline's [upcase_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Makes the word the caret is in uppercase.\n **/\nexport const upcase_word = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) =>\n        applyWord(text, selectionStart, selectionEnd, word =>\n            word.toUpperCase(),\n        ),\n    ),\n)\n\n/**\n * Behaves like readline's [downcase_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Makes the word the caret is in lowercase.\n **/\nexport const downcase_word = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) =>\n        applyWord(text, selectionStart, selectionEnd, word =>\n            word.toLowerCase(),\n        ),\n    ),\n)\n\n/**\n * Behaves like readline's [capitalize_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC14). Makes the initial character of the word the caret is in uppercase.\n **/\nexport const capitalize_word = wrap_input(\n    needs_text((text, selectionStart, selectionEnd) =>\n        applyWord(\n            text,\n            selectionStart,\n            selectionEnd,\n            word => word[0].toUpperCase() + word.substring(1),\n        ),\n    ),\n)\n\n/**\n * Behaves like readline's [kill_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15), i.e. deletes every character to the right of the caret until reaching either the end of the text or the newline character (\\n).\n **/\nexport const kill_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        let newLine = text.substring(selectionStart).search(\"\\n\")\n        if (newLine !== -1) {\n            // If the caret is right before the newline, kill the newline\n            if (newLine === 0) newLine = 1\n            text =\n                text.substring(0, selectionStart) +\n                text.substring(selectionStart + newLine)\n        } else {\n            text = text.substring(0, selectionStart)\n        }\n        return [text, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [backward_kill_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15), i.e. deletes every character to the left of the caret until either the beginning of the text is found or a newline character (\"\\n\") is reached.\n **/\nexport const backward_kill_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        // If the caret is at the beginning of a line, join the lines\n        if (selectionStart > 0 && text[selectionStart - 1] === \"\\n\") {\n            return [\n                text.substring(0, selectionStart - 1) +\n                    text.substring(selectionStart),\n                selectionStart,\n                null,\n            ]\n        }\n        let newLine\n        // Find the closest newline\n        for (\n            newLine = selectionStart;\n            newLine > 0 && text[newLine - 1] !== \"\\n\";\n            --newLine\n        );\n        // Remove everything between the newline and the caret\n        return [\n            text.substring(0, newLine) + text.substring(selectionStart),\n            newLine,\n            null,\n        ]\n    }),\n)\n\n/**\n * Behaves like readline's [kill_whole_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15). Deletes every character between the two newlines the caret is in. If a newline can't be found on the left of the caret, everything is deleted until the beginning of the text is reached. If a newline can't be found on the right, everything is deleted until the end of the text is found.\n **/\nexport const kill_whole_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        let firstNewLine\n        let secondNewLine\n        // Find the newline before the caret\n        for (\n            firstNewLine = selectionStart;\n            firstNewLine > 0 && text[firstNewLine - 1] !== \"\\n\";\n            --firstNewLine\n        );\n        // Find the newline after the caret\n        for (\n            secondNewLine = selectionStart;\n            secondNewLine < text.length && text[secondNewLine - 1] !== \"\\n\";\n            ++secondNewLine\n        );\n        // Remove everything between the newline and the caret\n        return [\n            text.substring(0, firstNewLine) + text.substring(secondNewLine),\n            firstNewLine,\n            null,\n        ]\n    }),\n)\n\n/**\n * Behaves like readline's [kill_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15). Deletes every character from the caret to the end of a word, with words being defined by the wordpattern setting.\n **/\nexport const kill_word = wrap_input(\n    needs_text((text, selectionStart) => {\n        const boundaries = getWordBoundaries(text, selectionStart, false)\n        if (selectionStart < boundaries[1]) {\n            boundaries[0] = selectionStart\n            // Remove everything between the newline and the caret\n            return [\n                text.substring(0, boundaries[0]) +\n                    text.substring(boundaries[1]),\n                boundaries[0],\n                null,\n            ]\n        } else {\n            return [null, selectionStart, null]\n        }\n    }),\n)\n\n/**\n * Behaves like readline's [backward_kill_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC15). Deletes every character from the caret to the beginning of a word with word being defined by the wordpattern setting.\n **/\nexport const backward_kill_word = wrap_input(\n    needs_text((text, selectionStart) => {\n        const boundaries = getWordBoundaries(text, selectionStart, true)\n        if (selectionStart > boundaries[0]) {\n            boundaries[1] = selectionStart\n            // Remove everything between the newline and the caret\n            return [\n                text.substring(0, boundaries[0]) +\n                    text.substring(boundaries[1]),\n                boundaries[0],\n                null,\n            ]\n        } else {\n            return [null, selectionStart, null]\n        }\n    }),\n)\n\n/**\n * Behaves like readline's [beginning_of_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret to the right of the first newline character found at the left of the caret. If no newline can be found, move the caret to the beginning of the text.\n **/\nexport const beginning_of_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        while (\n            text[selectionStart - 1] !== undefined &&\n            text[selectionStart - 1] !== \"\\n\"\n        )\n            selectionStart -= 1\n        return [null, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [end_of_line](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret to the left of the first newline character found at the right of the caret. If no newline can be found, move the caret to the end of the text.\n **/\nexport const end_of_line = wrap_input(\n    needs_text((text, selectionStart) => {\n        while (\n            text[selectionStart] !== undefined &&\n            text[selectionStart] !== \"\\n\"\n        )\n            selectionStart += 1\n        return [null, selectionStart, null]\n    }),\n)\n\n/**\n * Behaves like readline's [forward_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one character to the right.\n **/\nexport const forward_char = wrap_input((text, selectionStart) => [\n    null,\n    selectionStart + 1,\n    null,\n])\n\n/**\n * Behaves like readline's [backward_char](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one character to the left.\n **/\nexport const backward_char = wrap_input(\n    (text, selectionStart) => [null, selectionStart - 1, null],\n)\n\n/**\n * Behaves like readline's [forward_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one word to the right, with words being defined by the wordpattern setting.\n **/\nexport const forward_word = wrap_input(\n    needs_text((text, selectionStart) => {\n        if (selectionStart === text.length) return [null, null, null]\n        const boundaries = getWordBoundaries(text, selectionStart, false)\n        return [null, boundaries[1], null]\n    }),\n)\n\n/**\n * Behaves like readline's [backward_word](http://web.mit.edu/gnu/doc/html/rlman_1.html#SEC12). Moves the caret one word to the left, with words being defined by the wordpattern setting.\n **/\nexport const backward_word = wrap_input(\n    (text, selectionStart) => {\n        if (selectionStart === 0) return [null, null, null]\n        const boundaries = getWordBoundaries(text, selectionStart, true)\n        return [null, boundaries[0], null]\n    },\n)\n\n/**\n * Insert text in the current input.\n **/\nexport const insert_text = wrap_input(\n    (text, selectionStart, selectionEnd, arg) => [\n        text.slice(0, selectionStart) + arg + text.slice(selectionEnd),\n        selectionStart + arg.length,\n        null,\n    ],\n)\n\nexport const rot13 = wrap_input((text, selectionStart, selectionEnd) => [\n    rot13_helper(text.slice(0, selectionStart) + text.slice(selectionEnd)),\n    selectionStart,\n    null,\n])\n\nexport const jumble = wrap_input((text, selectionStart, selectionEnd) => [\n    jumble_helper(text.slice(0, selectionStart) + text.slice(selectionEnd)),\n    selectionStart,\n    null,\n])\n", "import { Type } from \"./Type\"\n\nexport class AnyType implements Type {\n    public kind = \"any\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new AnyType(${!this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        return argument\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class BooleanType implements Type {\n    public kind = \"boolean\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new BooleanType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        if (argument === \"true\") {\n            return true\n        } else if (argument === \"false\") {\n            return false\n        }\n        throw new Error(\"Can't convert ${argument} to boolean\")\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class FunctionType implements Type {\n    public kind = \"function\"\n\n    constructor(public args: Type[], public ret: Type, public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new FunctionType([` +\n            // Convert every argument type to its string constructor representation\n            this.args.map(cur => cur.toConstructor()) +\n            `], ${this.ret.toConstructor()}, ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return `(${this.args.map(a => a.toString()).join(\", \")}) => ${this.ret.toString()}`\n    }\n\n    public convert(argument) {\n        // Possible strategies:\n        // - eval()\n        // - window[argument]\n        // - tri.excmds[argument]\n        throw new Error(`Conversion to function not implemented: ${argument}`)\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class NumberType implements Type {\n    public kind = \"number\"\n\n    public constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new NumberType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        const n = parseFloat(argument)\n        if (!Number.isNaN(n)) {\n            return n\n        }\n        throw new Error(`Can't convert to number: ${argument}`)\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class ObjectType implements Type {\n    public kind = \"object\"\n\n    // Note: a map that has an empty key (\"\") uses the corresponding type as default type\n    constructor(public members: Map<string, Type> = new Map<string, Type>(), public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new ObjectType(new Map<string, Type>([` +\n            Array.from(this.members.entries()).map(([n, m]) => `[${JSON.stringify(n)}, ${m.toConstructor()}]`)\n            .join(\", \") +\n        `]), ${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convertMember(memberName: string[], memberValue: string) {\n        let type = this.members.get(memberName[0])\n        if (!type) {\n            // No type, try to get the default type\n            type = this.members.get(\"\")\n            if (!type) {\n                // No info for this member and no default type, anything goes\n                return memberValue\n            }\n        }\n        if (type.kind === \"object\") {\n            return (type as ObjectType).convertMember(memberName.slice(1), memberValue)\n        }\n        return type.convert(memberValue)\n    }\n\n    public convert(argument) {\n        try {\n            return JSON.parse(argument)\n        } catch (e) {\n            throw new Error(`Can't convert to object: ${argument}`)\n        }\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class StringType implements Type {\n    public kind = \"string\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new StringType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        if (typeof argument === \"string\") {\n            return argument\n        }\n        throw new Error(`Can't convert to string: ${argument}`)\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class TypeReferenceType implements Type {\n    public constructor(public kind: string, public args: Type[], public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new TypeReferenceType(${JSON.stringify(this.kind)}, [` +\n            // Turn every type argument into its constructor representation\n            this.args.map(cur => cur.toConstructor()).join(\",\\n\") +\n            `], ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return `${this.kind}<${this.args.map(a => a.toString()).join(\", \")}>`\n    }\n\n    public convert(argument) {\n        throw new Error(\"Conversion of simple type references not implemented.\")\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class VoidType implements Type {\n    public kind = \"void\"\n\n    constructor(public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new VoidType(${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return this.kind\n    }\n\n    public convert(argument) {\n        return null\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class ArrayType implements Type {\n    public kind = \"array\"\n\n    constructor(public elemType: Type, public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new ArrayType(${this.elemType.toConstructor()}, ${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return `${this.elemType.toString()}[]`\n    }\n\n    public convert(argument) {\n        if (!Array.isArray(argument)) {\n            try {\n                argument = JSON.parse(argument)\n            } catch (e) {\n                throw new Error(`Can't convert ${argument} to array:`)\n            }\n            if (!Array.isArray(argument)) {\n                throw new Error(`Can't convert ${argument} to array:`)\n            }\n        }\n        return argument.map(v => this.elemType.convert(v))\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class LiteralTypeType implements Type {\n    public kind = \"LiteralType\"\n\n    constructor(public value: string, public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return `new LiteralTypeType(${JSON.stringify(this.value)}, ${this.isDotDotDot}, ${this.isQuestion})`\n    }\n\n    public toString() {\n        return JSON.stringify(this.value)\n    }\n\n    public convert(argument) {\n        if (argument === this.value) {\n            return argument\n        }\n        throw new Error(\n            `Argument does not match expected value (${\n                this.value\n            }): ${argument}`,\n        )\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class TupleType implements Type {\n    public kind = \"tuple\"\n\n    constructor(public elemTypes: Type[], public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new TupleType([` +\n            // Convert every element type to its constructor representation\n            this.elemTypes.map(cur => cur.toConstructor()).join(\",\\n\") +\n            `], ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return `[${this.elemTypes.map(e => e.toString()).join(\", \")}]`\n    }\n\n    public convert(argument) {\n        if (!Array.isArray(argument)) {\n            try {\n                argument = JSON.parse(argument)\n            } catch (e) {\n                throw new Error(`Can't convert to tuple: ${argument}`)\n            }\n            if (!Array.isArray(argument)) {\n                throw new Error(`Can't convert to tuple: ${argument}`)\n            }\n        }\n        if (argument.length !== this.elemTypes.length) {\n            throw new Error(\n                `Error converting tuple: number of elements and type mismatch ${argument}`,\n            )\n        }\n        return argument.map((v, i) => this.elemTypes[i].convert(v))\n    }\n}\n", "import { Type } from \"./Type\"\n\nexport class UnionType implements Type {\n    public kind = \"union\"\n\n    constructor(public types: Type[], public isDotDotDot = false, public isQuestion = false) {}\n\n    public toConstructor() {\n        return (\n            `new UnionType([` +\n            // Convert every type to its string constructor representation\n            this.types.map(cur => cur.toConstructor()).join(\",\\n\") +\n            `], ${this.isDotDotDot}, ${this.isQuestion})`\n        )\n    }\n\n    public toString() {\n        return this.types.map(t => t.toString()).join(\" | \")\n    }\n\n    public convert(argument) {\n        for (const t of this.types) {\n            try {\n                return t.convert(argument)\n            } catch (e) {}\n        }\n        throw new Error(`Can't convert \"${argument}\" to any of: ${this.types}`)\n    }\n}\n", "export { Type } from \"./Type\"\nexport { AnyType } from \"./AnyType\"\nexport { BooleanType } from \"./BooleanType\"\nexport { FunctionType } from \"./FunctionType\"\nexport { NumberType } from \"./NumberType\"\nexport { ObjectType } from \"./ObjectType\"\nexport { StringType } from \"./StringType\"\nexport { TypeReferenceType } from \"./TypeReferenceType\"\nexport { VoidType } from \"./VoidType\"\nexport { ArrayType } from \"./ArrayType\"\nexport { LiteralTypeType } from \"./LiteralTypeType\"\nexport { TupleType } from \"./TupleType\"\nexport { UnionType } from \"./UnionType\"\n", "import { Type } from \"../types/AllTypes\"\n\nexport class SymbolMetadata {\n    constructor(public doc: string, public type: Type, public hidden = false) {}\n\n    public toConstructor() {\n        return `new SymbolMetadata(${JSON.stringify(\n            this.doc,\n        )}, ${this.type.toConstructor()}, ${this.hidden})`\n    }\n}\n", "\nimport { SymbolMetadata } from \"./SymbolMetadata\"\n\nexport class ClassMetadata {\n    constructor(\n        public members: Map<string, SymbolMetadata> = new Map<\n            string,\n            SymbolMetadata\n        >(),\n    ) {}\n\n    public setMember(name: string, s: SymbolMetadata) {\n        this.members.set(name, s)\n    }\n\n    public getMember(name: string) {\n        return this.members.get(name)\n    }\n\n    public getMembers() {\n        return this.members.keys()\n    }\n\n    public toConstructor() {\n        return (\n            `new ClassMetadata(new Map<string, SymbolMetadata>([` +\n            Array.from(this.members.entries())\n                .map(([n, m]) => `[${JSON.stringify(n)}, ${m.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]))`\n        )\n    }\n}\n", "import { ClassMetadata } from \"./ClassMetadata\"\nimport { SymbolMetadata } from \"./SymbolMetadata\"\n\nexport class FileMetadata {\n    constructor(\n        public classes: Map<string, ClassMetadata> = new Map<\n            string,\n            ClassMetadata\n        >(),\n        public functions: Map<string, SymbolMetadata> = new Map<\n            string,\n            SymbolMetadata\n        >(),\n    ) {}\n\n    public setClass(name: string, c: ClassMetadata) {\n        this.classes.set(name, c)\n    }\n\n    public getClass(name: string) {\n        return this.classes.get(name)\n    }\n\n    public getClasses() {\n        return Array.from(this.classes.keys())\n    }\n\n    public setFunction(name: string, f: SymbolMetadata) {\n        this.functions.set(name, f)\n    }\n\n    public getFunction(name: string) {\n        return this.functions.get(name)\n    }\n\n    public getFunctions() {\n        return Array.from(this.functions.entries())\n    }\n\n    public getFunctionNames() {\n        return Array.from(this.functions.keys())\n    }\n\n    public toConstructor() {\n        return (\n            `new FileMetadata(new Map<string, ClassMetadata>([` +\n            Array.from(this.classes.entries())\n                .map(([n, c]) => `[${JSON.stringify(n)}, ${c.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]), new Map<string, SymbolMetadata>([` +\n            Array.from(this.functions.entries())\n                .map(([n, f]) => `[${JSON.stringify(n)}, ${f.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]))`\n        )\n    }\n}\n", "import { FileMetadata } from \"./FileMetadata\"\n\nexport class ProgramMetadata {\n    constructor(\n        public files: Map<string, FileMetadata> = new Map<\n            string,\n            FileMetadata\n        >(),\n    ) {}\n\n    public setFile(name: string, file: FileMetadata) {\n        this.files.set(name, file)\n    }\n\n    public getFile(name: string) {\n        return this.files.get(name)\n    }\n\n    public toConstructor() {\n        return (\n            `new ProgramMetadata(new Map<string, FileMetadata>([` +\n            Array.from(this.files.entries())\n                .map(([n, f]) => `[${JSON.stringify(n)}, ${f.toConstructor()}]`)\n                .join(\",\\n\") +\n            `]))`\n        )\n    }\n}\n", "export { SymbolMetadata } from \"./SymbolMetadata\"\nexport { ClassMetadata } from \"./ClassMetadata\"\nexport { FileMetadata } from \"./FileMetadata\"\nexport { ProgramMetadata } from \"./ProgramMetadata\"\n", "import { Type } from \"../compiler/types/AllTypes\"\nimport {AnyType, BooleanType, FunctionType, NumberType, ObjectType, StringType, TypeReferenceType, VoidType, ArrayType, LiteralTypeType, TupleType, UnionType} from \"../compiler/types/AllTypes\"\nimport {SymbolMetadata, ClassMetadata, FileMetadata, ProgramMetadata} from \"../compiler/metadata/AllMetadata\"\n\nexport let everything = new ProgramMetadata(new Map<string, FileMetadata>([[\"src/excmds.ts\", new FileMetadata(new Map<string, ClassMetadata>([]), new Map<string, SymbolMetadata>([[\"getNativeVersion\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), true)],\n[\"getRssLinks\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new ArrayType(new ObjectType(new Map<string, Type>([]), false, false), false, false)], false, false), false, false), true)],\n[\"rssexec\", new SymbolMetadata(\"Execute [[rsscmd]] for an rss link.\\n\\nIf `url` is undefined, Tridactyl will look for rss links in the current\\npage. If it doesn't find any, it will display an error message. If it finds\\nmultiple urls, it will offer completions in order for you to select the link\\nyou're interested in. If a single rss feed is found, it will automatically\\nbe selected.\", new FunctionType([new StringType(false, false),new StringType(false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"fillinput\", new SymbolMetadata(\"Fills the element matched by `selector` with content and falls back to the last used input if the element can't be found. You probably don't want this; it used to be used internally for [[editor]].\\n\\nThat said, `bind gs fillinput null [Tridactyl](https://addons.mozilla.org/en-US/firefox/addon/tridactyl-vim/) is my favourite add-on` could probably come in handy.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"getInput\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"HTMLElement\", [], false, false)], new StringType(false, false), false, false), true)],\n[\"getinput\", new SymbolMetadata(\"\", new FunctionType([], new StringType(false, false), false, false), true)],\n[\"getInputSelector\", new SymbolMetadata(\"\", new FunctionType([], new AnyType(true, false), false, false), true)],\n[\"addTridactylEditorClass\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"removeTridactylEditorClass\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"editor\", new SymbolMetadata(\"Opens your favourite editor (which is currently gVim) and fills the last used input with whatever you write into that file.\\n**Requires that the native messenger is installed, see [[native]] and [[nativeinstall]]**.\\n\\nUses the `editorcmd` config option, default = `auto` looks through a list defined in lib/native.ts try find a sensible combination. If it's a bit slow, or chooses the wrong editor, or gives up completely, set editorcmd to something you want. The command must stay in the foreground until the editor exits.\\n\\nThe editorcmd needs to accept a filename, stay in the foreground while it's edited, save the file and exit. By default the filename is added to the end of editorcmd, if you require control over the position of that argument, the first occurrence of %f in editorcmd is replaced with the filename. %l, if it exists, is replaced with the line number of the cursor and %c with the column number. For example:\\n```\\nset editorcmd terminator -u -e \\\"vim %f '+normal!%lGzv%c|'\\\"\\n```\\n\\nYou're probably better off using the default insert mode bind of `<C-i>` (Ctrl-i) to access this.\\n\\nThis function returns a tuple containing the path to the file that was opened by the editor and its content. This enables creating commands such as the following one, which deletes the temporary file created by the editor:\\n```\\nalias editor_rm composite editor | jsb -p tri.native.run(`rm -f '${JS_ARG[0]}'`)\\nbind --mode=insert <C-i> editor_rm\\nbind --mode=input <C-i> editor_rm\\n```\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"guiset_quiet\", new SymbolMetadata(\"Like [[guiset]] but quieter.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"guiset\", new SymbolMetadata(\"Change which parts of the Firefox user interface are shown. **NB: This feature is experimental and might break stuff.**\\n\\nMight mangle your userChrome. Requires native messenger, and you must restart Firefox each time to see any changes (this can be done using [[restart]]). <!-- (unless you enable addon debugging and refresh using the browser toolbox) -->\\n\\nAlso flips the preference `toolkit.legacyUserProfileCustomizations.stylesheets` to true so that FF will read your userChrome.\\n\\nView available rules and options [here](/static/docs/modules/_src_lib_css_util_.html#potentialrules) and [here](/static/docs/modules/_src_lib_css_util_.html#metarules).\\n\\nExample usage: `guiset gui none`, `guiset gui full`, `guiset tabs autohide`.\\n\\nSome of the available options:\\n\\n- gui\\n      - full\\n      - none\\n\\n- tabs\\n      - always\\n      - autohide\\n\\n- navbar\\n      - always\\n      - autohide\\n      - none\\n\\n- hoverlink (the little link that appears when you hover over a link)\\n      - none\\n      - left\\n      - right\\n      - top-left\\n      - top-right\\n\\n- statuspanel (hoverlink + the indicator that appears when a website is loading)\\n      - none\\n      - left\\n      - right\\n      - top-left\\n      - top-right\\n\\nIf you want to use guiset in your tridactylrc, you might want to use [[guiset_quiet]] instead.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"cssparse\", new SymbolMetadata(\"\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), true)],\n[\"loadtheme\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"unloadtheme\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"colourscheme\", new SymbolMetadata(\"Changes the current theme.\\n\\nIf THEMENAME is any of the themes that can be found in the [Tridactyl repo](https://github.com/tridactyl/tridactyl/tree/master/src/static/themes) (e.g. 'dark'), the theme will be loaded from Tridactyl's internal storage.\\n\\nIf THEMENAME is set to any other value except `--url`, Tridactyl will attempt to use its native binary (see [[native]]) in order to load a CSS file named THEMENAME from disk. The CSS file has to be in a directory named \\\"themes\\\" and this directory has to be in the same directory as your tridactylrc. If this fails, Tridactyl will attempt to load the theme from its internal storage.\\n\\nLastly, themes can be loaded from URLs with `:colourscheme --url [url] [themename]`. They are stored internally - if you want to update the theme run the whole command again.\\n\\nNote that the theme name should NOT contain any dot.\\n\\nExample: `:colourscheme mysupertheme`\\nOn linux, this will load ~/.config/tridactyl/themes/mysupertheme.css\\n\\n__NB__: due to Tridactyl's architecture, the theme will take a small amount of time to apply as each page is loaded. If this annoys you, you may use [userContent.css](http://kb.mozillazine.org/index.php?title=UserContent.css&printable=yes) to make changes to Tridactyl earlier. For example, users using the dark theme may like to put\\n\\n```\\n:root {\\n     --tridactyl-bg: black !important;\\n     --tridactyl-fg: white !important;\\n}\\n```\\n\\nin their `userContent.css`. Follow [issue #2510](https://github.com/tridactyl/tridactyl/issues/2510) if you would like to find out when we have made a more user-friendly solution.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"setpref\", new SymbolMetadata(\"Write a setting to your user.js file. Requires a [[restart]] after running to take effect.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"removepref\", new SymbolMetadata(\"Remove a setting from your user.js file.\", new FunctionType([new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"fixamo_quiet\", new SymbolMetadata(\"Like [[fixamo]] but quieter.\\n\\nNow purely a placebo as [[fixamo]] has been removed.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"fixamo\", new SymbolMetadata(\"Used to simply set\\n```js\\n  \\\"privacy.resistFingerprinting.block_mozAddonManager\\\":true\\n  \\\"extensions.webextensions.restrictedDomains\\\":\\\"\\\"\\n```\\nin about:config via user.js so that Tridactyl (and other extensions!) can be used on addons.mozilla.org and other sites.\\n\\nRemoved at the request of the Firefox Security team. Replacements exist in our exemplar RC file.\\n\\nRequires `native` and a `restart`.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"nativeopen\", new SymbolMetadata(\"Uses the native messenger to open URLs.\\n\\n**Be *seriously* careful with this:**\\n\\n1. the implementation basically execs `firefox --new-tab <your shell escaped string here>`\\n2. you can use it to open any URL you can open in the Firefox address bar,\\n    including ones that might cause side effects (firefox does not guarantee\\n    that about: pages ignore query strings).\\n\\nYou've been warned.\\n\\nThis uses the [[browser]] setting to know which binary to call. If you need to pass additional arguments to firefox (e.g. '--new-window'), make sure they appear before the url.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"exclaim\", new SymbolMetadata(\"Run command in /bin/sh (unless you're on Windows), and print the output in the command line. Non-zero exit codes and stderr are ignored, currently.\\n\\nRequires the native messenger, obviously.\\n\\nIf you're using `exclaim` with arguments coming from a pipe, consider using [[shellescape]] to properly escape arguments and to prevent unsafe commands.\\n\\nIf you want to use a different shell, just prepend your command with whatever the invocation is and keep in mind that most shells require quotes around the command to be executed, e.g. `:exclaim xonsh -c \\\"1+2\\\"`.\\n\\nAliased to `!` but the exclamation mark **must be followed with a space**.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"exclaim_quiet\", new SymbolMetadata(\"Like exclaim, but without any output to the command line.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"native\", new SymbolMetadata(\"Tells you if the native messenger is installed and its version.\\n\\nFor snap, flatpak, and other sandboxed installations, additional setup is required \u2013 see https://github.com/tridactyl/tridactyl#extra-features-through-native-messaging.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"nativeinstall\", new SymbolMetadata(\"Copies the installation command for the native messenger to the clipboard and asks the user to run it in their shell.\\n\\nThe native messenger's source code may be found here: https://github.com/tridactyl/native_messenger/blob/master/src/native_main.nim\\n\\nIf your corporate IT policy disallows execution of binaries which have not been whitelisted but allows Python scripts, you may instead use the old native messenger by running `install.sh` or `win_install.ps1` from https://github.com/tridactyl/tridactyl/tree/master/native - the main downside is that it is significantly slower.\\n\\nFor snap, flatpak, and other sandboxed installations, additional setup is required \u2013 see https://github.com/tridactyl/tridactyl#extra-features-through-native-messaging.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"mktridactylrc\", new SymbolMetadata(\"Writes current config to a file.\\n\\nNB: an RC file is not required for your settings to persist: all settings are stored in a local Firefox storage database by default as soon as you set them.\\n\\nWith no arguments supplied the excmd will try to find an appropriate\\nconfig path and write the rc file to there. Any argument given to the\\nexcmd excluding the `-f` flag will be treated as a path to write the rc\\nfile to relative to the native messenger's location (`~/.local/share/tridactyl/`). By default, it silently refuses to overwrite existing files.\\n\\nThe RC file will be split into sections that will be created if a config\\nproperty is discovered within one of them:\\n- General settings\\n- Binds\\n- Aliases\\n- Autocmds\\n- Autocontainers\\n- Logging\\n\\nNote:\\n- Subconfig paths fall back to using `js tri.config.set(key: obj)` notation.\\n- This method is also used as a fallback mechanism for objects that didn't hit\\n  any of the heuristics.\\n\\nAvailable flags:\\n- `-f` will overwrite the config file if it exists.\\n- `--clipboard` write config to clipboard - no [[native]] required\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"source\", new SymbolMetadata(\"Runs an RC file from disk or a URL\\n\\nThis function accepts a flag: `--url` to load a RC from a URL.\\n\\nIf no argument given, it will try to open ~/.tridactylrc, ~/.config/tridactyl/tridactylrc or $XDG_CONFIG_HOME/tridactyl/tridactylrc in reverse order. You may use a `_` in place of a leading `.` if you wish, e.g, if you use Windows.\\n\\nIf no url is specified with the `--url` flag, the current page's URL is used to locate the RC file. Ensure the URL you pass (or page you are on) is a \\\"raw\\\" RC file, e.g. https://raw.githubusercontent.com/tridactyl/tridactyl/master/.tridactylrc and not https://github.com/tridactyl/tridactyl/blob/master/.tridactylrc.\\n\\nTridactyl won't run on many raw pages due to a Firefox bug with Content Security Policy, so you may need to use the `source --url [URL]` form.\\n\\nOn Windows, the `~` expands to `%USERPROFILE%`.\\n\\nThe RC file is just a bunch of Tridactyl excmds (i.e, the stuff on this help page). Settings persist in local storage. There's an [example file](https://raw.githubusercontent.com/tridactyl/tridactyl/master/.tridactylrc) if you want it.\\n\\nThere is a [bug](https://github.com/tridactyl/tridactyl/issues/1409) where not all lines of the RC file are executed if you use `sanitise` at the top of it. We instead recommend you put `:bind ZZ composite sanitise tridactyllocal; qall` in your RC file and use `ZZ` to exit Firefox.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"source_quiet\", new SymbolMetadata(\"Same as [[source]] but suppresses all errors\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"updatenative\", new SymbolMetadata(\"Updates the native messenger if it is installed, using our GitHub repo. This is run every time Tridactyl is updated.\\n\\nIf you want to disable this, or point it to your own native messenger, edit the `nativeinstallcmd` setting.\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"restart\", new SymbolMetadata(\"Restarts firefox with the same commandline arguments.\\n\\nWarning: This can kill your tabs, especially if you :restart several times\\nin a row\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"saveas\", new SymbolMetadata(\"Download the current document.\\n\\nIf you have the native messenger v>=0.1.9 installed, the function accepts an optional argument, filename, which can be:\\n- An absolute path\\n- A path starting with ~, which will be expanded to your home directory\\n- A relative path, relative to the native messenger executable (e.g. ~/.local/share/tridactyl on linux).\\nIf filename is not given, a download dialogue will be opened. If filename is a directory, the file will be saved inside of it, its name being inferred from the URL. If the directories mentioned in the path do not exist or if a file already exists at this path, the file will be kept in your downloads folder and an error message will be given.\\n\\n**NB**: if a non-default save location is chosen, Firefox's download manager will say the file is missing. It is not - it is where you asked it to be saved.\\n\\nFlags:\\n- `--overwrite`: overwrite the destination file.\\n- `--cleanup`: removes the downloaded source file e.g. `$HOME/Downlods/downloaded.doc` if moving it to the desired directory fails.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tabSetActive\", new SymbolMetadata(\"\", new FunctionType([new NumberType(false, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"getJumpPageId\", new SymbolMetadata(\"This is used as an ID for the current page in the jumplist.\\nIt has a potentially confusing behavior: if you visit site A, then site B, then visit site A again, the jumplist that was created for your first visit on A will be re-used for your second visit.\\nAn ideal solution would be to have a counter that is incremented every time a new page is visited within the tab and use that as the return value for getJumpPageId but this doesn't seem to be trivial to implement.\", new FunctionType([], new StringType(false, false), false, false), true)],\n[\"saveJumps\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"saveTabHistory\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"curTabHistory\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"curJumps\", new SymbolMetadata(\"Returns a promise for an object containing the jumplist of all pages accessed in the current tab.\\nThe keys of the object currently are the page's URL, however this might change some day. Use [[getJumpPageId]] to access the jumplist of a specific page.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"jumpnext\", new SymbolMetadata(\"Calls [[jumpprev]](-n)\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"jumpprev\", new SymbolMetadata(\"Similar to Pentadactyl or vim's jump list.\\n\\nWhen you scroll on a page, either by using the mouse or Tridactyl's key bindings, your position in the page will be saved after jumpdelay milliseconds (`:get jumpdelay` to know how many milliseconds that is). If you scroll again, you'll be able to go back to your previous position by using `:jumpprev 1`. If you need to go forward in the jumplist, use `:jumpprev -1`.\\n\\nKnown bug: Tridactyl will use the same jumplist for multiple visits to a same website in the same tab, see [github issue 834](https://github.com/tridactyl/tridactyl/issues/834).\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markjump\", new SymbolMetadata(\"Jumps to a local mark, a global mark, or the location before the last mark jump.\\n[a-z] are local marks, [A-Z] are global marks and '`' is the location before the last mark jump.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"markjumplocal\", new SymbolMetadata(\"Jumps to a local mark.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markjumpglobal\", new SymbolMetadata(\"Jumps to a global mark. If the tab with the mark no longer exists or its url differs from the mark's url,\\njumps to another tab with the mark's url or creates it first if such tab does not exist.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"markjumpbefore\", new SymbolMetadata(\"Jumps to a location saved before the last mark jump as long as the tab it's located in exists and its url didn't change.\\nOverwrites the location before the last mark jump - repeating this method will jump back and forth between two locations.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"scrolltab\", new SymbolMetadata(\"Scrolls to a given position in a tab identified by tabId and prints a message in it.\", new FunctionType([new NumberType(false, false),new NumberType(false, false),new NumberType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markadd\", new SymbolMetadata(\"Adds a global or a local mark. In case of a local mark, it will be assigned to the current page url.\\nIf a mark is already assigned, it is overwritten.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markaddlocal\", new SymbolMetadata(\"Assigns a local mark to the current url and the given key. If a mark is already assigned, it is overwritten.\\nTwo urls are considered the same if they're identical ignoring anchors.\\nLocal marks are not persisted between browser restarts.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"markaddglobal\", new SymbolMetadata(\"Assigns a global mark to the given key. If a mark is already assigned, it is overwritten.\\nGlobal marks are persisted between browser restarts.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"addJump\", new SymbolMetadata(\"Called on 'scroll' events.\\nIf you want to have a function that moves within the page but doesn't add a\\nlocation to the jumplist, make sure to set JUMPED to true before moving\\naround.\\nThe setTimeout call is required because sometimes a user wants to move\\nsomewhere by pressing 'j' multiple times and we don't want to add the\\nin-between locations to the jump list\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"addTabHistory\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"unfocus\", new SymbolMetadata(\"Blur (unfocus) the active element and enter normal mode\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"scrollpx\", new SymbolMetadata(\"Scrolls the window or any scrollable child element by a pixels on the horizontal axis and b pixels on the vertical axis.\", new FunctionType([new NumberType(false, false),new NumberType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"scrollto\", new SymbolMetadata(\"If two numbers are given, treat as x and y values to give to window.scrollTo\\nIf one number is given, scroll to that percentage along a chosen axis, defaulting to the y-axis. If the number has 'c' appended to it, it will be interpreted in radians.\\n\\nNote that if `a` is 0 or 100 and if the document is not scrollable in the given direction, Tridactyl will attempt to scroll the first scrollable element until it reaches the very bottom of that element.\\n\\nExamples:\\n\\n- `scrollto 50` -> scroll halfway down the page.\\n- `scrollto 3.14c` -> scroll approximately 49.97465213% of the way down the page.\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, false),new UnionType([new NumberType(false, false),\nnew LiteralTypeType(\"x\", false, false),\nnew LiteralTypeType(\"y\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"scrollline\", new SymbolMetadata(\"Scrolls the document of its first scrollable child element by n lines.\\n\\nThe height of a line is defined by the site's CSS. If Tridactyl can't get it, it'll default to 22 pixels.\", new FunctionType([new NumberType(false, true),new NumberType(false, true)], new AnyType(true, false), false, false), false)],\n[\"scrollpage\", new SymbolMetadata(\"Scrolls the document by n pages.\\nThe height of a page is the current height of the window.\", new FunctionType([new NumberType(false, true),new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"find\", new SymbolMetadata(\"Rudimentary find mode, left unbound by default as we don't currently support `incsearch`. Suggested binds:\\n\\n     bind / fillcmdline find\\n     bind ? fillcmdline find --reverse\\n     bind n findnext --search-from-view\\n     bind N findnext --search-from-view --reverse\\n     bind gn findselect\\n     bind gN composite findnext --search-from-view --reverse; findselect\\n     bind ,<Space> nohlsearch\\n\\nArgument: A string you want to search for.\\n\\nThis function accepts two flags: `-?` or `--reverse` to search from the bottom rather than the top and `-: n` or `--jump-to n` to jump directly to the nth match.\\n\\nThe behavior of this function is affected by the following setting:\\n\\n`findcase`: either \\\"smart\\\", \\\"sensitive\\\" or \\\"insensitive\\\". If \\\"smart\\\", find will be case-sensitive if the pattern contains uppercase letters.\\n\\nKnown bugs: find will currently happily jump to a non-visible element, and pressing n or N without having searched for anything will cause an error.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"findnext\", new SymbolMetadata(\"Jump to the next nth searched pattern.\\n\\nAvailable flags:\\n- `-f` or `--search-from-view` to search from the current view instead of the previous match\\n- `-?` or `--reverse` to reverse the sign of the number\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"clearsearchhighlight\", new SymbolMetadata(\"\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"findselect\", new SymbolMetadata(\"Highlight the current find-mode match result and enter the visual mode.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"history\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false),new NumberType(false, false)], new VoidType(false, false), false, false), true)],\n[\"forward\", new SymbolMetadata(\"Navigate forward one page in history.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"back\", new SymbolMetadata(\"Navigate back one page in history.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"reload\", new SymbolMetadata(\"Reload the next n tabs, starting with activeTab, possibly bypassingCache\", new FunctionType([new NumberType(false, true),new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"reloadall\", new SymbolMetadata(\"Reloads all tabs, bypassing the cache if hard is set to true\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"reloadallbut\", new SymbolMetadata(\"Reloads all tabs except the current one, bypassing the cache if hard is set to true\\nYou probably want to use [[reloaddead]] instead if you just want to be able to ensure Tridactyl is loaded in all tabs where it can be\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"reloaddead\", new SymbolMetadata(\"Reloads all tabs which Tridactyl isn't loaded in\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new TupleType([new AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false),\nnew AnyType(true, false)], false, false)], false, false), false, false), false)],\n[\"reloadhard\", new SymbolMetadata(\"Reload the next n tabs, starting with activeTab. bypass cache for all\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"open\", new SymbolMetadata(\"Open a new page in the current tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"bmarks\", new SymbolMetadata(\"Works exactly like [[open]], but only suggests bookmarks.\\n\\nIf you want to use optional flags, you should run `:set completions.Bmark.autoselect false` to prevent the spacebar from inserting the URL of the top bookmark.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"open_quiet\", new SymbolMetadata(\"Like [[open]] but doesn't make a new entry in history.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"url2args\", new SymbolMetadata(\"If the url of the current document matches one of your search engines, will convert it to a list of arguments that open/tabopen will understand. If the url doesn't match any search engine, returns the url without modifications.\\n\\nFor example, if you have searchurls.gi set to \\\"https://www.google.com/search?q=%s&tbm=isch\\\", using this function on a page you opened using \\\"gi butterflies\\\" will return \\\"gi butterflies\\\".\\n\\nThis is useful when combined with fillcmdline, for example like this: `bind O composite url2args | fillcmdline open`.\\n\\nNote that this might break with search engines that redirect you to other pages/add GET parameters that do not exist in your searchurl.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"removeSource\", new SymbolMetadata(\"\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"viewsource\", new SymbolMetadata(\"Display the (HTML) source of the current page.\\n\\nBehaviour can be changed by the 'viewsource' setting.\\n\\nIf the 'viewsource' setting is set to 'default' rather than 'tridactyl',\\nthe url the source of which should be displayed can be given as argument.\\nOtherwise, the source of the current document will be displayed.\", new FunctionType([new StringType(false, true)], new VoidType(false, false), false, false), false)],\n[\"home\", new SymbolMetadata(\"Go to the homepages you have set with `set homepages [\\\"url1\\\", \\\"url2\\\"]`.\", new FunctionType([new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"help\", new SymbolMetadata(\"Show this page.\\n\\n`:help something` jumps to the entry for something. Something can be an excmd, an alias for an excmd, a binding or a setting.\\n\\nOn the ex command page, the \\\"nmaps\\\" list is a list of all the bindings for the command you're seeing and the \\\"exaliases\\\" list lists all its aliases.\\n\\nIf there's a conflict (e.g. you have a \\\"go\\\" binding that does something, a \\\"go\\\" excmd that does something else and a \\\"go\\\" setting that does a third thing), the binding is chosen first, then the setting, then the excmd. In such situations, if you want to let Tridactyl know you're looking for something specfic, you can specify the following flags as first arguments:\\n\\n`-a`: look for an alias\\n`-b`: look for a binding\\n`-e`: look for an ex command\\n`-s`: look for a setting\\n\\nIf the keyword you gave to `:help` is actually an alias for a composite command (see [[composite]]) , you will be taken to the help section for the first command of the pipeline. You will be able to see the whole pipeline by hovering your mouse over the alias in the \\\"exaliases\\\" list. Unfortunately there currently is no way to display these HTML tooltips from the keyboard.\\n\\ne.g. `:help bind`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"apropos\", new SymbolMetadata(\"Search through the help pages. Accepts the same flags as [[help]]. Only useful in interactive usage with completions; the command itself is just a wrapper for [[help]].\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tutor\", new SymbolMetadata(\"Start the tutorial\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"credits\", new SymbolMetadata(\"Display Tridactyl's contributors in order of commits in a user-friendly fashion\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"no_mouse_mode\", new SymbolMetadata(\"Hides the cursor and covers the current page in an overlay to prevent clicking on links with the mouse to force yourself to use hint mode.\\n\\nTo bring back mouse control, use [[mouse_mode]] or refresh the page.\\n\\nSuggested usage: `autocmd DocLoad .* no_mouse_mode`\\n\\n\\\"There is no mouse\\\".\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"neo_mouse_mode\", new SymbolMetadata(\"Matrix variant of [[no_mouse_mode]]\\n\\n\\\"There is no mouse\\\".\\n\\nCoincidentally added to Tridactyl at the same time as we reached 1337 stars on GitHub.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"snow_mouse_mode\", new SymbolMetadata(\"Christmas variant of [[no_mouse_mode]] (if you live in $DEFAULT hemisphere).\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"pied_piper_mouse_mode\", new SymbolMetadata(\"Music variant of [[no_mouse_mode]].\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"drawingstart\", new SymbolMetadata(\"Drawable variant of [[no_mouse_mode]]\\nIn this mode, you can use the mouse or a digital stylus to draw. To switch to an eraser, use [[drawingerasertoggle]]\\nUse [[mouse_mode]] to return, or refresh page.\\nSuggested usage: `autocmd DocLoad .* drawingstart\\n\\n**Warning**: Windows Ink enabled input devices don't work, disable it for your browser, or use a mouse.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"drawingerasertoggle\", new SymbolMetadata(\"Switch between pen and eraser for [[drawingstart]]\\nSuggested usage: `bind e drawingerasertoggle`. If you have a digital pen, map the button to `e` to switch easily.\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"mouse_mode\", new SymbolMetadata(\"Revert any variant of the [[no_mouse_mode]]\\n\\nSuggested usage: `bind <C-\\\\> mouse_mode` with the autocmd mentioned in [[no_mouse_mode]] or [[drawingstart]].\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"findRelLink\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"RegExp\", [], false, false)], new TypeReferenceType(\"HTMLAnchorElement\", [], false, false), false, false), true)],\n[\"selectLast\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"HTMLElement\", [], false, false), false, false), true)],\n[\"followpage\", new SymbolMetadata(\"Find a likely next/previous link and follow it\\n\\nIf a link or anchor element with rel=rel exists, use that, otherwise fall back to:\\n\\n    1) find the last anchor on the page with innerText matching the appropriate `followpagepattern`.\\n    2) call [[urlincrement]] with 1 or -1\\n\\nIf you want to support e.g. French:\\n\\n```\\nset followpagepatterns.next ^(next|newer|prochain)\\\\b|\u00BB|>>\\nset followpagepatterns.prev ^(prev(ious)?|older|pr\u00E9c\u00E9dent)\\\\b|\u00AB|<<\\n```\", new FunctionType([new UnionType([new LiteralTypeType(\"next\", false, false),\nnew LiteralTypeType(\"prev\", false, false)], false, true)], new VoidType(false, false), false, false), false)],\n[\"urlincrement\", new SymbolMetadata(\"Increment the current tab URL\", new FunctionType([new NumberType(false, true),new NumberType(false, true)], new VoidType(false, false), false, false), false)],\n[\"urlroot\", new SymbolMetadata(\"Go to the root domain of the current URL\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"urlparent\", new SymbolMetadata(\"Go to the parent URL of the current tab's URL\", new FunctionType([new NumberType(false, true)], new VoidType(false, false), false, false), false)],\n[\"urlmodify\", new SymbolMetadata(\"Open a URL made by modifying the current URL\\n\\nThere are several modes:\\n\\n* Text replace mode:   `urlmodify -t <old> <new>`\\n\\n   Replaces the first instance of the text `old` with `new`.\\n      * `http://example.com` -> (`-t exa peta`) -> `http://petample.com`\\n\\n* Regex replacment mode: `urlmodify -r <regexp> <new> [flags]`\\n\\n   Replaces the first match of the `regexp` with `new`. You can use\\n   flags `i` and `g` to match case-insensitively and to match\\n   all instances respectively\\n      * `http://example.com` -> (`-r [ea] X g`) -> `http://XxXmplX.com`\\n\\n* Query set mode: `urlmodify -s <query> <value>`\\n\\n   Sets the value of a query to be a specific one. If the query already\\n   exists, it will be replaced.\\n      * `http://e.com?id=abc` -> (`-s foo bar`) -> `http://e.com?id=abc&foo=bar\\n\\n* Query replace mode: `urlmodify -q <query> <new_val>`\\n\\n   Replace the value of a query with a new one:\\n      * `http://e.com?id=foo` -> (`-q id bar`) -> `http://e.com?id=bar\\n\\n* Query delete mode: `urlmodify -Q <query>`\\n\\n   Deletes the given query (and the value if any):\\n      * `http://e.com?id=foo&page=1` -> (`-Q id`) -> `http://e.com?page=1`\\n\\n* Graft mode: `urlmodify -g <graft_point> <new_path_tail>`\\n\\n   \\\"Grafts\\\" a new tail on the URL path, possibly removing some of the old\\n   tail. Graft point indicates where the old URL is truncated before adding\\n   the new path.\\n\\n   * `graft_point` >= 0 counts path levels, starting from the left\\n   (beginning). 0 will append from the \\\"root\\\", and no existing path will\\n   remain, 1 will keep one path level, and so on.\\n   * `graft_point` < 0 counts from the right (i.e. the end of the current\\n   path). -1 will append to the existing path, -2 will remove the last path\\n   level, and so on.\\n\\n   ```plaintext\\n   http://website.com/this/is/the/path/component\\n   Graft point:       ^    ^  ^   ^    ^        ^\\n   From left:         0    1  2   3    4        5\\n   From right:       -6   -5 -4  -3   -2       -1\\n   ```\\n\\n   Examples:\\n\\n   * `http://e.com/issues/42` -> (`-g 0 foo`) -> `http://e.com/foo`\\n   * `http://e.com/issues/42` -> (`-g 1 foo`) -> `http://e.com/issues/foo`\\n   * `http://e.com/issues/42` -> (`-g -1 foo`) -> `http://e.com/issues/42/foo`\\n   * `http://e.com/issues/42` -> (`-g -2 foo`) -> `http://e.com/issues/foo`\\n\\n\\n* URL Input: `urlmodify -*u <arguments> <URL>`\\n\\n   Each mode can be augmented to accept a URL as the last argument instead of\\n   the current url.\\n\\n   Examples:\\n\\n   * `urlmodify -tu <old> <new> <URL>`\\n   * `urlmodify -su <query> <value> <URL>`\\n   * `urlmodify -gu <graft_point> <new_path_tail> <URL>`\", new FunctionType([new UnionType([new LiteralTypeType(\"-t\", false, false),\nnew LiteralTypeType(\"-r\", false, false),\nnew LiteralTypeType(\"-s\", false, false),\nnew LiteralTypeType(\"-q\", false, false),\nnew LiteralTypeType(\"-Q\", false, false),\nnew LiteralTypeType(\"-g\", false, false),\nnew LiteralTypeType(\"-tu\", false, false),\nnew LiteralTypeType(\"-ru\", false, false),\nnew LiteralTypeType(\"-su\", false, false),\nnew LiteralTypeType(\"-qu\", false, false),\nnew LiteralTypeType(\"-Qu\", false, false),\nnew LiteralTypeType(\"-gu\", false, false)], false, false),new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"urlmodify_js\", new SymbolMetadata(\"Like [[urlmodify]] but returns the modified URL for use with [[js]] and [[composite]]\\n\\nE.g.\\n\\n`:composite urlmodify_js -t www. old. | tabopen `\", new FunctionType([new UnionType([new LiteralTypeType(\"-t\", false, false),\nnew LiteralTypeType(\"-r\", false, false),\nnew LiteralTypeType(\"-s\", false, false),\nnew LiteralTypeType(\"-q\", false, false),\nnew LiteralTypeType(\"-Q\", false, false),\nnew LiteralTypeType(\"-g\", false, false),\nnew LiteralTypeType(\"-tu\", false, false),\nnew LiteralTypeType(\"-ru\", false, false),\nnew LiteralTypeType(\"-su\", false, false),\nnew LiteralTypeType(\"-qu\", false, false),\nnew LiteralTypeType(\"-Qu\", false, false),\nnew LiteralTypeType(\"-gu\", false, false)], false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"geturlsforlinks\", new SymbolMetadata(\"Returns the url of links that have a matching rel.\\n\\nDon't bind to this: it's an internal function.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"zoom\", new SymbolMetadata(\"Sets the current page's zoom level anywhere between 30% and 300%.\\n\\nIf you overshoot the level while using relative adjustments i.e. level > 300% or level < 30% the zoom level will be set to it's maximum or minimum position. Relative adjustments are made * in percentage points, i.e. `:zoom +10 true` increases the zoom level from 50% to 60% or from * 200% to 210%.\", new FunctionType([new NumberType(false, true),new StringType(false, true),new StringType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"readerold\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"loadaucmds\", new SymbolMetadata(\"\", new FunctionType([new UnionType([new LiteralTypeType(\"UriChange\", false, false),\nnew LiteralTypeType(\"DocStart\", false, false),\nnew LiteralTypeType(\"DocLoad\", false, false),\nnew LiteralTypeType(\"DocEnd\", false, false),\nnew LiteralTypeType(\"TabEnter\", false, false),\nnew LiteralTypeType(\"TabLeft\", false, false),\nnew LiteralTypeType(\"FullscreenEnter\", false, false),\nnew LiteralTypeType(\"FullscreenLeft\", false, false),\nnew LiteralTypeType(\"FullscreenChange\", false, false),\nnew LiteralTypeType(\"HistoryState\", false, false)], false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"focusinput\", new SymbolMetadata(\"Focus the last used input on the page\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, false)], new VoidType(false, false), false, false), false)],\n[\"changelistjump\", new SymbolMetadata(\"Focus the tab which contains the last focussed input element. If you're lucky, it will focus the right input, too.\\n\\nCurrently just goes to the last focussed input; being able to jump forwards and backwards is planned.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"focusbyid\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"tabIndexSetActive\", new SymbolMetadata(\"\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"tabnext\", new SymbolMetadata(\"Switch to the next tab, wrapping round.\\n\\nIf increment is specified, move that many tabs forwards.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabnext_gt\", new SymbolMetadata(\"Switch to the next tab, wrapping round.\\n\\nIf an index is specified, go to the tab with that number (this mimics the\\nbehaviour of `{count}gt` in vim, except that this command will accept a\\ncount that is out of bounds (and will mod it so that it is within bounds as\\nper [[tabmove]], etc)).\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tabprev\", new SymbolMetadata(\"Switch to the previous tab, wrapping round.\\n\\nIf increment is specified, move that many tabs backwards.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabpush\", new SymbolMetadata(\"Pushes the current tab to another window. Only works for windows of the same type\\n(can't push a non-private tab to a private window or a private tab to\\na non-private window).\\nIf *windowId* is not specified, pushes to the next newest window,\\nwrapping around.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new UnionType([new TypeReferenceType(\"Tab\", [], false, false),\nnew ArrayType(new TypeReferenceType(\"Tab\", [], false, false), false, false)], false, false)], false, false), false, false), false)],\n[\"tabaudio\", new SymbolMetadata(\"Switch to the tab currently playing audio, if any.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"winmerge\", new SymbolMetadata(\"Moves all of the targetted window's tabs to the current window. Only works for windows of the same type\\n(can't merge a non-private tab with a private window).\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"parseWinTabIndex\", new SymbolMetadata(\"Given a string of the format windowIndex.tabIndex, returns a tuple of\\nnumbers corresponding to the window index and tab index or the current\\nwindow and tab if the string doesn't have the right format.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new NumberType(false, false), false, false)], false, false), false, false), false)],\n[\"tabgrab\", new SymbolMetadata(\"Moves a tab identified by a windowIndex.tabIndex id to the current window.\\nOnly works for windows of the same type (can't grab a non-private tab from a\\nprivate window and can't grab a private tab from a non-private window).\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new UnionType([new TypeReferenceType(\"Tab\", [], false, false),\nnew ArrayType(new TypeReferenceType(\"Tab\", [], false, false), false, false)], false, false)], false, false), false, false), false)],\n[\"tabopen\", new SymbolMetadata(\"Like [[open]], but in a new tab. If no address is given, it will open the newtab page, which can be set with `set newtab [url]`\\n\\nUse the `-c` flag followed by a container name to open a tab in said container. Tridactyl will try to fuzzy match a name if an exact match is not found (opening the tab in no container can be enforced with \\\"firefox-default\\\" or \\\"none\\\"). If any autocontainer directives are configured and -c is not set, Tridactyl will try to use the right container automatically using your configurations.\\n\\nUse the `-b` flag to open the tab in the background.\\n\\nUse the `-w` flag to wait for the web page to load before \\\"returning\\\". This only makes sense for use with [[composite]], which waits for each command to return before moving on to the next one, e.g. `composite tabopen -b -w news.bbc.co.uk ; tabnext`.\\n\\nThe special flag \\\"--focus-address-bar\\\" should focus the Firefox address bar after opening if no URL is provided.\\n\\nThese three can be combined in any order, but need to be placed as the first arguments.\\n\\nUnlike Firefox's Ctrl-t shortcut, this opens tabs immediately after the\\ncurrently active tab rather than at the end of the tab list because that is\\nthe authors' preference.\\n\\nIf you would rather the Firefox behaviour `set tabopenpos last`. This\\npreference also affects the clipboard, quickmarks, home, help, etc.\\n\\nIf you would rather the URL be opened as if you'd middle clicked it, `set\\ntabopenpos related`.\\n\\nHinting is controlled by `relatedopenpos`\\n\\nAlso see the [[searchengine]] and [[searchurls]] settings.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabopenwait\", new SymbolMetadata(\"Like [[tabopen]] but waits for the DOM to load before resolving its promise. Useful if you're hoping to execute ex-commands in that tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabopen_helper\", new SymbolMetadata(\"\", new FunctionType([new ObjectType(new Map<string, Type>([]), false, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"tabqueue\", new SymbolMetadata(\"Passes its first argument to `tabopen -b`. Once the tab opened by `tabopen\\n-b` is activated/selected/focused, opens its second argument with `tabopen\\n-b`. Once the second tab is activated/selected/focused, opens its third\\nargument with `tabopen -b` and so on and so forth until all arguments have\\nbeen opened in a new tab or until a tab is closed without being\\nactivated/selected/focused.\\n\\nExample usage:\\n   `tabqueue http://example.org http://example.com http://example.net`\\n   `composite hint -qpipe a href | tabqueue`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"idFromIndex\", new SymbolMetadata(\"Resolve a tab index to the tab id of the corresponding tab in this window.\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, true)], new TypeReferenceType(\"Promise\", [new NumberType(false, false)], false, false), false, false), true)],\n[\"tabFromIndex\", new SymbolMetadata(\"Like [[idFromIndex]] but returns the whole tab object\", new FunctionType([new UnionType([new StringType(false, false),\nnew NumberType(false, false)], false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), true)],\n[\"tabonly\", new SymbolMetadata(\"Close all other tabs in this window\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"tabduplicate\", new SymbolMetadata(\"Duplicate a tab.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"tabdetach\", new SymbolMetadata(\"Detach a tab, opening it in a new window.\", new FunctionType([new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Window\", [], false, false)], false, false), false, false), false)],\n[\"fullscreen\", new SymbolMetadata(\"Toggle fullscreen state\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Window\", [], false, false)], false, false), false, false), false)],\n[\"tabclose\", new SymbolMetadata(\"Close a tab.\\n\\nKnown bug: autocompletion will make it impossible to close more than one tab at once if the list of numbers looks enough like an open tab's title or URL.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"tabcloseallto\", new SymbolMetadata(\"Close all tabs to the side specified\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"undo\", new SymbolMetadata(\"Restore the most recently closed item.\\nThe default behaviour is to restore the most recently closed tab in the\\ncurrent window unless the most recently closed item is a window.\\n\\nSupplying either \\\"tab\\\" or \\\"window\\\" as an argument will specifically only\\nrestore an item of the specified type. Supplying \\\"tab_strict\\\" only restores\\ntabs that were open in the current window.\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new NumberType(false, false)], false, false), false, false), false)],\n[\"tabmove\", new SymbolMetadata(\"Move the current tab to be just in front of the index specified.\\n\\nKnown bug: This supports relative movement with `tabmove +pos` and `tabmove -pos`, but autocomplete doesn't know that yet and will override positive and negative indexes.\\n\\nPut a space in front of tabmove if you want to disable completion and have the relative indexes at the command line.\\n\\nBinds are unaffected.\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new UnionType([new TypeReferenceType(\"Tab\", [], false, false),\nnew ArrayType(new TypeReferenceType(\"Tab\", [], false, false), false, false)], false, false)], false, false), false, false), false)],\n[\"tabsort\", new SymbolMetadata(\"Move tabs in current window according to various criteria:\\n\\n- `--containers` groups tabs by containers\\n- `--title` sorts tabs by title\\n- `--url` sorts tabs by url (the default)\\n- `(tab1, tab2) => true|false`\\n      - sort by arbitrary comparison function. `tab{1,2}` are objects with properties described here: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"pin\", new SymbolMetadata(\"Pin the current tab\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"mute\", new SymbolMetadata(\"Mute current tab or all tabs.\\n\\nPassing \\\"all\\\" to the excmd will operate on  the mute state of all tabs.\\nPassing \\\"unmute\\\" to the excmd will unmute.\\nPassing \\\"toggle\\\" to the excmd will toggle the state of `browser.tabs.tab.MutedInfo`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"winopen\", new SymbolMetadata(\"Like [[tabopen]], but in a new window.\\n\\n`winopen -private [...]` will open the result in a private window (and won't store the command in your ex-history ;) ).\\n\\n`winopen -popup [...]` will open it in a popup window. You can combine the two for a private popup.\\n\\n`winopen -c containername [...]` will open the result in a container while ignoring other options given. See [[tabopen]] for more details on containers.\\n\\nExample: `winopen -popup -private ddg.gg`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"winclose\", new SymbolMetadata(\"Close a window.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"wintitle\", new SymbolMetadata(\"Add/change a prefix to the current window title\\n\\nExample: `wintitle [Hovercraft research]`\\n\\nProtip: unicode emojis work :)\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Window\", [], false, false)], false, false), false, false), false)],\n[\"qall\", new SymbolMetadata(\"Close all windows\", new FunctionType([], new TypeReferenceType(\"Promise\", [new ArrayType(new VoidType(false, false), false, false)], false, false), false, false), false)],\n[\"sidebaropen\", new SymbolMetadata(\"EXPERIMENTAL: like [[open]] but loads queries in the sidebar. Doesn't actually open the sidebar - see [[sidebartoggle]].\\n\\nNot all schemas are supported, such as `about:*` and Firefox's built-in search engines. Tridactyl's searchurls and jsurls work fine - `:set searchengine google` will be sufficient for most users.\\n\\nIf you try to open the command line in the sidebar things will break.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"jsua\", new SymbolMetadata(\"Like [[jsb]] but preserves \\\"user action\\\" intent for use with certain web extension APIs. Can only be called with browser mode binds, e.g.\\n\\n`:bind --mode=browser <C-.> jsua browser.sidebarAction.open(); tri.excmds.sidebaropen(\\\"https://mail.google.com/mail/mu\\\")`\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"sidebartoggle\", new SymbolMetadata(\"Toggle the side bar. Can only be called through browser mode binds, e.g.\\n\\n`:bind --mode=browser <C-.> sidebartoggle`\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containerclose\", new SymbolMetadata(\"Closes all tabs open in the same container across all windows.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containercreate\", new SymbolMetadata(\"Creates a new container. Note that container names must be unique and that the checks are case-insensitive.\\n\\nFurther reading https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/contextualIdentities/ContextualIdentity\\n\\nExample usage:\\n    - `:containercreate tridactyl green dollar`\", new FunctionType([new StringType(false, false),new StringType(false, true),new StringType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containerdelete\", new SymbolMetadata(\"Delete a container. Closes all tabs associated with that container beforehand. Note: container names are case-insensitive.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"containerupdate\", new SymbolMetadata(\"Update a container's information. Note that none of the parameters are optional and that container names are case-insensitive.\\n\\nExample usage:\\n\\n- Changing the container name: `:containerupdate banking blockchain green dollar`\\n\\n- Changing the container icon: `:containerupdate banking banking green briefcase`\\n\\n- Changing the container color: `:containerupdate banking banking purple dollar`\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"viewcontainers\", new SymbolMetadata(\"Shows a list of the current containers in Firefox's native JSON viewer in the current tab.\\n\\nNB: Tridactyl cannot run on this page!\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"recontain\", new SymbolMetadata(\"Opens the current tab in another container.\\n\\nThis is probably not a good idea if you care about tracking protection!\\nTransfering URLs from one container to another allows websites to track\\nyou across those containers.\\n\\nRead more here:\\nhttps://github.com/mozilla/multi-account-containers/wiki/Moving-between-containers\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"setContentStateGroup\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), true)],\n[\"tgroupcreate\", new SymbolMetadata(\"Create a new tab group in the current window. NB: use [[tgroupswitch]] instead\\nin most cases, since it will create non-existent tab groups before switching\\nto them.\\n\\nTab groups are a way of organizing different groups of related tabs within a\\nsingle window. Groups allow you to have different named contexts and show\\nonly the tabs for a single group at a time.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupswitch\", new SymbolMetadata(\"Switch to a different tab group, hiding all other tabs.\\n\\n\\\"%\\\" denotes the current tab group and \\\"#\\\" denotes the tab group that was\\nlast active. \\\"A\\\" indates a tab group that contains an audible tab. Use\\n`:set completions.Tab.statusstylepretty true` to display a unicode character\\ninstead.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgrouplast\", new SymbolMetadata(\"Switch to the previously active tab group.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgrouprename\", new SymbolMetadata(\"Rename the current tab group.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupclose\", new SymbolMetadata(\"Close all tabs in a tab group and delete the group.\", new FunctionType([new StringType(false, true)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupmove\", new SymbolMetadata(\"Move the current tab to another tab group, creating it if it does not exist.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), false)],\n[\"tgroupabort\", new SymbolMetadata(\"Delete all tab group information for the current window and show all tabs.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"version\", new SymbolMetadata(\"\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"mode\", new SymbolMetadata(\"Switch mode.\\n\\nFor now you probably shouldn't manually switch to other modes than `normal` and `ignore`. Make sure you're aware of the key bindings (ignoremaps) that will allow you to go come back to normal mode from ignore mode before you run `:mode ignore` otherwise you're going to have a hard time re-enabling Tridactyl.\\n\\nExample:\\n     - `mode ignore` to ignore almost all keys.\\n\\nIf you're looking for a way to temporarily disable Tridactyl, `mode ignore` might be what you're looking for.\\n\\nNote that when in ignore mode, Tridactyl will not switch to insert mode when focusing text areas/inputs. This is by design.\\n\\n**New feature:** you can add modes as simply as adding binds with `bind --mode=[newmodename]` and then enter the mode with `mode [newmodename]`.\", new FunctionType([new AnyType(true, false)], new VoidType(false, false), false, false), false)],\n[\"getnexttabs\", new SymbolMetadata(\"\", new FunctionType([new NumberType(false, false),new NumberType(false, true)], new TypeReferenceType(\"Promise\", [new ArrayType(new NumberType(false, false), false, false)], false, false), false, false), true)],\n[\"repeat\", new SymbolMetadata(\"Repeats a `cmd` `n` times.\\nIf `cmd` doesn't exist, re-executes the last exstr that was executed in the tab.\\nExecutes the command once if `n` isn't defined either.\\n\\nThis re-executes the last *exstr*, not the last *excmd*. Some excmds operate internally by constructing and evaluating exstrs, others by directly invoking excmds without going through the exstr parser. For example, aucmds and keybindings evaluate exstrs and are repeatable, while commands like `:bmarks` directly invoke `:tabopen` and you'll repeat the `:bmarks` rather than the internal `:tabopen`.\\n\\nIt's difficult to execute this in the background script (`:jsb`, `:run_excmd`, `:autocmd TriStart`, `:source`), but if you you do, it will re-execute the last exstr that was executed in the background script. What this may have been is unpredictable and not precisely encouraged.\", new FunctionType([new NumberType(false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"composite\", new SymbolMetadata(\"Split `cmds` on pipes (|) and treat each as its own command. Return values are passed as the last argument of the next ex command, e.g,\\n\\n`composite echo yes | fillcmdline` becomes `fillcmdline yes`. A more complicated example is the ex alias, `command current_url composite get_current_url | fillcmdline_notrail `, which is used in, e.g. `bind T current_url tabopen`.\\n\\nWorkaround: this should clearly be in the parser, but we haven't come up with a good way to deal with |s in URLs, search terms, etc. yet.\\n\\n`cmds` are also split with semicolons (;) and don't pass things along to each other.\\n\\nIf you wish to have a command that has semi-colons in it (e.g. some JavaScript or `hint -;`), first bind a [[command]] to it. For example, `command hint_focus -;`, and then `composite hint_focus; !s xdotool key Menu`.\\n\\nThe behaviour of combining ; and | in the same composite command is left as an exercise for the reader.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"shellescape\", new SymbolMetadata(\"Escape command for safe use in shell with composite. E.g: `composite js MALICIOUS_WEBSITE_FUNCTION() | shellescape | exclaim ls`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"escapehatch\", new SymbolMetadata(\"Magic escape hatch: if Tridactyl can't run in the current tab, return to a tab in the current window where Tridactyl can run, making such a tab if it doesn't currently exist. If Tridactyl can run in the current tab, return focus to the document body from e.g. the URL bar or a video player.\\n\\nOnly useful if called from a background context, e.g. at the end of an RC file to ensure that when you start the browser you don't get trapped on an about: page, or via `bind --mode=browser escapehatch` (bound to `<C-,>` by default).\\n\\nNB: when called via `bind --mode=browser`, we return focus from the address bar by opening and closing the \\\"sidebar\\\" (which is used exclusively for this purpose). If escapehatch is called in any other way, we cannot do this as Mozilla thinks it might [spook](https://extensionworkshop.com/documentation/publish/add-on-policies/#no-surprises) [you](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/User_actions) : ).\\n\\nThis sidebar hack will close other sidebars such a TreestyleTabs. You can disable it with `:set escapehatchsidebarhack false`, but Tridactyl will no longer be able to get focus back from certain places such as the address bar.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"sleep\", new SymbolMetadata(\"Sleep time_ms milliseconds.\\nThis is probably only useful for composite commands that need to wait until the previous asynchronous command has finished running.\", new FunctionType([new NumberType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"showcmdline\", new SymbolMetadata(\"\", new FunctionType([new BooleanType(false, true)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"hidecmdline\", new SymbolMetadata(\"\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"fillcmdline\", new SymbolMetadata(\"Set the current value of the commandline to string *with* a trailing space\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"fillcmdline_notrail\", new SymbolMetadata(\"Set the current value of the commandline to string *without* a trailing space\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"fillcmdline_nofocus\", new SymbolMetadata(\"Show and fill the command line without focusing it\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"fillcmdline_tmp\", new SymbolMetadata(\"Shows str in the command line for ms milliseconds. Recommended duration: 3000ms.\", new FunctionType([new NumberType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"yank\", new SymbolMetadata(\"Copy `content` to clipboard without feedback. Use `clipboard yank` for interactive use.\\n\\ne.g. `yank bob` puts \\\"bob\\\" in the clipboard; `composite js document.title | yank` puts the document title in the clipboard.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new AnyType(true, false), false, false)], false, false), false, false), false)],\n[\"setclip\", new SymbolMetadata(\"Copies a string to the clipboard/selection buffer depending on the user's preferences.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new AnyType(true, false), false, false)], false, false), false, false), true)],\n[\"setclip_webapi\", new SymbolMetadata(\"Copies a string to the clipboard using the Clipboard API.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"getclip\", new SymbolMetadata(\"Fetches the content of the clipboard/selection buffer depending on user's preferences\\n\\nExposed for use with [[composite]], e.g. `composite getclip | fillcmdline`\", new FunctionType([new UnionType([new LiteralTypeType(\"clipboard\", false, false),\nnew LiteralTypeType(\"selection\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"getclip_webapi\", new SymbolMetadata(\"Gets the clipboard content using the Clipboard API.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), true)],\n[\"clipboard\", new SymbolMetadata(\"Use the system clipboard.\\n\\nIf `excmd === \\\"open\\\"`, call [[open]] with the contents of the clipboard. Similarly for [[tabopen]].\\n\\nIf `excmd === \\\"yank\\\"`, copy the current URL, or if given, the value of toYank, into the system clipboard.\\n\\nIf `excmd === \\\"yankcanon\\\"`, copy the canonical URL of the current page if it exists, otherwise copy the current URL.\\n\\nIf `excmd === \\\"yankshort\\\"`, copy the shortlink version of the current URL, and fall back to the canonical then actual URL. Known to work on https://yankshort.neocities.org/.\\n\\nIf `excmd === \\\"yanktitle\\\"`, copy the title of the open page.\\n\\nIf `excmd === \\\"yankmd\\\"`, copy the title and url of the open page formatted in Markdown for easy use on sites such as reddit. `yankorg` is similar but for Emacs orgmode.\\n\\nIf you're on Linux and the native messenger is installed, Tridactyl will call an external binary (either xclip or xsel) to read or write to your X selection buffer. If you want another program to be used, set \\\"externalclipboardcmd\\\" to its name and make sure it has the same interface as xsel/xclip (\\\"-i\\\"/\\\"-o\\\" and reading from stdin).\\n\\nWhen doing a read operation (i.e. open or tabopen), if \\\"putfrom\\\" is set to \\\"selection\\\", the X selection buffer will be read instead of the clipboard. Set \\\"putfrom\\\" to \\\"clipboard\\\" to use the clipboard.\\n\\nWhen doing a write operation, if \\\"yankto\\\" is set to \\\"selection\\\", only the X selection buffer will be written to. If \\\"yankto\\\" is set to \\\"both\\\", both the X selection and the clipboard will be written to. If \\\"yankto\\\" is set to \\\"clipboard\\\", only the clipboard will be written to.\", new FunctionType([new UnionType([new LiteralTypeType(\"open\", false, false),\nnew LiteralTypeType(\"yank\", false, false),\nnew LiteralTypeType(\"yankshort\", false, false),\nnew LiteralTypeType(\"yankcanon\", false, false),\nnew LiteralTypeType(\"yanktitle\", false, false),\nnew LiteralTypeType(\"yankmd\", false, false),\nnew LiteralTypeType(\"yankorg\", false, false),\nnew LiteralTypeType(\"xselpaste\", false, false),\nnew LiteralTypeType(\"tabopen\", false, false)], false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"yankimage\", new SymbolMetadata(\"Copy an image to the clipboard.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"tab\", new SymbolMetadata(\"Change active tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"taball\", new SymbolMetadata(\"Wrapper for [[tab]] with multi-window completions\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tabcurrentrename\", new SymbolMetadata(\"Rename current tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), true)],\n[\"tabrename\", new SymbolMetadata(\"Rename a tab.\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tab_helper\", new SymbolMetadata(\"Helper to change active tab. Used by [[tab]] and [[taball]].\", new FunctionType([new BooleanType(false, false),new BooleanType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"command\", new SymbolMetadata(\"Similar to vim's `:command`. Maps one ex-mode command to another.\\nIf command already exists, this will override it, and any new commands\\nadded in a future release will be SILENTLY overridden. Aliases are\\nexpanded recursively.\\n\\nExamples:\\n  - `command t tabopen`\\n  - `command tn tabnext_gt`\\n  - `command hello t` This will expand recursively into 'hello'->'tabopen'\\n\\nCommands/aliases are expanded as in a shell, so, given the commands above,\\nentering `:tn 43` will expand to `:tabnext_gt 43`. You can use this to create\\nyour own ex-commands in conjunction with [[js]], specifically `js -p` and `js -d`.\\n\\nNote that this is only for excmd -> excmd mappings. To map a normal-mode\\ncommand to an excommand, see [[bind]].\\n\\nSee also:\\n  - [[comclear]]\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"comclear\", new SymbolMetadata(\"Similar to vim's `comclear` command. Clears an excmd alias defined by\\n`command`.\\n\\nFor example: `comclear helloworld` will reverse any changes caused\\nby `command helloworld xxx`\\n\\nSee also:\\n  - [[command]]\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), false)],\n[\"bind\", new SymbolMetadata(\"Bind a sequence of keys to an excmd or view bound sequence.\\n\\nThis is an easier-to-implement bodge while we work on vim-style maps.\\n\\nExamples:\\n\\n    - `bind G fillcmdline tabopen google`\\n    - `bind D composite tabclose | tab #` -> close current tab and switch to most recent previous tab\\n    - `bind j scrollline 20`\\n    - `bind F hint -b`\\n\\nYou can view binds by omitting the command line:\\n\\n    - `bind j`\\n    - `bind k`\\n\\nYou can bind to modifiers and special keys by enclosing them with angle brackets, for example `bind <C-\\\\>z fullscreen`, `unbind <F1>` (a favourite of people who use TreeStyleTabs :) ), or `bind <Backspace> forward`.\\n\\nModifiers are truncated to a single character, so Ctrl -> C, Alt -> A, and Shift -> S. Shift is a bit special as it is only required if Shift does not change the key inputted, e.g. `<S-ArrowDown>` is OK, but `<S-a>` should just be `A`.\\n\\nYou can view all special key names here: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\\n\\nUse [[composite]] if you want to execute multiple excmds. Use\\n[[fillcmdline]] to put a string in the cmdline and focus the cmdline\\n(otherwise the string is executed immediately).\\n\\nYou can bind to other modes with `bind --mode={insert|ignore|normal|input|ex|hint} ...`, e.g, `bind --mode=insert emacs qall` (NB: unlike vim, all preceeding characters will not be input), or `bind --mode=hint <C-[> hint.reset`.\\n\\n`bind --mode=browser [key sequence] [ex command]` binds to a special mode which can be accessed all the time in all browser tabs - even tabs in which Tridactyl cannot run. It comes with a few caveats:\\n\\n- you may only have a few browser-mode binds at once. At the time of writing, this is 20, with 3 initially taken by Tridactyl. If you desperately need more, file an [[issue]].\\n- the key sequence must consist of a single, simple key with at least one and no more than two modifiers. An error will be thrown if you try to bind to an invalid key sequence.\\n- the `ex command` you bind to may not work fully unless you are on a tab which Tridactyl has access to. Generally, browser-wide actions like making or closing tabs will work but tab-specific actions like scrolling down or entering hint mode will not.\\n\\nA list of editor functions can be found\\n[here](/static/docs/modules/_src_lib_editor_.html).\\n\\nSee also:\\n\\n    - [[unbind]]\\n    - [[reset]]\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"bindshow\", new SymbolMetadata(\"\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"bindwizard\", new SymbolMetadata(\"Generate a key sequence from keypresses. Once Enter is pressed, the command line is filled with a [[bind]]\\ncommand with the key sequence and provided arguments, which you can choose to modify and execute.\\n\\nIf you have `:set keyboardlayoutforce true`, it will bind commands to physical keys regardless of layout.\\n\\nAccepts the same arguments as [[bind]] (except for the key sequence which will be generated):\\n\\n     - `bindwizard [command]`, then press the keys you want to bind, then hit Enter.\\n     - `bindwizard --mode=[mode] [command]` also works.\\n\\nYou can execute it without arguments to see what is bound to the keys you type.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"bindurl\", new SymbolMetadata(\"Like [[bind]] but for a specific url pattern (also see [[seturl]]).\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"keymap\", new SymbolMetadata(\"Deprecated: use `:set keyboardlayoutforce true` instead.\\n\\nMakes one key equivalent to another for the purposes of most of our parsers. Useful for international keyboard layouts. See user-provided examples for various layouts on our wiki: https://github.com/tridactyl/tridactyl/wiki/Internationalisation\\n\\ne.g,\\n     keymap \u0119 e\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"searchsetkeyword\", new SymbolMetadata(\"\", new FunctionType([], new VoidType(false, false), false, false), true)],\n[\"validateSetArgs\", new SymbolMetadata(\"Validates arguments for set/seturl\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), false, false)], new ArrayType(new AnyType(true, false), false, false), false, false), true)],\n[\"seturl\", new SymbolMetadata(\"Usage: `seturl [pattern] key values`\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"setmode\", new SymbolMetadata(\"Usage: `setmode mode key values`\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"set\", new SymbolMetadata(\"Set a key value pair in config.\\n\\nUse to set any values found [here](/static/docs/classes/_src_lib_config_.default_config.html).\\n\\nArrays should be set using JS syntax, e.g. `:set blacklistkeys [\\\"/\\\",\\\",\\\"]`.\\n\\ne.g.\\n    set searchurls.google https://www.google.com/search?q=\\n    set logging.messaging info\\n\\nIf no value is given, the value of the of the key will be displayed.\\n\\nSee also: [[unset]]\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"firefoxsyncpull\", new SymbolMetadata(\"Replaces your local configuration with that stored in the Firefox Sync area.\\n\\nIt does not merge your configurations: it overwrites.\\n\\nAlso see [[firefoxsyncpush]].\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"firefoxsyncpush\", new SymbolMetadata(\"Pushes your local configuration to the Firefox Sync area.\\n\\nIt does not merge your configurations: it overwrites.\\n\\nAlso see [[firefoxsyncpull]].\", new FunctionType([], new AnyType(true, false), false, false), false)],\n[\"getAutocmdEvents\", new SymbolMetadata(\"\", new FunctionType([], new ArrayType(new StringType(false, false), false, false), false, false), true)],\n[\"autocmd\", new SymbolMetadata(\"Set autocmds to run when certain events happen.\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"autocontain\", new SymbolMetadata(\"Automatically open a domain and all its subdomains in a specified container.\\n\\n__NB:__ You should use this command with an -s (sane mode) or -u (URL mode) flag. Usage without a flag uses an incorrect regular expression which may cause weird behaviour and has been left in for compatibility reasons.\\n\\nThis function accepts a `-u` flag to treat the pattern as a URL rather than a domain.\\nFor example: `autocontain -u ^https?://([^/]*\\\\.|)youtube\\\\.com/ google` is equivalent to `autocontain -s youtube\\\\.com google`\\n\\nFor declaring containers that do not yet exist, consider using `auconcreatecontainer true` in your tridactylrc.\\nThis allows Tridactyl to automatically create containers from your autocontain directives. Note that they will be random icons and colors.\\n\\nThe domain is passed through as a regular expression so there are a few gotchas to be aware of:\\n* Unescaped periods will match *anything*. `autocontain -s google.co.uk work` will match `google!co$uk`. Escape your periods  (i.e. `\\\\.`) or accept that you might get some false positives.\\n* You can use regex in your pattern. `autocontain -s google\\\\.(co\\\\.uk|com) work` will match either `google.co.uk` or `google.com`. If multiple rules match a certain URL, the one with the longest regex will be picked.\\n\\nThis *should* now peacefully coexist with the Temporary Containers and Multi-Account Containers addons. Do not trust this claim. If a fight starts the participants will try to open infinite tabs. It is *strongly* recommended that you use a tridactylrc so that you can abort a sorceror's-apprentice scenario by killing firefox, commenting out all of autocontainer directives in your rc file, and restarting firefox to clean up the mess. There are a number of strange behaviors resulting from limited coordination between extensions. Redirects can be particularly surprising; for example, with `:autocontain -s will-redirect.example.org example` set and `will-redirect.example.org` redirecting to `redirected.example.org`, navigating to `will-redirect.example.org` will result in the new tab being in the `example` container under some conditions and in the `firefox-default` container under others.\\n\\nPass an optional space-separated list of proxy names to assign a proxy (followed by failover proxies) to a URL and open in a specified container.\\nFor example: `autocontain [-{u,s}] pattern container proxy1 proxy2`\\n\\nTo assign a proxy and open in no container, use \\\"firefox-default\\\" or \\\"none\\\" as a container name.\\nSee also:\\n  - [[proxyadd]]\\n  - [[proxyremove]]\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"proxyadd\", new SymbolMetadata(\"Add a proxy for use with [[autocontain]] or `:set proxy`\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"proxyremove\", new SymbolMetadata(\"Remove proxies.\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), false)],\n[\"autocmddelete\", new SymbolMetadata(\"Remove autocmds\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"blacklistadd\", new SymbolMetadata(\"Helper function to put Tridactyl into ignore mode on the provided URL.\\n\\nSimply creates a DocStart [[autocmd]] that runs `mode ignore`. NB: ignore mode does have a few keybinds by default - see `:viewconfig ignoremaps`. These can be unbound with, e.g. `:unbind --mode=ignore <C-o>`, or `:unbindurl [url] --mode=ignore <C-o>`.\\n\\nRemove sites from the blacklist with `blacklistremove [url]` or `autocmddelete DocStart [url]`.\\n\\nIf you're looking for a way to temporarily disable Tridactyl, this might be what you're looking for. If you need to disable Tridactyl more thoroughly on a page look at `:help superignore` instead.\\n\\n<!-- this should probably be moved to an ex alias once configuration has better help --!>\", new FunctionType([new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"unbind\", new SymbolMetadata(\"Unbind a sequence of keys so that they do nothing at all.\\n\\nSee also:\\n\\n    - [[bind]]\\n    - [[reset]]\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"unbindurl\", new SymbolMetadata(\"Unbind a sequence of keys you have set with [[bindurl]]. Note that this **kills** a bind, which means Tridactyl will pass it to the page on `pattern`. If instead you want to use the default setting again, use [[reseturl]].\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"reset\", new SymbolMetadata(\"Restores a sequence of keys to their default value.\", new FunctionType([new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"reseturl\", new SymbolMetadata(\"Restores a sequence of keys to their value in the global config for a specific URL pattern.\\n\\nSee also:\\n  - [[bind]]\\n  - [[unbind]]\\n  - [[reset]]\\n  - [[bindurl]]\\n  - [[unbindurl]]\\n  - [[seturl]]\\n  - [[unseturl]]\\n  - [[setmode]]\\n  - [[unsetmode]]\", new FunctionType([new StringType(false, false),new StringType(false, false),new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"sanitise\", new SymbolMetadata(\"Deletes various bits of Firefox or Tridactyl data\\n\\nThe list of possible arguments can be found here:\\nhttps://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/browsingData/DataTypeSet\\n\\nAdditional Tridactyl-specific arguments are:\\n- `commandline`: Removes the in-memory commandline history.\\n- `tridactyllocal`: Removes all tridactyl storage local to this machine. Use it with\\n    commandline if you want to delete your commandline history.\\n- `tridactylsync`: Removes all tridactyl storage associated with your Firefox Account (i.e, all user configuration, by default).\\nThese arguments aren't affected by the timespan parameter.\\n\\nTimespan parameter:\\n-t [0-9]+(m|h|d|w)\\n\\nExamples:\\n\\n- `sanitise all` -> Deletes __everything__, including any saved usernames / passwords(!)\\n- `sanitise history` -> Deletes all history\\n- `sanitise commandline tridactyllocal tridactylsync` -> Deletes every bit of data Tridactyl holds\\n- `sanitise cookies -t 3d` -> Deletes cookies that were set during the last three days.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"quickmark\", new SymbolMetadata(\"Bind a quickmark for the current URL or space-separated list of URLs to a key on the keyboard.\\n\\nAfterwards use go[key], gn[key], or gw[key] to [[open]], [[tabopen]], or\\n[[winopen]] the URL respectively.\\n\\nExample:\\n- `quickmark m https://mail.google.com/mail/u/0/#inbox`\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"get\", new SymbolMetadata(\"Puts the contents of config value with keys `keys` into the commandline and the background page console\\n\\nIt's a bit rubbish, but we don't have a good way to provide feedback to the commandline yet.\\n\\nYou can view the log entry in the browser console (Ctrl-Shift-j).\\n\\nFor example, you might try `get nmaps` to see all of your current binds.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"viewconfig\", new SymbolMetadata(\"Opens the current configuration in Firefox's native JSON viewer in a new tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new VoidType(false, false), false, false), false)],\n[\"jsonview\", new SymbolMetadata(\"View a JSON object in Firefox's JSON viewer.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new ArrayType(new AnyType(true, false), false, false)], false, false), false, false), false)],\n[\"unseturl\", new SymbolMetadata(\"Reset a site-specific setting.\\n\\nusage: `unseturl [pattern] key`\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"unsetmode\", new SymbolMetadata(\"Reset a mode-specific setting.\\n\\nusage: `unsetmode mode key`\", new FunctionType([new StringType(false, false),new StringType(false, false)], new AnyType(true, false), false, false), false)],\n[\"unset\", new SymbolMetadata(\"Reset a config setting to default\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"setnull\", new SymbolMetadata(\"\\\"Delete\\\" a default setting. E.g. `setnull searchurls.github` means `open github test` would search your default search engine for \\\"github test\\\".\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"hint\", new SymbolMetadata(\"Hint a page.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"rot13\", new SymbolMetadata(\"Perform rot13.\\n\\nTransforms all text nodes in the current tab via rot13. Only characters in\\nthe ASCII range are considered.\", new FunctionType([new NumberType(false, false)], new VoidType(false, false), false, false), false)],\n[\"jumble\", new SymbolMetadata(\"Perform text jumbling (reibadailty).\\n\\nShuffles letters except for first and last in all words in text nodes in the current tab. Only characters in\\nthe ASCII range are considered.\\n\\nInspired by: https://www.newscientist.com/letter/mg16221887-600-reibadailty/\", new FunctionType([], new VoidType(false, false), false, false), false)],\n[\"run_exstr\", new SymbolMetadata(\"Hacky ex string parser.\\n\\nUse it for fire-and-forget running of background commands in content.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"gobble\", new SymbolMetadata(\"Initialize gobble mode.\\n\\nIf numKeysOrTerminator is a number, it will read the provided amount of keys;\\nIf numKeysOrTerminator is a key or key combination like 'k', '<CR>' or '<C-j>';\\nit will read keys until the provided key is pressed.\\nThen it will append the keypresses to `endCmd` and execute that string,\\nalso appending arguments if provided.\", new FunctionType([new StringType(false, false),new StringType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"getGotoSelectors\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new ArrayType(new ObjectType(new Map<string, Type>([]), false, false), false, false)], false, false), false, false), true)],\n[\"goto\", new SymbolMetadata(\"Jump to selector.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"nmode\", new SymbolMetadata(\"Initialize n [mode] mode.\\n\\nIn this special mode, a series of key sequences are executed as bindings from a different mode, as specified by the\\n`mode` argument. After the count of accepted sequences is `n`, the finalizing ex command given as the `endexArr`\\nargument is executed, which defaults to `mode ignore`.\\n\\nExample: `:nmode normal 1 mode ignore`\\nThis looks up the next key sequence in the normal mode bindings, executes it, and switches the mode to `ignore`.\\nIf the key sequence does not match a binding, it will be silently passed through to Firefox, but it will be counted\\nfor the termination condition.\", new FunctionType([new StringType(false, false),new NumberType(false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"tssReadFromCss\", new SymbolMetadata(\"Read text content of elements matching the given selector\", new FunctionType([new StringType(false, false)], new VoidType(false, false), false, false), false)],\n[\"ttsread\", new SymbolMetadata(\"Read the given text using the browser's text to speech functionality and\\nthe settings currently set\", new FunctionType([new UnionType([new LiteralTypeType(\"-t\", false, false),\nnew LiteralTypeType(\"-c\", false, false)], false, false),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"ttsvoices\", new SymbolMetadata(\"Show a list of the voices available to the TTS system. These can be\\nset in the config using `ttsvoice`\", new FunctionType([], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"ttscontrol\", new SymbolMetadata(\"Cancel current reading and clear pending queue\\n\\nArguments:\\n   - stop:    cancel current and pending utterances\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"buildFilterConfigs\", new SymbolMetadata(\"Build a set of FilterConfigs from a list of human-input filter\\nspecs.\", new FunctionType([new ArrayType(new StringType(false, false), false, false)], new ArrayType(new AnyType(true, false), false, false), false, false), true)],\n[\"perfdump\", new SymbolMetadata(\"Dump the raw json for our performance counters. Filters with\\ntrailing slashes are class names, :start | :end | :measure specify\\nwhat type of sample to pass through, and all others are function\\nnames. All filters must match for a sample to be dumped.\\n\\nTridactyl does not collect performance information by default. To\\nget this data you'll have to set the configuration option\\n`perfcounters` to `\\\"true\\\"`. You may also want to examine the value\\nof `perfsamples`.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"perfhistogram\", new SymbolMetadata(\"Pretty-print a histogram of execution durations for you. Arguments\\nare as above, with the addition that this automatically filters to\\ncounter samples of type :measure.\\n\\nNote that this will display its output by opening a data: url with\\ntext in the place of your current tab.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"bmark\", new SymbolMetadata(\"Add or remove a bookmark.\\n\\nOptionally, you may give the bookmark a title. If no URL is given, a bookmark is added for the current page.\\n\\nIf a bookmark already exists for the URL, it is removed, even if a title is given.\\n\\nDoes not support creation of folders: you'll need to use the Firefox menus for that.\", new FunctionType([new StringType(false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"BookmarkTreeNode\", [], false, false)], false, false), false, false), false)],\n[\"echo\", new SymbolMetadata(\"\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new StringType(false, false), false, false), false)],\n[\"js_helper\", new SymbolMetadata(\"helper function for js and jsb\\n\\n-p to take a single extra argument located at the end of str[]\\n-d[delimiter character] to take a space-separated array of arguments after the delimiter\\n-s to load js script of a source file from the config path\", new FunctionType([new ArrayType(new StringType(false, false), false, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), true)],\n[\"js\", new SymbolMetadata(\"Lets you execute JavaScript in the page context. If you want to get the result back, use\\n\\n     `composite js ... | fillcmdline`\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"jsb\", new SymbolMetadata(\"Lets you execute JavaScript in the background context. All the help from [[js]] applies. Gives you a different `tri` object which has access to more excmds and web-extension APIs.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"issue\", new SymbolMetadata(\"Opens a new tab the url of which is \\\"https://github.com/tridactyl/tridactyl/issues/new\\\" and automatically fill add tridactyl, firefox and os version to the issue.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"Tab\", [], false, false)], false, false), false, false), false)],\n[\"text2qr\", new SymbolMetadata(\"Generates a QR code for the given text. By default opens in new tab. Default binds close the new tab after 5 seconds.\\nIf no text is passed as an argument then it checks if any text is selected and creates a QR code for that.\\nIf no selection is found then it creates QR code for the current tab's URL\\n\\n`text2qr --popup [...]` will open the QR code in a new popup window\\n\\n`text2qr --window [...]`  will open the QR code in a new window\\n\\n`text2qr --current [...]` will open in the current tab\\n\\n`text2qr --timeout <timeout in seconds> [...]` closes the tab/window/popup after specified number of seconds\\n\\nExample: text2qr --timeout 5 --popup hello world\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"updatecheck\", new SymbolMetadata(\"Checks if there are any stable updates available for Tridactyl.\\n\\nRelated settings:\\n\\n- `update.nag = true | false` - checks for updates on Tridactyl start.\\n- `update.nagwait = 7` - waits 7 days before nagging you to update.\\n- `update.checkintervalsecs = 86400` - waits 24 hours between checking for an update.\", new FunctionType([new UnionType([new LiteralTypeType(\"manual\", false, false),\nnew LiteralTypeType(\"auto_polite\", false, false),\nnew LiteralTypeType(\"auto_impolite\", false, false)], false, true)], new TypeReferenceType(\"Promise\", [new BooleanType(false, false)], false, false), false, false), false)],\n[\"keyfeed\", new SymbolMetadata(\"Feed some keys to Tridactyl's parser. E.g. `keyfeed jkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjjkj`.\\n\\nNB:\\n\\n- Does _not_ function like Vim's noremap - `bind j keyfeed j` will cause an infinite loop.\\n- Doesn't work in exmode - i.e. `keyfeed t<CR>` won't work.\", new FunctionType([new StringType(false, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"extoptions\", new SymbolMetadata(\"Opens optionsUrl for the selected extension in a popup window.\\n\\nNB: Tridactyl cannot run on this page!\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"readerurl\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new StringType(false, false)], false, false), false, false), true)],\n[\"reader\", new SymbolMetadata(\"Open the current page as an article in reader view for easier reading. Flags `--tab` and `--window` open the article in new tabs and windows respectively.\\n\\nUse `:reader --old` to use Firefox's built-in reader mode, which Tridactyl can't run on.\\n\\n__NB:__ the reader page is a privileged environment which has access to all Tridactyl functions, notably the native messenger if you have it installed. We are parsing untrusted web-content to run in this environment. Mozilla's readability library will strip out most of these, then we use a sanitation library, `js-xss`, to strip out any remaining unsafe tags, but if there was a serious bug in this library, and a targeted attack against Tridactyl, an attacker could get remote code execution. If you're worried about this, use `:reader --old` instead or only use `:reader` on pages you trust.\\n\\nYou may use [userContent.css](http://kb.mozillazine.org/index.php?title=UserContent.css&printable=yes) to enhance or override default styling of the new reader view. The `body` of the page has id `tridactyl-reader` and the article content follows in a `main` tag. Therefore to alter default styling, you can do something like this in your `userContent.css`:\\n\\n```css\\n#tridactyl-reader > main {\\n   width: 80vw !important;\\n   text-align: left;\\n}\\n```\\n\\nFollow [issue #4657](https://github.com/tridactyl/tridactyl/issues/4657) if you would like to find out when we have made a more user-friendly solution.\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"elementunhide\", new SymbolMetadata(\"Restore the most recently hidden element. Repeated invocations restore the next-most-recently-hidden element.\\n\\n(Elements can be hidden with `;K` and `:hint -K`.)\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)]]))],\n[\"src/lib/config.ts\", new FileMetadata(new Map<string, ClassMetadata>([[\"default_config\", new ClassMetadata(new Map<string, SymbolMetadata>([[\"configversion\", new SymbolMetadata(\"Internal version number Tridactyl uses to know whether it needs to update from old versions of the configuration.\\n\\nChanging this might do weird stuff.\", new StringType(false, false), false)],\n[\"subconfigs\", new SymbolMetadata(\"Internal field to handle site-specific configs. Use :seturl/:unseturl to change these values.\", new ObjectType(new Map<string, Type>([[\"\", new TypeReferenceType(\"DeepPartial\", [new TypeReferenceType(\"default_config\", [], false, false)], false, false)]]), false, false), false)],\n[\"modesubconfigs\", new SymbolMetadata(\"Internal field to handle mode-specific configs. Use :setmode/:unsetmode to change these values.\\n\\nChanging this might do weird stuff.\", new ObjectType(new Map<string, Type>([[\"\", new TypeReferenceType(\"DeepPartial\", [new TypeReferenceType(\"default_config\", [], false, false)], false, false)]]), false, false), false)],\n[\"priority\", new SymbolMetadata(\"Internal field to handle site-specific config priorities. Use :seturl/:unseturl to change this value.\", new NumberType(false, false), false)],\n[\"exmaps\", new SymbolMetadata(\"exmaps contains all of the bindings for the command line.\\nYou can of course bind regular ex commands but also [editor functions](/static/docs/modules/_src_lib_editor_.html) and [commandline-specific functions](/static/docs/modules/_src_commandline_frame_.html).\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"ignoremaps\", new SymbolMetadata(\"ignoremaps contain all of the bindings for \\\"ignore mode\\\".\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"imaps\", new SymbolMetadata(\"imaps contain all of the bindings for \\\"insert mode\\\".\\n\\nOn top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in insert mode.\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"inputmaps\", new SymbolMetadata(\"inputmaps contain all of the bindings for \\\"input mode\\\".\\n\\nOn top of regular ex commands, you can also bind [editor functions](/static/docs/modules/_src_lib_editor_.html) in input mode.\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"superignore\", new SymbolMetadata(\"Disable Tridactyl almost completely within a page, e.g. `seturl ^https?://mail.google.com disable true`. Only takes affect on page reload.\\n\\nYou are usually better off using `blacklistadd` and `seturl [url] noiframe true` as you can then still use some Tridactyl binds, e.g. `shift-insert` for exiting ignore mode.\\n\\nNB: you should only use this with `seturl`. If you get trapped with Tridactyl disabled everywhere just run `tri unset superignore` in the Firefox address bar. If that still doesn't fix things, you can totally reset Tridactyl by running `tri help superignore` in the Firefox address bar, scrolling to the bottom of that page and then clicking \\\"Reset Tridactyl config\\\".\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"nmaps\", new SymbolMetadata(\"nmaps contain all of the bindings for \\\"normal mode\\\".\\n\\nThey consist of key sequences mapped to ex commands.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"vmaps\", new SymbolMetadata(\"\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"hintmaps\", new SymbolMetadata(\"\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"browsermaps\", new SymbolMetadata(\"Browser-wide binds accessible in all modes and on pages where Tridactyl \\\"cannot run\\\".\\n<!-- Note to developers: binds here need to also be listed in manifest.json -->\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"leavegithubalone\", new SymbolMetadata(\"Whether to allow pages (not necessarily github) to override `/`, which is a default Firefox binding.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"blacklistkeys\", new SymbolMetadata(\"Which keys to protect from pages that try to override them. Requires [[leavegithubalone]] to be set to false.\", new ArrayType(new StringType(false, false), false, false), false)],\n[\"autocmds\", new SymbolMetadata(\"Autocommands that run when certain events happen, and other conditions are met.\\n\\nRelated ex command: `autocmd`.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"keytranslatemap\", new SymbolMetadata(\"\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"usekeytranslatemap\", new SymbolMetadata(\"\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"keyboardlayoutforce\", new SymbolMetadata(\"Instead of fetching actual character which depends on selected layout,\\nuse machine code of a key and convert to character according to keyboardlayoutoverrides. The default layout mapping\\nis US `qwerty`, but can be changed with [[keyboardlayoutbase]].\\n\\nThere is a much more detailed help page towards the end of `:tutor` under the title \\\"Non-QWERTY layouts\\\".\\n\\nRecommended for everyone with multiple or/and non-latin keyboard layouts. Make sure [[usekeytranslatemap]] is false\\nif you have previously used `keymap`.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"keyboardlayoutbase\", new SymbolMetadata(\"Base keyboard layout to use when [[keyboardlayoutforce]] is enabled. At the time of writing, the following layouts are supported: `qwerty, azerty, german, dvorak, uk, ca, bepo`. Requires page reload to take effect.\\n\\nIf your layout is missing, you can contribute it with the help of https://gistpreview.github.io/?324119c773fac31651f6422087b36804 - please just open an `:issue` with your layout and we'll add it.\\n\\nYou can manually override individual keys for a layout with [[keyboardlayoutoverrides]].\", new UnionType([new LiteralTypeType(\"qwerty\", false, false),\nnew LiteralTypeType(\"azerty\", false, false),\nnew LiteralTypeType(\"german\", false, false),\nnew LiteralTypeType(\"dvorak\", false, false),\nnew LiteralTypeType(\"uk\", false, false),\nnew LiteralTypeType(\"ca\", false, false),\nnew LiteralTypeType(\"bepo\", false, false)], false, false), false)],\n[\"keyboardlayoutoverrides\", new SymbolMetadata(\"Override individual keys for a layout when [[keyboardlayoutforce]] is enabled. Changes take effect only after a page reload.\\n\\nKey codes for printable keys for [[keyboardlayoutforce]], lower and upper register. See https://developer.mozilla.org/en-US/docs/Web/API/UI_Events/Keyboard_event_code_values for the names of each key.\\n\\nNB: due to a Tridactyl bug, you cannot set this using array notation as you can for, e.g. [[homepage]].\\nYou must instead set the lower and upper registers using a string with no spaces in it, for example\\n`:set keyboardlayoutoverrides Digit2: 2\\\"` for the British English layout.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"autocontain\", new SymbolMetadata(\"Automatically place these sites in the named container.\\n\\nEach key corresponds to a URL fragment which, if contained within the page URL, the site will be opened in a container tab instead.\", new AnyType(true, false), false)],\n[\"proxy\", new SymbolMetadata(\"Default proxy to use for all URLs. Has to be the name of a proxy. To add a proxy, see `:help proxyadd`. NB: usage with `:seturl` is buggy, use `:autocontain -s [regex to match URL] none [proxy]` instead\", new StringType(false, false), false)],\n[\"proxies\", new SymbolMetadata(\"Definitions of proxies.\\n\\nYou can add a new proxy with `proxyadd proxyname proxyurl`\", new AnyType(true, false), false)],\n[\"noproxy\", new SymbolMetadata(\"Whether to use proxy settings.\\n\\nIf set to `true`, all proxy settings will be ignored.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"autocontainmode\", new SymbolMetadata(\"Strict mode will always ensure a domain is open in the correct container, replacing the current tab if necessary.\\n\\nRelaxed mode is less aggressive and instead treats container domains as a default when opening a new tab.\", new UnionType([new LiteralTypeType(\"strict\", false, false),\nnew LiteralTypeType(\"relaxed\", false, false)], false, false), false)],\n[\"exaliases\", new SymbolMetadata(\"Aliases for the commandline.\\n\\nYou can make a new one with `command alias ex-command`.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"followpagepatterns\", new SymbolMetadata(\"Used by `]]` and `[[` to look for links containing these words.\\n\\nEdit these if you want to add, e.g. other language support.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"searchengine\", new SymbolMetadata(\"The default search engine used by `open search`. If empty string, your browser's default search engine will be used. If set to something, Tridactyl will first look at your [[searchurls]] and then at the search engines for which you have defined a keyword on `about:preferences#search`.\", new StringType(false, false), false)],\n[\"searchurls\", new SymbolMetadata(\"Definitions of search engines for use via `open [keyword]`.\\n\\n`%s` will be replaced with your whole query and `%s1`, `%s2`, ..., `%sn` will be replaced with the first, second and nth word of your query. Also supports array slicing, e.g. `%s[2:4]`, `%s[5:]`. If there are none of these patterns in your search urls, your query will simply be appended to the searchurl.\\n\\nAliases are supported - for example, if you have a `google` searchurl, you can run `:set searchurls.g google` in which case `g` will act as if it was the `google` searchurl.\\n\\nExamples:\\n- When running `open gi cute puppies`, with a `gi` searchurl defined with `set searchurls.gi https://www.google.com/search?q=%s&tbm=isch`, tridactyl will navigate to `https://www.google.com/search?q=cute puppies&tbm=isch`.\\n- When running `tabopen translate en ja Tridactyl`, with a `translate` searchurl defined with `set searchurls.translate https://translate.google.com/#view=home&op=translate&sl=%s1&tl=%s2&text=%s3`, tridactyl will navigate to `https://translate.google.com/#view=home&op=translate&sl=en&tl=ja&text=Tridactyl`.\\n\\n[[setnull]] can be used to \\\"delete\\\" the default search engines. E.g. `setnull searchurls.google`.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"jsurls\", new SymbolMetadata(\"Like [[searchurls]] but must be a Javascript function that takes one argument (a single string with the remainder of the command line including spaces) and maps it to a valid href (or a promise that resolves to a valid href) that will be followed, e.g. `set jsurls.googleloud query => \\\"https://google.com/search?q=\\\" + query.toUpperCase()`\\n\\nNB: the href must be valid, i.e. it must include the protocol (e.g. \\\"http://\\\") and not just be e.g. \\\"www.\\\".\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"newtab\", new SymbolMetadata(\"URL the newtab will redirect to.\\n\\nAll usual rules about things you can open with `open` apply, with the caveat that you'll get interesting results if you try to use something that needs `nativeopen`: so don't try `about:newtab` or a `file:///` URI. You should instead use a data URI - https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs - or host a local webserver (e.g. Caddy).\", new StringType(false, false), false)],\n[\"viewsource\", new SymbolMetadata(\"Whether `:viewsource` will use our own page that you can use Tridactyl binds on, or Firefox's default viewer, which you cannot use Tridactyl on.\", new UnionType([new LiteralTypeType(\"tridactyl\", false, false),\nnew LiteralTypeType(\"default\", false, false)], false, false), false)],\n[\"homepages\", new SymbolMetadata(\"Pages opened with `gH`. In order to set this value, use `:set homepages [\\\"example.org\\\", \\\"example.net\\\", \\\"example.com\\\"]` and so on.\", new ArrayType(new StringType(false, false), false, false), false)],\n[\"hintchars\", new SymbolMetadata(\"Characters to use in hint mode.\\n\\nThey are used preferentially from left to right.\", new StringType(false, false), false)],\n[\"hintfiltermode\", new SymbolMetadata(\"The type of hinting to use. `vimperator` will allow you to filter links based on their names by typing non-hint chars. It is recommended that you use this in conjuction with the [[hintchars]] setting, which you should probably set to e.g, `5432167890`. \u00B4vimperator-reflow\u00B4 additionally updates the hint labels after filtering.\", new UnionType([new LiteralTypeType(\"simple\", false, false),\nnew LiteralTypeType(\"vimperator\", false, false),\nnew LiteralTypeType(\"vimperator-reflow\", false, false)], false, false), false)],\n[\"hintnames\", new SymbolMetadata(\"Whether to optimise for the shortest possible names for each hint, or to use a simple numerical ordering. If set to `numeric`, overrides `hintchars` setting.\", new UnionType([new LiteralTypeType(\"short\", false, false),\nnew LiteralTypeType(\"numeric\", false, false),\nnew LiteralTypeType(\"uniform\", false, false)], false, false), false)],\n[\"hintuppercase\", new SymbolMetadata(\"Whether to display the names for hints in uppercase.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"hintdelay\", new SymbolMetadata(\"The delay in milliseconds in `vimperator` style hint modes after selecting a hint before you are returned to normal mode.\\n\\nThe point of this is to prevent accidental execution of normal mode binds due to people typing more than is necessary to choose a hint.\", new NumberType(false, false), false)],\n[\"hintshift\", new SymbolMetadata(\"Controls whether hints should be shifted in quick-hints mode.\\n\\nHere's what it means: let's say you have hints from a to z but are only\\ninterested in every second hint. You first press `a`, then `c`.\\nTridactyl will realize that you skipped over `b`, and so that the next\\nhint you're going to trigger is probably `e`. Tridactyl will shift all\\nhint names so that `e` becomes `c`, `d` becomes `b`, `c` becomes `a` and\\nso on.\\nThis means that once you pressed `c`, you can keep on pressing `c` to\\ntrigger every second hint. Only makes sense with hintnames = short.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"hintautoselect\", new SymbolMetadata(\"Controls whether hints should be followed automatically.\\n\\nIf set to `false`, hints will only be followed upon confirmation. This applies to cases when there is only a single match or only one link on the page.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"allowautofocus\", new SymbolMetadata(\"Controls whether the page can focus elements for you via js\\n\\nNB: will break fancy editors such as CodeMirror on Jupyter. Simply use `seturl` to whitelist pages you need it on.\\n\\nBest used in conjunction with browser.autofocus in `about:config`\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"preventautofocusjackhammer\", new SymbolMetadata(\"Uses a loop to prevent focus until you interact with a page. Only recommended for use via `seturl` for problematic sites as it can be a little heavy on CPU if running on all tabs. Should be used in conjuction with [[allowautofocus]]\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"smoothscroll\", new SymbolMetadata(\"Whether to use Tridactyl's (bad) smooth scrolling.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"scrollduration\", new SymbolMetadata(\"How viscous you want smooth scrolling to feel.\", new NumberType(false, false), false)],\n[\"tabopenpos\", new SymbolMetadata(\"Where to open tabs opened with `tabopen` - to the right of the current tab, or at the end of the tabs.\", new UnionType([new LiteralTypeType(\"next\", false, false),\nnew LiteralTypeType(\"last\", false, false),\nnew LiteralTypeType(\"related\", false, false)], false, false), false)],\n[\"tabclosepinned\", new SymbolMetadata(\"When enabled (the default), running tabclose will close the tabs whether they are pinned or not. When disabled, tabclose will fail with an error if a tab is pinned.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"tabsort\", new SymbolMetadata(\"Controls which tab order to use when numbering tabs. Either mru = sort by most recent tab or default = by tab index\\n\\nApplies to all places where Tridactyl numbers tabs including `:tab`, `:tabnext_gt` etc. (so, for example, with `:set tabsort mru` `2gt` would take you to the second most recently used tab, not the second tab in the tab bar).\", new UnionType([new LiteralTypeType(\"default\", false, false),\nnew LiteralTypeType(\"mru\", false, false)], false, false), false)],\n[\"relatedopenpos\", new SymbolMetadata(\"Where to open tabs opened with hinting - as if it had been middle clicked, to the right of the current tab, or at the end of the tabs.\", new UnionType([new LiteralTypeType(\"next\", false, false),\nnew LiteralTypeType(\"last\", false, false),\nnew LiteralTypeType(\"related\", false, false)], false, false), false)],\n[\"ttsvoice\", new SymbolMetadata(\"The name of the voice to use for text-to-speech. You can get the list of installed voices by running the following snippet: `js alert(window.speechSynthesis.getVoices().reduce((a, b) => a + \\\" \\\" + b.name))`\", new StringType(false, false), false)],\n[\"ttsvolume\", new SymbolMetadata(\"Controls text-to-speech volume. Has to be a number between 0 and 1.\", new NumberType(false, false), false)],\n[\"ttsrate\", new SymbolMetadata(\"Controls text-to-speech speed. Has to be a number between 0.1 and 10.\", new NumberType(false, false), false)],\n[\"ttspitch\", new SymbolMetadata(\"Controls text-to-speech pitch. Has to be between 0 and 2.\", new NumberType(false, false), false)],\n[\"gimode\", new SymbolMetadata(\"When set to \\\"nextinput\\\", pressing `<Tab>` after gi selects the next input.\\n\\nWhen set to \\\"firefox\\\", `<Tab>` behaves like normal, focusing the next tab-indexed element regardless of type.\", new UnionType([new LiteralTypeType(\"nextinput\", false, false),\nnew LiteralTypeType(\"firefox\", false, false)], false, false), false)],\n[\"cursorpos\", new SymbolMetadata(\"Decides where to place the cursor when selecting non-empty input fields\", new UnionType([new LiteralTypeType(\"beginning\", false, false),\nnew LiteralTypeType(\"end\", false, false)], false, false), false)],\n[\"theme\", new SymbolMetadata(\"The theme to use.\\n\\nPermitted values: run `:composite js tri.styling.THEMES | fillcmdline` to find out.\", new StringType(false, false), false)],\n[\"customthemes\", new SymbolMetadata(\"Storage for custom themes\\n\\nMaps theme names to CSS. Predominantly used automatically by [[colourscheme]] to store themes read from disk, as documented by [[colourscheme]]. Setting this manually is untested but might work provided that [[colourscheme]] is then used to change the theme to the right theme name.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"modeindicator\", new SymbolMetadata(\"Whether to display the mode indicator or not.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"modeindicatormodes\", new SymbolMetadata(\"Whether to display the mode indicator in various modes. Ignored if modeindicator set to false.\", new ObjectType(new Map<string, Type>([[\"\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false)]]), false, false), false)],\n[\"jumpdelay\", new SymbolMetadata(\"Milliseconds before registering a scroll in the jumplist\", new NumberType(false, false), false)],\n[\"logging\", new SymbolMetadata(\"Logging levels. Unless you're debugging Tridactyl, it's unlikely you'll ever need to change these.\", new ObjectType(new Map<string, Type>([[\"\", new UnionType([new LiteralTypeType(\"never\", false, false),\nnew LiteralTypeType(\"error\", false, false),\nnew LiteralTypeType(\"warning\", false, false),\nnew LiteralTypeType(\"info\", false, false),\nnew LiteralTypeType(\"debug\", false, false)], false, false)]]), false, false), false)],\n[\"noiframe\", new SymbolMetadata(\"Disables the commandline iframe. Dangerous setting, use [[seturl]] to set it. If you ever set this setting to \\\"true\\\" globally and then want to set it to false again, you can do this by opening Tridactyl's preferences page from about:addons.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"noiframeon\", new SymbolMetadata(\"\", new ArrayType(new StringType(false, false), false, false), false)],\n[\"editorcmd\", new SymbolMetadata(\"Insert / input mode edit-in-$EDITOR command to run\\nThis has to be a command that stays in the foreground for the whole editing session\\n\\\"auto\\\" will attempt to find a sane editor in your path.\\nPlease send your requests to have your favourite terminal moved further up the list to /dev/null.\\n          (but we are probably happy to add your terminal to the list if it isn't already there.)\\n\\nExample values:\\n- linux: `xterm -e vim`\\n- windows: `start cmd.exe /c \\\\\\\"vim\\\\\\\"`.\\n\\nAlso see [:editor](/static/docs/modules/_src_excmds_.html#editor).\", new StringType(false, false), false)],\n[\"rsscmd\", new SymbolMetadata(\"Command that should be run by the [[rssexec]] ex command. Has the\\nfollowing format:\\n- %u: url\\n- %t: title\\n- %y: type (rss, atom, xml...)\\nWarning: This is a very large footgun. %u will be inserted without any\\nkind of escaping, hence you must obey the following rules if you care\\nabout security:\\n- Do not use a composite command. If you need a composite command,\\ncreate an alias.\\n- Do not use `js` or `jsb`. If you need to use them, create an alias.\\n- Do not insert any %u, %t or %y in shell commands run by the native\\nmessenger. Use pipes instead.\\n\\nHere's an example of how to save an rss url in a file on your disk\\nsafely:\\n`alias save_rss jsb -p tri.native.run(\\\"cat >> ~/.config.newsboat/urls\\\", JS_ARG)`\\n`set rsscmd save_rss %u`\\nThis is safe because the url is passed to jsb as an argument rather than\\nbeing expanded inside of the string it will execute and because it is\\npiped to the shell command rather than being expanded inside of it.\", new StringType(false, false), false)],\n[\"browser\", new SymbolMetadata(\"The browser executable to look for in commands such as `restart`. Not as mad as it seems if you have multiple versions of Firefox...\", new StringType(false, false), false)],\n[\"yankto\", new SymbolMetadata(\"Which clipboard to store items in. Requires the native messenger to be installed.\", new UnionType([new LiteralTypeType(\"clipboard\", false, false),\nnew LiteralTypeType(\"selection\", false, false),\nnew LiteralTypeType(\"both\", false, false)], false, false), false)],\n[\"putfrom\", new SymbolMetadata(\"Which clipboard to retrieve items from. Requires the native messenger to be installed.\\n\\nPermitted values: `clipboard`, or `selection`.\", new UnionType([new LiteralTypeType(\"clipboard\", false, false),\nnew LiteralTypeType(\"selection\", false, false)], false, false), false)],\n[\"externalclipboardcmd\", new SymbolMetadata(\"Clipboard command to try to get the selection from (e.g. `xsel` or `xclip`)\", new StringType(false, false), false)],\n[\"downloadsskiphistory\", new SymbolMetadata(\"Whether downloads (e.g. via ;s hint modes) appear in your download history.\\n\\nNB: will cause downloads to fail silently if Tridactyl is not allowed to run in private windows (regardless of whether you are trying to call it in a private window).\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"downloadforbiddenchars\", new SymbolMetadata(\"Set of characters that are to be considered illegal as download filenames.\", new StringType(false, false), false)],\n[\"downloadforbiddenreplacement\", new SymbolMetadata(\"Value that will be used to replace the illegal character(s), if found, in the download filename.\", new StringType(false, false), false)],\n[\"downloadforbiddennames\", new SymbolMetadata(\"Comma-separated list of whole filenames which, if match\\nwith the download filename, will be suffixed with the\\n\\\"downloadforbiddenreplacement\\\" value.\", new StringType(false, false), false)],\n[\"nativeinstallcmd\", new SymbolMetadata(\"Set this to something weird if you want to have fun every time Tridactyl tries to update its native messenger.\\n\\n%TAG will be replaced with your version of Tridactyl for stable builds, or \\\"master\\\" for beta builds\\n\\nNB: Windows has its own platform-specific default.\", new StringType(false, false), false)],\n[\"update\", new SymbolMetadata(\"Used by :updatecheck and related built-in functionality to automatically check for updates and prompt users to upgrade.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"profiledir\", new SymbolMetadata(\"Profile directory to use with native messenger with e.g, `guiset`.\", new StringType(false, false), false)],\n[\"tabopencontaineraware\", new SymbolMetadata(\"If enabled, tabopen opens a new tab in the currently active tab's container.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"containerindicator\", new SymbolMetadata(\"If moodeindicator is enabled, containerindicator will color the border of the mode indicator with the container color.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"auconcreatecontainer\", new SymbolMetadata(\"Autocontain directives create a container if it doesn't exist already.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"tabgroupnewtaburls\", new SymbolMetadata(\"Initial urls to navigate to when creating a new tab for a new tab group.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"tabshowhidden\", new SymbolMetadata(\"Whether :tab shows completions for hidden tabs (e.g. tabs in other tab groups).\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"historyresults\", new SymbolMetadata(\"Number of most recent results to ask Firefox for. We display the top 20 or so most frequently visited ones.\", new NumberType(false, false), false)],\n[\"bmarkweight\", new SymbolMetadata(\"When displaying bookmarks in history completions, how many page views to pretend they have.\", new NumberType(false, false), false)],\n[\"searchurlweight\", new SymbolMetadata(\"When displaying searchurls in history completions, how many page views to pretend they have.\", new NumberType(false, false), false)],\n[\"gotoselector\", new SymbolMetadata(\"Default selector for :goto command.\", new StringType(false, false), false)],\n[\"completions\", new SymbolMetadata(\"General completions options - NB: options are set according to our internal completion source name - see - `src/completions/[name].ts` in the Tridactyl source.\", new ObjectType(new Map<string, Type>([]), false, false), false)],\n[\"findresults\", new SymbolMetadata(\"Number of results that should be shown in completions. -1 for unlimited\", new NumberType(false, false), false)],\n[\"findcontextlen\", new SymbolMetadata(\"Number of characters to use as context for the matches shown in completions\", new NumberType(false, false), false)],\n[\"findcase\", new SymbolMetadata(\"Whether find should be case-sensitive\", new UnionType([new LiteralTypeType(\"smart\", false, false),\nnew LiteralTypeType(\"sensitive\", false, false),\nnew LiteralTypeType(\"insensitive\", false, false)], false, false), false)],\n[\"findhighlighttimeout\", new SymbolMetadata(\"How long find highlights should persist in milliseconds. `<= 0` means they persist until cleared\", new NumberType(false, false), false)],\n[\"incsearch\", new SymbolMetadata(\"Whether Tridactyl should jump to the first match when using `:find`\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"minincsearchlen\", new SymbolMetadata(\"How many characters should be typed before triggering incsearch/completions\", new NumberType(false, false), false)],\n[\"csp\", new SymbolMetadata(\"Deprecated.\\nChange this to \\\"clobber\\\" to ruin the \\\"Content Security Policy\\\" of all sites a bit and make Tridactyl run a bit better on some of them, e.g. raw.github*\", new UnionType([new LiteralTypeType(\"untouched\", false, false),\nnew LiteralTypeType(\"clobber\", false, false)], false, false), false)],\n[\"wordpattern\", new SymbolMetadata(\"JavaScript RegExp used to recognize words in text.* functions (e.g. text.transpose_words). Should match any character belonging to a word.\", new StringType(false, false), false)],\n[\"perfcounters\", new SymbolMetadata(\"Activate tridactyl's performance counters. These have a\\nmeasurable performance impact, since every sample is a few\\nhundred bytes and we sample tridactyl densely, but they're good\\nwhen you're trying to optimize things.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"perfsamples\", new SymbolMetadata(\"How many samples to store from the perf counters.\\n\\nEach performance entry is two numbers (16 bytes), an entryType\\nof either \\\"mark\\\" or \\\"measure\\\" (js strings are utf-16 ad we have\\ntwo marks for each measure, so amortize to about 10 bytes per\\nentry), and a string name that for Tridactyl object will be\\nabout 40 (utf-16) characters (80 bytes), plus object overhead\\nroughly proportional to the string-length of the name of the\\nconstructor (in this case something like 30 bytes), for a total\\nof what we'll call 128 bytes for ease of math.\\n\\nWe want to store, by default, about 1MB of performance\\nstatistics, so somewhere around 10k samples.\", new StringType(false, false), false)],\n[\"modeindicatorshowkeys\", new SymbolMetadata(\"Show (partial) command in the mode indicator.\\nCorresponds to 'showcmd' option of vi.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"urlparenttrailingslash\", new SymbolMetadata(\"Whether a trailing slash is appended when we get the parent of a url with\\ngu (or other means).\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"visualenterauto\", new SymbolMetadata(\"Whether to enter visual mode when text is selected. Visual mode can always be entered with `:mode visual`.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"visualexitauto\", new SymbolMetadata(\"Whether to return to normal mode when text is deselected.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"escapehatchsidebarhack\", new SymbolMetadata(\"Whether to open and close the sidebar quickly to get focus back to the page when <C-,> is pressed.\\n\\nDisable if the fact that it closes TreeStyleTabs gets on your nerves too much : )\\n\\nNB: when disabled, <C-,> can't get focus back from the address bar, but it can still get it back from lots of other places (e.g. Flash-style video players)\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)],\n[\"completionfuzziness\", new SymbolMetadata(\"Threshold for fuzzy matching on completions. Lower => stricter matching. Range between 0 and 1: 0 corresponds to perfect matches only. 1 will match anything.\\n\\nhttps://fusejs.io/api/options.html#threshold\", new NumberType(false, false), false)],\n[\"readerurlintitle\", new SymbolMetadata(\"Whether to show article url in the document.title of Reader View.\", new UnionType([new LiteralTypeType(\"false\", false, false),\nnew LiteralTypeType(\"true\", false, false)], false, false), false)]]))]]), new Map<string, SymbolMetadata>([[\"o\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new AnyType(true, false), false, false), true)],\n[\"schlepp\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false)], new VoidType(false, false), false, false), true)],\n[\"getDeepProperty\", new SymbolMetadata(\"Given an object and a target, extract the target if it exists, else return undefined\", new FunctionType([new AnyType(true, false),new ArrayType(new StringType(false, false), false, false)], new AnyType(true, false), false, false), true)],\n[\"setDeepProperty\", new SymbolMetadata(\"Create the key path target if it doesn't exist and set the final property to value.\\n\\nIf the path is an empty array, replace the obj.\", new FunctionType([new AnyType(true, false),new AnyType(true, false),new AnyType(true, false)], new AnyType(true, false), false, false), true)],\n[\"mergeDeep\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false),new AnyType(true, false)], new AnyType(true, false), false, false), true)],\n[\"getURL\", new SymbolMetadata(\"\", new FunctionType([new StringType(false, false),new ArrayType(new StringType(false, false), false, false)], new AnyType(true, false), false, false), true)],\n[\"get\", new SymbolMetadata(\"Get the value of the key target.\\n\\nIf the user has not specified a key, use the corresponding key from\\ndefaults, if one exists, else undefined.\", new FunctionType([new UnionType([new LiteralTypeType(\"rsscmd\", false, false),\nnew LiteralTypeType(\"theme\", false, false),\nnew LiteralTypeType(\"autocmds\", false, false),\nnew LiteralTypeType(\"exaliases\", false, false),\nnew LiteralTypeType(\"modesubconfigs\", false, false),\nnew LiteralTypeType(\"allowautofocus\", false, false),\nnew LiteralTypeType(\"autocontain\", false, false),\nnew LiteralTypeType(\"proxies\", false, false),\nnew LiteralTypeType(\"update\", false, false),\nnew LiteralTypeType(\"imaps\", false, false),\nnew LiteralTypeType(\"viewsource\", false, false),\nnew LiteralTypeType(\"nmaps\", false, false),\nnew LiteralTypeType(\"configversion\", false, false),\nnew TypeReferenceType(\"... 89 more ...\", [], false, false),\nnew LiteralTypeType(\"readerurlintitle\", false, false)], false, true),new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), true)],\n[\"getDynamic\", new SymbolMetadata(\"Get the value of the key target.\\n\\nPlease only use this with targets that will be used at runtime - it skips static checks. Prefer [[get]].\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new AnyType(true, false), false, false), false)],\n[\"getAsyncDynamic\", new SymbolMetadata(\"Get the value of the key target.\\n\\nPlease only use this with targets that will be used at runtime - it skips static checks. Prefer [[getAsync]].\", new FunctionType([new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new AnyType(true, false)], false, false), false, false), false)],\n[\"getAsync\", new SymbolMetadata(\"Get the value of the key target, but wait for config to be loaded from the\\ndatabase first if it has not been at least once before.\\n\\nThis is useful if you are a content script and you've just been loaded.\", new FunctionType([new UnionType([new LiteralTypeType(\"rsscmd\", false, false),\nnew LiteralTypeType(\"theme\", false, false),\nnew LiteralTypeType(\"autocmds\", false, false),\nnew LiteralTypeType(\"exaliases\", false, false),\nnew LiteralTypeType(\"modesubconfigs\", false, false),\nnew LiteralTypeType(\"allowautofocus\", false, false),\nnew LiteralTypeType(\"autocontain\", false, false),\nnew LiteralTypeType(\"proxies\", false, false),\nnew LiteralTypeType(\"update\", false, false),\nnew LiteralTypeType(\"imaps\", false, false),\nnew LiteralTypeType(\"viewsource\", false, false),\nnew LiteralTypeType(\"nmaps\", false, false),\nnew LiteralTypeType(\"configversion\", false, false),\nnew TypeReferenceType(\"... 89 more ...\", [], false, false),\nnew LiteralTypeType(\"readerurlintitle\", false, false)], false, true),new ArrayType(new StringType(false, false), true, false)], new TypeReferenceType(\"Promise\", [new TypeReferenceType(\"...\", [], false, false)], false, false), false, false), true)],\n[\"push\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"pull\", new SymbolMetadata(\"\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), false)],\n[\"setURL\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false),new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"set\", new SymbolMetadata(\"Full target specification, then value\\n\\ne.g.\\n    set(\\\"nmaps\\\", \\\"o\\\", \\\"open\\\")\\n    set(\\\"search\\\", \\\"default\\\", \\\"google\\\")\\n    set(\\\"aucmd\\\", \\\"BufRead\\\", \\\"memrise.com\\\", \\\"open memrise.com\\\")\", new FunctionType([new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"unsetURL\", new SymbolMetadata(\"\", new FunctionType([new AnyType(true, false),new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"unset\", new SymbolMetadata(\"Delete the key at target in USERCONFIG if it exists\", new FunctionType([new ArrayType(new AnyType(true, false), true, false)], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"save\", new SymbolMetadata(\"Save the config back to storage API.\\n\\nConfig is not synchronised between different instances of this module until\\nsometime after this happens.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"update\", new SymbolMetadata(\"Updates the config to the latest version.\\nProposed semantic for config versionning:\\n- x.y -> x+1.0 : major architectural changes\\n- x.y -> x.y+1 : renaming settings/changing their types\\nThere's no need for an updater if you're only adding a new setting/changing\\na default setting\\n\\nWhen adding updaters, don't forget to set(\\\"configversion\\\", newversionnumber)!\", new FunctionType([], new TypeReferenceType(\"Promise\", [new BooleanType(false, false)], false, false), false, false), true)],\n[\"init\", new SymbolMetadata(\"Read all user configuration from storage API then notify any waiting asynchronous calls\\n\\nasynchronous calls generated by getAsync.\", new FunctionType([], new TypeReferenceType(\"Promise\", [new VoidType(false, false)], false, false), false, false), true)],\n[\"addChangeListener\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"P\", [], false, false),new FunctionType([new AnyType(true, false),new AnyType(true, false)], new VoidType(false, false), false, false)], new VoidType(false, false), false, false), true)],\n[\"removeChangeListener\", new SymbolMetadata(\"\", new FunctionType([new TypeReferenceType(\"P\", [], false, false),new FunctionType([new AnyType(true, false),new AnyType(true, false)], new VoidType(false, false), false, false)], new VoidType(false, false), false, false), true)],\n[\"parseConfig\", new SymbolMetadata(\"Parse the config into a string representation of a .tridactylrc config file.\\nTries to parse the config into sectionable chunks based on keywords.\\nBinds, aliases, autocmds and logging settings each have their own section while the rest are dumped into \\\"General Settings\\\".\", new FunctionType([], new StringType(false, false), false, false), false)]]))]]))\n\nexport let staticThemes = [\"auto\",\"dark\",\"default\",\"greenmat\",\"halloween\",\"midnight\",\"quake\",\"quakelight\",\"shydactyl\"]\n", "import * as config from \"@src/lib/config\"\n\n/**\n * Expands the alias in the provided exstr recursively. Does nothing if\n * the command is not aliased, including when the command is invalid.\n *\n * @param exstr :exstr typed by the user on the commantd line\n */\nexport function expandExstr(\n    exstr: string,\n    aliases = config.get(\"exaliases\"),\n    prevExpansions: string[] = [],\n): string {\n    // Split on whitespace\n    const [command] = exstr.trim().split(/\\s+/)\n\n    // Base case: alias not found; return original command\n    if (aliases[command] === undefined) {\n        return exstr\n    }\n\n    // Infinite loop detected\n    if (prevExpansions.includes(command)) {\n        throw new Error(\n            `Infinite loop detected while expanding aliases. Stack: ${prevExpansions}.`,\n        )\n    }\n\n    // Add command to expansions used so far\n    prevExpansions.push(command)\n\n    // Alias exists; expand it recursively\n    return expandExstr(\n        exstr.replace(command, aliases[command]),\n        aliases,\n        prevExpansions,\n    )\n}\n\n/**\n * Get all aliases for all commands.\n *\n * @param aliases An object mapping aliases to commands\n * @return commands An object mapping commands to an array of aliases\n */\nexport function getCmdAliasMapping(\n    aliases = config.get(\"exaliases\"),\n): { [str: string]: string[] } {\n    const commands = {}\n    // aliases look like this: {alias: command} but what we really need is this: {command: [alias1, alias2...]}\n    // This is what this loop builds\n    for (const alias of Object.keys(aliases)) {\n        const cmd = expandExstr(alias, aliases).trim()\n        if (!commands[cmd]) commands[cmd] = []\n        commands[cmd].push(alias.trim())\n    }\n    return commands\n}\n", "/** Ex Mode (AKA cmd mode) */\n\nimport { FunctionType } from \"../../compiler/types/AllTypes\"\nimport { everything as metadata } from \"@src/.metadata.generated\"\nimport * as aliases from \"@src/lib/aliases\"\nimport * as Logging from \"@src/lib/logging\"\n\nconst logger = new Logging.Logger(\"exmode\")\n\nfunction convertArgs(types, argv) {\n    const typedArgs = []\n    for (\n        let itypes = 0, iargv = 0;\n        itypes < types.length && iargv < argv.length;\n        ++itypes && ++iargv\n    ) {\n        const curType = types[itypes]\n        const curArg = argv[iargv]\n        // Special casing arrays because that's why the previous arg conversion code did\n        if (curType.isDotDotDot || curType.kind === \"array\") {\n            return typedArgs.concat(curType.convert(argv.slice(iargv)))\n        }\n        typedArgs.push(curType.convert(curArg))\n    }\n    return typedArgs\n}\n\n// Simplistic Ex command line parser.\n// TODO: Quoting arguments\n// TODO: Pipe to separate commands\n// TODO: Abbreviated commands\nexport function parser(exstr: string, all_excmds: any): any[] {\n    // Expand aliases\n    const expandedExstr = aliases.expandExstr(exstr)\n    const [func, ...args] = expandedExstr.trim().split(/\\s+/)\n\n    // Try to find which namespace (ex, text, ...) the command is in\n    const dotIndex = func.indexOf(\".\")\n    const namespce = func.substring(0, dotIndex)\n    const funcName = func.substring(dotIndex + 1)\n    const excmds = all_excmds[namespce]\n\n    if (excmds === undefined) {\n        throw new Error(`Unknown namespace: ${namespce}.`)\n    }\n\n    // Convert arguments, but only for ex commands\n    let converted_args\n    if (namespce == \"\" && args.length > 0) {\n        let types\n        try {\n            types = (metadata.getFile(\"src/excmds.ts\").getFunction(funcName)\n                .type as FunctionType).args\n        } catch (e) {\n            // user defined functions?\n            types = null\n            converted_args = args\n        }\n        if (types !== null) {\n            try {\n                converted_args = convertArgs(types, args)\n            } catch (e) {\n                logger.error(\"Error executing or parsing:\", exstr, e)\n                throw e\n            }\n        }\n    } else {\n        converted_args = args\n    }\n\n    if (excmds[funcName] === undefined) {\n        logger.error(\"Not an excmd:\", exstr)\n        throw new Error(`Not an excmd: ${func}`)\n    }\n\n    return [excmds[funcName], converted_args]\n}\n", "import Logger from \"@src/lib/logging\"\nimport { parser as exmode_parser } from \"@src/parsers/exmode\"\nimport * as State from \"@src/state\"\nimport state from \"@src/state\"\n\nconst logger = new Logger(\"controller\")\n\nlet stored_excmds: any\nexport function setExCmds(excmds: any) {\n    stored_excmds = excmds\n}\n\n/** Parse and execute ExCmds */\nexport async function acceptExCmd(exstr: string): Promise<any> {\n    // TODO: Errors should go to CommandLine.\n    try {\n        const [func, args] = exmode_parser(exstr, stored_excmds)\n        // Stop the repeat excmd from recursing and don't store private window commands\n        if (\n            func !== stored_excmds[\"\"].repeat &&\n            exstr.search(\"winopen -private\") < 0\n        ) {\n            State.getAsync(\"last_ex_str\").then(last_ex_str => {\n                if (last_ex_str != exstr) state.last_ex_str = exstr\n            })\n        }\n        try {\n            return await func(...args)\n        } catch (e) {\n            // Errors from func are caught here (e.g. no next tab)\n            logger.error(\"controller in excmd: \", e)\n        }\n    } catch (e) {\n        // Errors from parser caught here\n        logger.error(\"controller while accepting: \", e)\n    }\n}\n", "module.exports = function cmp (a, b) {\n    var pa = a.split('.');\n    var pb = b.split('.');\n    for (var i = 0; i < 3; i++) {\n        var na = Number(pa[i]);\n        var nb = Number(pb[i]);\n        if (na > nb) return 1;\n        if (nb > na) return -1;\n        if (!isNaN(na) && isNaN(nb)) return 1;\n        if (isNaN(na) && !isNaN(nb)) return -1;\n    }\n    return 0;\n};\n", "/**\n * Background functions for the native messenger interface\n */\n\nimport semverCompare from \"semver-compare\"\nimport * as config from \"@src/lib/config\"\nimport { browserBg, getContext } from \"@src/lib/webext\"\n\nimport Logger from \"@src/lib/logging\"\nconst logger = new Logger(\"native\")\n\nconst NATIVE_NAME = \"tridactyl\"\ntype MessageCommand =\n    | \"version\"\n    | \"run\"\n    | \"run_async\"\n    | \"read\"\n    | \"write\"\n    | \"writerc\"\n    | \"temp\"\n    | \"list_dir\"\n    | \"mkdir\"\n    | \"move\"\n    | \"eval\" // Only works in native < 0.2.0 (NB: use \"run\" for non-Python eval)\n    | \"getconfig\"\n    | \"getconfigpath\"\n    | \"env\"\n    | \"win_firefox_restart\"\n    | \"ppid\" // Removed from Windows since native >= 0.2.0\ninterface MessageResp {\n    cmd: string\n    version: string | null\n    content: string | null\n    code: number | null\n    error: string | null\n}\n\n/**\n * Posts using the one-time message API; native is killed after message returns\n */\nexport async function sendNativeMsg(\n    cmd: MessageCommand,\n    opts: Record<string, unknown>,\n    quiet = false,\n): Promise<MessageResp> {\n    const send = Object.assign({ cmd }, opts)\n    let resp\n    logger.info(`Sending message: ${JSON.stringify(send)}`)\n\n    try {\n        resp = await browserBg.runtime.sendNativeMessage(NATIVE_NAME, send)\n        logger.info(`Received response:`, resp)\n        return resp as MessageResp\n    } catch (e) {\n        if (!quiet) {\n            throw new Error(\n                \"Failed to send message to native messenger. If it is correctly installed (run `:native`), please report this bug on https://github.com/tridactyl/tridactyl/issues .\",\n            )\n        }\n    }\n}\n\nexport async function getrcpath(\n    separator: \"unix\" | \"auto\" = \"auto\",\n): Promise<string> {\n    const res = await sendNativeMsg(\"getconfigpath\", {})\n\n    if (res.code !== 0) throw new Error(\"getrcpath error: \" + res.code)\n\n    if (\n        separator == \"unix\" &&\n        (await browserBg.runtime.getPlatformInfo()).os == \"win\"\n    ) {\n        return res.content.replace(/\\\\/g, \"/\")\n    } else {\n        return res.content\n    }\n}\n\nexport async function getrc(): Promise<string> {\n    const res = await sendNativeMsg(\"getconfig\", {})\n\n    if (res.content && !res.error) {\n        logger.info(`Successfully retrieved fs config:\\n${res.content}`)\n        return res.content\n    } else {\n        // Have to make this a warning as async exceptions apparently don't get caught\n        logger.info(`Error in retrieving config: ${res.error}`)\n    }\n}\n\nlet NATIVE_VERSION_CACHE: string\nexport async function getNativeMessengerVersion(\n    quiet = false,\n): Promise<string> {\n    if (NATIVE_VERSION_CACHE !== undefined) {\n        return NATIVE_VERSION_CACHE\n    }\n    const res = await sendNativeMsg(\"version\", {}, quiet)\n    if (res === undefined) {\n        if (quiet) return undefined\n        throw new Error(`Error retrieving version: ${res.error}`)\n    }\n    if (res.version && !res.error) {\n        logger.info(`Native version: ${res.version}`)\n        NATIVE_VERSION_CACHE = res.version.toString()\n        // Wipe cache after 500ms\n        setTimeout(() => (NATIVE_VERSION_CACHE = undefined), 500)\n        return NATIVE_VERSION_CACHE\n    }\n}\n\nexport async function getBestEditor(): Promise<string> {\n    const gui_candidates: string[] = []\n    const term_emulators: string[] = []\n    const tui_editors: string[] = []\n    const last_resorts: string[] = []\n    const os = (await browserBg.runtime.getPlatformInfo()).os\n    const arg_quote = os === \"win\" ? '\"' : \"'\"\n    const vim_positioning_arg = ` ${arg_quote}+normal!%lGzv%c|${arg_quote}`\n    if (os === \"mac\") {\n        gui_candidates.push(\n            ...[\n                \"/Applications/MacVim.app/Contents/bin/mvim -f\" +\n                    vim_positioning_arg,\n                \"/usr/local/bin/vimr --wait --nvim +only\",\n            ],\n        )\n        // if anyone knows of any \"sensible\" terminals that let you send them commands to run,\n        // please let us know in issue #451!\n        term_emulators.push(\n            ...[\n                \"/Applications/cool-retro-term.app/Contents/MacOS/cool-retro-term -e\",\n            ],\n        )\n        last_resorts.push(...[\"open -nWt\"])\n    } else {\n        // Tempted to put this behind another config setting: prefergui\n        gui_candidates.push(...[\"gvim -f\" + vim_positioning_arg])\n\n        // These terminal emulators can't normally be run on Windows, usually because they require X11.\n        if (os === \"linux\" || os === \"openbsd\") {\n            term_emulators.push(\n                ...[\n                    // we generally try to give the terminal the class \"tridactyl_editor\" so that\n                    // it can be made floating, e.g in i3:\n                    // for_window [class=\"tridactyl_editor\"] floating enable border pixel 1\n                    \"st -c tridactyl_editor\",\n                    \"xterm -class tridactyl_editor -e\",\n                    \"uxterm -class tridactyl_editor -e\",\n                    \"urxvt -e\",\n                    'termite --class tridactyl_editor -e \"%c\"',\n                    \"sakura --class tridactyl_editor -e\",\n                    \"lilyterm -e\",\n                    \"mlterm -N tridactyl_editor -e\",\n                    \"roxterm -e\",\n                    \"cool-retro-term -e\",\n                    // Terminator doesn't appear to honour -c, but the option is\n                    // documented in its manpage and seems to cause no errors when supplied.\n                    'terminator -u -c tridactyl_editor -e \"%c\"',\n                    // Gnome-terminal doesn't work consistently, see issue #1035\n                    // \"dbus-launch gnome-terminal --\",\n                ],\n            )\n        }\n        if (os === \"win\") {\n            term_emulators.push(\n                ...[\"conemu -run\", \"mintty --class tridactyl_editor -e\"],\n            )\n            if (await nativegate(\"0.2.1\", false)) {\n                term_emulators.push(\"start /wait\")\n            }\n        }\n        // These terminal emulators are cross-platform.\n        term_emulators.push(\n            ...[\n                \"alacritty --class tridactyl_editor -e\",\n\n                // I wanted to put hyper.js here as a joke but you can't start it running a command,\n                // which is a far better joke: a terminal emulator that you can't send commands to.\n                // You win this time, web artisans.\n                // Still true in 2021.\n            ],\n        )\n        last_resorts.push(\n            ...[\n                \"emacs\",\n                \"gedit\",\n                \"kate\",\n                \"sublime\",\n                \"atom -w\",\n                \"code -nw\",\n                \"abiword\",\n                \"notepad\",\n            ],\n        )\n    }\n\n    tui_editors.push(\n        ...[\n            \"vim\" + vim_positioning_arg,\n            \"nvim\" + vim_positioning_arg,\n            \"nano %f\",\n            \"emacs -nw %f\",\n        ],\n    )\n\n    // Try GUI editors.\n    const guicmd: string = await firstinpath(gui_candidates)\n    if (guicmd) {\n        return guicmd\n    }\n\n    // Try TUI editors.\n    const termcmd: string = await firstinpath(term_emulators)\n    const tuicmd: string = await firstinpath(tui_editors)\n    if (termcmd && tuicmd) {\n        if (termcmd.includes(\"%c\")) {\n            return tuicmd.replace(\"%c\", tuicmd)\n        } else {\n            return termcmd + \" \" + tuicmd\n        }\n    }\n\n    // If all else fails, try some stupid stuff to scare users into setting\n    // their editorcmd.\n    return await firstinpath(last_resorts)\n}\n\n/**\n * Used internally to gate off functions that use the native messenger. Gives a\n * helpful error message in the command line if the native messenger is not\n * installed, or is the wrong version.\n *\n * @arg version: A string representing the minimal required version.\n * @arg interactive: True if a message should be displayed on version mismatch.\n * @return false if the required version is higher than the currently available\n * native messenger version.\n */\nexport async function nativegate(\n    version = \"0\",\n    interactive = true,\n    desiredOS = [\"mac\", \"win\", \"linux\", \"openbsd\"],\n    // desiredOS = [\"mac\", \"win\", \"android\", \"cros\", \"linux\", \"openbsd\"]\n): Promise<boolean> {\n    if (!desiredOS.includes((await browserBg.runtime.getPlatformInfo()).os)) {\n        if (interactive) {\n            logger.error(\n                \"# Tridactyl's native messenger doesn't support your operating system, yet.\",\n            )\n        }\n        return false\n    }\n    try {\n        const actualVersion = await getNativeMessengerVersion()\n        if (actualVersion !== undefined) {\n            if (semverCompare(version, actualVersion) > 0) {\n                if (interactive)\n                    logger.error(\n                        \"# Please update to native messenger \" +\n                            version +\n                            \", for example by running `:updatenative`.\",\n                    )\n                // TODO: add update procedure and document here.\n                return false\n            }\n            return true\n        } else if (interactive)\n            logger.error(\n                \"# Native messenger not found. Please run `:installnative` and follow the instructions.\",\n            )\n        return false\n    } catch (e) {\n        if (interactive)\n            logger.error(\n                \"# Native messenger not found. Please run `:installnative` and follow the instructions.\",\n            )\n        return false\n    }\n}\n\nexport async function inpath(cmd) {\n    const pathcmd =\n        (await browserBg.runtime.getPlatformInfo()).os === \"win\"\n            ? \"where \"\n            : \"which \"\n    return (await run(pathcmd + cmd.split(\" \")[0])).code === 0\n}\n\nexport async function firstinpath(cmdarray) {\n    let ind = 0\n    let cmd = cmdarray[ind]\n    // Try to find a text editor\n    while (!(await inpath(cmd.split(\" \")[0]))) {\n        ind++\n        cmd = cmdarray[ind]\n        if (cmd === undefined) break\n    }\n    return cmd\n}\n\nexport async function editor(\n    file: string,\n    line: number,\n    col: number,\n    content?: string,\n) {\n    if (content !== undefined) await write(file, content)\n    const editorcmd = (config.get(\"editorcmd\") === \"auto\"\n        ? await getBestEditor()\n        : config.get(\"editorcmd\")\n    )\n        .replace(/%l/, line)\n        .replace(/%c/, col)\n    let exec\n    if (editorcmd.indexOf(\"%f\") !== -1) {\n        exec = await run(editorcmd.replace(/%f/, file))\n    } else {\n        exec = await run(editorcmd + \" \" + file)\n    }\n    if (exec.code != 0) return exec\n    return read(file)\n}\n\nexport async function read(file: string) {\n    return sendNativeMsg(\"read\", { file }).catch(e => {\n        throw new Error(`Failed to read ${file}. ${e}`)\n    })\n}\n\nexport async function write(file: string, content: string) {\n    return sendNativeMsg(\"write\", { file, content }).catch(e => {\n        throw new Error(`Failed to write '${content}' to '${file}'. ${e}`)\n    })\n}\n\nexport async function writerc(file: string, force: boolean, content: string) {\n    return sendNativeMsg(\"writerc\", { file, force, content }).catch(e => {\n        throw new Error(`Failed to write '${content}' to '${file}'. ${e}`)\n    })\n}\n\nexport async function mkdir(dir: string, exist_ok: boolean) {\n    return sendNativeMsg(\"mkdir\", { dir, exist_ok }).catch(e => {\n        throw new Error(`Failed to create directory '${dir}'. ${e}`)\n    })\n}\n\nexport async function temp(content: string, prefix: string) {\n    return sendNativeMsg(\"temp\", { content, prefix }).catch(e => {\n        throw new Error(\n            `Failed to write '${content}' to temp file '${prefix}'. ${e}`,\n        )\n    })\n}\n\nexport async function move(\n    from: string,\n    to: string,\n    overwrite: boolean,\n    cleanup: boolean,\n) {\n    const requiredNativeMessengerVersion = \"0.3.0\"\n    if ((await nativegate(requiredNativeMessengerVersion, false))) {\n        return sendNativeMsg(\"move\", { from, to, overwrite, cleanup }).catch(e => {\n            throw new Error(`Failed to move '${from}' to '${to}'. ${e}.`)\n        })\n    } else {\n        // older \"saveas\" scenario for native-messenger < 0.3.0\n        return sendNativeMsg(\"move\", { from, to }).catch(e => {\n            throw new Error(`Failed to move '${from}' to '${to}'. ${e}.`)\n        })\n    }\n\n}\n\nexport async function listDir(dir: string) {\n    return sendNativeMsg(\"list_dir\", { path: dir }).catch(e => {\n        throw new Error(`Failed to read directory '${dir}'. ${e}`)\n    })\n}\n\nexport async function winFirefoxRestart(\n    profiledir: string,\n    browsercmd: string,\n) {\n    const required_version = \"0.1.6\"\n\n    if (!(await nativegate(required_version, false))) {\n        throw new Error(\n            `'restart' on Windows needs native messenger version >= ${required_version}.`,\n        )\n    }\n\n    return sendNativeMsg(\"win_firefox_restart\", { profiledir, browsercmd })\n}\n\nexport async function run(command: string, content = \"\") {\n    const msg = await sendNativeMsg(\"run\", { command, content })\n    logger.info(msg)\n    return msg\n}\n\nexport async function runAsync(command: string) {\n    const required_version = \"0.3.1\"\n    if (!await nativegate(required_version, false)) {\n        throw new Error(\n            `runAsync needs native messenger version >= ${required_version}.`,\n        )\n    }\n    logger.info(await sendNativeMsg(\"run_async\", { command }))\n}\n\n/** Evaluates a string in the native messenger. This has to be python code. If\n *  you want to run shell strings, use run() instead.\n *\n *  Only works for native messenger versions < 0.2.0.\n */\nexport async function pyeval(command: string): Promise<MessageResp> {\n    return sendNativeMsg(\"eval\", { command })\n}\n\nexport async function getenv(variable: string) {\n    const required_version = \"0.1.2\"\n\n    if (!(await nativegate(required_version, false))) {\n        throw new Error(\n            `'getenv' needs native messenger version >= ${required_version}.`,\n        )\n    }\n\n    return (await sendNativeMsg(\"env\", { var: variable })).content\n}\n\n/** Calls an external program, to either set or get the content of the X selection.\n *  When setting the selection or if getting it failed, will return an empty string.\n **/\nexport async function clipboard(\n    action: \"set\" | \"get\",\n    str: string,\n): Promise<string> {\n    let clipcmd = await config.get(\"externalclipboardcmd\")\n    if (clipcmd === \"auto\") clipcmd = await firstinpath([\"xsel\", \"xclip\"])\n\n    if (clipcmd === undefined) {\n        throw new Error(\"Couldn't find an external clipboard executable\")\n    }\n\n    if (action === \"get\") {\n        const result = await run(clipcmd + \" -o\")\n        if (result.code !== 0) {\n            throw new Error(\n                `External command failed with code ${result.code}: ${clipcmd}`,\n            )\n        }\n        return result.content\n    } else if (action === \"set\") {\n        const required_version = \"0.1.7\"\n        if (await nativegate(required_version, false)) {\n            const result = await run(`${clipcmd} -i`, str)\n            if (result.code !== 0)\n                throw new Error(\n                    `External command failed with code ${result.code}: ${clipcmd}`,\n                )\n            return \"\"\n        } else {\n            // Fall back to hacky old fashioned way\n\n            // We're going to pretend that we don't know about stdin, and we need to insert str, which we can't trust, into the clipcmd\n            // In order to do this safely we'll use here documents:\n            // http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_07_04\n\n            // Find a delimiter that isn't in str\n            let heredoc = \"TRIDACTYL\"\n            while (str.search(heredoc) !== -1)\n                heredoc += Math.round(Math.random() * 10)\n\n            // Use delimiter to insert str into clipcmd's stdin\n            // We use sed to remove the newline added by the here document\n            clipcmd = `sed -z 's/.$//' <<'${heredoc}' | ${clipcmd} -i \\n${str}\\n${heredoc}`\n            await run(clipcmd)\n            return \"\"\n        }\n    }\n    throw new Error(\"Unknown action!\")\n}\n\n/**\n * This returns the commandline that was used to start Firefox.\n * You'll get both the binary (not necessarily an absolute path) and flags.\n */\nexport async function ff_cmdline(): Promise<string[]> {\n    let output: MessageResp\n    if ((await browserBg.runtime.getPlatformInfo()).os === \"win\") {\n        if (!(await nativegate(\"0.3.3\", false))) {\n            const browser_name = await config.get(\"browser\")\n            output = await run(\n                `powershell -NoProfile -Command \"\\\n$processes = Get-CimInstance -Property ProcessId,ParentProcessId,Name,CommandLine -ClassName Win32_Process;\\\nif (-not ($processes | where { $_.Name -match '^${browser_name}' })) { exit 1; };\\\n$ppid = ($processes | where { $_.ProcessId -EQ $PID }).ParentProcessId;\\\n$pproc = $processes | where { $_.ProcessId -EQ $ppid };\\\nwhile ($pproc.Name -notmatch '^${browser_name}') {\\\n    $ppid = $pproc.ParentProcessId;\\\n    $pproc = $processes | where { $_.ProcessId -EQ $ppid };\\\n};\\\nWrite-Output $pproc.CommandLine;\\\n\"`,\n            )\n        } else {\n            output = await run(\n                `powershell -NoProfile -Command \"\\\nGet-CimInstance -Property CommandLine,ProcessId -ClassName Win32_Process \\\n| where { $_.ProcessId -EQ ${(await sendNativeMsg(\"ppid\", {})).content} } \\\n| select -ExpandProperty CommandLine | Write-Output\\\n\"`\n            )\n        }\n    } else {\n        const actualVersion = await getNativeMessengerVersion()\n\n        // Backwards-compat for Python native messenger\n        if (semverCompare(\"0.2.0\", actualVersion) > 0) {\n            output = await pyeval(\n                // Using ' and + rather than ` because we don't want newlines\n                'handleMessage({\"cmd\": \"run\", ' +\n                    '\"command\": \"ps -p \" + str(os.getppid()) + \" -oargs=\"})[\"content\"]',\n            )\n        } else {\n            const ppid = (await sendNativeMsg(\"ppid\", {})).content.trim()\n            output = await run(\"ps -p \" + ppid + \" -oargs=\")\n        }\n        output.content = output.content.replace(\"\\n\", \"\")\n    }\n    return output.content.trim().split(\" \")\n}\n\nexport async function parseProfilesIni(content: string, basePath: string) {\n    const lines = content.split(\"\\n\")\n    let current = \"General\"\n    const result = {}\n    for (const line of lines) {\n        let match = /^\\[([^\\]]+)\\]$/.exec(line)\n        if (match !== null) {\n            current = match[1]\n            result[current] = {}\n        } else {\n            match = /^([^=]+)=([^=]+)$/.exec(line)\n            if (match !== null) {\n                result[current][match[1]] = match[2]\n            }\n        }\n    }\n    for (const profileName of Object.keys(result)) {\n        const profile = result[profileName]\n        // New profiles.ini have a useless section at the top\n        if (profile.Path == undefined) {\n            delete result[profileName]\n            continue\n        }\n        // On windows, profiles.ini paths will be expressed with `/`, but we're\n        // on windows, so we need `\\`\n        if ((await browserBg.runtime.getPlatformInfo()).os === \"win\") {\n            profile.Path = profile.Path.replace(\"/\", \"\\\\\")\n        }\n        // profile.IsRelative can be 0, 1 or undefined\n        if (profile.IsRelative === \"1\") {\n            profile.relativePath = profile.Path\n            profile.absolutePath = basePath + profile.relativePath\n        } else if (profile.IsRelative === \"0\") {\n            if (profile.Path.substring(0, basePath.length) !== basePath) {\n                throw new Error(\n                    `Error parsing profiles ini: basePath \"${basePath}\" doesn't match profile path ${profile.Path}`,\n                )\n            }\n            profile.relativePath = profile.Path.substring(basePath.length)\n            profile.absolutePath = profile.Path\n        }\n    }\n    return result\n}\n\nexport async function getFirefoxDir() {\n    switch ((await browserBg.runtime.getPlatformInfo()).os) {\n        case \"win\":\n            return getenv(\"APPDATA\").then(path => path + \"\\\\Mozilla\\\\Firefox\\\\\")\n        case \"mac\":\n            return getenv(\"HOME\").then(\n                path => path + \"/Library/Application Support/Firefox/\",\n            )\n        default:\n            return getenv(\"HOME\").then(path => path + \"/.mozilla/firefox/\")\n    }\n}\n\nexport async function getProfileUncached() {\n    const ffDir = await getFirefoxDir()\n    const iniPath = ffDir + \"profiles.ini\"\n    let iniObject = {}\n    let iniSucceeded = false\n    const iniContent = await read(iniPath)\n    if (iniContent.code === 0 && iniContent.content.length > 0) {\n        try {\n            iniObject = await parseProfilesIni(iniContent.content, ffDir)\n            iniSucceeded = true\n        } catch (e) {}\n    }\n    const curProfileDir = config.get(\"profiledir\")\n\n    // First, try to see if the 'profiledir' setting matches a profile in profile.ini\n    if (curProfileDir !== \"auto\") {\n        if (iniSucceeded) {\n            for (const profileName of Object.keys(iniObject)) {\n                const profile = iniObject[profileName]\n                if (profile.absolutePath === curProfileDir) {\n                    return profile\n                }\n            }\n        }\n        return {\n            Name: undefined,\n            IsRelative: \"0\",\n            Path: curProfileDir,\n            relativePath: undefined,\n            absolutePath: curProfileDir,\n        }\n    }\n\n    // Then, try to find a profile path in the arguments given to Firefox\n    const cmdline = await ff_cmdline().catch(() => \"\")\n    let profile = cmdline.indexOf(\"--profile\")\n    if (profile === -1) profile = cmdline.indexOf(\"-profile\")\n    if (profile >= 0 && profile < cmdline.length - 1) {\n        const profilePath = cmdline[profile + 1]\n        if (iniSucceeded) {\n            for (const profileName of Object.keys(iniObject)) {\n                const profile = iniObject[profileName]\n                if (profile.absolutePath === profilePath) {\n                    return profile\n                }\n            }\n        }\n        // We're running in a profile that isn't stored in profiles.ini\n        // Let's fill in the default info profile.ini profiles have anyway\n        return {\n            Name: undefined,\n            IsRelative: \"0\",\n            Path: profilePath,\n            relativePath: undefined,\n            absolutePath: profilePath,\n        }\n    }\n\n    if (iniSucceeded) {\n        // Try to find a profile name in firefox's arguments\n        let p = cmdline.indexOf(\"-p\")\n        if (p === -1) p = cmdline.indexOf(\"-P\")\n        if (p >= 0 && p < cmdline.length - 1) {\n            const pName = cmdline[p + 1]\n            for (const profileName of Object.keys(iniObject)) {\n                const profile = iniObject[profileName]\n                if (profile.Name === pName) {\n                    return profile\n                }\n            }\n            throw new Error(\n                `native.ts:getProfile() : '${cmdline[p]}' found in command line arguments but no matching profile name found in \"${iniPath}\"`,\n            )\n        }\n    }\n\n    // Still nothing, try to find a profile in use\n    let hacky_profile_finder = `find \"${ffDir}\" -maxdepth 2 -name lock`\n    if ((await browserBg.runtime.getPlatformInfo()).os === \"mac\")\n        hacky_profile_finder = `find \"${ffDir}\" -maxdepth 2 -name .parentlock`\n    const profilecmd = await run(hacky_profile_finder)\n    if (profilecmd.code === 0 && profilecmd.content.length !== 0) {\n        // Remove trailing newline\n        profilecmd.content = profilecmd.content.trim()\n        // If there's only one profile in use, use that to find the right profile\n        if (profilecmd.content.split(\"\\n\").length === 1) {\n            const path = profilecmd.content.split(\"/\").slice(0, -1).join(\"/\")\n            if (iniSucceeded) {\n                for (const profileName of Object.keys(iniObject)) {\n                    const profile = iniObject[profileName]\n                    if (profile.absolutePath === path) {\n                        return profile\n                    }\n                }\n            }\n            return {\n                Name: undefined,\n                IsRelative: \"0\",\n                Path: path,\n                relativePath: undefined,\n                absolutePath: path,\n            }\n        }\n    }\n\n    if (iniSucceeded) {\n        // Multiple profiles used but no -p or --profile, this means that we're using the default profile\n        for (const profileName of Object.keys(iniObject)) {\n            const profile = iniObject[profileName]\n            if (profile.Default === 1 || profile.Default === \"1\") {\n                return profile\n            }\n        }\n    }\n\n    throw new Error(\n        `Couldn't deduce which profile you want. See ':help profiledir'`,\n    )\n}\n\n// Disk operations are extremely slow on windows, let's cache our profile info\nlet cachedProfile\nexport async function getProfile() {\n    if (cachedProfile === undefined) cachedProfile = await getProfileUncached()\n    return cachedProfile\n}\n// It makes sense to pre-fetch this value in the background script because it's\n// long-lived. Other contexts are created and destroyed all the time so we\n// don't want to pre-fetch in these.\nif (getContext() === \"background\") {\n    getProfile()\n}\nconfig.addChangeListener(\"profiledir\", () => {\n    cachedProfile = undefined\n    getProfile()\n})\n\nexport function getProfileName() {\n    return getProfile().then(p => p.Name)\n}\n\nexport async function getProfileDir() {\n    const profiledir = config.get(\"profiledir\")\n    if (profiledir !== \"auto\") return Promise.resolve(profiledir)\n    return getProfile().then(p => p.absolutePath)\n}\n\nexport function parsePrefs(prefFileContent: string) {\n    //  This RegExp currently only deals with \" but for correctness it should\n    //  also deal with ' and `\n    //  We could also just give up on parsing and eval() the whole thing\n    const regex = new RegExp(\n        /^(user_|sticky_|lock)?[pP]ref\\(\"([^\"]+)\",\\s*\"?([^\\)]+?)\"?\\);$/,\n    )\n    // Fragile parsing\n    return prefFileContent.split(\"\\n\").reduce((prefs, line) => {\n        const matches = regex.exec(line)\n        if (!matches) {\n            return prefs\n        }\n        const key = matches[2]\n        let value = matches[3]\n        // value = \" means that it should be an empty string\n        if (value === '\"') value = \"\"\n        prefs[key] = value\n        return prefs\n    }, {})\n}\n\n/** When given the name of a firefox preference file, will load said file and\n *  return a promise for an object the keys of which correspond to preference\n *  names and the values of which correspond to preference values.\n *  When the file couldn't be loaded or doesn't contain any preferences, will\n *  return a promise for an empty object.\n */\nexport async function loadPrefs(filename): Promise<{ [key: string]: string }> {\n    const result = await read(filename)\n    if (result.code !== 0) return {}\n    return parsePrefs(result.content)\n}\n\nlet cached_prefs = null\n\n/** Returns a promise for an object that should contain every about:config\n *  setting.\n *\n *  Performance is slow so we need to cache the results.\n */\nexport async function getPrefs(): Promise<{ [key: string]: string }> {\n    if (cached_prefs !== null) return cached_prefs\n    const profile = (await getProfileDir()) + \"/\"\n    const prefFiles = [\n        // Debian has these\n        \"/usr/share/firefox/browser/defaults/preferences/firefox.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/debugger.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/devtools-startup-prefs.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/devtools.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/firefox-branding.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/vendor.js\",\n        \"/usr/share/firefox/browser/defaults/preferences/firefox.js\",\n        \"/etc/firefox/firefox.js\",\n        // Pref files can be found here:\n        // https://developer.mozilla.org/en-US/docs/Mozilla/Preferences/A_brief_guide_to_Mozilla_preferences\n        profile + \"grepref.js\",\n        profile + \"services/common/services-common.js\",\n        profile + \"defaults/pref/services-sync.js\",\n        profile + \"browser/app/profile/channel-prefs.js\",\n        profile + \"browser/app/profile/firefox.js\",\n        profile + \"browser/app/profile/firefox-branding.js\",\n        profile + \"browser/defaults/preferences/firefox-l10n.js\",\n        profile + \"prefs.js\",\n        profile + \"user.js\",\n    ]\n    const promises = []\n    // Starting all promises before awaiting because we want the calls to be\n    // made in parallel\n    for (const file of prefFiles) {\n        promises.push(loadPrefs(file))\n    }\n    cached_prefs = promises.reduce(async (a, b) =>\n        Object.assign(await a, await b),\n    )\n    return cached_prefs\n}\n\n/** Returns the value for the corresponding about:config setting */\nexport async function getPref(name: string): Promise<string> {\n    return (await getPrefs())[name]\n}\n\n/** Fetches a config option from the config. If the option is undefined, fetch\n *  a preference from preferences. It would make more sense for this function to\n *  be in config.ts but this would require importing this file in config.ts and\n *  Webpack doesn't like circular dependencies.\n */\nexport async function getConfElsePref(\n    confName: string,\n    prefName: string,\n): Promise<any> {\n    let option = await config.getAsyncDynamic(confName)\n    if (option === undefined) {\n        try {\n            option = await getPref(prefName)\n        } catch (e) {}\n    }\n    return option\n}\n\n/** Fetches a config option from the config. If the option is undefined, fetch\n *  prefName from the preferences. If prefName is undefined too, return a\n *  default.\n */\nexport async function getConfElsePrefElseDefault(\n    confName: string,\n    prefName: string,\n    def: any,\n): Promise<any> {\n    const option = await getConfElsePref(confName, prefName)\n    if (option === undefined) return def\n    return option\n}\n\n/** Writes a preference to user.js */\nexport async function writePref(name: string, value: any) {\n    if (cached_prefs) cached_prefs[name] = value\n\n    const file = (await getProfileDir()) + \"/user.js\"\n    // No need to check the return code because read returns \"\" when failing to\n    // read a file\n    const text = (await read(file)).content\n    const prefPos = text.indexOf(`pref(\"${name}\",`)\n    if (prefPos < 0) {\n        write(file, `${text}\\nuser_pref(\"${name}\", ${value});\\n`)\n    } else {\n        let substr = text.substring(prefPos)\n        const prefEnd = substr.indexOf(\";\\n\")\n        substr = text.substring(prefPos, prefPos + prefEnd)\n        write(file, text.replace(substr, `pref(\"${name}\", ${value})`))\n    }\n}\n\n/** Removes a preference from user.js */\nexport async function removePref(name: string) {\n    const file = (await getProfileDir()) + \"/user.js\"\n    // No need to check the return code because read returns \"\" when failing to\n    // read a file\n    const text = (await read(file)).content\n    const prefPos = text.indexOf(`user_pref(\"${name}\",`)\n    if (prefPos >= 0) {\n        let substr = text.substring(prefPos)\n        const prefEnd = substr.indexOf(\";\\n\") + 1\n        substr = text.substring(prefPos, prefPos + prefEnd)\n        write(file, text.replace(substr, ``))\n    }\n}\n\n/** Obey Mozilla's orders https://github.com/tridactyl/tridactyl/issues/1800 */\nexport async function unfixamo() {\n    try {\n        if (localStorage.unfixedamo2 === \"true\") {\n            // this version of unfixamo already ran for the tridactyl instance in this profile\n            return\n        }\n\n        const profile = (await getProfileDir()) + \"/\"\n        const userjs = await loadPrefs(profile + \"user.js\")\n        const tridactylPref = \"tridactyl.unfixedamo\"\n        const tridactylPref2 = \"tridactyl.unfixedamo_removed\"\n        const restricted = \"extensions.webextensions.restrictedDomains\"\n        const amoblocker = \"privacy.resistFingerprinting.block_mozAddonManager\"\n        const restrictedDomains =\n            '\"accounts-static.cdn.mozilla.net,accounts.firefox.com,addons.cdn.mozilla.net,addons.mozilla.org,api.accounts.firefox.com,content.cdn.mozilla.net,discovery.addons.mozilla.org,install.mozilla.org,oauth.accounts.firefox.com,profile.accounts.firefox.com,support.mozilla.org,sync.services.mozilla.com\"'\n\n        // Exit if we've already run this once\n        if (userjs[tridactylPref2] === \"true\") return\n\n        if (\n            userjs[restricted] === \"\" ||\n            userjs[restricted] === restrictedDomains\n        ) {\n            await removePref(tridactylPref) // Clean up after first attempt if it exists\n            await removePref(restricted)\n            await removePref(amoblocker)\n            await writePref(tridactylPref2, \"true\")\n            browserBg.tabs.create({\n                url: browserBg.runtime.getURL(\"static/unfixamo.html\"),\n            })\n        }\n\n        return\n    } catch (e) {\n        // if an exception is thrown, this means that the native messenger\n        // isn't installed\n    } finally {\n        // Note: we store unfixedamo in localStorage and not in config because\n        //       users might clear their config with :sanitize\n        localStorage.unfixedamo2 = \"true\"\n    }\n}\n", "/** Functions to deal with text to speech in Tridactyl\n */\n\nimport * as Config from \"@src/lib/config\"\n\n/** Find the voice object for a voice name\n *\n * @return voice from the TTS API, or undefined\n */\nfunction getVoiceFromName(name: string | \"default\"): SpeechSynthesisVoice {\n    const voices = window.speechSynthesis.getVoices()\n\n    return voices.find(voice => voice.name === name)\n}\n\n/**\n * Read the text using the borwser's HTML5 TTS API\n *\n * @param text      the text to read out\n */\nexport function readText(text: string): void {\n    if (window.speechSynthesis.getVoices().length === 0) {\n        // should try to warn user? This apparently can happen on some machines\n        // TODO: Implement when there's an error feedback mechanism\n        throw new Error(\"No voice found: cannot use Text-To-Speech API\")\n    }\n\n    const utterance = new SpeechSynthesisUtterance(text)\n\n    const pitch = Config.get(\"ttspitch\")\n    const voice = Config.get(\"ttsvoice\")\n    const volume = Config.get(\"ttsvolume\")\n    const rate = Config.get(\"ttsrate\")\n\n    if (pitch >= 0 && pitch < 2) utterance.pitch = pitch\n\n    if (volume >= 0 && volume <= 1) utterance.volume = volume\n\n    if (rate >= 0.1 && rate <= 10) utterance.rate = rate\n\n    const voiceObj = getVoiceFromName(voice)\n    if (voiceObj) {\n        utterance.voice = voiceObj\n    }\n\n    window.speechSynthesis.speak(utterance)\n}\n\n/**\n * Supported TTS control actions\n */\nexport type Action = \"stop\" | \"play\" | \"pause\" | \"playpause\"\n\n/**\n * Control any reading in progress\n *\n * Note: pause() doesn't seem to work, so play, pause and playpause arent going\n * to be very useful right now\n */\nexport function doAction(action: Action): void {\n    const synth = window.speechSynthesis\n\n    switch (action) {\n        case \"play\":\n            synth.resume()\n            break\n        case \"pause\":\n            synth.pause()\n            break\n        case \"playpause\":\n            synth.paused ? synth.resume() : synth.pause()\n            break\n        case \"stop\":\n            synth.cancel()\n            break\n    }\n}\n\n/**\n * Get a list of the installed TTS voice names, by which users\n * can refer to the vocies for use in config\n *\n * @return list of voice names\n */\nexport function listVoices(): string[] {\n    const voices = window.speechSynthesis.getVoices()\n\n    return voices.map(voice => voice.name)\n}\n", "/**\n * Guarantee that your string is interpreted as a string at its destination.\n */\n\n/** Wrap with single quotes and replace each inner single quote with '\\''\n *\n * Backslash does not escape characters within a single quoted string, so it\n * should be left alone.\n *\n * Reference:\n * https://www.gnu.org/savannah-checkouts/gnu/bash/manual/bash.html#Single-Quotes\n *\n */\nexport const sh = (dangerous: string) => `'${dangerous.replace(/'/g, \"'\\\\''\")}'`\n\n/** Escape every cmd metacharacter\n *\n * Windows doesn't create argv for your binary program. Your C library decides\n * how to quote and unquote, etc. All we can do is ensure that cmd passes it\n * all to the target program and does nothing else.\n *\n * Do that by prefixing every metacharacter with ^\n *\n * Reference:\n * https://blogs.msdn.microsoft.com/twistylittlepassagesallalike/2011/04/23/everyone-quotes-command-line-arguments-the-wrong-way/\n *\n */\nexport const windows_cmd = (dangerous: string) =>\n    dangerous.replace(/([()%!^\"<>&|])/g, \"^$1\")\n\n/* Alternative implementation that prefixes all characters with ^\nconst windows_cmd2 = (dangerous: string) =>\n    \"^\" + dangerous.split(\"\").join(\"^\")\n*/\n", "export function log(x, base) {\n    return Math.log(x) / Math.log(base)\n}\n\n// Copied from Numeric Javascript under the MIT license\n// https://github.com/sloisel/numeric/blob/656fa1254be540f428710738ca9c1539625777f1/src/numeric.js#L922\nexport function linspace(a: number, b: number, n?: number) {\n    if (typeof n === \"undefined\") n = Math.max(Math.round(b - a) + 1, 1)\n    if (n < 2) {\n        return n === 1 ? [a] : []\n    }\n    let i\n    const ret = Array(n)\n    n--\n    for (i = n; i >= 0; i--) {\n        ret[i] = (i * b + (n - i) * a) / n\n    }\n    return ret\n}\n\nexport function buckets(values: number[], numBuckets: number): number[] {\n    const min = values.reduce((a, b) => Math.min(a, b))\n    const max = values.reduce((a, b) => Math.max(a, b))\n    return linspace(min, max, numBuckets)\n}\n\nexport function bucketize(\n    values: number[],\n    buckets: number[],\n): Map<number, number> {\n    // Init result storage\n    const result: Map<number, number> = new Map<number, number>()\n    for (const bucketval of buckets) {\n        result.set(bucketval, 0)\n    }\n\n    // We place a value in a bucket by going through the buckets from\n    // smallest to largest, finding the smallest bucket that's larger\n    // than or equal to than the value. This will have the following\n    // results:\n    //\n    // * A value that's larger than all bucket values will not be\n    //   placed at all.\n    // * A value with exactly the value of the largest bucket will be\n    //   placed in the largest bucket.\n    // * A value with exactly the value of the smallest bucket will be\n    //   placed in the smallest bucket.\n    // * A value that's smaller than all bucket values will be placed\n    //   in the smallest bucket.\n    //\n    // If we build our buckets as linspace(min(values), max(values)),\n    // then this means that the largest bucket is guaranteed to have\n    // exactly one element in it.\n    const placeValue = (val: number) => {\n        for (const bucketval of buckets) {\n            if (bucketval >= val) {\n                result.set(bucketval, result.get(bucketval) + 1)\n                return\n            }\n        }\n    }\n\n    // Bucketize every value.\n    for (const val of values) {\n        placeValue(val)\n    }\n\n    // Return just the counts in each bucket\n    return result\n}\n", "/** # Hint mode functions\n *\n * This file contains functions to interact with hint mode.\n *\n * If you want to bind them to keyboard shortcuts, be sure to prefix them with \"hint.\". For example, if you want to bind control-[ to `reset`, use:\n *\n * ```\n * bind --mode=hint <C-[> hint.reset\n * ```\n *\n * Contrary to the main tridactyl help page, this one doesn't tell you whether a specific function is bound to something. For now, you'll have to make do with `:bind` and `:viewconfig`.\n *\n */\n/** ignore this line */\n\n/** Hint links.\n\n    TODO:\n\n    important\n        Connect to input system\n        Gluing into tridactyl\n    unimportant\n        Frames\n        Redraw on reflow\n*/\n\nimport * as DOM from \"@src/lib/dom\"\nimport { log } from \"@src/lib/math\"\nimport {\n    permutationsWithReplacement,\n    islice,\n    izip,\n    map,\n} from \"@src/lib/itertools\"\nimport { contentState } from \"@src/content/state_content\"\nimport * as config from \"@src/lib/config\"\nimport Logger from \"@src/lib/logging\"\nimport * as R from \"ramda\"\n\n/** @hidden */\nconst logger = new Logger(\"hinting\")\nimport * as keyseq from \"@src/lib/keyseq\"\n\n/** Calclate the distance between two segments.\n * @hidden\n * */\nfunction distance(l1: number, r1: number, l2: number, r2: number): number {\n    if (l1 < r2 && r1 > l2) {\n        return 0\n    } else {\n        return Math.min(Math.abs(l1 - r2), Math.abs(l2 - r1))\n    }\n}\n\n/** Simple container for the state of a single frame's hints.\n * @hidden\n * */\nclass HintState {\n    public focusedHint: Hint\n    readonly hintHost = document.createElement(\"div\")\n    readonly hints: Hint[] = []\n    public selectedHints: Hint[] = []\n    public filter = \"\"\n    public hintchars = \"\"\n\n    constructor(\n        public filterFunc: HintFilter,\n        public resolve: (x) => void,\n        public reject: (x) => void,\n        public rapid: boolean,\n    ) {\n        this.hintHost.classList.add(\"TridactylHintHost\", \"cleanslate\")\n    }\n\n    get activeHints() {\n        return this.hints.filter(h => !h.flag.hidden)\n    }\n\n    /**\n     * Remove hinting elements and classes from the DOM\n     */\n    cleanUpHints() {\n        // Undo any alterations of the hinted elements\n        for (const hint of this.hints) {\n            hint.hidden = true\n        }\n\n        // Remove all hints from the DOM.\n        this.hintHost.remove()\n    }\n\n    resolveHinting() {\n        this.cleanUpHints()\n\n        if (this.rapid) this.resolve(this.selectedHints.map(h => h.result))\n        else\n            this.resolve(\n                this.selectedHints[0] ? this.selectedHints[0].result : \"\",\n            )\n    }\n\n    // move overlapping hints around\n    deOverlap() {\n        this.hints.sort((a, b) => a.y - b.y)\n        const visited: Hint[] = []\n        for (const h of this.hints) {\n            for (const vh of visited) {\n                if (h.overlapsWith(vh)) {\n                    if (vh.x + vh.width < h.rect.right) h.x = vh.x + vh.width\n                    else h.y = vh.y + vh.height\n                }\n            }\n            visited.push(h)\n        }\n    }\n\n    changeFocusedHintIndex(offset) {\n        const activeHints = this.activeHints\n        if (!activeHints.length) {\n            return\n        }\n\n        // Get the index of the currently focused hint\n        const focusedIndex = activeHints.indexOf(this.focusedHint)\n\n        // Unfocus the currently focused hint\n        this.focusedHint.focused = false\n\n        // Focus the next hint, accounting for negative wraparound\n        const nextFocusedIndex =\n            (focusedIndex + offset + activeHints.length) % activeHints.length\n        this.focusedHint = activeHints[nextFocusedIndex]\n        this.focusedHint.focused = true\n    }\n\n    changeFocusedHintTop() {\n        const focusedRect = this.focusedHint.rect\n\n        // Get all hints from the top area\n        const topHints = this.activeHints.filter(\n            h =>\n                h.rect.top < focusedRect.top &&\n                h.rect.bottom < focusedRect.bottom,\n        )\n        if (!topHints.length) {\n            return\n        }\n\n        // Find the next top hint\n        const nextFocusedHint = topHints.reduce((a, b) => {\n            const aDistance = distance(\n                a.rect.left,\n                a.rect.right,\n                focusedRect.left,\n                focusedRect.right,\n            )\n            const bDistance = distance(\n                b.rect.left,\n                b.rect.right,\n                focusedRect.left,\n                focusedRect.right,\n            )\n            if (aDistance < bDistance) {\n                return a\n            } else if (aDistance > bDistance) {\n                return b\n            } else {\n                if (a.rect.bottom < b.rect.bottom) {\n                    return b\n                } else {\n                    return a\n                }\n            }\n        })\n\n        // Unfocus the currently focused hint\n        this.focusedHint.focused = false\n\n        // Focus the next hint\n        this.focusedHint = nextFocusedHint\n        this.focusedHint.focused = true\n    }\n\n    changeFocusedHintBottom() {\n        const focusedRect = this.focusedHint.rect\n\n        // Get all hints from the bottom area\n        const bottomHints = this.activeHints.filter(\n            h =>\n                h.rect.top > focusedRect.top &&\n                h.rect.bottom > focusedRect.bottom,\n        )\n        if (!bottomHints.length) {\n            return\n        }\n\n        // Find the next bottom hint\n        const nextFocusedHint = bottomHints.reduce((a, b) => {\n            const aDistance = distance(\n                a.rect.left,\n                a.rect.right,\n                focusedRect.left,\n                focusedRect.right,\n            )\n            const bDistance = distance(\n                b.rect.left,\n                b.rect.right,\n                focusedRect.left,\n                focusedRect.right,\n            )\n            if (aDistance < bDistance) {\n                return a\n            } else if (aDistance > bDistance) {\n                return b\n            } else {\n                if (a.rect.top > b.rect.top) {\n                    return b\n                } else {\n                    return a\n                }\n            }\n        })\n\n        // Unfocus the currently focused hint\n        this.focusedHint.focused = false\n\n        // Focus the next hint\n        this.focusedHint = nextFocusedHint\n        this.focusedHint.focused = true\n    }\n\n    changeFocusedHintLeft() {\n        const focusedRect = this.focusedHint.rect\n\n        // Get all hints from the left area\n        const leftHints = this.activeHints.filter(\n            h =>\n                h.rect.left < focusedRect.left &&\n                h.rect.right < focusedRect.right,\n        )\n        if (!leftHints.length) {\n            return\n        }\n\n        // Find the next left hint\n        const nextFocusedHint = leftHints.reduce((a, b) => {\n            const aDistance = distance(\n                a.rect.top,\n                a.rect.bottom,\n                focusedRect.top,\n                focusedRect.bottom,\n            )\n            const bDistance = distance(\n                b.rect.top,\n                b.rect.bottom,\n                focusedRect.top,\n                focusedRect.bottom,\n            )\n            if (aDistance < bDistance) {\n                return a\n            } else if (aDistance > bDistance) {\n                return b\n            } else {\n                if (a.rect.right < b.rect.right) {\n                    return b\n                } else {\n                    return a\n                }\n            }\n        })\n\n        // Unfocus the currently focused hint\n        this.focusedHint.focused = false\n\n        // Focus the next hint\n        this.focusedHint = nextFocusedHint\n        this.focusedHint.focused = true\n    }\n\n    changeFocusedHintRight() {\n        const focusedRect = this.focusedHint.rect\n\n        // Get all hints from the right area\n        const rightHints = this.activeHints.filter(\n            h =>\n                h.rect.left > focusedRect.left &&\n                h.rect.right > focusedRect.right,\n        )\n        if (!rightHints.length) {\n            return\n        }\n\n        // Find the next right hint\n        const nextFocusedHint = rightHints.reduce((a, b) => {\n            const aDistance = distance(\n                a.rect.top,\n                a.rect.bottom,\n                focusedRect.top,\n                focusedRect.bottom,\n            )\n            const bDistance = distance(\n                b.rect.top,\n                b.rect.bottom,\n                focusedRect.top,\n                focusedRect.bottom,\n            )\n            if (aDistance < bDistance) {\n                return a\n            } else if (aDistance > bDistance) {\n                return b\n            } else {\n                if (a.rect.left > b.rect.left) {\n                    return b\n                } else {\n                    return a\n                }\n            }\n        })\n\n        // Unfocus the currently focused hint\n        this.focusedHint.focused = false\n\n        // Focus the next hint\n        this.focusedHint = nextFocusedHint\n        this.focusedHint.focused = true\n    }\n\n    // Attempt to make the next hint the same as the previous one\n    shiftHints() {\n        // Pages often have their \"interesting\" hints separated by the same\n        // amount of \"uninteresting\" hints. We can use this to try to predict\n        // what the next interesting hint will be and provide the same hint\n        // name as the previous one, so that the user can keep on pressing the\n        // same key in order to select all interesting hints.\n\n        // To do this, compute the number of hints between the last selected\n        // hint and the hint selected before it\n        const lastIndex = this.hints.indexOf(\n            this.selectedHints[this.selectedHints.length - 1],\n        )\n        const prevIndex = this.hints.indexOf(\n            this.selectedHints[this.selectedHints.length - 2],\n        )\n        const distance = lastIndex - prevIndex\n\n        if (distance > 0) {\n            // Then, shift the hint names \"forward\". This requires saving the\n            // last N hints (the ones that will end up at the beginning of the\n            // hint array).\n            const savedNames = []\n            for (let i = 0; i < distance; ++i) {\n                savedNames.push(this.hints[this.hints.length - 1 - i].name)\n            }\n\n            // Actually shift the names.\n            for (let i = this.hints.length - 1; i >= distance; --i) {\n                this.hints[i].setName(this.hints[i - distance].name)\n            }\n\n            // Set the names that should go at the beginning\n            for (let i = savedNames.length - 1; i >= 0; --i) {\n                this.hints[i].setName(savedNames[i])\n            }\n        } else if (distance < 0) {\n            // Then, shift the hint names \"backward\". This requires saving the\n            // first N hints (the ones that will end up at the end of the hint\n            // array).\n            const savedNames = []\n            for (let i = 0; i < Math.abs(distance); ++i) {\n                savedNames.push(this.hints[i].name)\n            }\n\n            // Actually shift the names.\n            for (let i = 0; i < this.hints.length + distance; ++i) {\n                this.hints[i].setName(this.hints[i - distance].name)\n            }\n\n            // Set the names that should go at the end\n            for (let i = 0; i < savedNames.length; ++i) {\n                this.hints[this.hints.length + distance + i].setName(\n                    savedNames[i],\n                )\n            }\n        }\n\n        // All done!\n    }\n}\n\n/** @hidden*/\nlet modeState: HintState\n\ninterface Hintables {\n    elements: Element[]\n    hintclasses?: string[]\n}\n\n/**\n  A convenient javascript interface to hint on specified html elements.\n  The return value is a promise resolving to the selected element,\n  or an AsyncIterator resolving to the selected elements in rapid mode.\n\n  Example usage:\n\n  `tri.hinting_content.hintElements(...).then(element => {tri.dom.simulateClick(element))`\n\n  `for (await e of tri.hinting_content.hintElements(..., {rapid: true}){tri.dom.simulateClick(e)})`\n\n  @param elements a iterator yield html elements\n  @param option a option object. The `option.rapid` specify whether hint in rapid mode. Default value is false. The `option.callback` is executed when a hint is selected if specified. The default callback is a no-op.\n\n  @returns promise resolve to the selected element, or a async iterator in rapid mode.\n */\nexport function hintElements(elements: Element[], option = {}) {\n    const hintable = toHintablesArray(Array.from(elements))\n    const rapid = option[\"rapid\"] ?? false\n    const callback = typeof option[\"callback\"] === \"function\" ?\n        option[\"callback\"] : x => x\n    if (!rapid) {\n        return new Promise((resolve, reject) => {\n            hintPage(hintable, x => x, resolve, reject, rapid)\n        }).then(x => {\n            callback(x)\n            return x\n        })\n    } else {\n        const endDefer = deferCreate()\n        const endPromise = endDefer.promise.catch(error => error)\n        let onSelect = deferCreate()\n        const key = Symbol(\"select-result\")\n        const hintCallback = element => {\n            callback(element)\n            onSelect.resolve({[key]: element})\n            onSelect = deferCreate()\n        }\n        const wrap = async function* () {\n            while (true) {\n                const first = await Promise.race([onSelect.promise, endPromise])\n                if (first && typeof first === \"object\" && key in first) {\n                    yield first[key]\n                } else return await endPromise\n            }\n        }\n        const result = wrap()\n        hintPage(hintable, hintCallback,\n            endDefer.resolve, endDefer.reject, rapid)\n        return result\n    }\n    function deferCreate() {\n        const defer = {\n            resolve: null,\n            reject: null,\n            promise: null,\n        }\n        defer.promise = new Promise((ok, no) => {\n            defer.resolve = ok\n            defer.reject = no\n        })\n        return defer\n    }\n}\n\n/** For each hintable element, add a hint\n * @hidden\n * */\nexport function hintPage(\n    hintableElements: Hintables[],\n    onSelect: HintSelectedCallback,\n    resolve: (x?) => void = () => {}, // eslint-disable-line @typescript-eslint/no-empty-function\n    reject: (x?) => void = () => {}, // eslint-disable-line @typescript-eslint/no-empty-function\n    rapid = false,\n) {\n    reset() // Tidy up in case any previous hinting wasn't exited cleanly\n    const buildHints: HintBuilder = defaultHintBuilder()\n    const filterHints: HintFilter = defaultHintFilter()\n    contentState.mode = \"hint\"\n    modeState = new HintState(filterHints, resolve, reject, rapid)\n\n    if (!rapid) {\n        for (const hints of hintableElements) {\n            buildHints(hints, hint => {\n                modeState.cleanUpHints()\n                hint.result = onSelect(hint.target)\n                modeState.selectedHints.push(hint)\n                reset()\n            })\n        }\n    } else {\n        for (const hints of hintableElements) {\n            buildHints(hints, hint => {\n                hint.result = onSelect(hint.target)\n                modeState.selectedHints.push(hint)\n                if (\n                    modeState.selectedHints.length > 1 &&\n                    config.get(\"hintshift\") === \"true\"\n                ) {\n                    modeState.shiftHints()\n                }\n            })\n        }\n    }\n\n    if (!modeState.hints.length) {\n        // No more hints to display\n        reset()\n        return\n    }\n\n    // There are multiple hints. Normally we would just show all of them, but\n    // we try to be clever here. Automatically select the first one if all the\n    // conditions are true:\n    //  - it is <a>\n    //  - its href is not empty (does not point to the page itself)\n    //  - its href is not javascript\n    //  - all the remaining hints\n    //      - are either _not_ <a>\n    //      - or their href points to the sampe place as first one\n\n    const firstTarget = modeState.hints[0].target\n\n    const firstTargetIsSelectable = (): boolean =>\n        firstTarget instanceof HTMLAnchorElement &&\n        firstTarget.href !== \"\" &&\n        !firstTarget.href.startsWith(\"javascript:\")\n\n    const allTargetsAreEqual = (): boolean =>\n        undefined ===\n        modeState.hints.find(\n            h =>\n                !(h.target instanceof HTMLAnchorElement) ||\n                h.target.href !== (firstTarget as HTMLAnchorElement).href,\n        )\n\n    if (\n        (modeState.hints.length == 1 ||\n            (firstTargetIsSelectable() && allTargetsAreEqual())) &&\n        config.get(\"hintautoselect\") === \"true\"\n    ) {\n        // There is just a single link or all the links point to the same\n        // place. Select it unless `hintautoselect` is set to `false`.\n        modeState.cleanUpHints()\n        modeState.hints[0].select()\n        reset()\n        return\n    }\n\n    // Just focus first link\n    modeState.focusedHint = modeState.hints[0]\n    modeState.focusedHint.focused = true\n    document.documentElement.appendChild(modeState.hintHost)\n    modeState.deOverlap()\n}\n\n/** @hidden */\nfunction defaultHintBuilder() {\n    switch (config.get(\"hintfiltermode\")) {\n        case \"simple\":\n            return buildHintsSimple\n        case \"vimperator\":\n            return buildHintsVimperator\n        case \"vimperator-reflow\":\n            return buildHintsVimperator\n    }\n}\n\n/** @hidden */\nfunction defaultHintFilter() {\n    switch (config.get(\"hintfiltermode\")) {\n        case \"simple\":\n            return filterHintsSimple\n        case \"vimperator\":\n            return filterHintsVimperator\n        case \"vimperator-reflow\":\n            return fstr => filterHintsVimperator(fstr, true)\n    }\n}\n\n/** @hidden */\nfunction defaultHintChars() {\n    if (config.get(\"hintnames\") === \"numeric\") {\n        return \"1234567890\"\n    }\n    return config.get(\"hintchars\")\n}\n\n/** An infinite stream of hints\n\n@hidden\n    Earlier hints prefix later hints\n*/\nfunction* hintnames_simple(\n    hintchars = defaultHintChars(),\n): IterableIterator<string> {\n    for (let taglen = 1; true; taglen++) {\n        yield* map(permutationsWithReplacement(hintchars, taglen), e =>\n            e.join(\"\"),\n        )\n    }\n}\n\n/** Shorter hints\n\n    Hints that are prefixes of other hints are a bit annoying because you have to select them with Enter or Space.\n\n    This function removes hints that prefix other hints by observing that:\n        let h = hintchars.length\n        if n < h ** 2\n        then n / h = number of single character hintnames that would prefix later hints\n\n    So it removes them. This function is not yet clever enough to realise that if n > h ** 2 it should remove\n        h + (n - h**2 - h) / h ** 2\n    and so on, but we hardly ever see that many hints, so whatever.\n\n    @hidden\n*/\nfunction* hintnames_short(\n    n: number,\n    hintchars = defaultHintChars(),\n): IterableIterator<string> {\n    const source = hintnames_simple(hintchars)\n    const num2skip = Math.floor(n / hintchars.length)\n    yield* islice(source, num2skip, n + num2skip)\n}\n\n/** Uniform length hintnames\n * @hidden\n * */\nfunction* hintnames_uniform(\n    n: number,\n    hintchars = defaultHintChars(),\n): IterableIterator<string> {\n    if (n <= hintchars.length) yield* islice(hintchars[Symbol.iterator](), n)\n    else {\n        // else calculate required length of each tag\n        const taglen = Math.ceil(log(n, hintchars.length))\n        // And return first n permutations\n        yield* map(\n            islice(permutationsWithReplacement(hintchars, taglen), n),\n            perm => perm.join(\"\"),\n        )\n    }\n}\n/** @hidden */\nfunction* hintnames_numeric(n: number): IterableIterator<string> {\n    for (let i = 1; i <= n; i++) {\n        yield String(i)\n    }\n}\n\n/** @hidden */\nfunction* hintnames(\n    n: number,\n    hintchars = defaultHintChars(),\n): IterableIterator<string> {\n    switch (config.get(\"hintnames\")) {\n        case \"numeric\":\n            yield* hintnames_numeric(n)\n        case \"uniform\":\n            yield* hintnames_uniform(n, hintchars)\n        default:\n            yield* hintnames_short(n, hintchars)\n    }\n}\n\n/** @hidden */\ntype HintSelectedCallback = (x: any) => any\n\n/** Place a flag by each hintworthy element\n@hidden */\nclass Hint {\n    public readonly flag = document.createElement(\"span\")\n    public readonly rect: ClientRect = null\n    public result: any = null\n\n    public width = 0\n    public height = 0\n    private _x = 0\n    private _y = 0\n\n    constructor(\n        public readonly target: Element,\n        public name: string,\n        public readonly filterData: any,\n        private readonly onSelect: HintSelectedCallback,\n        classes?: string[],\n    ) {\n        // We need to compute the offset for elements that are in an iframe\n        let offsetTop = 0\n        let offsetLeft = 0\n        const pad = 4\n        if (target.ownerDocument !== document) {\n            const iframe = DOM.getAllDocumentFrames().find(\n                frame => frame.contentDocument === target.ownerDocument,\n            )\n            const rect = iframe.getClientRects()[0]\n            offsetTop += rect.top\n            offsetLeft += rect.left\n        }\n\n        // Find the first visible client rect of the target\n        const clientRects = target.getClientRects()\n        let rect = clientRects[0]\n        for (const recti of clientRects) {\n            if (recti.bottom + offsetTop > 0 && recti.right + offsetLeft > 0) {\n                rect = recti\n                break\n            }\n        }\n\n        this.rect = {\n            top: rect.top + offsetTop,\n            bottom: rect.bottom + offsetTop,\n            left: rect.left + offsetLeft,\n            right: rect.right + offsetLeft,\n            width: rect.width,\n            height: rect.height,\n        }\n\n        this.flag.textContent = name\n        this.flag.className = \"TridactylHint\"\n        if (config.get(\"hintuppercase\") === \"true\") {\n            this.flag.classList.add(\"TridactylHintUppercase\")\n        }\n        this.flag.classList.add(\"TridactylHint\" + target.tagName)\n        classes?.forEach(f => this.flag.classList.add(f))\n\n        const top = rect.top > 0 ? this.rect.top : offsetTop + pad\n        const left = rect.left > 0 ? this.rect.left : offsetLeft + pad\n        this.x = window.scrollX + left\n        this.y = window.scrollY + top\n\n        modeState.hintHost.appendChild(this.flag)\n        this.hidden = false\n    }\n\n    public static isHintable(target: Element): boolean {\n        return target.getClientRects().length > 0\n    }\n\n    setName(n: string) {\n        this.name = n\n        this.flag.textContent = this.name\n    }\n\n    // These styles would be better with pseudo selectors. Can we do custom ones?\n    // If not, do a state machine.\n    set hidden(hide: boolean) {\n        this.flag.hidden = hide\n        if (hide) {\n            this.focused = false\n            this.target.classList.remove(\"TridactylHintElem\")\n        } else {\n            this.target.classList.add(\"TridactylHintElem\")\n        }\n    }\n\n    set focused(focus: boolean) {\n        if (focus) {\n            this.target.classList.add(\"TridactylHintActive\")\n            this.target.classList.remove(\"TridactylHintElem\")\n        } else {\n            this.target.classList.add(\"TridactylHintElem\")\n            this.target.classList.remove(\"TridactylHintActive\")\n        }\n    }\n\n    select() {\n        this.onSelect(this)\n    }\n\n    set x(X: number) {\n        this._x = X\n        this.updatePosition()\n    }\n\n    get x() {\n        return this._x\n    }\n\n    set y(Y: number) {\n        this._y = Y\n        this.updatePosition()\n    }\n\n    get y() {\n        return this._y\n    }\n\n    public overlapsWith(h: Hint) {\n        if (h.width == 0) h.width = h.flag.getClientRects()[0].width\n        if (h.height == 0) h.height = h.flag.getClientRects()[0].height\n        if (this.width == 0) this.width = this.flag.getClientRects()[0].width\n        if (this.height == 0) this.height = this.flag.getClientRects()[0].height\n        return (\n            this.x < h.x + h.width &&\n            this.x + this.width > h.x &&\n            this.y < h.y + h.height &&\n            this.y + this.height > h.y\n        )\n    }\n\n    private updatePosition() {\n        this.flag.style.cssText = `\n        top: ${this._y}px !important;\n        left: ${this._x}px !important;\n        `\n    }\n}\n\n/** @hidden */\ntype HintBuilder = (\n    hintables: Hintables,\n    onSelect: HintSelectedCallback,\n) => void\n\n/** @hidden */\nfunction buildHintsSimple(\n    hintables: Hintables,\n    onSelect: HintSelectedCallback,\n) {\n    const els = hintables.elements.filter(el => Hint.isHintable(el))\n    const names = Array.from(\n        hintnames(els.length + modeState.hints.length),\n    ).slice(modeState.hints.length)\n    for (const [el, name] of izip(els, names)) {\n        logger.debug({ el, name })\n        modeState.hintchars += name\n        modeState.hints.push(\n            new Hint(el, name, null, onSelect, hintables.hintclasses),\n        )\n    }\n}\n\n/** Helper for vimperator hinting.\n\n    Allow customize vimperator hinting filter by overriding functions of the\n    helper object.\n */\nexport const vimpHelper = {\n    filterableTextFilter: null,\n    sanitiseHintText: function sanitiseHintText(str) {\n        // Clean up hint text\n        // strip out hintchars from hint text\n        if (vimpHelper.filterableTextFilter === null) {\n            // escape the hintchars string so that strange things don't happen\n            // when special characters are used as hintchars (for example, ']')\n            const escapedHintChars = defaultHintChars().replace(\n                /^\\^|[-\\\\\\]]/g,\n                \"\\\\$&\",\n            )\n            const filterableTextFilter = new RegExp(\n                \"[\" + escapedHintChars + \"]\",\n                \"g\",\n            )\n            vimpHelper.filterableTextFilter = filterableTextFilter\n        }\n        return str.replace(vimpHelper.filterableTextFilter, \"\")\n    },\n\n    matchHint: function matchHint(str, key) {\n        // Match a hint key to hint text\n        // match every part of key splited by space.\n        return key.split(/\\s+/).every(keyi => str.includes(keyi))\n    },\n}\n\n/** @hidden */\nfunction buildHintsVimperator(\n    hintables: Hintables,\n    onSelect: HintSelectedCallback,\n) {\n    const els = hintables.elements.filter(el => Hint.isHintable(el))\n    const names = Array.from(\n        hintnames(els.length + modeState.hints.length),\n    ).slice(modeState.hints.length)\n    for (const [el, name] of izip(els, names)) {\n        let ft = elementFilterableText(el)\n        ft = vimpHelper.sanitiseHintText(ft)\n        logger.debug({ el, name, ft })\n        modeState.hintchars += name + ft\n        modeState.hints.push(\n            new Hint(el, name, ft, onSelect, hintables.hintclasses),\n        )\n    }\n}\n\n/** @hidden */\nfunction elementFilterableText(el: Element): string {\n    const nodename = el.nodeName.toLowerCase()\n    let text: string\n    if (nodename === \"input\") {\n        text = (el as HTMLInputElement).value\n    } else if (0 < el.textContent.length) {\n        text = el.textContent\n    } else if (el.hasAttribute(\"title\")) {\n        text = el.getAttribute(\"title\")\n    } else {\n        text = el.innerHTML\n    }\n    // Truncate very long text values\n    return text.slice(0, 2048).toLowerCase() || \"\"\n}\n\n/** @hidden */\ntype HintFilter = (s: string) => void\n\n/** Show only hints prefixed by fstr. Focus first match\n@hidden */\nfunction filterHintsSimple(fstr) {\n    const active: Hint[] = []\n    let foundMatch\n\n    // Fix bug where sometimes a bigger number would be selected (e.g. 10 rather than 1)\n    // such that smaller numbers couldn't be selected\n    const hints =\n        config.get(\"hintnames\") == \"numeric\"\n            ? R.sortBy(R.pipe(R.prop(\"name\"), parseInt), modeState.hints)\n            : modeState.hints\n\n    for (const h of hints) {\n        if (!h.name.startsWith(fstr)) h.hidden = true\n        else {\n            if (!foundMatch) {\n                h.focused = true\n                modeState.focusedHint = h\n                foundMatch = true\n            }\n            h.hidden = false\n            active.push(h)\n        }\n    }\n    if (active.length === 1 && config.get(\"hintautoselect\") === \"true\") {\n        selectFocusedHint()\n    }\n}\n\n/** Partition the filter string into hintchars and content filter strings.\n    Apply each part in sequence, reducing the list of active hints.\n\n    Update display after all filtering, adjusting labels if appropriate.\n\n    Consider: This is a poster child for separating data and display. If they\n    weren't so tied here we could do a neat dynamic programming thing and just\n    throw the data at a reactalike.\n\n    @hidden\n*/\nfunction filterHintsVimperator(query: string, reflow = false) {\n    /** Partition a query into a tagged array of substrings */\n    function partitionquery(\n        query,\n    ): Array<{ str: string; isHintChar: boolean }> {\n        const peek = a => a[a.length - 1]\n        const hintChars = defaultHintChars()\n\n        // For each char, either add it to the existing run if there is one and\n        // it's a matching type or start a new run\n        const runs = []\n        for (const char of query) {\n            const isHintChar = hintChars.includes(char)\n            if (!peek(runs) || peek(runs).isHintChar !== isHintChar) {\n                runs.push({ str: char, isHintChar })\n            } else {\n                peek(runs).str += char\n            }\n        }\n        return runs\n    }\n\n    function rename(hints) {\n        const names = hintnames(hints.length)\n        for (const [hint, name] of izip(hints, names)) {\n            hint.name = name\n        }\n    }\n\n    // Start with all hints\n    let active = modeState.hints\n\n    // Filter down (renaming as required)\n    for (const run of partitionquery(query)) {\n        if (run.isHintChar) {\n            // Filter by label\n            active = active.filter(hint => hint.name.startsWith(run.str))\n        } else {\n            // By text\n            active = active.filter(hint =>\n                vimpHelper.matchHint(hint.filterData, run.str),\n            )\n\n            if (reflow) rename(active)\n        }\n    }\n\n    // Update display\n    // Unfocus the focused hint - must be before hiding the hint\n    if (modeState.focusedHint) {\n        modeState.focusedHint.focused = false\n        modeState.focusedHint = undefined\n    }\n\n    // Set hidden state of the hints\n    for (const hint of modeState.hints) {\n        if (active.includes(hint)) {\n            hint.hidden = false\n            hint.flag.textContent = hint.name\n        } else {\n            hint.hidden = true\n        }\n    }\n\n    // Focus first hint\n    if (active.length) {\n        modeState.focusedHint = active[0]\n        modeState.focusedHint.focused = true\n    }\n\n    // Select focused hint if it's the only match unless turned off in config\n    if (active.length === 1 && config.get(\"hintautoselect\") === \"true\") {\n        selectFocusedHint(true)\n    }\n}\n\n/**\n * Remove all hints, reset STATE.\n **/\nfunction reset() {\n    if (modeState) {\n        modeState.cleanUpHints()\n        modeState.resolveHinting()\n    }\n    modeState = undefined\n    contentState.mode = \"normal\"\n}\n\nfunction popKey() {\n    modeState.filter = modeState.filter.slice(0, -1)\n    modeState.filterFunc(modeState.filter)\n}\n\n/** Add key to filtstr and filter */\nfunction pushKey(key) {\n    // The new key can be used to filter the hints\n    const originalFilter = modeState.filter\n    modeState.filter += key\n    modeState.filterFunc(modeState.filter)\n\n    if (modeState && !modeState.activeHints.length) {\n        // There are no more active hints, undo the change to the filter\n        modeState.filter = originalFilter\n        modeState.filterFunc(modeState.filter)\n    }\n}\n\n/** Covert to char and pushKey(). This is needed because ex commands ignore whitespace. */\nfunction pushKeyCodePoint(codepoint) {\n    // Codepoints can be hex or base-10\n    // We know we're not running in old browsers so this is safe\n    // eslint-disable-next-line radix\n    const key = String.fromCodePoint(parseInt(codepoint, 0))\n    return pushKey(key)\n}\n\n/** Just run pushKey(\" \"). This is needed because ex commands ignore whitespace. */\nfunction pushSpace() {\n    return pushKey(\" \")\n}\n\n/** Array of hintable elements in viewport\n\n    Elements are hintable if\n        1. they can be meaningfully selected, clicked, etc\n        2. they're visible (unless includeInvisible is true)\n            1. Within viewport\n            2. Not hidden by another element\n\n    @hidden\n*/\nexport function hintables(\n    selectors = DOM.HINTTAGS_selectors,\n    withjs = false,\n    includeInvisible = false,\n) {\n    const visibleFilter = DOM.isVisibleFilter(includeInvisible)\n    const elems = changeHintablesToLargestChild(\n        DOM.getElemsBySelector(selectors, []).filter(visibleFilter),\n    )\n    const hintables: Hintables[] = [{ elements: elems }]\n    if (withjs) {\n        hintables.push({\n            elements: changeHintablesToLargestChild(\n                Array.from(DOM.hintworthy_js_elems).filter(\n                    el => visibleFilter(el) && !elems.includes(el),\n                ),\n            ),\n            hintclasses: [\"TridactylJSHint\"],\n        })\n    }\n    return hintables\n}\n\n/**\n * Changes html elements in an array to their largest child,\n * if it is larger than the element in the array.\n * @hidden\n */\nfunction changeHintablesToLargestChild(elements: Element[]): Element[] {\n    elements.forEach((element, index) => {\n        if (element.childNodes.length === 0) return\n        let largestChild: Element\n        // Find largest child.\n        element.childNodes.forEach(c => {\n            const currentChild = c as Element\n            if (\n                !largestChild ||\n                isElementLargerThan(currentChild, largestChild)\n            ) {\n                largestChild = currentChild\n            }\n        })\n        // Change element if child is larger\n        if (isElementLargerThan(largestChild, element)) {\n            elements[index] = largestChild\n        }\n    })\n    return elements\n}\n\n/**\n * Returns true if e1 is larger than e2, otherwise false.\n * @hidden\n */\nfunction isElementLargerThan(e1: Element, e2: Element): boolean {\n    if (typeof e1.getBoundingClientRect !== \"function\") {\n        return false\n    } else if (typeof e2.getBoundingClientRect !== \"function\") {\n        return true\n    }\n    const e1BR = e1.getBoundingClientRect()\n    const e2BR = e2.getBoundingClientRect()\n    return e1BR.height > e2BR.height && e1BR.width > e2BR.width\n}\n\n/** Returns elements that point to a saveable resource\n * @hidden\n */\nexport function saveableElements(includeInvisible = false) {\n    return DOM.getElemsBySelector(DOM.HINTTAGS_saveable, [\n        DOM.isVisibleFilter(includeInvisible),\n    ])\n}\n\n/** Get array of images in the viewport, or all images if includeInvisible is true\n * @hidden\n */\nexport function hintableImages(includeInvisible = false) {\n    return DOM.getElemsBySelector(DOM.HINTTAGS_img_selectors, [\n        DOM.isVisibleFilter(includeInvisible),\n    ])\n}\n\n/** Get array of selectable elements that display a text matching either plain\n * text or RegExp rule\n * @hidden\n */\nexport function hintByText(match: string | RegExp) {\n    return DOM.getElemsBySelector(DOM.HINTTAGS_filter_by_text_selectors, [\n        DOM.isVisible,\n        hintByTextFilter(match),\n    ])\n}\n\n/** Return a predicate that checks whether an element matches a given text hinting filter\n * @hidden\n */\nexport function hintByTextFilter(match: string | RegExp): HintSelectedCallback {\n    return hint => {\n        let text\n        if (hint instanceof HTMLInputElement) {\n            text = hint.value\n        } else {\n            text = hint.textContent\n        }\n        if (match instanceof RegExp) {\n            return text.match(match) !== null\n        } else {\n            return text.toUpperCase().includes(match.toUpperCase())\n        }\n    }\n}\n\n/** Array of items that can be killed with hint kill\n@hidden\n */\nexport function killables(includeInvisible = false) {\n    return DOM.getElemsBySelector(DOM.HINTTAGS_killable_selectors, [\n        DOM.isVisibleFilter(includeInvisible),\n    ])\n}\n\n// Multiple dispatch? who needs it\n/** Returns an array of hintable objects from an array of elements\n * @hidden\n * */\nexport function toHintablesArray(\n    hintablesOrElements: Element[] | Hintables[],\n): Hintables[] {\n    if (!hintablesOrElements.length) return []\n    if (\"className\" in hintablesOrElements[0])\n        return [{ elements: hintablesOrElements } as Hintables]\n    if (\"elements\" in hintablesOrElements[0])\n        return hintablesOrElements as Hintables[]\n    return []\n}\n\nfunction selectFocusedHint(delay = false) {\n    logger.debug(\"Selecting hint.\", contentState.mode)\n    const focused = modeState.focusedHint\n    const selectFocusedHintInternal = () => {\n        modeState.filter = \"\"\n        modeState.hints.forEach(h => (h.hidden = false))\n        focused.select()\n    }\n    if (delay) setTimeout(selectFocusedHintInternal, config.get(\"hintdelay\"))\n    else selectFocusedHintInternal()\n}\n\nfunction focusNextHint() {\n    logger.debug(\"Focusing next hint\")\n    modeState.changeFocusedHintIndex(1)\n}\n\nfunction focusPreviousHint() {\n    logger.debug(\"Focusing previous hint\")\n    modeState.changeFocusedHintIndex(-1)\n}\n\nfunction focusTopHint() {\n    logger.debug(\"Focusing top hint\")\n    modeState.changeFocusedHintTop()\n}\n\nfunction focusBottomHint() {\n    logger.debug(\"Focusing bottom hint\")\n    modeState.changeFocusedHintBottom()\n}\n\nfunction focusLeftHint() {\n    logger.debug(\"Focusing left hint\")\n    modeState.changeFocusedHintLeft()\n}\n\nfunction focusRightHint() {\n    logger.debug(\"Focusing right hint\")\n    modeState.changeFocusedHintRight()\n}\n\n/** @hidden */\nexport function parser(keys: keyseq.MinimalKey[]) {\n    const parsed = keyseq.parse(\n        keys,\n        keyseq.mapstrMapToKeyMap(\n            new Map(\n                (Object.entries(config.get(\"hintmaps\")) as any).filter(\n                    ([_key, value]) => value != \"\",\n                ),\n            ),\n        ),\n    )\n    if (parsed.isMatch === true) {\n        return parsed\n    }\n    // Ignore modifiers since they can't match text\n    const simplekeys = keys.filter(key => !keyseq.hasModifiers(key))\n    let exstr\n    if (simplekeys.length > 1) {\n        exstr = simplekeys.reduce(\n            (acc, key) => `hint.pushKey ${key.key};`,\n            \"composite \",\n        )\n    } else if (simplekeys.length === 1) {\n        exstr = `hint.pushKeyCodePoint ${simplekeys[0].key.codePointAt(0)}`\n    } else {\n        return { keys: [], isMatch: false }\n    }\n    return { exstr, value: exstr, isMatch: true }\n}\n\n/** @hidden*/\nexport function getHintCommands() {\n    return {\n        reset,\n        focusPreviousHint,\n        focusNextHint,\n        focusTopHint,\n        focusBottomHint,\n        focusLeftHint,\n        focusRightHint,\n        selectFocusedHint,\n        pushKey,\n        pushSpace,\n        pushKeyCodePoint,\n        popKey,\n    }\n}\n", "/**\n * Helper types for :hint\n */\n\nimport Logger from \"@src/lib/logging\"\nimport * as DOM from \"@src/lib/dom\"\nimport * as hinting from \"@src/content/hinting\"\n\n/**\n * Open mode: how to act on the selected hintable element\n */\nexport enum OpenMode {\n    Default = \"\",\n    Tab = \"-t\",\n    BackgroundTab = \"-b\",\n    Window = \"-w\",\n    WindowPrivate = \"-wp\",\n    Highlight = \"-h\",\n    Images = \"-i\",\n    ImagesTab = \"-I\",\n    Kill = \"-k\",\n    KillTridactyl = \"-K\",\n    Scroll = \"-z\",\n    SaveResource = \"-s\",\n    SaveImage = \"-S\",\n    SaveAsResource = \"-a\",\n    SaveAsImage = \"-A\",\n    ScrollFocus = \"-;\",\n    TTSRead = \"-r\",\n    YankAlt = \"-P\",\n    YankAnchor = \"-#\",\n    YankLink = \"-y\",\n    YankText = \"-p\",\n}\n\n/**\n * Hinting parameters interface\n */\nexport interface HintOptions {\n    rapid: boolean\n    textFilter: null | string | RegExp\n    openMode: OpenMode\n    includeInvisible: boolean\n    immediate: boolean\n    jshints: boolean\n    callback: null | string\n    excmd: null | string\n    pipeAttribute: null | string\n    selectors: string[]\n    selectorsExclude: string[]\n    warnings: string[]\n}\n\n/**\n * Hinting parameters class for parsing\n */\nexport class HintConfig implements HintOptions {\n    public rapid = false\n    public textFilter = null\n    public openMode = OpenMode.Default\n    public includeInvisible = false\n    public immediate = false\n    public jshints = true\n    public callback = null\n    public excmd = null\n    public pipeAttribute = null\n    public selectors = []\n    public selectorsExclude = []\n    public warnings = []\n\n    public static parse(args: string[]): HintConfig {\n        // Argument parser state\n        enum State {\n            Initial,\n            ExpectF,\n            ExpectFR,\n            ExpectCallback,\n            ExpectExcmd,\n            ExpectSelector,\n            ExpectPipeSelector,\n            ExpectPipeAttribute,\n            ExpectSelectorCallback,\n            ExpectSelectorExclude,\n        }\n\n        const result = new HintConfig()\n        const multiLetterFlags = [\"fr\", \"wp\", \"br\", \"pipe\"]\n\n        // Parser state\n        let state = State.Initial\n\n        outer: for (let argI = 0; argI < args.length; ++argI) {\n            const arg = args[argI]\n\n            switch (state) {\n                case State.Initial:\n                    if (arg.length >= 2 && arg[0] === \"-\" && arg[1] !== \"-\") {\n                        // Parse short arguments, i.e. - followed by (mostly) single-letter arguments,\n                        // and some two-letter arguments.\n\n                        for (let i = 1; i < arg.length; ++i) {\n                            let flag = arg[i]\n\n                            // Fix two-letter flags using lookahead\n                            if (i < arg.length - 1) {\n                                const multiLetterFlag = multiLetterFlags.find(\n                                    tlf =>\n                                        arg.substring(i, i + tlf.length) ===\n                                        tlf,\n                                )\n\n                                if (multiLetterFlag !== undefined) {\n                                    flag = multiLetterFlag\n                                    i += multiLetterFlag.length - 1\n                                }\n                            }\n\n                            // Process flag\n                            let newOpenMode: undefined | OpenMode\n                            let newState: undefined | State\n\n                            // eslint-disable-next-line sonarjs/max-switch-cases, sonarjs/no-nested-switch\n                            switch (flag) {\n                                case \"br\":\n                                    // Equivalent to -qb, but deprecated\n                                    result.rapid = true\n                                    newOpenMode = OpenMode.BackgroundTab\n                                    break\n                                case \"q\":\n                                    result.rapid = true\n                                    break\n                                case \"f\":\n                                    newState = State.ExpectF\n                                    break\n                                case \"fr\":\n                                    newState = State.ExpectFR\n                                    break\n                                case \"V\":\n                                    result.includeInvisible = true\n                                    break\n                                case \"J\":\n                                    result.jshints = false\n                                    break\n                                case \"!\":\n                                    result.immediate = true\n                                    break\n                                case \"F\":\n                                    newState = State.ExpectCallback\n                                    break\n                                case \"W\":\n                                    newState = State.ExpectExcmd\n                                    break\n                                case \"c\":\n                                    newState = State.ExpectSelector\n                                    break\n                                case \"x\":\n                                    newState = State.ExpectSelectorExclude\n                                    break\n                                case \"pipe\":\n                                    newState = State.ExpectPipeSelector\n                                    break\n                                case \"t\":\n                                    newOpenMode = OpenMode.Tab\n                                    break\n                                case \"b\":\n                                    newOpenMode = OpenMode.BackgroundTab\n                                    break\n                                case \"w\":\n                                    newOpenMode = OpenMode.Window\n                                    break\n                                case \"wp\":\n                                    newOpenMode = OpenMode.WindowPrivate\n                                    break\n                                case \"h\":\n                                    newOpenMode = OpenMode.Highlight\n                                    break\n                                case \"i\":\n                                    newOpenMode = OpenMode.Images\n                                    break\n                                case \"I\":\n                                    newOpenMode = OpenMode.ImagesTab\n                                    break\n                                case \"k\":\n                                    newOpenMode = OpenMode.Kill\n                                    break\n                                case \"K\":\n                                    newOpenMode = OpenMode.KillTridactyl\n                                    break\n                                case \"z\":\n                                    newOpenMode = OpenMode.Scroll\n                                    break\n                                case \"s\":\n                                    newOpenMode = OpenMode.SaveResource\n                                    break\n                                case \"S\":\n                                    newOpenMode = OpenMode.SaveImage\n                                    break\n                                case \"a\":\n                                    newOpenMode = OpenMode.SaveAsResource\n                                    break\n                                case \"A\":\n                                    newOpenMode = OpenMode.SaveAsImage\n                                    break\n                                case \";\":\n                                    newOpenMode = OpenMode.ScrollFocus\n                                    break\n                                case \"r\":\n                                    newOpenMode = OpenMode.TTSRead\n                                    break\n                                case \"P\":\n                                    newOpenMode = OpenMode.YankAlt\n                                    break\n                                case \"#\":\n                                    newOpenMode = OpenMode.YankAnchor\n                                    break\n                                case \"y\":\n                                    newOpenMode = OpenMode.YankLink\n                                    break\n                                case \"p\":\n                                    newOpenMode = OpenMode.YankText\n                                    break\n                                default:\n                                    result.warnings.push(\n                                        `unknown flag -${flag}`,\n                                    )\n                                    break\n                            }\n\n                            // Check openMode changes\n                            if (newOpenMode !== undefined) {\n                                if (result.openMode !== OpenMode.Default) {\n                                    // Notify that multiple open modes doesn't make sense\n                                    result.warnings.push(\n                                        \"multiple open mode flags specified, overriding the previous ones\",\n                                    )\n                                }\n\n                                result.openMode = newOpenMode\n                            }\n\n                            // Check state changes\n                            if (newState !== undefined) {\n                                // Some state transitions are dubious, specifically all the ones that go from (argument\n                                // expecting value) to (other argument expecting value), except for -cF\n                                if (\n                                    (state === State.ExpectSelector &&\n                                        newState === State.ExpectCallback) ||\n                                    (state === State.ExpectCallback &&\n                                        newState === State.ExpectSelector)\n                                ) {\n                                    newState = State.ExpectSelectorCallback\n                                }\n\n                                if (\n                                    state !== State.Initial &&\n                                    newState !== State.ExpectSelectorCallback\n                                ) {\n                                    result.warnings.push(\n                                        `multiple flags taking a value were specified, only the last one (-${flag}) will be processed`,\n                                    )\n                                }\n\n                                state = newState\n                            }\n                        }\n                    } else {\n                        // Not something that looks like an argument, add it to positionals for later processing\n                        result.selectors.push(arg)\n                    }\n                    break\n                case State.ExpectF:\n                case State.ExpectFR:\n                    // Collect arguments using escapes\n                    let filter = arg\n                    while (filter.endsWith(\"\\\\\")) {\n                        filter = filter.substring(0, filter.length - 1)\n\n                        if (argI + 1 < args.length) {\n                            filter += \" \" + args[++argI]\n                        } else {\n                            break\n                        }\n                    }\n\n                    if (state == State.ExpectF) {\n                        // -f\n                        result.textFilter = filter\n                    } else {\n                        // -fr\n                        result.textFilter = new RegExp(filter)\n                    }\n\n                    state = State.Initial\n\n                    break\n                case State.ExpectExcmd:\n                    // Collect all the remaining arguments into a excmd callback\n                    result.excmd = args.slice(argI).join(\" \")\n                    // Reset state to initial, parsing was successful\n                    state = State.Initial\n                    break outer\n                case State.ExpectCallback:\n                    // Collect all the remaining arguments into a Javascript callback\n                    result.callback = args.slice(argI).join(\" \")\n                    // Reset state to initial, parsing was successful\n                    state = State.Initial\n                    break outer\n                case State.ExpectSelector:\n                    // -c, expect a single selector\n                    result.selectors.push(arg)\n                    state = State.Initial\n                    break\n                case State.ExpectSelectorExclude:\n                    // -x, expect a single exclude selector\n                    result.selectorsExclude.push(arg)\n                    state = State.Initial\n                    break\n                case State.ExpectPipeSelector:\n                    // -pipe, first expect a selector\n                    result.selectors.push(arg)\n                    // Then, expect the attribute\n                    state = State.ExpectPipeAttribute\n                    break\n                case State.ExpectPipeAttribute:\n                    // -pipe, second argument\n                    result.pipeAttribute = arg\n                    // Keep parsing options when we're done\n                    state = State.Initial\n                    break\n                case State.ExpectSelectorCallback:\n                    // -cF, expect selector, then callback\n                    result.selectors.push(arg)\n                    state = State.ExpectCallback\n                    break\n            }\n        }\n\n        if (state !== State.Initial) {\n            // If we didn't return to the initial state, we were expecting an option value\n            result.warnings.push(\"error parsing options: expected a value\")\n        }\n\n        return result\n    }\n\n    public printWarnings(logger: Logger) {\n        for (const warning of this.warnings) {\n            logger.warning(warning)\n        }\n    }\n\n    defaultHintables() {\n        // Use the default selectors to find hintable elements\n        switch (this.openMode) {\n            case OpenMode.YankText:\n            case OpenMode.Highlight:\n            case OpenMode.Scroll:\n                // For text-based opens, look for elements with text by default\n                return hinting.toHintablesArray(\n                    DOM.elementsWithText(this.includeInvisible),\n                )\n\n            case OpenMode.YankAlt:\n                return hinting.toHintablesArray(\n                    DOM.getElemsBySelector(\"[title],[alt]\", [\n                        DOM.isVisibleFilter(this.includeInvisible),\n                    ]),\n                )\n\n            case OpenMode.YankAnchor:\n                return hinting.toHintablesArray(\n                    DOM.anchors(this.includeInvisible),\n                )\n\n            case OpenMode.Images:\n            case OpenMode.ImagesTab:\n            case OpenMode.SaveImage:\n            case OpenMode.SaveAsImage:\n                return hinting.toHintablesArray(\n                    hinting.hintableImages(this.includeInvisible),\n                )\n\n            case OpenMode.Kill:\n            case OpenMode.KillTridactyl:\n                return hinting.toHintablesArray(\n                    hinting.killables(this.includeInvisible),\n                )\n\n            case OpenMode.SaveResource:\n            case OpenMode.SaveAsResource:\n                return hinting.toHintablesArray(\n                    hinting.saveableElements(this.includeInvisible),\n                )\n\n            default:\n                return hinting.hintables(\n                    DOM.HINTTAGS_selectors,\n                    this.jshints,\n                    this.includeInvisible,\n                )\n        }\n    }\n\n    public hintables() {\n        // User selectors always override default built-ins\n        const hintables =\n            this.selectors.length > 0\n                ? hinting.hintables(\n                      this.selectors.join(\" \"),\n                      this.jshints,\n                      this.includeInvisible,\n                  )\n                : this.defaultHintables()\n\n        const textFilter = this.textFilter\n        const exclude = this.selectorsExclude.join(\" \")\n        for (const elements of hintables) {\n            // Do we have text filters to refine this?\n            if (textFilter !== null) {\n                elements.elements = elements.elements.filter(\n                    hinting.hintByTextFilter(this.textFilter),\n                )\n            }\n            if (exclude) {\n                elements.elements = elements.elements.filter(\n                    element => !element.matches(exclude)\n                )\n            }\n        }\n\n        return hintables\n    }\n\n    public get isYank() {\n        return (\n            this.openMode === OpenMode.YankAnchor ||\n            this.openMode === OpenMode.YankAlt ||\n            this.openMode === OpenMode.YankLink ||\n            this.openMode === OpenMode.YankText\n        )\n    }\n}\n", "const flagSymbol = Symbol('arg flag');\n\nclass ArgError extends Error {\n\tconstructor(msg, code) {\n\t\tsuper(msg);\n\t\tthis.name = 'ArgError';\n\t\tthis.code = code;\n\n\t\tObject.setPrototypeOf(this, ArgError.prototype);\n\t}\n}\n\nfunction arg(\n\topts,\n\t{\n\t\targv = process.argv.slice(2),\n\t\tpermissive = false,\n\t\tstopAtPositional = false,\n\t\tsplitUnknownArguments = true,\n\t\tallowNegativePositional = false,\n\t\tallowSingleHyphenLongOption = false\n\t} = {}\n) {\n\tif (!opts) {\n\t\tthrow new ArgError(\n\t\t\t'argument specification object is required',\n\t\t\t'ARG_CONFIG_NO_SPEC'\n\t\t);\n\t}\n\n\tconst result = { _: [] };\n\n\tconst aliases = {};\n\tconst handlers = {};\n\n\tfor (const key of Object.keys(opts)) {\n\t\tif (!key) {\n\t\t\tthrow new ArgError(\n\t\t\t\t'argument key cannot be an empty string',\n\t\t\t\t'ARG_CONFIG_EMPTY_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key[0] !== '-') {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must start with '-' but found: '${key}'`,\n\t\t\t\t'ARG_CONFIG_NONOPT_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (key.length === 1) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`argument key must have a name; singular '-' keys are not allowed: ${key}`,\n\t\t\t\t'ARG_CONFIG_NONAME_KEY'\n\t\t\t);\n\t\t}\n\n\t\tif (typeof opts[key] === 'string') {\n\t\t\taliases[key] = opts[key];\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet type = opts[key];\n\t\tlet isFlag = false;\n\n\t\tif (\n\t\t\tArray.isArray(type) &&\n\t\t\ttype.length === 1 &&\n\t\t\ttypeof type[0] === 'function'\n\t\t) {\n\t\t\tconst [fn] = type;\n\t\t\ttype = (value, name, prev = []) => {\n\t\t\t\tprev.push(fn(value, name, prev[prev.length - 1]));\n\t\t\t\treturn prev;\n\t\t\t};\n\t\t\tisFlag = fn === Boolean || fn[flagSymbol] === true;\n\t\t} else if (typeof type === 'function') {\n\t\t\tisFlag = type === Boolean || type[flagSymbol] === true;\n\t\t} else {\n\t\t\tthrow new ArgError(\n\t\t\t\t`type missing or not a function or valid array type: ${key}`,\n\t\t\t\t'ARG_CONFIG_VAD_TYPE'\n\t\t\t);\n\t\t}\n\n\t\tif (key[1] !== '-' && key.length > 2 && !allowSingleHyphenLongOption) {\n\t\t\tthrow new ArgError(\n\t\t\t\t`short argument keys (with a single hyphen) must have only one character: ${key}`,\n\t\t\t\t'ARG_CONFIG_SHORTOPT_TOOLONG'\n\t\t\t);\n\t\t}\n\n\t\thandlers[key] = [type, isFlag];\n\t}\n\n\tfor (let i = 0, len = argv.length; i < len; i++) {\n\t\tconst wholeArg = argv[i];\n\n\t\tif (stopAtPositional && result._.length > 0) {\n\t\t\tresult._ = result._.concat(argv.slice(i));\n\t\t\tbreak;\n\t\t}\n\n\t\tif (wholeArg === '--') {\n\t\t\tresult._ = result._.concat(argv.slice(i + 1));\n\t\t\tbreak;\n\t\t}\n\t\t\n\t\tif (allowNegativePositional && /^-[\\d.]/.test(wholeArg)) {\n\t\t\tconst n = Number(wholeArg);\n\t\t\tif (!Number.isNaN(n)) {\n\t\t\t\tresult._.push(wholeArg);\n\t\t\t\tcontinue;\n\t\t\t}\n\t\t}\n\n\t\tif (wholeArg.length > 1 && wholeArg[0] === '-') {\n\t\t\tlet separatedArguments = [];\n\t\t\tif (wholeArg[1] === '-' || wholeArg.length === 2) {\n\t\t\t\tseparatedArguments.push(wholeArg);\n\t\t\t} else if (allowSingleHyphenLongOption && wholeArg in handlers) {\n\t\t\t\tseparatedArguments.push(wholeArg);\n\t\t\t} else {\n\t\t\t\tlet allArgumentsExist = true;\n\t\t\t\tfor (const char of wholeArg.slice(1)) {\n\t\t\t\t\tconst flag = `-${char}`;\n\t\t\t\t\tif (!(flag in handlers)) {\n\t\t\t\t\t\tallArgumentsExist = false;\n\t\t\t\t\t}\n\t\t\t\t\tseparatedArguments.push(`-${char}`);\n\t\t\t\t}\n\t\t\t\tif (!splitUnknownArguments && !allArgumentsExist) {\n\t\t\t\t\tseparatedArguments = [wholeArg];\n\t\t\t\t}\n\t\t\t}\n\n\t\t\tfor (let j = 0; j < separatedArguments.length; j++) {\n\t\t\t\tconst arg = separatedArguments[j];\n\t\t\t\tconst [originalArgName, argStr] =\n\t\t\t\t\targ.length > 2 ? arg.split(/=(.*)/, 2) : [arg, undefined];\n\n\t\t\t\tlet argName = originalArgName;\n\t\t\t\twhile (argName in aliases) {\n\t\t\t\t\targName = aliases[argName];\n\t\t\t\t}\n\n\t\t\t\tif (!(argName in handlers)) {\n\t\t\t\t\tif (permissive) {\n\t\t\t\t\t\tresult._.push(arg);\n\t\t\t\t\t\tcontinue;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`unknown or unexpected option: ${originalArgName}`,\n\t\t\t\t\t\t\t'ARG_UNKNOWN_OPTION'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tconst [type, isFlag] = handlers[argName];\n\n\t\t\t\tif (!isFlag && j + 1 < separatedArguments.length) {\n\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t`option requires argument (but was followed by another short argument): ${originalArgName}`,\n\t\t\t\t\t\t'ARG_MISSING_REQUIRED_SHORTARG'\n\t\t\t\t\t);\n\t\t\t\t}\n\n\t\t\t\tif (isFlag) {\n\t\t\t\t\tresult[argName] = type(true, argName, result[argName]);\n\t\t\t\t} else if (argStr === undefined) {\n\t\t\t\t\tif (\n\t\t\t\t\t\targv.length < i + 2 ||\n\t\t\t\t\t\t(argv[i + 1].length > 1 &&\n\t\t\t\t\t\t\targv[i + 1][0] === '-' &&\n\t\t\t\t\t\t\t!(\n\t\t\t\t\t\t\t\targv[i + 1].match(/^-?\\d*(\\.(?=\\d))?\\d*$/) &&\n\t\t\t\t\t\t\t\t(type === Number ||\n\t\t\t\t\t\t\t\t\t// eslint-disable-next-line no-undef\n\t\t\t\t\t\t\t\t\t(typeof BigInt !== 'undefined' && type === BigInt))\n\t\t\t\t\t\t\t))\n\t\t\t\t\t) {\n\t\t\t\t\t\tconst extended =\n\t\t\t\t\t\t\toriginalArgName === argName ? '' : ` (alias for ${argName})`;\n\t\t\t\t\t\tthrow new ArgError(\n\t\t\t\t\t\t\t`option requires argument: ${originalArgName}${extended}`,\n\t\t\t\t\t\t\t'ARG_MISSING_REQUIRED_LONGARG'\n\t\t\t\t\t\t);\n\t\t\t\t\t}\n\n\t\t\t\t\tresult[argName] = type(argv[i + 1], argName, result[argName]);\n\t\t\t\t\t++i;\n\t\t\t\t} else {\n\t\t\t\t\tresult[argName] = type(argStr, argName, result[argName]);\n\t\t\t\t}\n\t\t\t}\n\t\t} else {\n\t\t\tresult._.push(wholeArg);\n\t\t}\n\t}\n\n\treturn result;\n}\n\narg.flag = (fn) => {\n\tfn[flagSymbol] = true;\n\treturn fn;\n};\n\n// Utility types\narg.COUNT = arg.flag((v, name, existingCount) => (existingCount || 0) + 1);\n\n// Expose error class\narg.ArgError = ArgError;\n\nmodule.exports = arg;\n", "import arg from \"tridactyl-arg\"\n\n/**\n * The arguments parsing library name\n */\nexport const name = \"tridactyl-arg\"\n\n/**\n * The imported library itself\n */\nexport const lib = arg\n\n/**\n * Small function to test if the double hyphen is the last option.\n * If a command does not expect empty arguments, and user just pass \"--\"\n * as a normal argument, this function cal tell it.\n */\nexport function isLastDoubleHyphen(argv: string[]): boolean {\n    return argv[argv.length - 1] === \"--\"\n}\n", "import { contentState } from \"@src/content/state_content\"\nimport { MinimalKey, canonicaliseMapstr } from \"@src/lib/keyseq\"\n\n/** Simple container for the gobble state. */\nclass GobbleState {\n    public numKeysOrTerminator: number | string = 0\n    public keyCombination = \"\"\n    public endCommand = \"\"\n    public args\n}\n\nlet modeState: GobbleState\n\n/** Init gobble mode. After parsing the defined number of input keys,\n * or until provided terminator key, execute `endCmd` with attached parsed input.\n * `Escape` cancels the mode and returns to normal mode. */\nexport function init(\n    numKeysOrTerminator: string,\n    endCommand: string,\n    ...args: string[]\n) {\n    contentState.mode = \"gobble\"\n    modeState = new GobbleState()\n    const number = Number(numKeysOrTerminator)\n    if (!isNaN(number)) {\n        modeState.numKeysOrTerminator = number\n    } else\n        modeState.numKeysOrTerminator = canonicaliseMapstr(numKeysOrTerminator)\n    modeState.endCommand = endCommand\n    modeState.args = args.join(\" \")\n}\n\n/** Reset state. */\nfunction reset() {\n    modeState = undefined\n    contentState.mode = \"normal\"\n}\n\n/** Receive keypress. If applicable, execute a command. */\nexport function parser(keys: MinimalKey[]) {\n    function exec() {\n        const exstr = [\n            modeState.endCommand,\n            modeState.keyCombination,\n            modeState.args,\n        ].join(\" \")\n        reset()\n        return { keys: [], exstr }\n    }\n\n    const key = keys[0].key\n\n    if (key === \"Escape\") {\n        reset()\n    } else if (\n        typeof modeState.numKeysOrTerminator === \"string\" &&\n        modeState.numKeysOrTerminator === keys[0].toMapstr()\n    ) {\n        return exec()\n    } else if (keys[0].isPrintable()) {\n        modeState.keyCombination += keys[0].toMapstr()\n        if (\n            typeof modeState.numKeysOrTerminator === \"number\" &&\n            --modeState.numKeysOrTerminator <= 0\n        )\n            return exec()\n    }\n    return { keys: [], exstr: \"\", isMatch: true }\n}\n", "/** Tridactyl helper mode */\n\nimport * as keyseq from \"@src/lib/keyseq\"\n\nexport function parser(conf, keys: keyseq.MinimalKey[]): keyseq.ParserResponse {\n    const maps = keyseq.keyMap(conf)\n    return keyseq.parse(keys, maps)\n}\n", "/** Accept n [mode] commands then execute the other command */\n\nimport { contentState } from \"@src/content/state_content\"\nimport * as keyseq from \"@src/lib/keyseq\"\nimport { mode2maps } from \"@src/lib/binding\"\n\n/** Simple container for the nmode state. */\nclass NModeState {\n    public numCommands = 1\n    public curCommands = 0\n    public mode = \"normal\"\n    public endCommand = \"\"\n}\n\nlet modeState: NModeState\n\n/** Init n [mode] mode. After parsing the defined number of commands, execute\n`endCmd`. `Escape` cancels the mode and executes `endCmd`. */\nexport function init(endCommand: string, mode = \"normal\", numCommands = 1) {\n    contentState.mode = \"nmode\"\n    modeState = new NModeState()\n    modeState.endCommand = endCommand\n    modeState.numCommands = numCommands\n    modeState.mode = mode\n}\n\n/** Receive keypress. If applicable, execute a command. */\nexport function parser(keys: keyseq.MinimalKey[]) {\n    keys = keyseq.stripOnlyModifiers(keys)\n    if (keys.length === 0) return { keys: [], isMatch: false }\n    const conf = mode2maps.get(modeState.mode) || modeState.mode + \"maps\"\n    const maps = keyseq.keyMap(conf)\n    const key = keys[0].key\n\n    if (key === \"Escape\") {\n        const exstr = modeState.endCommand\n        modeState = undefined\n        return { keys: [], exstr }\n    }\n    const response = keyseq.parse(keys, maps)\n\n    if ((response.exstr !== undefined && response.isMatch) || !response.isMatch)\n        modeState.curCommands += 1\n    if (modeState.curCommands >= modeState.numCommands) {\n        const prefix =\n            response.exstr === undefined\n                ? \"\"\n                : \"composite \" + response.exstr + \"; \"\n        response.exstr = prefix + modeState.endCommand // NB: this probably breaks any `js` binds\n        modeState = undefined\n    }\n    return response\n}\n", "import { isTextEditable } from \"@src/lib/dom\"\nimport { contentState, ModeName } from \"@src/content/state_content\"\nimport Logger from \"@src/lib/logging\"\nimport * as controller from \"@src/lib/controller\"\nimport {\n    KeyEventLike,\n    ParserResponse,\n    minimalKeyFromKeyboardEvent,\n    MinimalKey,\n} from \"@src/lib/keyseq\"\nimport { deepestShadowRoot } from \"@src/lib/dom\"\n\nimport * as hinting from \"@src/content/hinting\"\nimport * as gobblemode from \"@src/parsers/gobblemode\"\nimport * as generic from \"@src/parsers/genericmode\"\nimport * as nmode from \"@src/parsers/nmode\"\n\nconst logger = new Logger(\"controller\")\n\nfunction PrintableKey(k) {\n    let result = k.key\n    if (\n        result === \"Control\" ||\n        result === \"Meta\" ||\n        result === \"Alt\" ||\n        result === \"Shift\" ||\n        result === \"OS\"\n    ) {\n        return \"\"\n    }\n\n    if (k.altKey) {\n        result = \"A-\" + result\n    }\n    if (k.ctrlKey) {\n        result = \"C-\" + result\n    }\n    if (k.shiftKey) {\n        result = \"S-\" + result\n    }\n    if (result.length > 1) {\n        result = \"<\" + result + \">\"\n    }\n    return result\n}\n\n/**\n * KeyCanceller: keep track of keys that have been cancelled in the keydown\n * handler (which takes care of dispatching ex commands) and also cancel them\n * in keypress/keyup event handlers. This fixes\n * https://github.com/tridactyl/tridactyl/issues/234.\n *\n * If you make modifications to this class, keep in mind that keyup events\n * might not arrive in the same order as the keydown events (e.g. user presses\n * A, then B, releases B and then A).\n */\nclass KeyCanceller {\n    private keyPress: KeyboardEvent[] = []\n    private keyUp: KeyboardEvent[] = []\n\n    constructor() {\n        this.cancelKeyUp = this.cancelKeyUp.bind(this)\n        this.cancelKeyPress = this.cancelKeyPress.bind(this)\n    }\n\n    push(ke: KeyboardEvent) {\n        this.keyPress.push(ke)\n        this.keyUp.push(ke)\n    }\n\n    public cancelKeyPress = (ke: KeyboardEvent) => {\n        if (!ke.isTrusted) return\n        this.cancelKey(ke, this.keyPress)\n    }\n\n    public cancelKeyUp = (ke: KeyboardEvent) => {\n        if (!ke.isTrusted) return\n        this.cancelKey(ke, this.keyUp)\n    }\n\n    private cancelKey(ke: KeyboardEvent, kes: KeyboardEvent[]) {\n        const index = kes.findIndex(\n            ke2 =>\n                ke.altKey === ke2.altKey &&\n                ke.code === ke2.code &&\n                ke.composed === ke2.composed &&\n                ke.ctrlKey === ke2.ctrlKey &&\n                ke.metaKey === ke2.metaKey &&\n                ke.shiftKey === ke2.shiftKey &&\n                ke.target === ke2.target,\n        )\n        if (index >= 0 && ke instanceof KeyboardEvent) {\n            ke.preventDefault()\n            ke.stopImmediatePropagation()\n            kes.splice(index, 1)\n        }\n    }\n}\n\nexport const canceller = new KeyCanceller()\n\n/** Accepts keyevents, resolves them to maps, maps to exstrs, executes exstrs */\nfunction* ParserController() {\n    const parsers: {\n        [mode_name in ModeName]: (keys: MinimalKey[]) => ParserResponse\n    } = {\n        normal: keys => generic.parser(\"nmaps\", keys),\n        insert: keys => generic.parser(\"imaps\", keys),\n        input: keys => generic.parser(\"inputmaps\", keys),\n        ignore: keys => generic.parser(\"ignoremaps\", keys),\n        hint: hinting.parser,\n        gobble: gobblemode.parser,\n        visual: keys => generic.parser(\"vmaps\", keys),\n        nmode: nmode.parser,\n    }\n\n    while (true) {\n        let exstr = \"\"\n        let previousSuffix = null\n        let keyEvents: MinimalKey[] = []\n        try {\n            while (true) {\n                const keyevent: KeyEventLike = yield\n                let shadowRoot = null\n                let textEditable = false\n\n                if (keyevent instanceof KeyboardEvent) {\n                    shadowRoot = deepestShadowRoot(\n                        (keyevent.target as Element).shadowRoot,\n                    )\n\n                    textEditable =\n                        shadowRoot === null\n                            ? isTextEditable(keyevent.target as Element)\n                            : isTextEditable(shadowRoot.activeElement)\n                    // Accumulate key events. The parser will cut this\n                    // down whenever it's not a valid prefix of a known\n                    // binding, so it can't grow indefinitely unless you\n                    // have a combination of maps that permits bindings of\n                    // unbounded length.\n                    keyEvents.push(minimalKeyFromKeyboardEvent(keyevent))\n                } else {\n                    keyEvents.push(keyevent)\n                }\n\n                // _just to be safe_, cache this to make the following\n                // code more thread-safe.\n                const currentMode = contentState.mode\n\n                // This code was sort of the cause of the most serious bug in Tridactyl\n                // to date (March 2018).\n                // https://github.com/tridactyl/tridactyl/issues/311\n                if (\n                    currentMode !== \"ignore\" &&\n                    currentMode !== \"hint\" &&\n                    currentMode !== \"input\"\n                ) {\n                    if (textEditable) {\n                        if (currentMode !== \"insert\") {\n                            contentState.mode = \"insert\"\n                        }\n                    } else if (currentMode === \"insert\") {\n                        contentState.mode = \"normal\"\n                    }\n                } else if (currentMode === \"input\" && !textEditable) {\n                    contentState.mode = \"normal\"\n                }\n\n                const newMode = contentState.mode\n                if (newMode !== currentMode) {\n                    keyEvents = keyEvents.slice(-1)\n                    previousSuffix = null\n                }\n\n                const response = (\n                    parsers[contentState.mode] ||\n                    (keys => generic.parser(contentState.mode + \"maps\", keys))\n                )(keyEvents)\n                logger.debug(\n                    currentMode,\n                    contentState.mode,\n                    keyEvents,\n                    response,\n                )\n\n                if (response.isMatch && keyevent instanceof KeyboardEvent) {\n                    keyevent.preventDefault()\n                    keyevent.stopImmediatePropagation()\n                    canceller.push(keyevent)\n                }\n\n                if (response.exstr) {\n                    exstr = response.exstr\n                    break\n                } else {\n                    keyEvents = response.keys\n                    // show current keyEvents as a suffix of the contentState\n                    const suffix = keyEvents.map(x => PrintableKey(x)).join(\"\")\n                    if (previousSuffix !== suffix) {\n                        contentState.suffix = suffix\n                        previousSuffix = suffix\n                    }\n                    logger.debug(\"suffix: \", suffix)\n                }\n            }\n            contentState.suffix = \"\"\n            controller.acceptExCmd(exstr)\n        } catch (e) {\n            // Rumsfeldian errors are caught here\n            logger.error(\"An error occurred in the content controller: \", e)\n        }\n    }\n}\n\nexport const generator = ParserController() // var rather than let stops weirdness in repl.\ngenerator.next()\n\n/** Feed keys to the ParserController */\nexport function acceptKey(keyevent: KeyboardEvent) {\n    return generator.next(keyevent)\n}\n", "/*\n * Clamp a number n between two values lo, hi\n * such that if n is in [lo, hi], we return n\n * otherwise if n < lo, return lo\n * else return hi.\n */\nNumber.prototype.clamp = function (\n    this: number,\n    lo: number,\n    hi: number,\n): number {\n    return Math.max(lo, Math.min(this, hi))\n}\n\nexport {}\n", "import { getCommandlineFns } from \"@src/lib/commandline_cmds\"\nimport { messageActiveTab } from \"@src/lib/messaging\"\n\nconst functions = getCommandlineFns({} as any)\ntype ft = typeof functions\ntype ArgumentsType<T> = T extends (...args: infer U) => any ? U : never\n\nexport const CmdlineCmds = new Proxy(functions as any, {\n    get(target, property) {\n        if (target[property]) {\n            return (...args) =>\n                messageActiveTab(\"commandline_cmd\", property as string, args)\n        }\n        return target[property]\n    },\n}) as {\n    [k in keyof ft]: (\n        ...args: ArgumentsType<ft[k]>\n    ) => Promise<ReturnType<ft[k]>>\n}\n", "import { messageActiveTab } from \"@src/lib/messaging\"\nimport * as _EditorCmds from \"@src/lib/editor\"\n\ntype cmdsType = typeof _EditorCmds\ntype ArgumentsType<T> = T extends (elem, ...args: infer U) => any ? U : never\n\nexport const EditorCmds = new Proxy(_EditorCmds as any, {\n    get(target, property) {\n        if (target[property]) {\n            return (...args) =>\n                messageActiveTab(\"editorfn_content\", property as string, args)\n        }\n        return target[property]\n    },\n}) as {\n    [k in keyof cmdsType]: (\n        ...args: ArgumentsType<cmdsType[k]>\n    ) => Promise<ReturnType<cmdsType[k]>>\n}\n", "import { staticThemes } from \"@src/.metadata.generated\"\nimport * as config from \"@src/lib/config\"\nimport * as Logging from \"@src/lib/logging\"\nimport { browserBg, ownTabId } from \"@src/lib/webext\"\n\nconst logger = new Logging.Logger(\"styling\")\n\nexport const THEMES = staticThemes\n\nfunction capitalise(str) {\n    if (str === \"\") return str\n    return str[0].toUpperCase() + str.slice(1)\n}\n\nfunction prefixTheme(name) {\n    return \"TridactylTheme\" + capitalise(name)\n}\n\n// At the moment elements are only ever `:root` and so this array and stuff is all a bit overdesigned.\nconst THEMED_ELEMENTS = []\n\nlet insertedCSS = false\nconst customCss = {\n    allFrames: true,\n    matchAboutBlank: true,\n    code: \"\",\n}\n\nexport async function theme(element) {\n    // Remove any old theme\n\n    /**\n     * DEPRECATED\n     *\n     * You don't need to add weird classnames to your themes any more, but you can if you want.\n     *\n     * Retained for backwards compatibility.\n     **/\n    for (const theme of THEMES.map(prefixTheme)) {\n        element.classList.remove(theme)\n    }\n    // DEPRECATION ENDS\n\n    if (insertedCSS) {\n        // Typescript doesn't seem to be aware than remove/insertCSS's tabid\n        // argument is optional\n        await browserBg.tabs.removeCSS(await ownTabId(), customCss)\n        insertedCSS = false\n    }\n\n    const newTheme = await config.getAsync(\"theme\")\n\n    /**\n     * DEPRECATED\n     *\n     * You don't need to add weird classnames to your themes any more, but you can if you want.\n     *\n     * Retained for backwards compatibility.\n     **/\n    if (newTheme !== \"default\") {\n        element.classList.add(prefixTheme(newTheme))\n    }\n    // DEPRECATION ENDS\n\n    // Insert custom css if needed\n    if (newTheme !== \"default\") {\n        customCss.code = THEMES.includes(newTheme)\n            ? \"@import url('\" +\n              browser.runtime.getURL(\n                  \"static/themes/\" + newTheme + \"/\" + newTheme + \".css\",\n              ) +\n              \"');\"\n            : await config.getAsync(\"customthemes\", newTheme)\n        if (customCss.code) {\n            await browserBg.tabs.insertCSS(await ownTabId(), customCss)\n            insertedCSS = true\n        } else {\n            logger.error(\"Theme \" + newTheme + \" couldn't be found.\")\n        }\n    }\n\n    // Record for re-theming\n    // considering only elements :root (page and cmdline_iframe)\n    // TODO:\n    //     - Find ways to check if element is already pushed\n    if (\n        THEMED_ELEMENTS.length < 2 &&\n        element.tagName.toUpperCase() === \"HTML\"\n    ) {\n        THEMED_ELEMENTS.push(element)\n    }\n}\n\nfunction retheme() {\n    THEMED_ELEMENTS.forEach(element => {\n        theme(element).catch(e => {\n            logger.warning(\n                `Failed to retheme element \"${element}\". Error: ${e}`,\n            )\n        })\n    })\n}\n\nconfig.addChangeListener(\"theme\", retheme)\n\n/**\n * DEPRECATED\n *\n * You don't need to add weird classnames to your themes any more, but you can if you want.\n *\n * Retained for backwards compatibility.\n **/\n// Sometimes pages will overwrite class names of elements. We use a MutationObserver to make sure that the HTML element always has a TridactylTheme class\n// We can't just call theme() because it would first try to remove class names from the element, which would trigger the MutationObserver before we had a chance to add the theme class and thus cause infinite recursion\nconst cb = async mutationList => {\n    const theme = await config.getAsync(\"theme\")\n    mutationList\n        .filter(m => m.target.className.search(prefixTheme(\"\")) === -1)\n        .forEach(m => m.target.classList.add(prefixTheme(theme)))\n}\n\nnew MutationObserver(cb).observe(document.documentElement, {\n    attributes: true,\n    childList: false,\n    characterData: false,\n    subtree: false,\n    attributeOldValue: false,\n    attributeFilter: [\"class\"],\n})\n// DEPRECATION ENDS\n", "/** Inject an input element into unsuspecting webpages and provide an API for interaction with tridactyl */\n\nimport Logger from \"@src/lib/logging\"\nimport * as config from \"@src/lib/config\"\nimport { theme } from \"@src/content/styling\"\nconst logger = new Logger(\"messaging\")\nconst cmdline_logger = new Logger(\"cmdline\")\n\n/* TODO:\n    CSS\n    Friendliest-to-webpage way of injecting commandline bar?\n    Security: how to prevent other people's JS from seeing or accessing the bar or its output?\n        - Method here is isolation via iframe\n            - Web content can replace the iframe, but can't view or edit its content.\n            - see doc/escalating-privilege.md for other approaches.\n*/\n\n// inject the commandline iframe into a content page\n\nconst cmdline_iframe = window.document.createElementNS(\n    \"http://www.w3.org/1999/xhtml\",\n    \"iframe\",\n) as HTMLIFrameElement\ncmdline_iframe.className = \"cleanslate\"\ncmdline_iframe.setAttribute(\n    \"src\",\n    browser.runtime.getURL(\"static/commandline.html\"),\n)\ncmdline_iframe.setAttribute(\"id\", \"cmdline_iframe\")\ncmdline_iframe.setAttribute(\"loading\", \"lazy\")\n\nlet enabled = false\n\n/** Initialise the cmdline_iframe element unless the window location is included in a value of config/noiframe */\nasync function init() {\n    const noiframe = await config.getAsync(\"noiframe\")\n    const notridactyl = await config.getAsync(\"superignore\")\n    if (noiframe === \"false\" && notridactyl !== \"true\" && !enabled) {\n        hide()\n        document.documentElement.appendChild(cmdline_iframe)\n        enabled = true\n        // first theming of page root\n        await theme(window.document.querySelector(\":root\"))\n    }\n}\n\n// Load the iframe immediately if we can (happens if tridactyl is reloaded or on ImageDocument)\n// Else load lazily to avoid upsetting page JS that hates foreign iframes.\ninit().catch(() => {\n    // Surrender event loop with setTimeout() to page JS in case it's still doing stuff.\n    document.addEventListener(\"DOMContentLoaded\", () =>\n        setTimeout(() => {\n            init().catch(e =>\n                logger.error(\"Couldn't initialise cmdline_iframe!\", e),\n            )\n        }, 0),\n    )\n})\n\nexport function show(hidehover = false) {\n    try {\n        /* Hide \"hoverlink\" pop-up which obscures command line\n         *\n         * Inspired by VVimpulation: https://github.com/amedama41/vvimpulation/commit/53065d015d1e9a892496619b51be83771f57b3d5\n         */\n\n        if (hidehover) {\n            const a = window.document.createElement(\"A\")\n            ;(a as any).href = \"\"\n            document.body.appendChild(a)\n            a.focus({ preventScroll: true })\n            document.body.removeChild(a)\n        }\n\n        cmdline_iframe.classList.remove(\"hidden\")\n        const height =\n            cmdline_iframe.contentWindow.document.body.offsetHeight + \"px\"\n        cmdline_iframe.setAttribute(\"style\", `height: ${height} !important;`)\n    } catch (e) {\n        // Note: We can't use cmdline_logger.error because it will try to log\n        // the error in the commandline, which we can't show!\n        // cmdline_logger.error(e)\n        console.error(e)\n    }\n}\n\nexport function hide() {\n    try {\n        cmdline_iframe.classList.add(\"hidden\")\n        cmdline_iframe.setAttribute(\"style\", \"height: 0px !important;\")\n    } catch (e) {\n        // Using cmdline_logger here is OK because cmdline_logger won't try to\n        // call hide(), thus we avoid the recursion that happens for show() and\n        // focus()\n        cmdline_logger.error(e)\n    }\n}\n\nexport function focus() {\n    try {\n        cmdline_iframe.focus()\n    } catch (e) {\n        // Note: We can't use cmdline_logger.error because it will try to log\n        // the error in the commandline, which will need to focus() it again,\n        // which will throw again...\n        // cmdline_logger.error(e)\n        console.error(e)\n    }\n}\n\nexport function blur() {\n    try {\n        cmdline_iframe.blur()\n    } catch (e) {\n        // Same as with hide(), it's ok to use cmdline_logger here\n        cmdline_logger.error(e)\n    }\n}\n\nexport function hide_and_blur() {\n    hide()\n    blur()\n}\n\nexport function executeWithoutCommandLine(fn) {\n    let parent\n    if (cmdline_iframe) {\n        parent = cmdline_iframe.parentNode\n        parent.removeChild(cmdline_iframe)\n    }\n    let result\n    try {\n        result = fn()\n    } catch (e) {\n        cmdline_logger.error(e)\n    }\n    if (cmdline_iframe) parent.appendChild(cmdline_iframe)\n    return result\n}\n\nimport * as Messaging from \"@src/lib/messaging\"\nimport * as SELF from \"@src/content/commandline_content\"\nMessaging.addListener(\"commandline_content\", Messaging.attributeCaller(SELF))\n", "import * as config from \"@src/lib/config\"\n\ntype scrollingDirection = \"scrollLeft\" | \"scrollTop\"\n\nconst opts = { smooth: null, duration: null }\nasync function getSmooth(): Promise<string> {\n    if (opts.smooth === null)\n        opts.smooth = await config.getAsync(\"smoothscroll\")\n    return opts.smooth\n}\nasync function getDuration(): Promise<number> {\n    if (opts.duration === null)\n        opts.duration = await config.getAsync(\"scrollduration\")\n    return opts.duration\n}\n\nconfig.addChangeListener(\"smoothscroll\", (prev, cur) => (opts.smooth = cur))\nconfig.addChangeListener(\"scrollduration\", (prev, cur) => (opts.duration = cur))\n\nclass ScrollingData {\n    // time at which the scrolling animation started\n    startTime: number\n    // Starting position of the element. This shouldn't ever change.\n    startPos: number\n    // Where the element should end up. This can change if .scroll() is called\n    // while a scrolling animation is already running\n    endPos: number\n    // Whether the element is being scrolled\n    scrolling = false\n    // Duration of the scrolling animation\n    duration = 0\n\n    /** elem: The element that should be scrolled\n     * scrollDirection: \"scrollLeft\" if the element should be scrolled on the horizontal axis, \"scrollTop\" otherwise\n     */\n    constructor(\n        private elem: Node,\n        private scrollDirection: scrollingDirection = \"scrollTop\",\n    ) {}\n\n    public scroll(distance: number, duration: number): boolean {\n        this.duration = duration\n        this.startTime = performance.now()\n        this.startPos = this.elem[this.scrollDirection]\n        // If we're already scrolling, update the endPos based off the current endPos\n        if (this.scrolling) {\n            this.endPos = this.endPos + distance\n            return true\n        }\n        this.endPos = this.startPos + distance\n        if (\"style\" in this.elem)\n            (this.elem as any).style.scrollBehavior = \"unset\"\n        this.scrolling = this.scrollStep()\n        if (this.scrolling)\n            // If the element can be scrolled, scroll until animation completion\n            this.scheduleStep()\n        return this.scrolling\n    }\n\n    /** Computes where the element should be.\n     *  This changes depending on how long ago the first scrolling attempt was\n     *  made.\n     *  It might be useful to make this function more configurable by making it\n     *  accept an argument instead of using performance.now()\n     */\n    private getStep(): number {\n        if (this.startTime === undefined) {\n            this.startTime = performance.now()\n        }\n        const elapsed: number = performance.now() - this.startTime\n\n        // If the animation should be done, return the position the element should have\n        if (\n            elapsed >= this.duration ||\n            this.elem[this.scrollDirection] === this.endPos\n        )\n            return this.endPos\n\n        let pixelToScrollTo: number =\n            this.startPos +\n            ((this.endPos - this.startPos) * elapsed) / this.duration\n        if (this.startPos < this.endPos) {\n            // We need to ceil() because only highdpi screens have a decimal this.elem[this.pos]\n            pixelToScrollTo = Math.ceil(pixelToScrollTo)\n            // We *have* to make progress, otherwise we'll think the element can't be scrolled\n            if (pixelToScrollTo == this.elem[this.scrollDirection])\n                pixelToScrollTo += 1\n        } else {\n            pixelToScrollTo = Math.floor(pixelToScrollTo)\n            if (pixelToScrollTo == this.elem[this.scrollDirection])\n                pixelToScrollTo -= 1\n        }\n        return pixelToScrollTo\n    }\n\n    /** Updates the position of this.elem, returns true if the element has been scrolled, false otherwise. */\n    private scrollStep(): boolean {\n        const prevScrollPos: number = this.elem[this.scrollDirection]\n        this.elem[this.scrollDirection] = this.getStep()\n        return prevScrollPos !== this.elem[this.scrollDirection]\n    }\n\n    /** Calls this.scrollStep() until the element has been completely scrolled\n     * or the scrolling animation is complete */\n    private scheduleStep() {\n        // If scrollStep() scrolled the element, reschedule a step\n        // Otherwise, register that the element stopped scrolling\n        window.requestAnimationFrame(() =>\n            this.scrollStep() ? this.scheduleStep() : (this.scrolling = false),\n        )\n    }\n}\n\n// Stores elements that are currently being horizontally scrolled\nconst horizontallyScrolling = new Map<Node, ScrollingData>()\n// Stores elements that are currently being vertically scrolled\nconst verticallyScrolling = new Map<Node, ScrollingData>()\n\n/** Tries to scroll e by x and y pixel, make the smooth scrolling animation\n *  last duration milliseconds\n */\nexport async function scroll(\n    xDistance = 0,\n    yDistance = 0,\n    e: Node,\n    duration?: number,\n): Promise<boolean> {\n    const smooth = await getSmooth()\n    if (smooth === \"false\") duration = 0\n    else if (duration === undefined) duration = await getDuration()\n\n    let didScroll = false\n    if (xDistance !== 0) {\n        // Don't create a new ScrollingData object if the element is already\n        // being scrolled\n        let scrollData = horizontallyScrolling.get(e)\n        if (!scrollData) {\n            scrollData = new ScrollingData(e, \"scrollLeft\")\n            horizontallyScrolling.set(e, scrollData)\n        }\n        didScroll = didScroll || scrollData.scroll(xDistance, duration)\n    }\n    if (yDistance !== 0) {\n        let scrollData = verticallyScrolling.get(e)\n        if (!scrollData) {\n            scrollData = new ScrollingData(e, \"scrollTop\")\n            verticallyScrolling.set(e, scrollData)\n        }\n        didScroll = didScroll || scrollData.scroll(yDistance, duration)\n    }\n    return didScroll\n}\n\nlet lastRecursiveScrolled = null\nlet lastFocused = null\nlet currentFocused = document.activeElement as any\nlet lastX = 0\nlet lastY = 0\n\n// export let currentFocused exports it as readonly, so we have to write a function\nexport function setCurrentFocus(v) {\n    currentFocused = v\n}\n\ndocument.addEventListener(\"mousedown\", event => {\n    currentFocused = event.target\n})\n\ndocument.addEventListener(\"focusin\", event => {\n    currentFocused = event.target\n})\n\n/** Tries to find a node which can be scrolled either x pixels to the right or\n *  y pixels down among the Elements in {nodes} and children of these Elements.\n *\n *  This function used to be recursive but isn't anymore due to various\n *  attempts at optimizing the function in order to reduce GC pressure.\n */\nexport async function recursiveScroll(\n    xDistance: number,\n    yDistance: number,\n    node?: Element,\n) {\n    let startingFromCached = false\n    if (!node) {\n        const sameSignX = xDistance < 0 === lastX < 0\n        const sameSignY = yDistance < 0 === lastY < 0\n        const sameElement = lastFocused == currentFocused\n        if (lastRecursiveScrolled && sameSignX && sameSignY && sameElement) {\n            // We're scrolling in the same direction as the previous time so\n            // let's try to pick up from where we left\n            startingFromCached = true\n            node = lastRecursiveScrolled\n        } else {\n            // Try scrolling the active node or one of its parent elements\n\n            // If nothing has been given focus explicitly use the activeElement\n            if (!currentFocused || currentFocused.nodeName == \"#document\")\n                currentFocused = document.activeElement\n\n            node = currentFocused\n            while (true) {\n                if (await scroll(xDistance, yDistance, node)) return true\n                node = node.parentElement\n                if (!node) break\n            }\n\n            // If that didn't work, go on to recursive scroll\n            node = document.documentElement\n\n            // Invalidate the cache if the user changes focus\n            lastFocused = currentFocused\n        }\n    }\n    let treeWalker = document.createTreeWalker(node, NodeFilter.SHOW_ELEMENT)\n    do {\n        // If node is undefined or if we managed to scroll it\n        if (\n            (await scroll(xDistance, yDistance, treeWalker.currentNode)) ||\n            ((treeWalker.currentNode as any).contentDocument &&\n                !(treeWalker.currentNode as any).src?.startsWith(\n                    \"moz-extension://\",\n                ) &&\n                (await recursiveScroll(\n                    xDistance,\n                    yDistance,\n                    (treeWalker.currentNode as any).contentDocument.body,\n                )))\n        ) {\n            // Cache the node for next time and stop trying to scroll\n            lastRecursiveScrolled = treeWalker.currentNode\n            lastX = xDistance\n            lastY = yDistance\n            return true\n        }\n    } while (treeWalker.nextNode())\n    // If we started from a cached node, we could try the nodes before it\n    if (startingFromCached) {\n        treeWalker = document.createTreeWalker(node, NodeFilter.SHOW_ELEMENT)\n        do {\n            // If node is undefined or if we managed to scroll it\n            if (await scroll(xDistance, yDistance, treeWalker.currentNode)) {\n                // Cache the node for next time and stop trying to scroll\n                lastRecursiveScrolled = treeWalker.currentNode\n                lastX = xDistance\n                lastY = yDistance\n                return true\n            }\n        } while (treeWalker.previousNode())\n    }\n    lastRecursiveScrolled = null\n    lastX = xDistance\n    lastY = yDistance\n    return false\n}\n", "// Compute what scrolling needs to be done on required scrolling boxes for target to be in view\n\n// The type names here are named after the spec to make it easier to find more information around what they mean:\n// To reduce churn and reduce things that need be maintained things from the official TS DOM library is used here\n// https://drafts.csswg.org/cssom-view/\n\n// For a definition on what is \"block flow direction\" exactly, check this: https://drafts.csswg.org/css-writing-modes-4/#block-flow-direction\n\n/**\n * This new option is tracked in this PR, which is the most likely candidate at the time: https://github.com/w3c/csswg-drafts/pull/1805\n * @public\n */\nexport type ScrollMode = 'always' | 'if-needed'\n\n/** @public */\nexport interface Options {\n  /**\n   * Control the logical scroll position on the y-axis. The spec states that the `block` direction is related to the [writing-mode](https://developer.mozilla.org/en-US/docs/Web/CSS/writing-mode), but this is not implemented yet in this library.\n   * This means that `block: 'start'` aligns to the top edge and `block: 'end'` to the bottom.\n   * @defaultValue 'center'\n   */\n  block?: ScrollLogicalPosition\n  /**\n   * Like `block` this is affected by the [writing-mode](https://developer.mozilla.org/en-US/docs/Web/CSS/writing-mode). In left-to-right pages `inline: 'start'` will align to the left edge. In right-to-left it should be flipped. This will be supported in a future release.\n   * @defaultValue 'nearest'\n   */\n  inline?: ScrollLogicalPosition\n  /**\n   * This is a proposed addition to the spec that you can track here: https://github.com/w3c/csswg-drafts/pull/5677\n   *\n   * This library will be updated to reflect any changes to the spec and will provide a migration path.\n   * To be backwards compatible with `Element.scrollIntoViewIfNeeded` if something is not 100% visible it will count as \"needs scrolling\". If you need a different visibility ratio your best option would be to implement an [Intersection Observer](https://developer.mozilla.org/en-US/docs/Web/API/Intersection_Observer_API).\n   * @defaultValue 'always'\n   */\n  scrollMode?: ScrollMode\n  /**\n   * By default there is no boundary. All the parent elements of your target is checked until it reaches the viewport ([`document.scrollingElement`](https://developer.mozilla.org/en-US/docs/Web/API/document/scrollingElement)) when calculating layout and what to scroll.\n   * By passing a boundary you can short-circuit this loop depending on your needs:\n   * \n   * - Prevent the browser window from scrolling.\n   * - Scroll elements into view in a list, without scrolling container elements.\n   * \n   * You can also pass a function to do more dynamic checks to override the scroll scoping:\n   * \n   * ```js\n   * let actions = compute(target, {\n   *   boundary: (parent) => {\n   *     // By default `overflow: hidden` elements are allowed, only `overflow: visible | clip` is skipped as\n   *     // this is required by the CSSOM spec\n   *     if (getComputedStyle(parent)['overflow'] === 'hidden') {\n   *       return false\n   *     }\n\n   *     return true\n   *   },\n   * })\n   * ```\n   * @defaultValue null\n   */\n  boundary?: Element | ((parent: Element) => boolean) | null\n  /**\n   * New option that skips auto-scrolling all nodes with overflow: hidden set\n   * See FF implementation: https://hg.mozilla.org/integration/fx-team/rev/c48c3ec05012#l7.18\n   * @defaultValue false\n   * @public\n   */\n  skipOverflowHiddenElements?: boolean\n}\n\n/** @public */\nexport interface ScrollAction {\n  el: Element\n  top: number\n  left: number\n}\n\n// @TODO better shadowdom test, 11 = document fragment\nlet isElement = (el: any): el is Element =>\n  typeof el === 'object' && el != null && el.nodeType === 1\n\nlet canOverflow = (\n  overflow: string | null,\n  skipOverflowHiddenElements?: boolean\n) => {\n  if (skipOverflowHiddenElements && overflow === 'hidden') {\n    return false\n  }\n\n  return overflow !== 'visible' && overflow !== 'clip'\n}\n\nlet getFrameElement = (el: Element) => {\n  if (!el.ownerDocument || !el.ownerDocument.defaultView) {\n    return null\n  }\n\n  try {\n    return el.ownerDocument.defaultView.frameElement\n  } catch (e) {\n    return null\n  }\n}\n\nlet isHiddenByFrame = (el: Element): boolean => {\n  let frame = getFrameElement(el)\n  if (!frame) {\n    return false\n  }\n\n  return (\n    frame.clientHeight < el.scrollHeight || frame.clientWidth < el.scrollWidth\n  )\n}\n\nlet isScrollable = (el: Element, skipOverflowHiddenElements?: boolean) => {\n  if (el.clientHeight < el.scrollHeight || el.clientWidth < el.scrollWidth) {\n    let style = getComputedStyle(el, null)\n    return (\n      canOverflow(style.overflowY, skipOverflowHiddenElements) ||\n      canOverflow(style.overflowX, skipOverflowHiddenElements) ||\n      isHiddenByFrame(el)\n    )\n  }\n\n  return false\n}\n/**\n * Find out which edge to align against when logical scroll position is \"nearest\"\n * Interesting fact: \"nearest\" works similarily to \"if-needed\", if the element is fully visible it will not scroll it\n *\n * Legends:\n * ┌────────┐ ┏ ━ ━ ━ ┓\n * │ target │   frame\n * └────────┘ ┗ ━ ━ ━ ┛\n */\nlet alignNearest = (\n  scrollingEdgeStart: number,\n  scrollingEdgeEnd: number,\n  scrollingSize: number,\n  scrollingBorderStart: number,\n  scrollingBorderEnd: number,\n  elementEdgeStart: number,\n  elementEdgeEnd: number,\n  elementSize: number\n) => {\n  /**\n   * If element edge A and element edge B are both outside scrolling box edge A and scrolling box edge B\n   *\n   *          ┌──┐\n   *        ┏━│━━│━┓\n   *          │  │\n   *        ┃ │  │ ┃        do nothing\n   *          │  │\n   *        ┗━│━━│━┛\n   *          └──┘\n   *\n   *  If element edge C and element edge D are both outside scrolling box edge C and scrolling box edge D\n   *\n   *    ┏ ━ ━ ━ ━ ┓\n   *   ┌───────────┐\n   *   │┃         ┃│        do nothing\n   *   └───────────┘\n   *    ┗ ━ ━ ━ ━ ┛\n   */\n  if (\n    (elementEdgeStart < scrollingEdgeStart &&\n      elementEdgeEnd > scrollingEdgeEnd) ||\n    (elementEdgeStart > scrollingEdgeStart && elementEdgeEnd < scrollingEdgeEnd)\n  ) {\n    return 0\n  }\n\n  /**\n   * If element edge A is outside scrolling box edge A and element height is less than scrolling box height\n   *\n   *          ┌──┐\n   *        ┏━│━━│━┓         ┏━┌━━┐━┓\n   *          └──┘             │  │\n   *  from  ┃      ┃     to  ┃ └──┘ ┃\n   *\n   *        ┗━ ━━ ━┛         ┗━ ━━ ━┛\n   *\n   * If element edge B is outside scrolling box edge B and element height is greater than scrolling box height\n   *\n   *        ┏━ ━━ ━┓         ┏━┌━━┐━┓\n   *                           │  │\n   *  from  ┃ ┌──┐ ┃     to  ┃ │  │ ┃\n   *          │  │             │  │\n   *        ┗━│━━│━┛         ┗━│━━│━┛\n   *          │  │             └──┘\n   *          │  │\n   *          └──┘\n   *\n   * If element edge C is outside scrolling box edge C and element width is less than scrolling box width\n   *\n   *       from                 to\n   *    ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *  ┌───┐                 ┌───┐\n   *  │ ┃ │       ┃         ┃   │     ┃\n   *  └───┘                 └───┘\n   *    ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   *\n   * If element edge D is outside scrolling box edge D and element width is greater than scrolling box width\n   *\n   *       from                 to\n   *    ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *        ┌───────────┐   ┌───────────┐\n   *    ┃   │     ┃     │   ┃         ┃ │\n   *        └───────────┘   └───────────┘\n   *    ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   */\n  if (\n    (elementEdgeStart <= scrollingEdgeStart && elementSize <= scrollingSize) ||\n    (elementEdgeEnd >= scrollingEdgeEnd && elementSize >= scrollingSize)\n  ) {\n    return elementEdgeStart - scrollingEdgeStart - scrollingBorderStart\n  }\n\n  /**\n   * If element edge B is outside scrolling box edge B and element height is less than scrolling box height\n   *\n   *        ┏━ ━━ ━┓         ┏━ ━━ ━┓\n   *\n   *  from  ┃      ┃     to  ┃ ┌──┐ ┃\n   *          ┌──┐             │  │\n   *        ┗━│━━│━┛         ┗━└━━┘━┛\n   *          └──┘\n   *\n   * If element edge A is outside scrolling box edge A and element height is greater than scrolling box height\n   *\n   *          ┌──┐\n   *          │  │\n   *          │  │             ┌──┐\n   *        ┏━│━━│━┓         ┏━│━━│━┓\n   *          │  │             │  │\n   *  from  ┃ └──┘ ┃     to  ┃ │  │ ┃\n   *                           │  │\n   *        ┗━ ━━ ━┛         ┗━└━━┘━┛\n   *\n   * If element edge C is outside scrolling box edge C and element width is greater than scrolling box width\n   *\n   *           from                 to\n   *        ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *  ┌───────────┐           ┌───────────┐\n   *  │     ┃     │   ┃       │ ┃         ┃\n   *  └───────────┘           └───────────┘\n   *        ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   *\n   * If element edge D is outside scrolling box edge D and element width is less than scrolling box width\n   *\n   *           from                 to\n   *        ┏ ━ ━ ━ ━ ┓         ┏ ━ ━ ━ ━ ┓\n   *                ┌───┐             ┌───┐\n   *        ┃       │ ┃ │       ┃     │   ┃\n   *                └───┘             └───┘\n   *        ┗ ━ ━ ━ ━ ┛         ┗ ━ ━ ━ ━ ┛\n   *\n   */\n  if (\n    (elementEdgeEnd > scrollingEdgeEnd && elementSize < scrollingSize) ||\n    (elementEdgeStart < scrollingEdgeStart && elementSize > scrollingSize)\n  ) {\n    return elementEdgeEnd - scrollingEdgeEnd + scrollingBorderEnd\n  }\n\n  return 0\n}\n\nlet getParentElement = (element: Node): Element | null => {\n  let parent = element.parentElement\n  if (parent == null) {\n    return (element.getRootNode() as ShadowRoot).host || null\n  }\n  return parent\n}\n\n/** @public */\nexport let compute = (target: Element, options: Options): ScrollAction[] => {\n  if (typeof document === 'undefined') {\n    // If there's no DOM we assume it's not in a browser environment\n    return []\n  }\n\n  let { scrollMode, block, inline, boundary, skipOverflowHiddenElements } =\n    options\n  // Allow using a callback to check the boundary\n  // The default behavior is to check if the current target matches the boundary element or not\n  // If undefined it'll check that target is never undefined (can happen as we recurse up the tree)\n  let checkBoundary =\n    typeof boundary === 'function' ? boundary : (node: any) => node !== boundary\n\n  if (!isElement(target)) {\n    throw new TypeError('Invalid target')\n  }\n\n  // Used to handle the top most element that can be scrolled\n  let scrollingElement = document.scrollingElement || document.documentElement\n\n  // Collect all the scrolling boxes, as defined in the spec: https://drafts.csswg.org/cssom-view/#scrolling-box\n  let frames: Element[] = []\n  let cursor: Element | null = target\n  while (isElement(cursor) && checkBoundary(cursor)) {\n    // Move cursor to parent\n    cursor = getParentElement(cursor)\n\n    // Stop when we reach the viewport\n    if (cursor === scrollingElement) {\n      frames.push(cursor)\n      break\n    }\n\n    // Skip document.body if it's not the scrollingElement and documentElement isn't independently scrollable\n    if (\n      cursor != null &&\n      cursor === document.body &&\n      isScrollable(cursor) &&\n      !isScrollable(document.documentElement)\n    ) {\n      continue\n    }\n\n    // Now we check if the element is scrollable, this code only runs if the loop haven't already hit the viewport or a custom boundary\n    if (cursor != null && isScrollable(cursor, skipOverflowHiddenElements)) {\n      frames.push(cursor)\n    }\n  }\n\n  // Support pinch-zooming properly, making sure elements scroll into the visual viewport\n  // Browsers that don't support visualViewport will report the layout viewport dimensions on document.documentElement.clientWidth/Height\n  // and viewport dimensions on window.innerWidth/Height\n  // https://www.quirksmode.org/mobile/viewports2.html\n  // https://bokand.github.io/viewport/index.html\n  let viewportWidth = window.visualViewport?.width ?? innerWidth\n  let viewportHeight = window.visualViewport?.height ?? innerHeight\n  let { scrollX, scrollY } = window\n\n  let {\n    height: targetHeight,\n    width: targetWidth,\n    top: targetTop,\n    right: targetRight,\n    bottom: targetBottom,\n    left: targetLeft,\n  } = target.getBoundingClientRect()\n\n  // These values mutate as we loop through and generate scroll coordinates\n  let targetBlock: number =\n    block === 'start' || block === 'nearest'\n      ? targetTop\n      : block === 'end'\n      ? targetBottom\n      : targetTop + targetHeight / 2 // block === 'center\n  let targetInline: number =\n    inline === 'center'\n      ? targetLeft + targetWidth / 2\n      : inline === 'end'\n      ? targetRight\n      : targetLeft // inline === 'start || inline === 'nearest\n\n  // Collect new scroll positions\n  let computations: ScrollAction[] = []\n  // In chrome there's no longer a difference between caching the `frames.length` to a var or not, so we don't in this case (size > speed anyways)\n  for (let index = 0; index < frames.length; index++) {\n    let frame = frames[index]\n\n    // @TODO add a shouldScroll hook here that allows userland code to take control\n\n    let { height, width, top, right, bottom, left } =\n      frame.getBoundingClientRect()\n\n    // If the element is already visible we can end it here\n    // @TODO targetBlock and targetInline should be taken into account to be compliant with https://github.com/w3c/csswg-drafts/pull/1805/files#diff-3c17f0e43c20f8ecf89419d49e7ef5e0R1333\n    if (\n      scrollMode === 'if-needed' &&\n      targetTop >= 0 &&\n      targetLeft >= 0 &&\n      targetBottom <= viewportHeight &&\n      targetRight <= viewportWidth &&\n      targetTop >= top &&\n      targetBottom <= bottom &&\n      targetLeft >= left &&\n      targetRight <= right\n    ) {\n      // Break the loop and return the computations for things that are not fully visible\n      return computations\n    }\n\n    let frameStyle = getComputedStyle(frame)\n    let borderLeft = parseInt(frameStyle.borderLeftWidth as string, 10)\n    let borderTop = parseInt(frameStyle.borderTopWidth as string, 10)\n    let borderRight = parseInt(frameStyle.borderRightWidth as string, 10)\n    let borderBottom = parseInt(frameStyle.borderBottomWidth as string, 10)\n\n    let blockScroll: number = 0\n    let inlineScroll: number = 0\n\n    // The property existance checks for offfset[Width|Height] is because only HTMLElement objects have them, but any Element might pass by here\n    // @TODO find out if the \"as HTMLElement\" overrides can be dropped\n    let scrollbarWidth =\n      'offsetWidth' in frame\n        ? (frame as HTMLElement).offsetWidth -\n          (frame as HTMLElement).clientWidth -\n          borderLeft -\n          borderRight\n        : 0\n    let scrollbarHeight =\n      'offsetHeight' in frame\n        ? (frame as HTMLElement).offsetHeight -\n          (frame as HTMLElement).clientHeight -\n          borderTop -\n          borderBottom\n        : 0\n\n    let scaleX =\n      'offsetWidth' in frame\n        ? (frame as HTMLElement).offsetWidth === 0\n          ? 0\n          : width / (frame as HTMLElement).offsetWidth\n        : 0\n    let scaleY =\n      'offsetHeight' in frame\n        ? (frame as HTMLElement).offsetHeight === 0\n          ? 0\n          : height / (frame as HTMLElement).offsetHeight\n        : 0\n\n    if (scrollingElement === frame) {\n      // Handle viewport logic (document.documentElement or document.body)\n\n      if (block === 'start') {\n        blockScroll = targetBlock\n      } else if (block === 'end') {\n        blockScroll = targetBlock - viewportHeight\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(\n          scrollY,\n          scrollY + viewportHeight,\n          viewportHeight,\n          borderTop,\n          borderBottom,\n          scrollY + targetBlock,\n          scrollY + targetBlock + targetHeight,\n          targetHeight\n        )\n      } else {\n        // block === 'center' is the default\n        blockScroll = targetBlock - viewportHeight / 2\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - viewportWidth / 2\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - viewportWidth\n      } else {\n        // inline === 'nearest' is the default\n        inlineScroll = alignNearest(\n          scrollX,\n          scrollX + viewportWidth,\n          viewportWidth,\n          borderLeft,\n          borderRight,\n          scrollX + targetInline,\n          scrollX + targetInline + targetWidth,\n          targetWidth\n        )\n      }\n\n      // Apply scroll position offsets and ensure they are within bounds\n      // @TODO add more test cases to cover this 100%\n      blockScroll = Math.max(0, blockScroll + scrollY)\n      inlineScroll = Math.max(0, inlineScroll + scrollX)\n    } else {\n      // Handle each scrolling frame that might exist between the target and the viewport\n      if (block === 'start') {\n        blockScroll = targetBlock - top - borderTop\n      } else if (block === 'end') {\n        blockScroll = targetBlock - bottom + borderBottom + scrollbarHeight\n      } else if (block === 'nearest') {\n        blockScroll = alignNearest(\n          top,\n          bottom,\n          height,\n          borderTop,\n          borderBottom + scrollbarHeight,\n          targetBlock,\n          targetBlock + targetHeight,\n          targetHeight\n        )\n      } else {\n        // block === 'center' is the default\n        blockScroll = targetBlock - (top + height / 2) + scrollbarHeight / 2\n      }\n\n      if (inline === 'start') {\n        inlineScroll = targetInline - left - borderLeft\n      } else if (inline === 'center') {\n        inlineScroll = targetInline - (left + width / 2) + scrollbarWidth / 2\n      } else if (inline === 'end') {\n        inlineScroll = targetInline - right + borderRight + scrollbarWidth\n      } else {\n        // inline === 'nearest' is the default\n        inlineScroll = alignNearest(\n          left,\n          right,\n          width,\n          borderLeft,\n          borderRight + scrollbarWidth,\n          targetInline,\n          targetInline + targetWidth,\n          targetWidth\n        )\n      }\n\n      let { scrollLeft, scrollTop } = frame\n      // Ensure scroll coordinates are not out of bounds while applying scroll offsets\n      blockScroll = Math.max(\n        0,\n        Math.min(\n          scrollTop + blockScroll / scaleY,\n          frame.scrollHeight - height / scaleY + scrollbarHeight\n        )\n      )\n      inlineScroll = Math.max(\n        0,\n        Math.min(\n          scrollLeft + inlineScroll / scaleX,\n          frame.scrollWidth - width / scaleX + scrollbarWidth\n        )\n      )\n\n      // Cache the offset so that parent frames can scroll this into view correctly\n      targetBlock += scrollTop - blockScroll\n      targetInline += scrollLeft - inlineScroll\n    }\n\n    computations.push({ el: frame, top: blockScroll, left: inlineScroll })\n  }\n\n  return computations\n}\n", "import * as config from \"@src/lib/config\"\nimport * as DOM from \"@src/lib/dom\"\nimport { browserBg, activeTabId } from \"@src/lib/webext\"\nimport state from \"@src/state\"\nimport * as State from \"@src/state\"\nimport { compute as scrollCompute } from \"compute-scroll-into-view\"\n\n// The host is the shadow root of a span used to contain all highlighting\n// elements. This is the least disruptive way of highlighting text in a page.\n// It needs to be placed at the very top of the page.\nlet host\nfunction getFindHost() {\n    if (host) {\n        return host\n    }\n    const elem = document.createElement(\"span\")\n    elem.id = \"TridactylFindHost\"\n    elem.className = \"cleanslate\"\n    elem.style.position = \"absolute\"\n    elem.style.top = \"0px\"\n    elem.style.left = \"0px\"\n    document.body.appendChild(elem)\n    host = elem.attachShadow({ mode: \"closed\" })\n    return host\n}\n\nclass FindHighlight extends HTMLSpanElement {\n    public top = Infinity\n\n    constructor(public range: Range) {\n        super()\n        {\n            // https://bugzilla.mozilla.org/show_bug.cgi?id=1716685\n            const proto = FindHighlight.prototype\n            for (const key of Object.getOwnPropertyNames(proto)) {\n                this[key] = proto[key]\n            }\n        }\n        this.style.position = \"absolute\"\n        this.style.top = \"0px\"\n        this.style.left = \"0px\"\n        this.updateRectsPosition()\n        ;(this as any).unfocus()\n    }\n\n    static fromFindApi(found, allTextNode: Text[]) {\n        const range = document.createRange()\n        range.setStart(allTextNode[found.startTextNodePos], found.startOffset)\n        range.setEnd(allTextNode[found.endTextNodePos], found.endOffset)\n        return new this(range)\n    }\n\n    updateRectsPosition() {\n        const rects = this.getClientRects()\n        this.top = Infinity\n        const windowTop = window.pageYOffset\n        const windowLeft = window.pageXOffset\n        for (let i = 0; i < rects.length; i++) {\n            const rect = rects[i]\n            if (rect.top + windowTop < this.top) {\n                this.top = rect.top + windowTop\n            }\n            let highlight\n            if (i in this.children) highlight = this.children[i]\n            else {\n                highlight = document.createElement(\"span\")\n                this.appendChild(highlight)\n            }\n            highlight.className = \"TridactylFindHighlight\"\n            highlight.style.position = \"absolute\"\n            highlight.style.top = `${rect.top + windowTop}px`\n            highlight.style.left = `${rect.left + windowLeft}px`\n            highlight.style.width = `${rect.right - rect.left}px`\n            highlight.style.height = `${rect.bottom - rect.top}px`\n            highlight.style.zIndex = \"2147483645\"\n            highlight.style.pointerEvents = \"none\"\n        }\n    }\n\n    getBoundingClientRect() {\n        return this.range.getBoundingClientRect()\n    }\n    getClientRects() {\n        return this.range.getClientRects()\n    }\n    unfocus() {\n        for (const node of this.children) {\n            ;(node as HTMLElement).style.background = `rgba(127,255,255,0.5)`\n        }\n    }\n    scrollIntoView(...options) {\n        let option\n        if (options.length === 0 || options[0] === true) {\n            option = { block: \"start\", inline: \"nearest\" }\n        } else if (options[0] === false) {\n            option = { block: \"end\", inline: \"nearest\" }\n        } else option = options[0]\n\n        const fakeNode = {\n            nodeType: Node.ELEMENT_NODE,\n            getBoundingClientRect: () => this.getBoundingClientRect(),\n            parentElement: null,\n        }\n        let parent = this.range.commonAncestorContainer\n        if (parent.nodeType !== Node.ELEMENT_NODE) {\n            parent = parent.parentElement\n        }\n        fakeNode.parentElement = parent\n\n        const actions = scrollCompute(fakeNode as HTMLElement, option)\n        for (const { el: element, top, left } of actions) {\n            element.scrollTop = top\n            element.scrollLeft = left\n        }\n    }\n    focus() {\n        if (!DOM.isVisible(this)) {\n            this.scrollIntoView({ block: \"center\", inline: \"center\" })\n        }\n        const focusable = this.queryInRange(\"a,input,button,details\")\n        if (focusable) focusable.focus()\n\n        for (const node of this.children) {\n            const element = node as HTMLElement\n            element.style.background = `rgba(255,127,255,0.5)`\n        }\n    }\n    queryInRange(selector: string): HTMLElement | null {\n        const range = this.range\n        const rangeEndNode = range.endContainer\n\n        // start and end of range is always text node because fromFindApi()\n\n        const walker = document.createTreeWalker(\n            document.documentElement,\n            // eslint-disable-next-line no-bitwise\n            NodeFilter.SHOW_ELEMENT | NodeFilter.SHOW_TEXT,\n            {\n                acceptNode(node) {\n                    // stop when meet the end node; do not wait for no intersect.\n                    // or the first match node\n                    if (node.nodeType === Node.TEXT_NODE) {\n                        if (node.isSameNode(rangeEndNode)) {\n                            return NodeFilter.FILTER_ACCEPT\n                        }\n                        return NodeFilter.FILTER_SKIP\n                    }\n                    const element = node as Element\n                    if (element.matches(selector)) {\n                        return NodeFilter.FILTER_ACCEPT\n                    } else return NodeFilter.FILTER_SKIP\n                },\n            },\n        )\n\n        walker.currentNode = range.startContainer\n        if (walker.parentNode()) return walker.currentNode as HTMLElement\n        if (range.startContainer.isSameNode(rangeEndNode)) return null\n        if (walker.nextNode() && !walker.currentNode.isSameNode(rangeEndNode)) {\n            return walker.currentNode as HTMLElement\n        }\n        return null\n    }\n}\n\ncustomElements.define(\"find-highlight\", FindHighlight, { extends: \"span\" })\n\n// Highlights corresponding to the last search\nlet lastHighlights\n// Which element of `lastSearch` was last selected\nlet selected = 0\n\nlet HIGHLIGHT_TIMER\n\nexport async function jumpToMatch(searchQuery, option) {\n    const timeout = config.get(\"findhighlighttimeout\")\n    if (timeout > 0) {\n        clearTimeout(HIGHLIGHT_TIMER)\n        HIGHLIGHT_TIMER = setTimeout(removeHighlighting, timeout)\n    }\n    // First, search for the query\n    const findcase = config.get(\"findcase\")\n    const sensitive =\n        findcase === \"sensitive\" ||\n        (findcase === \"smart\" && /[A-Z]/.test(searchQuery))\n    const findPromise = await browserBg.find.find(searchQuery, {\n        tabId: await activeTabId(),\n        caseSensitive: sensitive,\n        entireWord: false,\n        includeRangeData: true,\n        includeRectData: true,\n    })\n    state.lastSearchQuery = searchQuery\n    lastHighlights = []\n    removeHighlighting()\n\n    // We need to grab all text nodes in order to find the corresponding element\n    const walker = document.createTreeWalker(\n        document,\n        NodeFilter.SHOW_TEXT,\n        null,\n        false,\n    )\n    const nodes = []\n    let node\n    do {\n        node = walker.nextNode()\n        nodes.push(node)\n    } while (node)\n\n    const results = await findPromise\n\n    const host = getFindHost()\n    for (let i = 0; i < results.count; ++i) {\n        const data = results.rectData[i]\n        if (data.rectsAndTexts.rectList.length < 1) {\n            // When a result does not have any rectangles, it's not visible\n            continue\n        }\n        const range = results.rangeData[i]\n        const high = FindHighlight.fromFindApi(range, nodes)\n        host.appendChild(high)\n        lastHighlights.push(high)\n    }\n    if (lastHighlights.length < 1) {\n        throw new Error(\"Pattern not found: \" + searchQuery)\n    }\n    lastHighlights.sort(\n        option[\"reverse\"] ? (a, b) => b.top - a.top : (a, b) => a.top - b.top,\n    )\n\n    if (\"jumpTo\" in option) {\n        selected =\n            (option[\"jumpTo\"] + lastHighlights.length) % lastHighlights.length\n        focusHighlight(selected)\n        return\n    }\n\n    // Just reuse the code to find the first match in the view\n    selected = 0\n    if (DOM.isVisible(lastHighlights[selected])) {\n        focusHighlight(selected)\n    } else {\n        const searchFromView = true\n        await jumpToNextMatch(1, searchFromView)\n    }\n}\n\nfunction drawHighlights(highlights) {\n    const host = getFindHost()\n    highlights.forEach(elem => host.appendChild(elem))\n}\n\nexport function removeHighlighting() {\n    const host = getFindHost()\n    while (host.firstChild) host.removeChild(host.firstChild)\n}\n\nexport function focusHighlight(index) {\n    lastHighlights[index].focus()\n    repositionHighlight()\n}\n\nexport function repositionHighlight() {\n    for (const node of lastHighlights) {\n        node.updateRectsPosition()\n    }\n}\n\nexport async function jumpToNextMatch(n: number, searchFromView = false) {\n    const lastSearchQuery = await State.getAsync(\"lastSearchQuery\")\n    if (!lastSearchQuery) return\n    if (!lastHighlights) {\n        await jumpToMatch(lastSearchQuery, { reverse: n < 0 })\n        if (Math.abs(n) === 1) return\n        n = n - n / Math.abs(n)\n        searchFromView = false\n    }\n    if (!host.firstChild) {\n        const timeout = config.get(\"findhighlighttimeout\")\n        if (timeout > 0) {\n            clearTimeout(HIGHLIGHT_TIMER)\n            HIGHLIGHT_TIMER = setTimeout(removeHighlighting, timeout)\n        }\n        drawHighlights(lastHighlights)\n    }\n    if (lastHighlights[selected] === undefined) {\n        removeHighlighting()\n        throw new Error(\"Pattern not found: \" + lastSearchQuery)\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    ;(lastHighlights[selected] as any).unfocus()\n\n    if (!searchFromView || DOM.isVisible(lastHighlights[selected])) {\n        // if the last selected is inside the view,\n        // count nth match from the last selected.\n        selected =\n            (selected + n + lastHighlights.length) % lastHighlights.length\n    } else {\n        repositionHighlight()\n        const length = lastHighlights.length\n        const reverse = lastHighlights[length - 1].top < lastHighlights[0].top\n        const negative = n < 0\n        const downward = (!reverse && !negative) || (reverse && negative)\n        const yOffset = window.pageYOffset + (downward ? 0 : window.innerHeight)\n        const start = negative ? length - 1 : 0\n        const increment = negative ? -1 : 1\n        selected = (n - 1 + length) % length\n        for (let i = start; i in lastHighlights; i += increment) {\n            if (lastHighlights[i].top > yOffset == downward) {\n                selected = (i + n - increment + length) % length\n                break\n            }\n        }\n    }\n\n    focusHighlight(selected)\n}\n\nexport function currentMatchRange(): Range {\n    return lastHighlights[selected].range\n}\n", "/**\n * Copyright (c) 2018 by Ebram Marzouk (https://codepen.io/P3R0/pen/MwgoKv)\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy of this software and associated documentation files (the \"Software\"), to deal in the Software without restriction, including without limitation the rights to use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\n */\n\nexport function jack_in() {\n    // chinese characters - taken from the unicode charset\n    const chinese =\n        \"\u7530\u7531\u7532\u7533\u7534\u7535\u7536\u7537\u7538\u7539\u753A\u753B\u753C\u753D\u753E\u753F\u7540\u7541\u7542\u7543\u7544\u7545\u7546\u7547\u7548\u7549\u754A\u754B\u754C\u754D\u754E\u754F\u7550\u7551\".split(\n            \"\",\n        )\n    const colour = \"#0F0\" // green text\n    rain(makeBlock(), chinese, colour)\n}\n\nexport function music() {\n    // music characters - taken from the unicode charset\n    const music = \"\uD834\uDD1E\uD834\uDD1F\uD834\uDD30\uD834\uDD60\uD834\uDD61\uD834\uDD62\uD834\uDD3D\".split(\"\")\n    const colour = \"#ead115\"\n    rain(makeBlock(), music, colour)\n}\n\nexport function no_mouse() {\n    makeBlock()\n}\n\nfunction makeBlock() {\n    const overlaydiv = document.createElement(\"div\")\n    overlaydiv.className = \"_tridactyl_no_mouse_\"\n    overlaydiv.style.position = \"fixed\"\n    overlaydiv.style.display = \"block\"\n    overlaydiv.style.width = String(window.innerWidth)\n    overlaydiv.style.height = String(document.documentElement.scrollHeight)\n    overlaydiv.style.top = \"0px\"\n    overlaydiv.style.bottom = \"0px\"\n    overlaydiv.style.left = \"0px\"\n    overlaydiv.style.right = \"0px\"\n    overlaydiv.style.zIndex = \"1000\"\n    overlaydiv.style.opacity = \"0.5\"\n    overlaydiv.style.cursor = \"none\"\n    document.body.appendChild(overlaydiv)\n    return overlaydiv\n}\n\nexport function drawable() {\n    eraser = false\n    make_drawable(makeBlock())\n}\n\nconst clickX = []\nconst clickY = []\nconst clickDrag = []\nlet ink\n\nlet eraser = false\nexport function eraser_toggle() {\n    eraser = !eraser\n}\n\nfunction addClick(x, y, dragging) {\n    clickX.push(x)\n    clickY.push(y)\n    clickDrag.push(dragging)\n}\n\nfunction redraw(context) {\n    if (eraser) {\n        context.globalCompositeOperation = \"destination-out\"\n        context.lineWidth = 18\n    } else {\n        context.globalCompositeOperation = \"source-over\"\n        context.lineWidth = 3\n    }\n    context.strokeStyle = \"#000000\"\n    context.lineJoin = \"miter\"\n    for (let i = 0; i < clickX.length; i++) {\n        context.beginPath()\n        if (clickDrag[i] && i) {\n            context.moveTo(clickX[i - 1], clickY[i - 1])\n        } else {\n            context.moveTo(clickX[i] - 1, clickY[i])\n        }\n        context.lineTo(clickX[i], clickY[i])\n        context.closePath()\n        context.stroke()\n    }\n}\nfunction handleDown(e, context) {\n    ink = true\n    addClick(e.pageX, e.pageY, false)\n    redraw(context)\n    e.preventDefault()\n    e.stopPropagation()\n}\nfunction handleUp(e) {\n    ink = false\n    clickX.length = 0\n    clickY.length = 0\n    clickDrag.length = 0\n    e.stopPropagation()\n    e.preventDefault()\n}\nfunction handleMove(e, context) {\n    if (ink) {\n        addClick(e.pageX, e.pageY, true)\n        redraw(context)\n    }\n    e.preventDefault()\n    e.stopPropagation()\n}\nfunction make_drawable(overlaydiv) {\n    overlaydiv.style.position = \"absolute\"\n    overlaydiv.style.opacity = \"0.8\"\n    const c = document.createElement(\"canvas\")\n    overlaydiv.appendChild(c)\n    const context = c.getContext(\"2d\")\n    // making the canvas full screen\n    c.height = document.documentElement.scrollHeight\n    c.width = window.innerWidth * 0.98 // workaround to fix canvas overflow\n    c.style.touchAction = \"none\" // for pen tablet to work\n    c.addEventListener(\"pointerdown\", e => handleDown(e, context))\n    c.addEventListener(\"pointerup\", handleUp)\n    c.addEventListener(\"pointermove\", e => handleMove(e, context))\n}\n\nexport function removeBlock() {\n    Array.from(document.getElementsByClassName(\"_tridactyl_no_mouse_\")).forEach(\n        (el: Element & { intid?: number | null }) => {\n            if (typeof el.intid === \"number\") {\n                clearInterval(el.intid)\n            }\n            el.remove()\n        },\n    )\n}\n\nexport const snow = () => rain(makeBlock(), [\"\u2744\"], \"#FFF\", 0.15)\n\nfunction rain(overlaydiv, characters: string[], colour, darkening = 0.05) {\n    const c = document.createElement(\"canvas\")\n    overlaydiv.appendChild(c)\n    const ctx = c.getContext(\"2d\")\n\n    // making the canvas full screen\n    c.height = window.innerHeight\n    c.width = window.innerWidth\n\n    // converting the string into an array of single characters\n\n    const font_size = 10\n    const columns = c.width / font_size // number of columns for the rain\n    // an array of drops - one per column\n    const drops = []\n    // x below is the x coordinate\n    // 1 = y co-ordinate of the drop(same for every drop initially)\n    for (let x = 0; x < columns; x++) drops[x] = 1\n\n    // drawing the characters\n    function draw() {\n        // Black BG for the canvas\n        // translucent BG to show trail\n        ctx.fillStyle = \"rgba(0, 0, 0, \" + darkening + \")\"\n        ctx.fillRect(0, 0, c.width, c.height)\n\n        ctx.fillStyle = colour\n        ctx.font = font_size + \"px arial\"\n        // looping over drops\n        for (let i = 0; i < drops.length; i++) {\n            // a random chinese character to print\n            const text =\n                characters[Math.floor(Math.random() * characters.length)]\n            // x = i*font_size, y = value of drops[i]*font_size\n            ctx.fillText(text, i * font_size, drops[i] * font_size)\n\n            // sending the drop back to the top randomly after it has crossed the screen\n            // adding a randomness to the reset to make the drops scattered on the Y axis\n            if (drops[i] * font_size > c.height && Math.random() > 0.975)\n                drops[i] = 0\n\n            // incrementing Y coordinate\n            drops[i]++\n        }\n    }\n    overlaydiv.intid = setInterval(draw, 33)\n}\n", "export class GenericAbstractEditor {\n    constructor(_e, _options) { }\n    ;\n    static matches(_) {\n        throw new Error(\"Matches function not overriden\");\n    }\n    ;\n}\n/* istanbul ignore next */\nexport class AceEditor extends GenericAbstractEditor {\n    constructor(e, _options) {\n        super(e, _options);\n        // This function will be stringified and inserted in page context so we\n        // can't instrument it.\n        /* istanbul ignore next */\n        this.getAce = (selec) => {\n        };\n        this.getContent = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            const ace = elem.aceEditor || unwrap(window).ace.edit(elem);\n            return wrap(ace.getValue());\n        };\n        this.getCursor = async (selector, wrap, unwrap) => {\n            let position;\n            const elem = document.querySelector(selector);\n            const ace = elem.aceEditor || unwrap(window).ace.edit(elem);\n            if (ace.getCursorPosition !== undefined) {\n                position = ace.getCursorPosition();\n            }\n            else {\n                position = ace.selection.cursor;\n            }\n            return [wrap(position.row) + 1, wrap(position.column)];\n        };\n        this.getElement = () => {\n            return this.elem;\n        };\n        this.getLanguage = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            const ace = elem.aceEditor || unwrap(window).ace.edit(elem);\n            return wrap(ace.session.$modeId).split(\"/\").slice(-1)[0];\n        };\n        this.setContent = async (selector, wrap, unwrap, text) => {\n            const elem = document.querySelector(selector);\n            const ace = elem.aceEditor || unwrap(window).ace.edit(elem);\n            return wrap(ace.setValue(text, 1));\n        };\n        this.setCursor = async (selector, wrap, unwrap, line, column) => {\n            const elem = document.querySelector(selector);\n            const ace = elem.aceEditor || unwrap(window).ace.edit(elem);\n            const selection = ace.getSelection();\n            return wrap(selection.moveCursorTo(line - 1, column, false));\n        };\n        this.elem = e;\n        // Get the topmost ace element\n        let parent = this.elem.parentElement;\n        while (AceEditor.matches(parent)) {\n            this.elem = parent;\n            parent = parent.parentElement;\n        }\n    }\n    static matches(e) {\n        let parent = e;\n        for (let i = 0; i < 3; ++i) {\n            if (parent !== undefined && parent !== null) {\n                if ((/ace_editor/gi).test(parent.className)) {\n                    return true;\n                }\n                parent = parent.parentElement;\n            }\n        }\n        return false;\n    }\n}\n/* istanbul ignore next */\nexport class CodeMirror6Editor extends GenericAbstractEditor {\n    constructor(e, options) {\n        super(e, options);\n        this.getContent = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            return wrap(unwrap(elem).cmView.view.state.doc.toString());\n        };\n        this.getCursor = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            const position = unwrap(elem).cmView.view.state.selection.main.head;\n            return [wrap(position.line), wrap(position.ch)];\n        };\n        this.getElement = () => {\n            return this.elem;\n        };\n        this.getLanguage = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            return wrap(unwrap(elem).dataset.language);\n        };\n        this.setContent = async (selector, wrap, unwrap, text) => {\n            const elem = unwrap(document.querySelector(selector));\n            let length = elem.cmView.view.state.doc.length;\n            return wrap(elem.cmView.view.dispatch({ changes: { from: 0, to: length, insert: text } }));\n        };\n        this.setCursor = async (selector, wrap, unwrap, line, column) => {\n            const elem = unwrap(document.querySelector(selector));\n            return wrap(elem.vmView.view.dispatch({\n                selection: {\n                    anchor: elem.cmView.view.doc.line(line) + column\n                }\n            }));\n        };\n        this.elem = e;\n        // Get the topmost CodeMirror element\n        let parent = this.elem.parentElement;\n        while (CodeMirror6Editor.matches(parent)) {\n            this.elem = parent;\n            parent = parent.parentElement;\n        }\n    }\n    static matches(e) {\n        let parent = e;\n        for (let i = 0; i < 3; ++i) {\n            if (parent !== undefined && parent !== null) {\n                if ((/^(.* )?cm-content/gi).test(parent.className)) {\n                    return true;\n                }\n                parent = parent.parentElement;\n            }\n        }\n        return false;\n    }\n}\n/* istanbul ignore next */\nexport class CodeMirrorEditor extends GenericAbstractEditor {\n    constructor(e, options) {\n        super(e, options);\n        this.getContent = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            return wrap(unwrap(elem).CodeMirror.getValue());\n        };\n        this.getCursor = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            const position = unwrap(elem).CodeMirror.getCursor();\n            return [wrap(position.line) + 1, wrap(position.ch)];\n        };\n        this.getElement = () => {\n            return this.elem;\n        };\n        this.getLanguage = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            return wrap(unwrap(elem).CodeMirror.getMode().name);\n        };\n        this.setContent = async (selector, wrap, unwrap, text) => {\n            const elem = document.querySelector(selector);\n            return wrap(unwrap(elem).CodeMirror.setValue(text));\n        };\n        this.setCursor = async (selector, wrap, unwrap, line, column) => {\n            const elem = document.querySelector(selector);\n            return wrap(unwrap(elem).CodeMirror.setCursor({ line: line - 1, ch: column }));\n        };\n        this.elem = e;\n        // Get the topmost CodeMirror element\n        let parent = this.elem.parentElement;\n        while (CodeMirrorEditor.matches(parent)) {\n            this.elem = parent;\n            parent = parent.parentElement;\n        }\n    }\n    static matches(e) {\n        let parent = e;\n        for (let i = 0; i < 3; ++i) {\n            if (parent !== undefined && parent !== null) {\n                if ((/^(.* )?CodeMirror/gi).test(parent.className)) {\n                    return true;\n                }\n                parent = parent.parentElement;\n            }\n        }\n        return false;\n    }\n}\n/* istanbul ignore next */\nexport class MonacoEditor extends GenericAbstractEditor {\n    constructor(e, options) {\n        super(e, options);\n        this.getContent = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            const uri = elem.getAttribute(\"data-uri\");\n            const model = unwrap(window).monaco.editor.getModel(uri);\n            return wrap(model.getValue());\n        };\n        // It's impossible to get Monaco's cursor position:\n        // https://github.com/Microsoft/monaco-editor/issues/258\n        this.getCursor = async (selector, wrap, unwrap) => {\n            return [1, 0];\n        };\n        this.getElement = () => {\n            return this.elem;\n        };\n        this.getLanguage = async (selector, wrap, unwrap) => {\n            const elem = document.querySelector(selector);\n            const uri = elem.getAttribute(\"data-uri\");\n            const model = unwrap(window).monaco.editor.getModel(uri);\n            return wrap(model.getModeId());\n        };\n        this.setContent = async (selector, wrap, unwrap, text) => {\n            const elem = document.querySelector(selector);\n            const uri = elem.getAttribute(\"data-uri\");\n            const model = unwrap(window).monaco.editor.getModel(uri);\n            return wrap(model.setValue(text));\n        };\n        // It's impossible to set Monaco's cursor position:\n        // https://github.com/Microsoft/monaco-editor/issues/258\n        this.setCursor = async (_selector, _wrap, _unwrap, _line, _column) => {\n            return undefined;\n        };\n        this.elem = e;\n        // Find the monaco element that holds the data\n        let parent = this.elem.parentElement;\n        while (!(this.elem.className.match(/monaco-editor/gi)\n            && this.elem.getAttribute(\"data-uri\").match(\"file://|inmemory://|gitlab:\"))) {\n            this.elem = parent;\n            parent = parent.parentElement;\n        }\n    }\n    static matches(e) {\n        let parent = e;\n        for (let i = 0; i < 4; ++i) {\n            if (parent !== undefined && parent !== null) {\n                if ((/monaco-editor/gi).test(parent.className)) {\n                    return true;\n                }\n                parent = parent.parentElement;\n            }\n        }\n        return false;\n    }\n}\n// TextareaEditor sort of works for contentEditable elements but there should\n// really be a contenteditable-specific editor.\n/* istanbul ignore next */\nexport class TextareaEditor {\n    constructor(e, options) {\n        this.getContent = async () => {\n            if (this.elem.value !== undefined) {\n                return Promise.resolve(this.elem.value);\n            }\n            if (this.options.preferHTML) {\n                return Promise.resolve(this.elem.innerHTML);\n            }\n            else {\n                return Promise.resolve(this.elem.innerText);\n            }\n        };\n        this.getCursor = async () => {\n            return this.getContent().then(text => {\n                let line = 1;\n                let column = 0;\n                const selectionStart = this.elem.selectionStart !== undefined\n                    ? this.elem.selectionStart\n                    : 0;\n                // Sift through the text, counting columns and new lines\n                for (let cursor = 0; cursor < selectionStart; ++cursor) {\n                    column += text.charCodeAt(cursor) < 0x7F ? 1 : 2;\n                    if (text[cursor] === \"\\n\") {\n                        line += 1;\n                        column = 0;\n                    }\n                }\n                return [line, column];\n            });\n        };\n        this.getElement = () => {\n            return this.elem;\n        };\n        this.getLanguage = async () => {\n            if (this.options.preferHTML) {\n                return Promise.resolve('html');\n            }\n            return Promise.resolve(undefined);\n        };\n        this.setContent = async (text) => {\n            if (this.elem.value !== undefined) {\n                this.elem.value = text;\n            }\n            else {\n                if (this.options.preferHTML) {\n                    this.elem.innerHTML = text;\n                }\n                else {\n                    this.elem.innerText = text;\n                }\n            }\n            return Promise.resolve();\n        };\n        this.setCursor = async (line, column) => {\n            return this.getContent().then(text => {\n                let character = 0;\n                // Try to find the line the cursor should be put on\n                while (line > 1 && character < text.length) {\n                    if (text[character] === \"\\n\") {\n                        line -= 1;\n                    }\n                    character += 1;\n                }\n                // Try to find the character after which the cursor should be moved\n                // Note: we don't do column = columnn + character because column\n                // might be larger than actual line length and it's better to be on\n                // the right line but on the wrong column than on the wrong line\n                // and wrong column.\n                // Moreover, column is a number of UTF-8 bytes from the beginning\n                // of the line to the cursor. However, javascript uses UTF-16,\n                // which is 2 bytes per non-ascii character. So when we find a\n                // character that is more than 1 byte long, we have to remove that\n                // amount from column, but only two characters from CHARACTER!\n                while (column > 0 && character < text.length) {\n                    // Can't happen, but better be safe than sorry\n                    /* istanbul ignore next */\n                    if (text[character] === \"\\n\") {\n                        break;\n                    }\n                    const code = text.charCodeAt(character);\n                    if (code <= 0x7f) {\n                        column -= 1;\n                    }\n                    else if (code <= 0x7ff) {\n                        column -= 2;\n                    }\n                    else if (code >= 0xd800 && code <= 0xdfff) {\n                        column -= 4;\n                        character++;\n                    }\n                    else if (code < 0xffff) {\n                        column -= 3;\n                    }\n                    else {\n                        column -= 4;\n                    }\n                    character += 1;\n                }\n                if (this.elem.setSelectionRange !== undefined) {\n                    this.elem.setSelectionRange(character, character);\n                }\n                return undefined;\n            });\n        };\n        this.options = options;\n        this.elem = e;\n    }\n    static matches(_) {\n        return true;\n    }\n}\n// Computes a unique selector for its argument.\nexport function computeSelector(element) {\n    function uniqueSelector(e) {\n        // Only matching alphanumeric selectors because others chars might have special meaning in CSS\n        if (e.id && e.id.match(\"^[a-zA-Z0-9_-]+$\")) {\n            const id = e.tagName + `[id=\"${e.id}\"]`;\n            if (document.querySelectorAll(id).length === 1) {\n                return id;\n            }\n        }\n        // If we reached the top of the document\n        if (!e.parentElement) {\n            return \"HTML\";\n        }\n        // Compute the position of the element\n        const index = Array.from(e.parentElement.children)\n            .filter(child => child.tagName === e.tagName)\n            .indexOf(e) + 1;\n        return `${uniqueSelector(e.parentElement)} > ${e.tagName}:nth-of-type(${index})`;\n    }\n    return uniqueSelector(element);\n}\n// Runs CODE in the page's context by setting up a custom event listener,\n// embedding a script element that runs the piece of code and emits its result\n// as an event.\n/* istanbul ignore next */\nexport function executeInPage(code) {\n    return new Promise((resolve, reject) => {\n        const script = document.createElement(\"script\");\n        const eventId = `${Math.random()}`;\n        script.innerHTML = `(async (evId) => {\n            try {\n                let unwrap = x => x;\n                let wrap = x => x;\n                let result;\n                result = await ${code};\n                window.dispatchEvent(new CustomEvent(evId, {\n                    detail: {\n                        success: true,\n                        result,\n                    }\n                }));\n            } catch (e) {\n                window.dispatchEvent(new CustomEvent(evId, {\n                    detail: { success: false, reason: e },\n                }));\n            }\n        })(${JSON.stringify(eventId)})`;\n        window.addEventListener(eventId, ({ detail }) => {\n            script.parentNode.removeChild(script);\n            if (detail.success) {\n                return resolve(detail.result);\n            }\n            return reject(detail.reason);\n        }, { once: true });\n        document.head.appendChild(script);\n    });\n}\nexport function unwrap(x) {\n    if (window.wrappedJSObject) {\n        return x.wrappedJSObject;\n    }\n    return x;\n}\nexport function wrap(x) {\n    if (window.XPCNativeWrapper) {\n        return window.XPCNativeWrapper(x);\n    }\n    return x;\n}\n;\n/* WARNING: codeMirror6 only works in chrome based browsers for now. Leave it\n * to false or undefined in Firefox. */\nexport function getEditor(elem, options) {\n    let editor;\n    let classes = [AceEditor, CodeMirrorEditor, MonacoEditor];\n    if (options.codeMirror6Enabled) {\n        classes.push(CodeMirror6Editor);\n    }\n    for (let clazz of classes) {\n        if (clazz.matches(elem)) {\n            editor = clazz;\n            break;\n        }\n    }\n    if (editor === undefined) {\n        return new TextareaEditor(elem, options);\n    }\n    let ed = new editor(elem, options);\n    let result;\n    if (window.wrappedJSObject) {\n        result = new Proxy(ed, {\n            get: (target, prop) => (...args) => {\n                return target[prop](computeSelector(target.getElement()), wrap, unwrap, ...args);\n            }\n        });\n    }\n    else {\n        result = new Proxy(ed, {\n            get: (target, prop) => {\n                if (prop === \"getElement\") {\n                    return target[prop];\n                }\n                return (...args) => {\n                    /* istanbul ignore next */\n                    return executeInPage(`(${target[prop]})(${JSON.stringify(computeSelector(target.getElement()))}, x => x, x => x, ...${JSON.stringify(args)})`);\n                };\n            }\n        });\n    }\n    return result;\n}\n", "/*eslint-env es6:false*/\n/*\n * Copyright (c) 2010 Arc90 Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n * This code is heavily based on Arc90's readability.js (1.7.1) script\n * available at: http://code.google.com/p/arc90labs-readability\n */\n\n/**\n * Public constructor.\n * @param {HTMLDocument} doc     The document to parse.\n * @param {Object}       options The options object.\n */\nfunction Readability(doc, options) {\n  // In some older versions, people passed a URI as the first argument. Cope:\n  if (options && options.documentElement) {\n    doc = options;\n    options = arguments[2];\n  } else if (!doc || !doc.documentElement) {\n    throw new Error(\"First argument to Readability constructor should be a document object.\");\n  }\n  options = options || {};\n\n  this._doc = doc;\n  this._docJSDOMParser = this._doc.firstChild.__JSDOMParser__;\n  this._articleTitle = null;\n  this._articleByline = null;\n  this._articleDir = null;\n  this._articleSiteName = null;\n  this._attempts = [];\n\n  // Configurable options\n  this._debug = !!options.debug;\n  this._maxElemsToParse = options.maxElemsToParse || this.DEFAULT_MAX_ELEMS_TO_PARSE;\n  this._nbTopCandidates = options.nbTopCandidates || this.DEFAULT_N_TOP_CANDIDATES;\n  this._charThreshold = options.charThreshold || this.DEFAULT_CHAR_THRESHOLD;\n  this._classesToPreserve = this.CLASSES_TO_PRESERVE.concat(options.classesToPreserve || []);\n  this._keepClasses = !!options.keepClasses;\n  this._serializer = options.serializer || function(el) {\n    return el.innerHTML;\n  };\n  this._disableJSONLD = !!options.disableJSONLD;\n\n  // Start with all flags set\n  this._flags = this.FLAG_STRIP_UNLIKELYS |\n                this.FLAG_WEIGHT_CLASSES |\n                this.FLAG_CLEAN_CONDITIONALLY;\n\n\n  // Control whether log messages are sent to the console\n  if (this._debug) {\n    let logNode = function(node) {\n      if (node.nodeType == node.TEXT_NODE) {\n        return `${node.nodeName} (\"${node.textContent}\")`;\n      }\n      let attrPairs = Array.from(node.attributes || [], function(attr) {\n        return `${attr.name}=\"${attr.value}\"`;\n      }).join(\" \");\n      return `<${node.localName} ${attrPairs}>`;\n    };\n    this.log = function () {\n      if (typeof dump !== \"undefined\") {\n        var msg = Array.prototype.map.call(arguments, function(x) {\n          return (x && x.nodeName) ? logNode(x) : x;\n        }).join(\" \");\n        dump(\"Reader: (Readability) \" + msg + \"\\n\");\n      } else if (typeof console !== \"undefined\") {\n        let args = Array.from(arguments, arg => {\n          if (arg && arg.nodeType == this.ELEMENT_NODE) {\n            return logNode(arg);\n          }\n          return arg;\n        });\n        args.unshift(\"Reader: (Readability)\");\n        console.log.apply(console, args);\n      }\n    };\n  } else {\n    this.log = function () {};\n  }\n}\n\nReadability.prototype = {\n  FLAG_STRIP_UNLIKELYS: 0x1,\n  FLAG_WEIGHT_CLASSES: 0x2,\n  FLAG_CLEAN_CONDITIONALLY: 0x4,\n\n  // https://developer.mozilla.org/en-US/docs/Web/API/Node/nodeType\n  ELEMENT_NODE: 1,\n  TEXT_NODE: 3,\n\n  // Max number of nodes supported by this parser. Default: 0 (no limit)\n  DEFAULT_MAX_ELEMS_TO_PARSE: 0,\n\n  // The number of top candidates to consider when analysing how\n  // tight the competition is among candidates.\n  DEFAULT_N_TOP_CANDIDATES: 5,\n\n  // Element tags to score by default.\n  DEFAULT_TAGS_TO_SCORE: \"section,h2,h3,h4,h5,h6,p,td,pre\".toUpperCase().split(\",\"),\n\n  // The default number of chars an article must have in order to return a result\n  DEFAULT_CHAR_THRESHOLD: 500,\n\n  // All of the regular expressions in use within readability.\n  // Defined up here so we don't instantiate them repeatedly in loops.\n  REGEXPS: {\n    // NOTE: These two regular expressions are duplicated in\n    // Readability-readerable.js. Please keep both copies in sync.\n    unlikelyCandidates: /-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n    okMaybeItsACandidate: /and|article|body|column|content|main|shadow/i,\n\n    positive: /article|body|content|entry|hentry|h-entry|main|page|pagination|post|text|blog|story/i,\n    negative: /-ad-|hidden|^hid$| hid$| hid |^hid |banner|combx|comment|com-|contact|foot|footer|footnote|gdpr|masthead|media|meta|outbrain|promo|related|scroll|share|shoutbox|sidebar|skyscraper|sponsor|shopping|tags|tool|widget/i,\n    extraneous: /print|archive|comment|discuss|e[\\-]?mail|share|reply|all|login|sign|single|utility/i,\n    byline: /byline|author|dateline|writtenby|p-author/i,\n    replaceFonts: /<(\\/?)font[^>]*>/gi,\n    normalize: /\\s{2,}/g,\n    videos: /\\/\\/(www\\.)?((dailymotion|youtube|youtube-nocookie|player\\.vimeo|v\\.qq)\\.com|(archive|upload\\.wikimedia)\\.org|player\\.twitch\\.tv)/i,\n    shareElements: /(\\b|_)(share|sharedaddy)(\\b|_)/i,\n    nextLink: /(next|weiter|continue|>([^\\|]|$)|\u00BB([^\\|]|$))/i,\n    prevLink: /(prev|earl|old|new|<|\u00AB)/i,\n    tokenize: /\\W+/g,\n    whitespace: /^\\s*$/,\n    hasContent: /\\S$/,\n    hashUrl: /^#.+/,\n    srcsetUrl: /(\\S+)(\\s+[\\d.]+[xw])?(\\s*(?:,|$))/g,\n    b64DataUrl: /^data:\\s*([^\\s;,]+)\\s*;\\s*base64\\s*,/i,\n    // See: https://schema.org/Article\n    jsonLdArticleTypes: /^Article|AdvertiserContentArticle|NewsArticle|AnalysisNewsArticle|AskPublicNewsArticle|BackgroundNewsArticle|OpinionNewsArticle|ReportageNewsArticle|ReviewNewsArticle|Report|SatiricalArticle|ScholarlyArticle|MedicalScholarlyArticle|SocialMediaPosting|BlogPosting|LiveBlogPosting|DiscussionForumPosting|TechArticle|APIReference$/\n  },\n\n  UNLIKELY_ROLES: [ \"menu\", \"menubar\", \"complementary\", \"navigation\", \"alert\", \"alertdialog\", \"dialog\" ],\n\n  DIV_TO_P_ELEMS: new Set([ \"BLOCKQUOTE\", \"DL\", \"DIV\", \"IMG\", \"OL\", \"P\", \"PRE\", \"TABLE\", \"UL\" ]),\n\n  ALTER_TO_DIV_EXCEPTIONS: [\"DIV\", \"ARTICLE\", \"SECTION\", \"P\"],\n\n  PRESENTATIONAL_ATTRIBUTES: [ \"align\", \"background\", \"bgcolor\", \"border\", \"cellpadding\", \"cellspacing\", \"frame\", \"hspace\", \"rules\", \"style\", \"valign\", \"vspace\" ],\n\n  DEPRECATED_SIZE_ATTRIBUTE_ELEMS: [ \"TABLE\", \"TH\", \"TD\", \"HR\", \"PRE\" ],\n\n  // The commented out elements qualify as phrasing content but tend to be\n  // removed by readability when put into paragraphs, so we ignore them here.\n  PHRASING_ELEMS: [\n    // \"CANVAS\", \"IFRAME\", \"SVG\", \"VIDEO\",\n    \"ABBR\", \"AUDIO\", \"B\", \"BDO\", \"BR\", \"BUTTON\", \"CITE\", \"CODE\", \"DATA\",\n    \"DATALIST\", \"DFN\", \"EM\", \"EMBED\", \"I\", \"IMG\", \"INPUT\", \"KBD\", \"LABEL\",\n    \"MARK\", \"MATH\", \"METER\", \"NOSCRIPT\", \"OBJECT\", \"OUTPUT\", \"PROGRESS\", \"Q\",\n    \"RUBY\", \"SAMP\", \"SCRIPT\", \"SELECT\", \"SMALL\", \"SPAN\", \"STRONG\", \"SUB\",\n    \"SUP\", \"TEXTAREA\", \"TIME\", \"VAR\", \"WBR\"\n  ],\n\n  // These are the classes that readability sets itself.\n  CLASSES_TO_PRESERVE: [ \"page\" ],\n\n  // These are the list of HTML entities that need to be escaped.\n  HTML_ESCAPE_MAP: {\n    \"lt\": \"<\",\n    \"gt\": \">\",\n    \"amp\": \"&\",\n    \"quot\": '\"',\n    \"apos\": \"'\",\n  },\n\n  /**\n   * Run any post-process modifications to article content as necessary.\n   *\n   * @param Element\n   * @return void\n  **/\n  _postProcessContent: function(articleContent) {\n    // Readability cannot open relative uris so we convert them to absolute uris.\n    this._fixRelativeUris(articleContent);\n\n    this._simplifyNestedElements(articleContent);\n\n    if (!this._keepClasses) {\n      // Remove classes.\n      this._cleanClasses(articleContent);\n    }\n  },\n\n  /**\n   * Iterates over a NodeList, calls `filterFn` for each node and removes node\n   * if function returned `true`.\n   *\n   * If function is not passed, removes all the nodes in node list.\n   *\n   * @param NodeList nodeList The nodes to operate on\n   * @param Function filterFn the function to use as a filter\n   * @return void\n   */\n  _removeNodes: function(nodeList, filterFn) {\n    // Avoid ever operating on live node lists.\n    if (this._docJSDOMParser && nodeList._isLiveNodeList) {\n      throw new Error(\"Do not pass live node lists to _removeNodes\");\n    }\n    for (var i = nodeList.length - 1; i >= 0; i--) {\n      var node = nodeList[i];\n      var parentNode = node.parentNode;\n      if (parentNode) {\n        if (!filterFn || filterFn.call(this, node, i, nodeList)) {\n          parentNode.removeChild(node);\n        }\n      }\n    }\n  },\n\n  /**\n   * Iterates over a NodeList, and calls _setNodeTag for each node.\n   *\n   * @param NodeList nodeList The nodes to operate on\n   * @param String newTagName the new tag name to use\n   * @return void\n   */\n  _replaceNodeTags: function(nodeList, newTagName) {\n    // Avoid ever operating on live node lists.\n    if (this._docJSDOMParser && nodeList._isLiveNodeList) {\n      throw new Error(\"Do not pass live node lists to _replaceNodeTags\");\n    }\n    for (const node of nodeList) {\n      this._setNodeTag(node, newTagName);\n    }\n  },\n\n  /**\n   * Iterate over a NodeList, which doesn't natively fully implement the Array\n   * interface.\n   *\n   * For convenience, the current object context is applied to the provided\n   * iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return void\n   */\n  _forEachNode: function(nodeList, fn) {\n    Array.prototype.forEach.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, and return the first node that passes\n   * the supplied test function\n   *\n   * For convenience, the current object context is applied to the provided\n   * test function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The test function.\n   * @return void\n   */\n  _findNode: function(nodeList, fn) {\n    return Array.prototype.find.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, return true if any of the provided iterate\n   * function calls returns true, false otherwise.\n   *\n   * For convenience, the current object context is applied to the\n   * provided iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return Boolean\n   */\n  _someNode: function(nodeList, fn) {\n    return Array.prototype.some.call(nodeList, fn, this);\n  },\n\n  /**\n   * Iterate over a NodeList, return true if all of the provided iterate\n   * function calls return true, false otherwise.\n   *\n   * For convenience, the current object context is applied to the\n   * provided iterate function.\n   *\n   * @param  NodeList nodeList The NodeList.\n   * @param  Function fn       The iterate function.\n   * @return Boolean\n   */\n  _everyNode: function(nodeList, fn) {\n    return Array.prototype.every.call(nodeList, fn, this);\n  },\n\n  /**\n   * Concat all nodelists passed as arguments.\n   *\n   * @return ...NodeList\n   * @return Array\n   */\n  _concatNodeLists: function() {\n    var slice = Array.prototype.slice;\n    var args = slice.call(arguments);\n    var nodeLists = args.map(function(list) {\n      return slice.call(list);\n    });\n    return Array.prototype.concat.apply([], nodeLists);\n  },\n\n  _getAllNodesWithTag: function(node, tagNames) {\n    if (node.querySelectorAll) {\n      return node.querySelectorAll(tagNames.join(\",\"));\n    }\n    return [].concat.apply([], tagNames.map(function(tag) {\n      var collection = node.getElementsByTagName(tag);\n      return Array.isArray(collection) ? collection : Array.from(collection);\n    }));\n  },\n\n  /**\n   * Removes the class=\"\" attribute from every element in the given\n   * subtree, except those that match CLASSES_TO_PRESERVE and\n   * the classesToPreserve array from the options object.\n   *\n   * @param Element\n   * @return void\n   */\n  _cleanClasses: function(node) {\n    var classesToPreserve = this._classesToPreserve;\n    var className = (node.getAttribute(\"class\") || \"\")\n      .split(/\\s+/)\n      .filter(function(cls) {\n        return classesToPreserve.indexOf(cls) != -1;\n      })\n      .join(\" \");\n\n    if (className) {\n      node.setAttribute(\"class\", className);\n    } else {\n      node.removeAttribute(\"class\");\n    }\n\n    for (node = node.firstElementChild; node; node = node.nextElementSibling) {\n      this._cleanClasses(node);\n    }\n  },\n\n  /**\n   * Converts each <a> and <img> uri in the given element to an absolute URI,\n   * ignoring #ref URIs.\n   *\n   * @param Element\n   * @return void\n   */\n  _fixRelativeUris: function(articleContent) {\n    var baseURI = this._doc.baseURI;\n    var documentURI = this._doc.documentURI;\n    function toAbsoluteURI(uri) {\n      // Leave hash links alone if the base URI matches the document URI:\n      if (baseURI == documentURI && uri.charAt(0) == \"#\") {\n        return uri;\n      }\n\n      // Otherwise, resolve against base URI:\n      try {\n        return new URL(uri, baseURI).href;\n      } catch (ex) {\n        // Something went wrong, just return the original:\n      }\n      return uri;\n    }\n\n    var links = this._getAllNodesWithTag(articleContent, [\"a\"]);\n    this._forEachNode(links, function(link) {\n      var href = link.getAttribute(\"href\");\n      if (href) {\n        // Remove links with javascript: URIs, since\n        // they won't work after scripts have been removed from the page.\n        if (href.indexOf(\"javascript:\") === 0) {\n          // if the link only contains simple text content, it can be converted to a text node\n          if (link.childNodes.length === 1 && link.childNodes[0].nodeType === this.TEXT_NODE) {\n            var text = this._doc.createTextNode(link.textContent);\n            link.parentNode.replaceChild(text, link);\n          } else {\n            // if the link has multiple children, they should all be preserved\n            var container = this._doc.createElement(\"span\");\n            while (link.childNodes.length > 0) {\n              container.appendChild(link.childNodes[0]);\n            }\n            link.parentNode.replaceChild(container, link);\n          }\n        } else {\n          link.setAttribute(\"href\", toAbsoluteURI(href));\n        }\n      }\n    });\n\n    var medias = this._getAllNodesWithTag(articleContent, [\n      \"img\", \"picture\", \"figure\", \"video\", \"audio\", \"source\"\n    ]);\n\n    this._forEachNode(medias, function(media) {\n      var src = media.getAttribute(\"src\");\n      var poster = media.getAttribute(\"poster\");\n      var srcset = media.getAttribute(\"srcset\");\n\n      if (src) {\n        media.setAttribute(\"src\", toAbsoluteURI(src));\n      }\n\n      if (poster) {\n        media.setAttribute(\"poster\", toAbsoluteURI(poster));\n      }\n\n      if (srcset) {\n        var newSrcset = srcset.replace(this.REGEXPS.srcsetUrl, function(_, p1, p2, p3) {\n          return toAbsoluteURI(p1) + (p2 || \"\") + p3;\n        });\n\n        media.setAttribute(\"srcset\", newSrcset);\n      }\n    });\n  },\n\n  _simplifyNestedElements: function(articleContent) {\n    var node = articleContent;\n\n    while (node) {\n      if (node.parentNode && [\"DIV\", \"SECTION\"].includes(node.tagName) && !(node.id && node.id.startsWith(\"readability\"))) {\n        if (this._isElementWithoutContent(node)) {\n          node = this._removeAndGetNext(node);\n          continue;\n        } else if (this._hasSingleTagInsideElement(node, \"DIV\") || this._hasSingleTagInsideElement(node, \"SECTION\")) {\n          var child = node.children[0];\n          for (var i = 0; i < node.attributes.length; i++) {\n            child.setAttribute(node.attributes[i].name, node.attributes[i].value);\n          }\n          node.parentNode.replaceChild(child, node);\n          node = child;\n          continue;\n        }\n      }\n\n      node = this._getNextNode(node);\n    }\n  },\n\n  /**\n   * Get the article title as an H1.\n   *\n   * @return string\n   **/\n  _getArticleTitle: function() {\n    var doc = this._doc;\n    var curTitle = \"\";\n    var origTitle = \"\";\n\n    try {\n      curTitle = origTitle = doc.title.trim();\n\n      // If they had an element with id \"title\" in their HTML\n      if (typeof curTitle !== \"string\")\n        curTitle = origTitle = this._getInnerText(doc.getElementsByTagName(\"title\")[0]);\n    } catch (e) {/* ignore exceptions setting the title. */}\n\n    var titleHadHierarchicalSeparators = false;\n    function wordCount(str) {\n      return str.split(/\\s+/).length;\n    }\n\n    // If there's a separator in the title, first remove the final part\n    if ((/ [\\|\\-\\\\\\/>\u00BB] /).test(curTitle)) {\n      titleHadHierarchicalSeparators = / [\\\\\\/>\u00BB] /.test(curTitle);\n      curTitle = origTitle.replace(/(.*)[\\|\\-\\\\\\/>\u00BB] .*/gi, \"$1\");\n\n      // If the resulting title is too short (3 words or fewer), remove\n      // the first part instead:\n      if (wordCount(curTitle) < 3)\n        curTitle = origTitle.replace(/[^\\|\\-\\\\\\/>\u00BB]*[\\|\\-\\\\\\/>\u00BB](.*)/gi, \"$1\");\n    } else if (curTitle.indexOf(\": \") !== -1) {\n      // Check if we have an heading containing this exact string, so we\n      // could assume it's the full title.\n      var headings = this._concatNodeLists(\n        doc.getElementsByTagName(\"h1\"),\n        doc.getElementsByTagName(\"h2\")\n      );\n      var trimmedTitle = curTitle.trim();\n      var match = this._someNode(headings, function(heading) {\n        return heading.textContent.trim() === trimmedTitle;\n      });\n\n      // If we don't, let's extract the title out of the original title string.\n      if (!match) {\n        curTitle = origTitle.substring(origTitle.lastIndexOf(\":\") + 1);\n\n        // If the title is now too short, try the first colon instead:\n        if (wordCount(curTitle) < 3) {\n          curTitle = origTitle.substring(origTitle.indexOf(\":\") + 1);\n          // But if we have too many words before the colon there's something weird\n          // with the titles and the H tags so let's just use the original title instead\n        } else if (wordCount(origTitle.substr(0, origTitle.indexOf(\":\"))) > 5) {\n          curTitle = origTitle;\n        }\n      }\n    } else if (curTitle.length > 150 || curTitle.length < 15) {\n      var hOnes = doc.getElementsByTagName(\"h1\");\n\n      if (hOnes.length === 1)\n        curTitle = this._getInnerText(hOnes[0]);\n    }\n\n    curTitle = curTitle.trim().replace(this.REGEXPS.normalize, \" \");\n    // If we now have 4 words or fewer as our title, and either no\n    // 'hierarchical' separators (\\, /, > or \u00BB) were found in the original\n    // title or we decreased the number of words by more than 1 word, use\n    // the original title.\n    var curTitleWordCount = wordCount(curTitle);\n    if (curTitleWordCount <= 4 &&\n        (!titleHadHierarchicalSeparators ||\n         curTitleWordCount != wordCount(origTitle.replace(/[\\|\\-\\\\\\/>\u00BB]+/g, \"\")) - 1)) {\n      curTitle = origTitle;\n    }\n\n    return curTitle;\n  },\n\n  /**\n   * Prepare the HTML document for readability to scrape it.\n   * This includes things like stripping javascript, CSS, and handling terrible markup.\n   *\n   * @return void\n   **/\n  _prepDocument: function() {\n    var doc = this._doc;\n\n    // Remove all style tags in head\n    this._removeNodes(this._getAllNodesWithTag(doc, [\"style\"]));\n\n    if (doc.body) {\n      this._replaceBrs(doc.body);\n    }\n\n    this._replaceNodeTags(this._getAllNodesWithTag(doc, [\"font\"]), \"SPAN\");\n  },\n\n  /**\n   * Finds the next node, starting from the given node, and ignoring\n   * whitespace in between. If the given node is an element, the same node is\n   * returned.\n   */\n  _nextNode: function (node) {\n    var next = node;\n    while (next\n        && (next.nodeType != this.ELEMENT_NODE)\n        && this.REGEXPS.whitespace.test(next.textContent)) {\n      next = next.nextSibling;\n    }\n    return next;\n  },\n\n  /**\n   * Replaces 2 or more successive <br> elements with a single <p>.\n   * Whitespace between <br> elements are ignored. For example:\n   *   <div>foo<br>bar<br> <br><br>abc</div>\n   * will become:\n   *   <div>foo<br>bar<p>abc</p></div>\n   */\n  _replaceBrs: function (elem) {\n    this._forEachNode(this._getAllNodesWithTag(elem, [\"br\"]), function(br) {\n      var next = br.nextSibling;\n\n      // Whether 2 or more <br> elements have been found and replaced with a\n      // <p> block.\n      var replaced = false;\n\n      // If we find a <br> chain, remove the <br>s until we hit another node\n      // or non-whitespace. This leaves behind the first <br> in the chain\n      // (which will be replaced with a <p> later).\n      while ((next = this._nextNode(next)) && (next.tagName == \"BR\")) {\n        replaced = true;\n        var brSibling = next.nextSibling;\n        next.parentNode.removeChild(next);\n        next = brSibling;\n      }\n\n      // If we removed a <br> chain, replace the remaining <br> with a <p>. Add\n      // all sibling nodes as children of the <p> until we hit another <br>\n      // chain.\n      if (replaced) {\n        var p = this._doc.createElement(\"p\");\n        br.parentNode.replaceChild(p, br);\n\n        next = p.nextSibling;\n        while (next) {\n          // If we've hit another <br><br>, we're done adding children to this <p>.\n          if (next.tagName == \"BR\") {\n            var nextElem = this._nextNode(next.nextSibling);\n            if (nextElem && nextElem.tagName == \"BR\")\n              break;\n          }\n\n          if (!this._isPhrasingContent(next))\n            break;\n\n          // Otherwise, make this node a child of the new <p>.\n          var sibling = next.nextSibling;\n          p.appendChild(next);\n          next = sibling;\n        }\n\n        while (p.lastChild && this._isWhitespace(p.lastChild)) {\n          p.removeChild(p.lastChild);\n        }\n\n        if (p.parentNode.tagName === \"P\")\n          this._setNodeTag(p.parentNode, \"DIV\");\n      }\n    });\n  },\n\n  _setNodeTag: function (node, tag) {\n    this.log(\"_setNodeTag\", node, tag);\n    if (this._docJSDOMParser) {\n      node.localName = tag.toLowerCase();\n      node.tagName = tag.toUpperCase();\n      return node;\n    }\n\n    var replacement = node.ownerDocument.createElement(tag);\n    while (node.firstChild) {\n      replacement.appendChild(node.firstChild);\n    }\n    node.parentNode.replaceChild(replacement, node);\n    if (node.readability)\n      replacement.readability = node.readability;\n\n    for (var i = 0; i < node.attributes.length; i++) {\n      try {\n        replacement.setAttribute(node.attributes[i].name, node.attributes[i].value);\n      } catch (ex) {\n        /* it's possible for setAttribute() to throw if the attribute name\n         * isn't a valid XML Name. Such attributes can however be parsed from\n         * source in HTML docs, see https://github.com/whatwg/html/issues/4275,\n         * so we can hit them here and then throw. We don't care about such\n         * attributes so we ignore them.\n         */\n      }\n    }\n    return replacement;\n  },\n\n  /**\n   * Prepare the article node for display. Clean out any inline styles,\n   * iframes, forms, strip extraneous <p> tags, etc.\n   *\n   * @param Element\n   * @return void\n   **/\n  _prepArticle: function(articleContent) {\n    this._cleanStyles(articleContent);\n\n    // Check for data tables before we continue, to avoid removing items in\n    // those tables, which will often be isolated even though they're\n    // visually linked to other content-ful elements (text, images, etc.).\n    this._markDataTables(articleContent);\n\n    this._fixLazyImages(articleContent);\n\n    // Clean out junk from the article content\n    this._cleanConditionally(articleContent, \"form\");\n    this._cleanConditionally(articleContent, \"fieldset\");\n    this._clean(articleContent, \"object\");\n    this._clean(articleContent, \"embed\");\n    this._clean(articleContent, \"footer\");\n    this._clean(articleContent, \"link\");\n    this._clean(articleContent, \"aside\");\n\n    // Clean out elements with little content that have \"share\" in their id/class combinations from final top candidates,\n    // which means we don't remove the top candidates even they have \"share\".\n\n    var shareElementThreshold = this.DEFAULT_CHAR_THRESHOLD;\n\n    this._forEachNode(articleContent.children, function (topCandidate) {\n      this._cleanMatchedNodes(topCandidate, function (node, matchString) {\n        return this.REGEXPS.shareElements.test(matchString) && node.textContent.length < shareElementThreshold;\n      });\n    });\n\n    this._clean(articleContent, \"iframe\");\n    this._clean(articleContent, \"input\");\n    this._clean(articleContent, \"textarea\");\n    this._clean(articleContent, \"select\");\n    this._clean(articleContent, \"button\");\n    this._cleanHeaders(articleContent);\n\n    // Do these last as the previous stuff may have removed junk\n    // that will affect these\n    this._cleanConditionally(articleContent, \"table\");\n    this._cleanConditionally(articleContent, \"ul\");\n    this._cleanConditionally(articleContent, \"div\");\n\n    // replace H1 with H2 as H1 should be only title that is displayed separately\n    this._replaceNodeTags(this._getAllNodesWithTag(articleContent, [\"h1\"]), \"h2\");\n\n    // Remove extra paragraphs\n    this._removeNodes(this._getAllNodesWithTag(articleContent, [\"p\"]), function (paragraph) {\n      var imgCount = paragraph.getElementsByTagName(\"img\").length;\n      var embedCount = paragraph.getElementsByTagName(\"embed\").length;\n      var objectCount = paragraph.getElementsByTagName(\"object\").length;\n      // At this point, nasty iframes have been removed, only remain embedded video ones.\n      var iframeCount = paragraph.getElementsByTagName(\"iframe\").length;\n      var totalCount = imgCount + embedCount + objectCount + iframeCount;\n\n      return totalCount === 0 && !this._getInnerText(paragraph, false);\n    });\n\n    this._forEachNode(this._getAllNodesWithTag(articleContent, [\"br\"]), function(br) {\n      var next = this._nextNode(br.nextSibling);\n      if (next && next.tagName == \"P\")\n        br.parentNode.removeChild(br);\n    });\n\n    // Remove single-cell tables\n    this._forEachNode(this._getAllNodesWithTag(articleContent, [\"table\"]), function(table) {\n      var tbody = this._hasSingleTagInsideElement(table, \"TBODY\") ? table.firstElementChild : table;\n      if (this._hasSingleTagInsideElement(tbody, \"TR\")) {\n        var row = tbody.firstElementChild;\n        if (this._hasSingleTagInsideElement(row, \"TD\")) {\n          var cell = row.firstElementChild;\n          cell = this._setNodeTag(cell, this._everyNode(cell.childNodes, this._isPhrasingContent) ? \"P\" : \"DIV\");\n          table.parentNode.replaceChild(cell, table);\n        }\n      }\n    });\n  },\n\n  /**\n   * Initialize a node with the readability object. Also checks the\n   * className/id for special names to add to its score.\n   *\n   * @param Element\n   * @return void\n  **/\n  _initializeNode: function(node) {\n    node.readability = {\"contentScore\": 0};\n\n    switch (node.tagName) {\n      case \"DIV\":\n        node.readability.contentScore += 5;\n        break;\n\n      case \"PRE\":\n      case \"TD\":\n      case \"BLOCKQUOTE\":\n        node.readability.contentScore += 3;\n        break;\n\n      case \"ADDRESS\":\n      case \"OL\":\n      case \"UL\":\n      case \"DL\":\n      case \"DD\":\n      case \"DT\":\n      case \"LI\":\n      case \"FORM\":\n        node.readability.contentScore -= 3;\n        break;\n\n      case \"H1\":\n      case \"H2\":\n      case \"H3\":\n      case \"H4\":\n      case \"H5\":\n      case \"H6\":\n      case \"TH\":\n        node.readability.contentScore -= 5;\n        break;\n    }\n\n    node.readability.contentScore += this._getClassWeight(node);\n  },\n\n  _removeAndGetNext: function(node) {\n    var nextNode = this._getNextNode(node, true);\n    node.parentNode.removeChild(node);\n    return nextNode;\n  },\n\n  /**\n   * Traverse the DOM from node to node, starting at the node passed in.\n   * Pass true for the second parameter to indicate this node itself\n   * (and its kids) are going away, and we want the next node over.\n   *\n   * Calling this in a loop will traverse the DOM depth-first.\n   */\n  _getNextNode: function(node, ignoreSelfAndKids) {\n    // First check for kids if those aren't being ignored\n    if (!ignoreSelfAndKids && node.firstElementChild) {\n      return node.firstElementChild;\n    }\n    // Then for siblings...\n    if (node.nextElementSibling) {\n      return node.nextElementSibling;\n    }\n    // And finally, move up the parent chain *and* find a sibling\n    // (because this is depth-first traversal, we will have already\n    // seen the parent nodes themselves).\n    do {\n      node = node.parentNode;\n    } while (node && !node.nextElementSibling);\n    return node && node.nextElementSibling;\n  },\n\n  // compares second text to first one\n  // 1 = same text, 0 = completely different text\n  // works the way that it splits both texts into words and then finds words that are unique in second text\n  // the result is given by the lower length of unique parts\n  _textSimilarity: function(textA, textB) {\n    var tokensA = textA.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);\n    var tokensB = textB.toLowerCase().split(this.REGEXPS.tokenize).filter(Boolean);\n    if (!tokensA.length || !tokensB.length) {\n      return 0;\n    }\n    var uniqTokensB = tokensB.filter(token => !tokensA.includes(token));\n    var distanceB = uniqTokensB.join(\" \").length / tokensB.join(\" \").length;\n    return 1 - distanceB;\n  },\n\n  _checkByline: function(node, matchString) {\n    if (this._articleByline) {\n      return false;\n    }\n\n    if (node.getAttribute !== undefined) {\n      var rel = node.getAttribute(\"rel\");\n      var itemprop = node.getAttribute(\"itemprop\");\n    }\n\n    if ((rel === \"author\" || (itemprop && itemprop.indexOf(\"author\") !== -1) || this.REGEXPS.byline.test(matchString)) && this._isValidByline(node.textContent)) {\n      this._articleByline = node.textContent.trim();\n      return true;\n    }\n\n    return false;\n  },\n\n  _getNodeAncestors: function(node, maxDepth) {\n    maxDepth = maxDepth || 0;\n    var i = 0, ancestors = [];\n    while (node.parentNode) {\n      ancestors.push(node.parentNode);\n      if (maxDepth && ++i === maxDepth)\n        break;\n      node = node.parentNode;\n    }\n    return ancestors;\n  },\n\n  /***\n   * grabArticle - Using a variety of metrics (content score, classname, element types), find the content that is\n   *         most likely to be the stuff a user wants to read. Then return it wrapped up in a div.\n   *\n   * @param page a document to run upon. Needs to be a full document, complete with body.\n   * @return Element\n  **/\n  _grabArticle: function (page) {\n    this.log(\"**** grabArticle ****\");\n    var doc = this._doc;\n    var isPaging = page !== null;\n    page = page ? page : this._doc.body;\n\n    // We can't grab an article if we don't have a page!\n    if (!page) {\n      this.log(\"No body found in document. Abort.\");\n      return null;\n    }\n\n    var pageCacheHtml = page.innerHTML;\n\n    while (true) {\n      this.log(\"Starting grabArticle loop\");\n      var stripUnlikelyCandidates = this._flagIsActive(this.FLAG_STRIP_UNLIKELYS);\n\n      // First, node prepping. Trash nodes that look cruddy (like ones with the\n      // class name \"comment\", etc), and turn divs into P tags where they have been\n      // used inappropriately (as in, where they contain no other block level elements.)\n      var elementsToScore = [];\n      var node = this._doc.documentElement;\n\n      let shouldRemoveTitleHeader = true;\n\n      while (node) {\n        var matchString = node.className + \" \" + node.id;\n\n        if (!this._isProbablyVisible(node)) {\n          this.log(\"Removing hidden node - \" + matchString);\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        // Check to see if this node is a byline, and remove it if it is.\n        if (this._checkByline(node, matchString)) {\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        if (shouldRemoveTitleHeader && this._headerDuplicatesTitle(node)) {\n          this.log(\"Removing header: \", node.textContent.trim(), this._articleTitle.trim());\n          shouldRemoveTitleHeader = false;\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        // Remove unlikely candidates\n        if (stripUnlikelyCandidates) {\n          if (this.REGEXPS.unlikelyCandidates.test(matchString) &&\n              !this.REGEXPS.okMaybeItsACandidate.test(matchString) &&\n              !this._hasAncestorTag(node, \"table\") &&\n              !this._hasAncestorTag(node, \"code\") &&\n              node.tagName !== \"BODY\" &&\n              node.tagName !== \"A\") {\n            this.log(\"Removing unlikely candidate - \" + matchString);\n            node = this._removeAndGetNext(node);\n            continue;\n          }\n\n          if (this.UNLIKELY_ROLES.includes(node.getAttribute(\"role\"))) {\n            this.log(\"Removing content with role \" + node.getAttribute(\"role\") + \" - \" + matchString);\n            node = this._removeAndGetNext(node);\n            continue;\n          }\n        }\n\n        // Remove DIV, SECTION, and HEADER nodes without any content(e.g. text, image, video, or iframe).\n        if ((node.tagName === \"DIV\" || node.tagName === \"SECTION\" || node.tagName === \"HEADER\" ||\n             node.tagName === \"H1\" || node.tagName === \"H2\" || node.tagName === \"H3\" ||\n             node.tagName === \"H4\" || node.tagName === \"H5\" || node.tagName === \"H6\") &&\n            this._isElementWithoutContent(node)) {\n          node = this._removeAndGetNext(node);\n          continue;\n        }\n\n        if (this.DEFAULT_TAGS_TO_SCORE.indexOf(node.tagName) !== -1) {\n          elementsToScore.push(node);\n        }\n\n        // Turn all divs that don't have children block level elements into p's\n        if (node.tagName === \"DIV\") {\n          // Put phrasing content into paragraphs.\n          var p = null;\n          var childNode = node.firstChild;\n          while (childNode) {\n            var nextSibling = childNode.nextSibling;\n            if (this._isPhrasingContent(childNode)) {\n              if (p !== null) {\n                p.appendChild(childNode);\n              } else if (!this._isWhitespace(childNode)) {\n                p = doc.createElement(\"p\");\n                node.replaceChild(p, childNode);\n                p.appendChild(childNode);\n              }\n            } else if (p !== null) {\n              while (p.lastChild && this._isWhitespace(p.lastChild)) {\n                p.removeChild(p.lastChild);\n              }\n              p = null;\n            }\n            childNode = nextSibling;\n          }\n\n          // Sites like http://mobile.slate.com encloses each paragraph with a DIV\n          // element. DIVs with only a P element inside and no text content can be\n          // safely converted into plain P elements to avoid confusing the scoring\n          // algorithm with DIVs with are, in practice, paragraphs.\n          if (this._hasSingleTagInsideElement(node, \"P\") && this._getLinkDensity(node) < 0.25) {\n            var newNode = node.children[0];\n            node.parentNode.replaceChild(newNode, node);\n            node = newNode;\n            elementsToScore.push(node);\n          } else if (!this._hasChildBlockElement(node)) {\n            node = this._setNodeTag(node, \"P\");\n            elementsToScore.push(node);\n          }\n        }\n        node = this._getNextNode(node);\n      }\n\n      /**\n       * Loop through all paragraphs, and assign a score to them based on how content-y they look.\n       * Then add their score to their parent node.\n       *\n       * A score is determined by things like number of commas, class names, etc. Maybe eventually link density.\n      **/\n      var candidates = [];\n      this._forEachNode(elementsToScore, function(elementToScore) {\n        if (!elementToScore.parentNode || typeof(elementToScore.parentNode.tagName) === \"undefined\")\n          return;\n\n        // If this paragraph is less than 25 characters, don't even count it.\n        var innerText = this._getInnerText(elementToScore);\n        if (innerText.length < 25)\n          return;\n\n        // Exclude nodes with no ancestor.\n        var ancestors = this._getNodeAncestors(elementToScore, 5);\n        if (ancestors.length === 0)\n          return;\n\n        var contentScore = 0;\n\n        // Add a point for the paragraph itself as a base.\n        contentScore += 1;\n\n        // Add points for any commas within this paragraph.\n        contentScore += innerText.split(\",\").length;\n\n        // For every 100 characters in this paragraph, add another point. Up to 3 points.\n        contentScore += Math.min(Math.floor(innerText.length / 100), 3);\n\n        // Initialize and score ancestors.\n        this._forEachNode(ancestors, function(ancestor, level) {\n          if (!ancestor.tagName || !ancestor.parentNode || typeof(ancestor.parentNode.tagName) === \"undefined\")\n            return;\n\n          if (typeof(ancestor.readability) === \"undefined\") {\n            this._initializeNode(ancestor);\n            candidates.push(ancestor);\n          }\n\n          // Node score divider:\n          // - parent:             1 (no division)\n          // - grandparent:        2\n          // - great grandparent+: ancestor level * 3\n          if (level === 0)\n            var scoreDivider = 1;\n          else if (level === 1)\n            scoreDivider = 2;\n          else\n            scoreDivider = level * 3;\n          ancestor.readability.contentScore += contentScore / scoreDivider;\n        });\n      });\n\n      // After we've calculated scores, loop through all of the possible\n      // candidate nodes we found and find the one with the highest score.\n      var topCandidates = [];\n      for (var c = 0, cl = candidates.length; c < cl; c += 1) {\n        var candidate = candidates[c];\n\n        // Scale the final candidates score based on link density. Good content\n        // should have a relatively small link density (5% or less) and be mostly\n        // unaffected by this operation.\n        var candidateScore = candidate.readability.contentScore * (1 - this._getLinkDensity(candidate));\n        candidate.readability.contentScore = candidateScore;\n\n        this.log(\"Candidate:\", candidate, \"with score \" + candidateScore);\n\n        for (var t = 0; t < this._nbTopCandidates; t++) {\n          var aTopCandidate = topCandidates[t];\n\n          if (!aTopCandidate || candidateScore > aTopCandidate.readability.contentScore) {\n            topCandidates.splice(t, 0, candidate);\n            if (topCandidates.length > this._nbTopCandidates)\n              topCandidates.pop();\n            break;\n          }\n        }\n      }\n\n      var topCandidate = topCandidates[0] || null;\n      var neededToCreateTopCandidate = false;\n      var parentOfTopCandidate;\n\n      // If we still have no top candidate, just use the body as a last resort.\n      // We also have to copy the body node so it is something we can modify.\n      if (topCandidate === null || topCandidate.tagName === \"BODY\") {\n        // Move all of the page's children into topCandidate\n        topCandidate = doc.createElement(\"DIV\");\n        neededToCreateTopCandidate = true;\n        // Move everything (not just elements, also text nodes etc.) into the container\n        // so we even include text directly in the body:\n        var kids = page.childNodes;\n        while (kids.length) {\n          this.log(\"Moving child out:\", kids[0]);\n          topCandidate.appendChild(kids[0]);\n        }\n\n        page.appendChild(topCandidate);\n\n        this._initializeNode(topCandidate);\n      } else if (topCandidate) {\n        // Find a better top candidate node if it contains (at least three) nodes which belong to `topCandidates` array\n        // and whose scores are quite closed with current `topCandidate` node.\n        var alternativeCandidateAncestors = [];\n        for (var i = 1; i < topCandidates.length; i++) {\n          if (topCandidates[i].readability.contentScore / topCandidate.readability.contentScore >= 0.75) {\n            alternativeCandidateAncestors.push(this._getNodeAncestors(topCandidates[i]));\n          }\n        }\n        var MINIMUM_TOPCANDIDATES = 3;\n        if (alternativeCandidateAncestors.length >= MINIMUM_TOPCANDIDATES) {\n          parentOfTopCandidate = topCandidate.parentNode;\n          while (parentOfTopCandidate.tagName !== \"BODY\") {\n            var listsContainingThisAncestor = 0;\n            for (var ancestorIndex = 0; ancestorIndex < alternativeCandidateAncestors.length && listsContainingThisAncestor < MINIMUM_TOPCANDIDATES; ancestorIndex++) {\n              listsContainingThisAncestor += Number(alternativeCandidateAncestors[ancestorIndex].includes(parentOfTopCandidate));\n            }\n            if (listsContainingThisAncestor >= MINIMUM_TOPCANDIDATES) {\n              topCandidate = parentOfTopCandidate;\n              break;\n            }\n            parentOfTopCandidate = parentOfTopCandidate.parentNode;\n          }\n        }\n        if (!topCandidate.readability) {\n          this._initializeNode(topCandidate);\n        }\n\n        // Because of our bonus system, parents of candidates might have scores\n        // themselves. They get half of the node. There won't be nodes with higher\n        // scores than our topCandidate, but if we see the score going *up* in the first\n        // few steps up the tree, that's a decent sign that there might be more content\n        // lurking in other places that we want to unify in. The sibling stuff\n        // below does some of that - but only if we've looked high enough up the DOM\n        // tree.\n        parentOfTopCandidate = topCandidate.parentNode;\n        var lastScore = topCandidate.readability.contentScore;\n        // The scores shouldn't get too low.\n        var scoreThreshold = lastScore / 3;\n        while (parentOfTopCandidate.tagName !== \"BODY\") {\n          if (!parentOfTopCandidate.readability) {\n            parentOfTopCandidate = parentOfTopCandidate.parentNode;\n            continue;\n          }\n          var parentScore = parentOfTopCandidate.readability.contentScore;\n          if (parentScore < scoreThreshold)\n            break;\n          if (parentScore > lastScore) {\n            // Alright! We found a better parent to use.\n            topCandidate = parentOfTopCandidate;\n            break;\n          }\n          lastScore = parentOfTopCandidate.readability.contentScore;\n          parentOfTopCandidate = parentOfTopCandidate.parentNode;\n        }\n\n        // If the top candidate is the only child, use parent instead. This will help sibling\n        // joining logic when adjacent content is actually located in parent's sibling node.\n        parentOfTopCandidate = topCandidate.parentNode;\n        while (parentOfTopCandidate.tagName != \"BODY\" && parentOfTopCandidate.children.length == 1) {\n          topCandidate = parentOfTopCandidate;\n          parentOfTopCandidate = topCandidate.parentNode;\n        }\n        if (!topCandidate.readability) {\n          this._initializeNode(topCandidate);\n        }\n      }\n\n      // Now that we have the top candidate, look through its siblings for content\n      // that might also be related. Things like preambles, content split by ads\n      // that we removed, etc.\n      var articleContent = doc.createElement(\"DIV\");\n      if (isPaging)\n        articleContent.id = \"readability-content\";\n\n      var siblingScoreThreshold = Math.max(10, topCandidate.readability.contentScore * 0.2);\n      // Keep potential top candidate's parent node to try to get text direction of it later.\n      parentOfTopCandidate = topCandidate.parentNode;\n      var siblings = parentOfTopCandidate.children;\n\n      for (var s = 0, sl = siblings.length; s < sl; s++) {\n        var sibling = siblings[s];\n        var append = false;\n\n        this.log(\"Looking at sibling node:\", sibling, sibling.readability ? (\"with score \" + sibling.readability.contentScore) : \"\");\n        this.log(\"Sibling has score\", sibling.readability ? sibling.readability.contentScore : \"Unknown\");\n\n        if (sibling === topCandidate) {\n          append = true;\n        } else {\n          var contentBonus = 0;\n\n          // Give a bonus if sibling nodes and top candidates have the example same classname\n          if (sibling.className === topCandidate.className && topCandidate.className !== \"\")\n            contentBonus += topCandidate.readability.contentScore * 0.2;\n\n          if (sibling.readability &&\n              ((sibling.readability.contentScore + contentBonus) >= siblingScoreThreshold)) {\n            append = true;\n          } else if (sibling.nodeName === \"P\") {\n            var linkDensity = this._getLinkDensity(sibling);\n            var nodeContent = this._getInnerText(sibling);\n            var nodeLength = nodeContent.length;\n\n            if (nodeLength > 80 && linkDensity < 0.25) {\n              append = true;\n            } else if (nodeLength < 80 && nodeLength > 0 && linkDensity === 0 &&\n                       nodeContent.search(/\\.( |$)/) !== -1) {\n              append = true;\n            }\n          }\n        }\n\n        if (append) {\n          this.log(\"Appending node:\", sibling);\n\n          if (this.ALTER_TO_DIV_EXCEPTIONS.indexOf(sibling.nodeName) === -1) {\n            // We have a node that isn't a common block level element, like a form or td tag.\n            // Turn it into a div so it doesn't get filtered out later by accident.\n            this.log(\"Altering sibling:\", sibling, \"to div.\");\n\n            sibling = this._setNodeTag(sibling, \"DIV\");\n          }\n\n          articleContent.appendChild(sibling);\n          // siblings is a reference to the children array, and\n          // sibling is removed from the array when we call appendChild().\n          // As a result, we must revisit this index since the nodes\n          // have been shifted.\n          s -= 1;\n          sl -= 1;\n        }\n      }\n\n      if (this._debug)\n        this.log(\"Article content pre-prep: \" + articleContent.innerHTML);\n      // So we have all of the content that we need. Now we clean it up for presentation.\n      this._prepArticle(articleContent);\n      if (this._debug)\n        this.log(\"Article content post-prep: \" + articleContent.innerHTML);\n\n      if (neededToCreateTopCandidate) {\n        // We already created a fake div thing, and there wouldn't have been any siblings left\n        // for the previous loop, so there's no point trying to create a new div, and then\n        // move all the children over. Just assign IDs and class names here. No need to append\n        // because that already happened anyway.\n        topCandidate.id = \"readability-page-1\";\n        topCandidate.className = \"page\";\n      } else {\n        var div = doc.createElement(\"DIV\");\n        div.id = \"readability-page-1\";\n        div.className = \"page\";\n        var children = articleContent.childNodes;\n        while (children.length) {\n          div.appendChild(children[0]);\n        }\n        articleContent.appendChild(div);\n      }\n\n      if (this._debug)\n        this.log(\"Article content after paging: \" + articleContent.innerHTML);\n\n      var parseSuccessful = true;\n\n      // Now that we've gone through the full algorithm, check to see if\n      // we got any meaningful content. If we didn't, we may need to re-run\n      // grabArticle with different flags set. This gives us a higher likelihood of\n      // finding the content, and the sieve approach gives us a higher likelihood of\n      // finding the -right- content.\n      var textLength = this._getInnerText(articleContent, true).length;\n      if (textLength < this._charThreshold) {\n        parseSuccessful = false;\n        page.innerHTML = pageCacheHtml;\n\n        if (this._flagIsActive(this.FLAG_STRIP_UNLIKELYS)) {\n          this._removeFlag(this.FLAG_STRIP_UNLIKELYS);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else if (this._flagIsActive(this.FLAG_WEIGHT_CLASSES)) {\n          this._removeFlag(this.FLAG_WEIGHT_CLASSES);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else if (this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY)) {\n          this._removeFlag(this.FLAG_CLEAN_CONDITIONALLY);\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n        } else {\n          this._attempts.push({articleContent: articleContent, textLength: textLength});\n          // No luck after removing flags, just return the longest text we found during the different loops\n          this._attempts.sort(function (a, b) {\n            return b.textLength - a.textLength;\n          });\n\n          // But first check if we actually have something\n          if (!this._attempts[0].textLength) {\n            return null;\n          }\n\n          articleContent = this._attempts[0].articleContent;\n          parseSuccessful = true;\n        }\n      }\n\n      if (parseSuccessful) {\n        // Find out text direction from ancestors of final top candidate.\n        var ancestors = [parentOfTopCandidate, topCandidate].concat(this._getNodeAncestors(parentOfTopCandidate));\n        this._someNode(ancestors, function(ancestor) {\n          if (!ancestor.tagName)\n            return false;\n          var articleDir = ancestor.getAttribute(\"dir\");\n          if (articleDir) {\n            this._articleDir = articleDir;\n            return true;\n          }\n          return false;\n        });\n        return articleContent;\n      }\n    }\n  },\n\n  /**\n   * Check whether the input string could be a byline.\n   * This verifies that the input is a string, and that the length\n   * is less than 100 chars.\n   *\n   * @param possibleByline {string} - a string to check whether its a byline.\n   * @return Boolean - whether the input string is a byline.\n   */\n  _isValidByline: function(byline) {\n    if (typeof byline == \"string\" || byline instanceof String) {\n      byline = byline.trim();\n      return (byline.length > 0) && (byline.length < 100);\n    }\n    return false;\n  },\n\n  /**\n   * Converts some of the common HTML entities in string to their corresponding characters.\n   *\n   * @param str {string} - a string to unescape.\n   * @return string without HTML entity.\n   */\n  _unescapeHtmlEntities: function(str) {\n    if (!str) {\n      return str;\n    }\n\n    var htmlEscapeMap = this.HTML_ESCAPE_MAP;\n    return str.replace(/&(quot|amp|apos|lt|gt);/g, function(_, tag) {\n      return htmlEscapeMap[tag];\n    }).replace(/&#(?:x([0-9a-z]{1,4})|([0-9]{1,4}));/gi, function(_, hex, numStr) {\n      var num = parseInt(hex || numStr, hex ? 16 : 10);\n      return String.fromCharCode(num);\n    });\n  },\n\n  /**\n   * Try to extract metadata from JSON-LD object.\n   * For now, only Schema.org objects of type Article or its subtypes are supported.\n   * @return Object with any metadata that could be extracted (possibly none)\n   */\n  _getJSONLD: function (doc) {\n    var scripts = this._getAllNodesWithTag(doc, [\"script\"]);\n\n    var jsonLdElement = this._findNode(scripts, function(el) {\n      return el.getAttribute(\"type\") === \"application/ld+json\";\n    });\n\n    if (jsonLdElement) {\n      try {\n        // Strip CDATA markers if present\n        var content = jsonLdElement.textContent.replace(/^\\s*<!\\[CDATA\\[|\\]\\]>\\s*$/g, \"\");\n        var parsed = JSON.parse(content);\n        var metadata = {};\n        if (\n          !parsed[\"@context\"] ||\n          !parsed[\"@context\"].match(/^https?\\:\\/\\/schema\\.org$/)\n        ) {\n          return metadata;\n        }\n\n        if (!parsed[\"@type\"] && Array.isArray(parsed[\"@graph\"])) {\n          parsed = parsed[\"@graph\"].find(function(it) {\n            return (it[\"@type\"] || \"\").match(\n              this.REGEXPS.jsonLdArticleTypes\n            );\n          });\n        }\n\n        if (\n          !parsed ||\n          !parsed[\"@type\"] ||\n          !parsed[\"@type\"].match(this.REGEXPS.jsonLdArticleTypes)\n        ) {\n          return metadata;\n        }\n        if (typeof parsed.name === \"string\") {\n          metadata.title = parsed.name.trim();\n        } else if (typeof parsed.headline === \"string\") {\n          metadata.title = parsed.headline.trim();\n        }\n        if (parsed.author) {\n          if (typeof parsed.author.name === \"string\") {\n            metadata.byline = parsed.author.name.trim();\n          } else if (Array.isArray(parsed.author) && parsed.author[0] && typeof parsed.author[0].name === \"string\") {\n            metadata.byline = parsed.author\n              .filter(function(author) {\n                return author && typeof author.name === \"string\";\n              })\n              .map(function(author) {\n                return author.name.trim();\n              })\n              .join(\", \");\n          }\n        }\n        if (typeof parsed.description === \"string\") {\n          metadata.excerpt = parsed.description.trim();\n        }\n        if (\n          parsed.publisher &&\n          typeof parsed.publisher.name === \"string\"\n        ) {\n          metadata.siteName = parsed.publisher.name.trim();\n        }\n        return metadata;\n      } catch (err) {\n        this.log(err.message);\n      }\n    }\n    return {};\n  },\n\n  /**\n   * Attempts to get excerpt and byline metadata for the article.\n   *\n   * @param {Object} jsonld \u2014 object containing any metadata that\n   * could be extracted from JSON-LD object.\n   *\n   * @return Object with optional \"excerpt\" and \"byline\" properties\n   */\n  _getArticleMetadata: function(jsonld) {\n    var metadata = {};\n    var values = {};\n    var metaElements = this._doc.getElementsByTagName(\"meta\");\n\n    // property is a space-separated list of values\n    var propertyPattern = /\\s*(dc|dcterm|og|twitter)\\s*:\\s*(author|creator|description|title|site_name)\\s*/gi;\n\n    // name is a single value\n    var namePattern = /^\\s*(?:(dc|dcterm|og|twitter|weibo:(article|webpage))\\s*[\\.:]\\s*)?(author|creator|description|title|site_name)\\s*$/i;\n\n    // Find description tags.\n    this._forEachNode(metaElements, function(element) {\n      var elementName = element.getAttribute(\"name\");\n      var elementProperty = element.getAttribute(\"property\");\n      var content = element.getAttribute(\"content\");\n      if (!content) {\n        return;\n      }\n      var matches = null;\n      var name = null;\n\n      if (elementProperty) {\n        matches = elementProperty.match(propertyPattern);\n        if (matches) {\n          // Convert to lowercase, and remove any whitespace\n          // so we can match below.\n          name = matches[0].toLowerCase().replace(/\\s/g, \"\");\n          // multiple authors\n          values[name] = content.trim();\n        }\n      }\n      if (!matches && elementName && namePattern.test(elementName)) {\n        name = elementName;\n        if (content) {\n          // Convert to lowercase, remove any whitespace, and convert dots\n          // to colons so we can match below.\n          name = name.toLowerCase().replace(/\\s/g, \"\").replace(/\\./g, \":\");\n          values[name] = content.trim();\n        }\n      }\n    });\n\n    // get title\n    metadata.title = jsonld.title ||\n                     values[\"dc:title\"] ||\n                     values[\"dcterm:title\"] ||\n                     values[\"og:title\"] ||\n                     values[\"weibo:article:title\"] ||\n                     values[\"weibo:webpage:title\"] ||\n                     values[\"title\"] ||\n                     values[\"twitter:title\"];\n\n    if (!metadata.title) {\n      metadata.title = this._getArticleTitle();\n    }\n\n    // get author\n    metadata.byline = jsonld.byline ||\n                      values[\"dc:creator\"] ||\n                      values[\"dcterm:creator\"] ||\n                      values[\"author\"];\n\n    // get description\n    metadata.excerpt = jsonld.excerpt ||\n                       values[\"dc:description\"] ||\n                       values[\"dcterm:description\"] ||\n                       values[\"og:description\"] ||\n                       values[\"weibo:article:description\"] ||\n                       values[\"weibo:webpage:description\"] ||\n                       values[\"description\"] ||\n                       values[\"twitter:description\"];\n\n    // get site name\n    metadata.siteName = jsonld.siteName ||\n                        values[\"og:site_name\"];\n\n    // in many sites the meta value is escaped with HTML entities,\n    // so here we need to unescape it\n    metadata.title = this._unescapeHtmlEntities(metadata.title);\n    metadata.byline = this._unescapeHtmlEntities(metadata.byline);\n    metadata.excerpt = this._unescapeHtmlEntities(metadata.excerpt);\n    metadata.siteName = this._unescapeHtmlEntities(metadata.siteName);\n\n    return metadata;\n  },\n\n  /**\n   * Check if node is image, or if node contains exactly only one image\n   * whether as a direct child or as its descendants.\n   *\n   * @param Element\n  **/\n  _isSingleImage: function(node) {\n    if (node.tagName === \"IMG\") {\n      return true;\n    }\n\n    if (node.children.length !== 1 || node.textContent.trim() !== \"\") {\n      return false;\n    }\n\n    return this._isSingleImage(node.children[0]);\n  },\n\n  /**\n   * Find all <noscript> that are located after <img> nodes, and which contain only one\n   * <img> element. Replace the first image with the image from inside the <noscript> tag,\n   * and remove the <noscript> tag. This improves the quality of the images we use on\n   * some sites (e.g. Medium).\n   *\n   * @param Element\n  **/\n  _unwrapNoscriptImages: function(doc) {\n    // Find img without source or attributes that might contains image, and remove it.\n    // This is done to prevent a placeholder img is replaced by img from noscript in next step.\n    var imgs = Array.from(doc.getElementsByTagName(\"img\"));\n    this._forEachNode(imgs, function(img) {\n      for (var i = 0; i < img.attributes.length; i++) {\n        var attr = img.attributes[i];\n        switch (attr.name) {\n          case \"src\":\n          case \"srcset\":\n          case \"data-src\":\n          case \"data-srcset\":\n            return;\n        }\n\n        if (/\\.(jpg|jpeg|png|webp)/i.test(attr.value)) {\n          return;\n        }\n      }\n\n      img.parentNode.removeChild(img);\n    });\n\n    // Next find noscript and try to extract its image\n    var noscripts = Array.from(doc.getElementsByTagName(\"noscript\"));\n    this._forEachNode(noscripts, function(noscript) {\n      // Parse content of noscript and make sure it only contains image\n      var tmp = doc.createElement(\"div\");\n      tmp.innerHTML = noscript.innerHTML;\n      if (!this._isSingleImage(tmp)) {\n        return;\n      }\n\n      // If noscript has previous sibling and it only contains image,\n      // replace it with noscript content. However we also keep old\n      // attributes that might contains image.\n      var prevElement = noscript.previousElementSibling;\n      if (prevElement && this._isSingleImage(prevElement)) {\n        var prevImg = prevElement;\n        if (prevImg.tagName !== \"IMG\") {\n          prevImg = prevElement.getElementsByTagName(\"img\")[0];\n        }\n\n        var newImg = tmp.getElementsByTagName(\"img\")[0];\n        for (var i = 0; i < prevImg.attributes.length; i++) {\n          var attr = prevImg.attributes[i];\n          if (attr.value === \"\") {\n            continue;\n          }\n\n          if (attr.name === \"src\" || attr.name === \"srcset\" || /\\.(jpg|jpeg|png|webp)/i.test(attr.value)) {\n            if (newImg.getAttribute(attr.name) === attr.value) {\n              continue;\n            }\n\n            var attrName = attr.name;\n            if (newImg.hasAttribute(attrName)) {\n              attrName = \"data-old-\" + attrName;\n            }\n\n            newImg.setAttribute(attrName, attr.value);\n          }\n        }\n\n        noscript.parentNode.replaceChild(tmp.firstElementChild, prevElement);\n      }\n    });\n  },\n\n  /**\n   * Removes script tags from the document.\n   *\n   * @param Element\n  **/\n  _removeScripts: function(doc) {\n    this._removeNodes(this._getAllNodesWithTag(doc, [\"script\"]), function(scriptNode) {\n      scriptNode.nodeValue = \"\";\n      scriptNode.removeAttribute(\"src\");\n      return true;\n    });\n    this._removeNodes(this._getAllNodesWithTag(doc, [\"noscript\"]));\n  },\n\n  /**\n   * Check if this node has only whitespace and a single element with given tag\n   * Returns false if the DIV node contains non-empty text nodes\n   * or if it contains no element with given tag or more than 1 element.\n   *\n   * @param Element\n   * @param string tag of child element\n  **/\n  _hasSingleTagInsideElement: function(element, tag) {\n    // There should be exactly 1 element child with given tag\n    if (element.children.length != 1 || element.children[0].tagName !== tag) {\n      return false;\n    }\n\n    // And there should be no text nodes with real content\n    return !this._someNode(element.childNodes, function(node) {\n      return node.nodeType === this.TEXT_NODE &&\n             this.REGEXPS.hasContent.test(node.textContent);\n    });\n  },\n\n  _isElementWithoutContent: function(node) {\n    return node.nodeType === this.ELEMENT_NODE &&\n      node.textContent.trim().length == 0 &&\n      (node.children.length == 0 ||\n       node.children.length == node.getElementsByTagName(\"br\").length + node.getElementsByTagName(\"hr\").length);\n  },\n\n  /**\n   * Determine whether element has any children block level elements.\n   *\n   * @param Element\n   */\n  _hasChildBlockElement: function (element) {\n    return this._someNode(element.childNodes, function(node) {\n      return this.DIV_TO_P_ELEMS.has(node.tagName) ||\n             this._hasChildBlockElement(node);\n    });\n  },\n\n  /***\n   * Determine if a node qualifies as phrasing content.\n   * https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/Content_categories#Phrasing_content\n  **/\n  _isPhrasingContent: function(node) {\n    return node.nodeType === this.TEXT_NODE || this.PHRASING_ELEMS.indexOf(node.tagName) !== -1 ||\n      ((node.tagName === \"A\" || node.tagName === \"DEL\" || node.tagName === \"INS\") &&\n        this._everyNode(node.childNodes, this._isPhrasingContent));\n  },\n\n  _isWhitespace: function(node) {\n    return (node.nodeType === this.TEXT_NODE && node.textContent.trim().length === 0) ||\n           (node.nodeType === this.ELEMENT_NODE && node.tagName === \"BR\");\n  },\n\n  /**\n   * Get the inner text of a node - cross browser compatibly.\n   * This also strips out any excess whitespace to be found.\n   *\n   * @param Element\n   * @param Boolean normalizeSpaces (default: true)\n   * @return string\n  **/\n  _getInnerText: function(e, normalizeSpaces) {\n    normalizeSpaces = (typeof normalizeSpaces === \"undefined\") ? true : normalizeSpaces;\n    var textContent = e.textContent.trim();\n\n    if (normalizeSpaces) {\n      return textContent.replace(this.REGEXPS.normalize, \" \");\n    }\n    return textContent;\n  },\n\n  /**\n   * Get the number of times a string s appears in the node e.\n   *\n   * @param Element\n   * @param string - what to split on. Default is \",\"\n   * @return number (integer)\n  **/\n  _getCharCount: function(e, s) {\n    s = s || \",\";\n    return this._getInnerText(e).split(s).length - 1;\n  },\n\n  /**\n   * Remove the style attribute on every e and under.\n   * TODO: Test if getElementsByTagName(*) is faster.\n   *\n   * @param Element\n   * @return void\n  **/\n  _cleanStyles: function(e) {\n    if (!e || e.tagName.toLowerCase() === \"svg\")\n      return;\n\n    // Remove `style` and deprecated presentational attributes\n    for (var i = 0; i < this.PRESENTATIONAL_ATTRIBUTES.length; i++) {\n      e.removeAttribute(this.PRESENTATIONAL_ATTRIBUTES[i]);\n    }\n\n    if (this.DEPRECATED_SIZE_ATTRIBUTE_ELEMS.indexOf(e.tagName) !== -1) {\n      e.removeAttribute(\"width\");\n      e.removeAttribute(\"height\");\n    }\n\n    var cur = e.firstElementChild;\n    while (cur !== null) {\n      this._cleanStyles(cur);\n      cur = cur.nextElementSibling;\n    }\n  },\n\n  /**\n   * Get the density of links as a percentage of the content\n   * This is the amount of text that is inside a link divided by the total text in the node.\n   *\n   * @param Element\n   * @return number (float)\n  **/\n  _getLinkDensity: function(element) {\n    var textLength = this._getInnerText(element).length;\n    if (textLength === 0)\n      return 0;\n\n    var linkLength = 0;\n\n    // XXX implement _reduceNodeList?\n    this._forEachNode(element.getElementsByTagName(\"a\"), function(linkNode) {\n      var href = linkNode.getAttribute(\"href\");\n      var coefficient = href && this.REGEXPS.hashUrl.test(href) ? 0.3 : 1;\n      linkLength += this._getInnerText(linkNode).length * coefficient;\n    });\n\n    return linkLength / textLength;\n  },\n\n  /**\n   * Get an elements class/id weight. Uses regular expressions to tell if this\n   * element looks good or bad.\n   *\n   * @param Element\n   * @return number (Integer)\n  **/\n  _getClassWeight: function(e) {\n    if (!this._flagIsActive(this.FLAG_WEIGHT_CLASSES))\n      return 0;\n\n    var weight = 0;\n\n    // Look for a special classname\n    if (typeof(e.className) === \"string\" && e.className !== \"\") {\n      if (this.REGEXPS.negative.test(e.className))\n        weight -= 25;\n\n      if (this.REGEXPS.positive.test(e.className))\n        weight += 25;\n    }\n\n    // Look for a special ID\n    if (typeof(e.id) === \"string\" && e.id !== \"\") {\n      if (this.REGEXPS.negative.test(e.id))\n        weight -= 25;\n\n      if (this.REGEXPS.positive.test(e.id))\n        weight += 25;\n    }\n\n    return weight;\n  },\n\n  /**\n   * Clean a node of all elements of type \"tag\".\n   * (Unless it's a youtube/vimeo video. People love movies.)\n   *\n   * @param Element\n   * @param string tag to clean\n   * @return void\n   **/\n  _clean: function(e, tag) {\n    var isEmbed = [\"object\", \"embed\", \"iframe\"].indexOf(tag) !== -1;\n\n    this._removeNodes(this._getAllNodesWithTag(e, [tag]), function(element) {\n      // Allow youtube and vimeo videos through as people usually want to see those.\n      if (isEmbed) {\n        // First, check the elements attributes to see if any of them contain youtube or vimeo\n        for (var i = 0; i < element.attributes.length; i++) {\n          if (this.REGEXPS.videos.test(element.attributes[i].value)) {\n            return false;\n          }\n        }\n\n        // For embed with <object> tag, check inner HTML as well.\n        if (element.tagName === \"object\" && this.REGEXPS.videos.test(element.innerHTML)) {\n          return false;\n        }\n      }\n\n      return true;\n    });\n  },\n\n  /**\n   * Check if a given node has one of its ancestor tag name matching the\n   * provided one.\n   * @param  HTMLElement node\n   * @param  String      tagName\n   * @param  Number      maxDepth\n   * @param  Function    filterFn a filter to invoke to determine whether this node 'counts'\n   * @return Boolean\n   */\n  _hasAncestorTag: function(node, tagName, maxDepth, filterFn) {\n    maxDepth = maxDepth || 3;\n    tagName = tagName.toUpperCase();\n    var depth = 0;\n    while (node.parentNode) {\n      if (maxDepth > 0 && depth > maxDepth)\n        return false;\n      if (node.parentNode.tagName === tagName && (!filterFn || filterFn(node.parentNode)))\n        return true;\n      node = node.parentNode;\n      depth++;\n    }\n    return false;\n  },\n\n  /**\n   * Return an object indicating how many rows and columns this table has.\n   */\n  _getRowAndColumnCount: function(table) {\n    var rows = 0;\n    var columns = 0;\n    var trs = table.getElementsByTagName(\"tr\");\n    for (var i = 0; i < trs.length; i++) {\n      var rowspan = trs[i].getAttribute(\"rowspan\") || 0;\n      if (rowspan) {\n        rowspan = parseInt(rowspan, 10);\n      }\n      rows += (rowspan || 1);\n\n      // Now look for column-related info\n      var columnsInThisRow = 0;\n      var cells = trs[i].getElementsByTagName(\"td\");\n      for (var j = 0; j < cells.length; j++) {\n        var colspan = cells[j].getAttribute(\"colspan\") || 0;\n        if (colspan) {\n          colspan = parseInt(colspan, 10);\n        }\n        columnsInThisRow += (colspan || 1);\n      }\n      columns = Math.max(columns, columnsInThisRow);\n    }\n    return {rows: rows, columns: columns};\n  },\n\n  /**\n   * Look for 'data' (as opposed to 'layout') tables, for which we use\n   * similar checks as\n   * https://searchfox.org/mozilla-central/rev/f82d5c549f046cb64ce5602bfd894b7ae807c8f8/accessible/generic/TableAccessible.cpp#19\n   */\n  _markDataTables: function(root) {\n    var tables = root.getElementsByTagName(\"table\");\n    for (var i = 0; i < tables.length; i++) {\n      var table = tables[i];\n      var role = table.getAttribute(\"role\");\n      if (role == \"presentation\") {\n        table._readabilityDataTable = false;\n        continue;\n      }\n      var datatable = table.getAttribute(\"datatable\");\n      if (datatable == \"0\") {\n        table._readabilityDataTable = false;\n        continue;\n      }\n      var summary = table.getAttribute(\"summary\");\n      if (summary) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      var caption = table.getElementsByTagName(\"caption\")[0];\n      if (caption && caption.childNodes.length > 0) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      // If the table has a descendant with any of these tags, consider a data table:\n      var dataTableDescendants = [\"col\", \"colgroup\", \"tfoot\", \"thead\", \"th\"];\n      var descendantExists = function(tag) {\n        return !!table.getElementsByTagName(tag)[0];\n      };\n      if (dataTableDescendants.some(descendantExists)) {\n        this.log(\"Data table because found data-y descendant\");\n        table._readabilityDataTable = true;\n        continue;\n      }\n\n      // Nested tables indicate a layout table:\n      if (table.getElementsByTagName(\"table\")[0]) {\n        table._readabilityDataTable = false;\n        continue;\n      }\n\n      var sizeInfo = this._getRowAndColumnCount(table);\n      if (sizeInfo.rows >= 10 || sizeInfo.columns > 4) {\n        table._readabilityDataTable = true;\n        continue;\n      }\n      // Now just go by size entirely:\n      table._readabilityDataTable = sizeInfo.rows * sizeInfo.columns > 10;\n    }\n  },\n\n  /* convert images and figures that have properties like data-src into images that can be loaded without JS */\n  _fixLazyImages: function (root) {\n    this._forEachNode(this._getAllNodesWithTag(root, [\"img\", \"picture\", \"figure\"]), function (elem) {\n      // In some sites (e.g. Kotaku), they put 1px square image as base64 data uri in the src attribute.\n      // So, here we check if the data uri is too short, just might as well remove it.\n      if (elem.src && this.REGEXPS.b64DataUrl.test(elem.src)) {\n        // Make sure it's not SVG, because SVG can have a meaningful image in under 133 bytes.\n        var parts = this.REGEXPS.b64DataUrl.exec(elem.src);\n        if (parts[1] === \"image/svg+xml\") {\n          return;\n        }\n\n        // Make sure this element has other attributes which contains image.\n        // If it doesn't, then this src is important and shouldn't be removed.\n        var srcCouldBeRemoved = false;\n        for (var i = 0; i < elem.attributes.length; i++) {\n          var attr = elem.attributes[i];\n          if (attr.name === \"src\") {\n            continue;\n          }\n\n          if (/\\.(jpg|jpeg|png|webp)/i.test(attr.value)) {\n            srcCouldBeRemoved = true;\n            break;\n          }\n        }\n\n        // Here we assume if image is less than 100 bytes (or 133B after encoded to base64)\n        // it will be too small, therefore it might be placeholder image.\n        if (srcCouldBeRemoved) {\n          var b64starts = elem.src.search(/base64\\s*/i) + 7;\n          var b64length = elem.src.length - b64starts;\n          if (b64length < 133) {\n            elem.removeAttribute(\"src\");\n          }\n        }\n      }\n\n      // also check for \"null\" to work around https://github.com/jsdom/jsdom/issues/2580\n      if ((elem.src || (elem.srcset && elem.srcset != \"null\")) && elem.className.toLowerCase().indexOf(\"lazy\") === -1) {\n        return;\n      }\n\n      for (var j = 0; j < elem.attributes.length; j++) {\n        attr = elem.attributes[j];\n        if (attr.name === \"src\" || attr.name === \"srcset\") {\n          continue;\n        }\n        var copyTo = null;\n        if (/\\.(jpg|jpeg|png|webp)\\s+\\d/.test(attr.value)) {\n          copyTo = \"srcset\";\n        } else if (/^\\s*\\S+\\.(jpg|jpeg|png|webp)\\S*\\s*$/.test(attr.value)) {\n          copyTo = \"src\";\n        }\n        if (copyTo) {\n          //if this is an img or picture, set the attribute directly\n          if (elem.tagName === \"IMG\" || elem.tagName === \"PICTURE\") {\n            elem.setAttribute(copyTo, attr.value);\n          } else if (elem.tagName === \"FIGURE\" && !this._getAllNodesWithTag(elem, [\"img\", \"picture\"]).length) {\n            //if the item is a <figure> that does not contain an image or picture, create one and place it inside the figure\n            //see the nytimes-3 testcase for an example\n            var img = this._doc.createElement(\"img\");\n            img.setAttribute(copyTo, attr.value);\n            elem.appendChild(img);\n          }\n        }\n      }\n    });\n  },\n\n  _getTextDensity: function(e, tags) {\n    var textLength = this._getInnerText(e, true).length;\n    if (textLength === 0) {\n      return 0;\n    }\n    var childrenLength = 0;\n    var children = this._getAllNodesWithTag(e, tags);\n    this._forEachNode(children, (child) => childrenLength += this._getInnerText(child, true).length);\n    return childrenLength / textLength;\n  },\n\n  /**\n   * Clean an element of all tags of type \"tag\" if they look fishy.\n   * \"Fishy\" is an algorithm based on content length, classnames, link density, number of images & embeds, etc.\n   *\n   * @return void\n   **/\n  _cleanConditionally: function(e, tag) {\n    if (!this._flagIsActive(this.FLAG_CLEAN_CONDITIONALLY))\n      return;\n\n    // Gather counts for other typical elements embedded within.\n    // Traverse backwards so we can remove nodes at the same time\n    // without effecting the traversal.\n    //\n    // TODO: Consider taking into account original contentScore here.\n    this._removeNodes(this._getAllNodesWithTag(e, [tag]), function(node) {\n      // First check if this node IS data table, in which case don't remove it.\n      var isDataTable = function(t) {\n        return t._readabilityDataTable;\n      };\n\n      var isList = tag === \"ul\" || tag === \"ol\";\n      if (!isList) {\n        var listLength = 0;\n        var listNodes = this._getAllNodesWithTag(node, [\"ul\", \"ol\"]);\n        this._forEachNode(listNodes, (list) => listLength += this._getInnerText(list).length);\n        isList = listLength / this._getInnerText(node).length > 0.9;\n      }\n\n      if (tag === \"table\" && isDataTable(node)) {\n        return false;\n      }\n\n      // Next check if we're inside a data table, in which case don't remove it as well.\n      if (this._hasAncestorTag(node, \"table\", -1, isDataTable)) {\n        return false;\n      }\n\n      if (this._hasAncestorTag(node, \"code\")) {\n        return false;\n      }\n\n      var weight = this._getClassWeight(node);\n\n      this.log(\"Cleaning Conditionally\", node);\n\n      var contentScore = 0;\n\n      if (weight + contentScore < 0) {\n        return true;\n      }\n\n      if (this._getCharCount(node, \",\") < 10) {\n        // If there are not very many commas, and the number of\n        // non-paragraph elements is more than paragraphs or other\n        // ominous signs, remove the element.\n        var p = node.getElementsByTagName(\"p\").length;\n        var img = node.getElementsByTagName(\"img\").length;\n        var li = node.getElementsByTagName(\"li\").length - 100;\n        var input = node.getElementsByTagName(\"input\").length;\n        var headingDensity = this._getTextDensity(node, [\"h1\", \"h2\", \"h3\", \"h4\", \"h5\", \"h6\"]);\n\n        var embedCount = 0;\n        var embeds = this._getAllNodesWithTag(node, [\"object\", \"embed\", \"iframe\"]);\n\n        for (var i = 0; i < embeds.length; i++) {\n          // If this embed has attribute that matches video regex, don't delete it.\n          for (var j = 0; j < embeds[i].attributes.length; j++) {\n            if (this.REGEXPS.videos.test(embeds[i].attributes[j].value)) {\n              return false;\n            }\n          }\n\n          // For embed with <object> tag, check inner HTML as well.\n          if (embeds[i].tagName === \"object\" && this.REGEXPS.videos.test(embeds[i].innerHTML)) {\n            return false;\n          }\n\n          embedCount++;\n        }\n\n        var linkDensity = this._getLinkDensity(node);\n        var contentLength = this._getInnerText(node).length;\n\n        var haveToRemove =\n          (img > 1 && p / img < 0.5 && !this._hasAncestorTag(node, \"figure\")) ||\n          (!isList && li > p) ||\n          (input > Math.floor(p/3)) ||\n          (!isList && headingDensity < 0.9 && contentLength < 25 && (img === 0 || img > 2) && !this._hasAncestorTag(node, \"figure\")) ||\n          (!isList && weight < 25 && linkDensity > 0.2) ||\n          (weight >= 25 && linkDensity > 0.5) ||\n          ((embedCount === 1 && contentLength < 75) || embedCount > 1);\n        return haveToRemove;\n      }\n      return false;\n    });\n  },\n\n  /**\n   * Clean out elements that match the specified conditions\n   *\n   * @param Element\n   * @param Function determines whether a node should be removed\n   * @return void\n   **/\n  _cleanMatchedNodes: function(e, filter) {\n    var endOfSearchMarkerNode = this._getNextNode(e, true);\n    var next = this._getNextNode(e);\n    while (next && next != endOfSearchMarkerNode) {\n      if (filter.call(this, next, next.className + \" \" + next.id)) {\n        next = this._removeAndGetNext(next);\n      } else {\n        next = this._getNextNode(next);\n      }\n    }\n  },\n\n  /**\n   * Clean out spurious headers from an Element.\n   *\n   * @param Element\n   * @return void\n  **/\n  _cleanHeaders: function(e) {\n    let headingNodes = this._getAllNodesWithTag(e, [\"h1\", \"h2\"]);\n    this._removeNodes(headingNodes, function(node) {\n      let shouldRemove = this._getClassWeight(node) < 0;\n      if (shouldRemove) {\n        this.log(\"Removing header with low class weight:\", node);\n      }\n      return shouldRemove;\n    });\n  },\n\n  /**\n   * Check if this node is an H1 or H2 element whose content is mostly\n   * the same as the article title.\n   *\n   * @param Element  the node to check.\n   * @return boolean indicating whether this is a title-like header.\n   */\n  _headerDuplicatesTitle: function(node) {\n    if (node.tagName != \"H1\" && node.tagName != \"H2\") {\n      return false;\n    }\n    var heading = this._getInnerText(node, false);\n    this.log(\"Evaluating similarity of header:\", heading, this._articleTitle);\n    return this._textSimilarity(this._articleTitle, heading) > 0.75;\n  },\n\n  _flagIsActive: function(flag) {\n    return (this._flags & flag) > 0;\n  },\n\n  _removeFlag: function(flag) {\n    this._flags = this._flags & ~flag;\n  },\n\n  _isProbablyVisible: function(node) {\n    // Have to null-check node.style and node.className.indexOf to deal with SVG and MathML nodes.\n    return (!node.style || node.style.display != \"none\")\n      && !node.hasAttribute(\"hidden\")\n      //check for \"fallback-image\" so that wikimedia math images are displayed\n      && (!node.hasAttribute(\"aria-hidden\") || node.getAttribute(\"aria-hidden\") != \"true\" || (node.className && node.className.indexOf && node.className.indexOf(\"fallback-image\") !== -1));\n  },\n\n  /**\n   * Runs readability.\n   *\n   * Workflow:\n   *  1. Prep the document by removing script tags, css, etc.\n   *  2. Build readability's DOM tree.\n   *  3. Grab the article content from the current dom tree.\n   *  4. Replace the current DOM tree with the new one.\n   *  5. Read peacefully.\n   *\n   * @return void\n   **/\n  parse: function () {\n    // Avoid parsing too large documents, as per configuration option\n    if (this._maxElemsToParse > 0) {\n      var numTags = this._doc.getElementsByTagName(\"*\").length;\n      if (numTags > this._maxElemsToParse) {\n        throw new Error(\"Aborting parsing document; \" + numTags + \" elements found\");\n      }\n    }\n\n    // Unwrap image from noscript\n    this._unwrapNoscriptImages(this._doc);\n\n    // Extract JSON-LD metadata before removing scripts\n    var jsonLd = this._disableJSONLD ? {} : this._getJSONLD(this._doc);\n\n    // Remove script tags from the document.\n    this._removeScripts(this._doc);\n\n    this._prepDocument();\n\n    var metadata = this._getArticleMetadata(jsonLd);\n    this._articleTitle = metadata.title;\n\n    var articleContent = this._grabArticle();\n    if (!articleContent)\n      return null;\n\n    this.log(\"Grabbed: \" + articleContent.innerHTML);\n\n    this._postProcessContent(articleContent);\n\n    // If we haven't found an excerpt in the article's metadata, use the article's\n    // first paragraph as the excerpt. This is used for displaying a preview of\n    // the article's content.\n    if (!metadata.excerpt) {\n      var paragraphs = articleContent.getElementsByTagName(\"p\");\n      if (paragraphs.length > 0) {\n        metadata.excerpt = paragraphs[0].textContent.trim();\n      }\n    }\n\n    var textContent = articleContent.textContent;\n    return {\n      title: this._articleTitle,\n      byline: metadata.byline || this._articleByline,\n      dir: this._articleDir,\n      content: this._serializer(articleContent),\n      textContent: textContent,\n      length: textContent.length,\n      excerpt: metadata.excerpt,\n      siteName: metadata.siteName || this._articleSiteName\n    };\n  }\n};\n\nif (typeof module === \"object\") {\n  module.exports = Readability;\n}\n", "/* eslint-env es6:false */\n/*\n * Copyright (c) 2010 Arc90 Inc\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *     http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n\n/*\n * This code is heavily based on Arc90's readability.js (1.7.1) script\n * available at: http://code.google.com/p/arc90labs-readability\n */\n\nvar REGEXPS = {\n  // NOTE: These two regular expressions are duplicated in\n  // Readability.js. Please keep both copies in sync.\n  unlikelyCandidates: /-ad-|ai2html|banner|breadcrumbs|combx|comment|community|cover-wrap|disqus|extra|footer|gdpr|header|legends|menu|related|remark|replies|rss|shoutbox|sidebar|skyscraper|social|sponsor|supplemental|ad-break|agegate|pagination|pager|popup|yom-remote/i,\n  okMaybeItsACandidate: /and|article|body|column|content|main|shadow/i,\n};\n\nfunction isNodeVisible(node) {\n  // Have to null-check node.style and node.className.indexOf to deal with SVG and MathML nodes.\n  return (!node.style || node.style.display != \"none\")\n    && !node.hasAttribute(\"hidden\")\n    //check for \"fallback-image\" so that wikimedia math images are displayed\n    && (!node.hasAttribute(\"aria-hidden\") || node.getAttribute(\"aria-hidden\") != \"true\" || (node.className && node.className.indexOf && node.className.indexOf(\"fallback-image\") !== -1));\n}\n\n/**\n * Decides whether or not the document is reader-able without parsing the whole thing.\n * @param {Object} options Configuration object.\n * @param {number} [options.minContentLength=140] The minimum node content length used to decide if the document is readerable.\n * @param {number} [options.minScore=20] The minumum cumulated 'score' used to determine if the document is readerable.\n * @param {Function} [options.visibilityChecker=isNodeVisible] The function used to determine if a node is visible.\n * @return {boolean} Whether or not we suspect Readability.parse() will suceeed at returning an article object.\n */\nfunction isProbablyReaderable(doc, options = {}) {\n  // For backward compatibility reasons 'options' can either be a configuration object or the function used\n  // to determine if a node is visible.\n  if (typeof options == \"function\") {\n    options = { visibilityChecker: options };\n  }\n\n  var defaultOptions = { minScore: 20, minContentLength: 140, visibilityChecker: isNodeVisible };\n  options = Object.assign(defaultOptions, options);\n\n  var nodes = doc.querySelectorAll(\"p, pre\");\n\n  // Get <div> nodes which have <br> node(s) and append them into the `nodes` variable.\n  // Some articles' DOM structures might look like\n  // <div>\n  //   Sentences<br>\n  //   <br>\n  //   Sentences<br>\n  // </div>\n  var brNodes = doc.querySelectorAll(\"div > br\");\n  if (brNodes.length) {\n    var set = new Set(nodes);\n    [].forEach.call(brNodes, function (node) {\n      set.add(node.parentNode);\n    });\n    nodes = Array.from(set);\n  }\n\n  var score = 0;\n  // This is a little cheeky, we use the accumulator 'score' to decide what to return from\n  // this callback:\n  return [].some.call(nodes, function (node) {\n    if (!options.visibilityChecker(node)) {\n      return false;\n    }\n\n    var matchString = node.className + \" \" + node.id;\n    if (REGEXPS.unlikelyCandidates.test(matchString) &&\n        !REGEXPS.okMaybeItsACandidate.test(matchString)) {\n      return false;\n    }\n\n    if (node.matches(\"li p\")) {\n      return false;\n    }\n\n    var textContentLength = node.textContent.trim().length;\n    if (textContentLength < options.minContentLength) {\n      return false;\n    }\n\n    score += Math.sqrt(textContentLength - options.minContentLength);\n\n    if (score > options.minScore) {\n      return true;\n    }\n    return false;\n  });\n}\n\nif (typeof module === \"object\") {\n  module.exports = isProbablyReaderable;\n}\n", "var Readability = require(\"./Readability\");\nvar isProbablyReaderable = require(\"./Readability-readerable\");\n\nmodule.exports = {\n  Readability: Readability,\n  isProbablyReaderable: isProbablyReaderable\n};\n", "/** Generated from excmds.ts. Don't edit this file! *//* eslint-disable spaced-comment */\n// '//#' is a start point for a simple text-replacement-type macro. See excmds_macros.py\n\n/** # Tridactyl help page\n\n    Use `:help <excmd>` or scroll down to show [[help]] for a particular excmd. If you're still stuck, you might consider reading through the [:tutor](/static/clippy/1-tutor.html) again.\n\n    The default keybinds and settings can be found [here](/static/docs/classes/_src_lib_config_.default_config.html) and active binds can be seen with `:viewconfig nmaps` or with [[bind]].\n\n    Tridactyl also provides a few functions to manipulate text in the command line or text areas that can be found [here](/static/docs/modules/_src_lib_editor_.html). There are also a few commands only available in the command line which can be found [here](/static/docs/modules/_src_commandline_frame_.html).\n\n    Ex-commands available exclusively in hint mode are listed [here](/static/docs/modules/_src_content_hinting_.html)\n\n    We also have a [wiki](https://github.com/tridactyl/tridactyl/wiki) which may be edited by anyone.\n\n    ## How to use this help page\n\n    Every function (excmd) on this page can be called via Tridactyl's command line which we call \"ex\". There is a slight change in syntax, however. Wherever you see:\n\n    `function(arg1,arg2)`\n\n    You should instead type\n\n    `function arg1 arg2` into the Tridactyl command line (accessed via `:`)\n\n    A \"splat\" operator (...) means that the excmd will accept any number of space-delimited arguments into that parameter.\n\n    Above each function signature you will see any aliases or key sequences bound to it. The internal names for the various modes are used, which are listed here:\n\n        - `nmaps`: normal mode binds\n        - `imaps`: insert mode binds\n        - `inputmaps`: input mode binds\n        - `ignoremaps`: ignore mode binds\n        - `exaliases`: aliases in the command mode\n        - `exmaps`: commandline mode binds\n\n    At the bottom of each function's help page, you can click on a link that will take you straight to that function's definition in our code.\n\n    You do not need to worry about types. Return values which are promises will turn into whatever they promise to when used in [[composite]].\n\n    ## Caveats\n    There are some caveats common to all webextension vimperator-alikes:\n\n    - To make Tridactyl work on addons.mozilla.org and some other Mozilla domains, you need to open `about:config` and add a new boolean `privacy.resistFingerprinting.block_mozAddonManager` with the value `true`, as well as remove those domains from `extensions.webextensions.restrictedDomains`.\n    - Tridactyl can't run on about:\\*, some file:\\* URIs, view-source:\\*, or data:\\*, URIs.\n    - To change/hide the GUI of Firefox from Tridactyl, you can use [[guiset]] with the native messenger installed (see [[native]] and [[nativeinstall]]). Alternatively, you can edit your userChrome yourself.\n\n    ## Getting help\n\n    For more information, and FAQs, check out our [readme][2] and [troubleshooting guide][3] on github.\n\n    Tridactyl is in a pretty early stage of development. Please report any issues and make requests for missing features on the GitHub [project page][1]. You can also get in touch using Matrix, Gitter, or IRC chat clients:\n\n    [![Matrix Chat][matrix-badge]][matrix-link]\n    [![Gitter Chat][gitter-badge]][gitter-link]\n    [![Libera Chat][libera-badge]][libera-link]\n\n    All three channels are mirrored together, so it doesn't matter which one you use.\n\n    [1]: https://github.com/tridactyl/tridactyl/issues\n    [2]: https://github.com/tridactyl/tridactyl#readme\n    [3]: https://github.com/tridactyl/tridactyl/blob/master/doc/troubleshooting.md\n\n    [gitter-badge]: /static/badges/gitter-badge.svg\n    [gitter-link]: https://gitter.im/tridactyl/Lobby\n    [libera-badge]: /static/badges/libera-badge.svg\n    [libera-link]: ircs://irc.libera.chat:6697/tridactyl\n    [matrix-badge]: /static/badges/matrix-badge.svg\n    [matrix-link]: https://matrix.to/#/#tridactyl:matrix.org\n*/\n/** ignore this line */\n\n// {{{ setup\n\n// Shared\nimport * as Messaging from \"@src/lib/messaging\"\nimport { ownWinTriIndex, getTriVersion, browserBg, activeTab, activeTabId, activeTabContainerId, openInNewTab, openInNewWindow, openInTab, queryAndURLwrangler, goToTab, getSortedTabs, prevActiveTab } from \"@src/lib/webext\"\nimport * as Container from \"@src/lib/containers\"\nimport state from \"@src/state\"\nimport * as State from \"@src/state\"\nimport { contentState, ModeName } from \"@src/content/state_content\"\nimport * as UrlUtil from \"@src/lib/url_util\"\nimport * as config from \"@src/lib/config\"\nimport * as aliases from \"@src/lib/aliases\"\nimport * as Logging from \"@src/lib/logging\"\nimport { AutoContain } from \"@src/lib/autocontainers\"\nimport * as CSS from \"css\"\nimport * as Perf from \"@src/perf\"\nimport * as Metadata from \"@src/.metadata.generated\"\nimport { ObjectType } from \"../compiler/types/ObjectType\"\nimport * as Native from \"@src/lib/native\"\nimport * as TTS from \"@src/lib/text_to_speech\"\nimport * as excmd_parser from \"@src/parsers/exmode\"\nimport * as escape from \"@src/lib/escape\"\nimport semverCompare from \"semver-compare\"\nimport * as hint_util from \"@src/lib/hint_util\"\nimport { OpenMode } from \"@src/lib/hint_util\"\nimport * as Proxy from \"@src/lib/proxy\"\nimport * as arg from \"@src/lib/arg_util\"\n\n/**\n * This is used to drive some excmd handling in `composite`.\n *\n * @hidden\n */\nlet ALL_EXCMDS\n\n// The entry-point script will make sure this has the right set of\n// excmds, so we can use it without futher configuration.\nimport * as controller from \"@src/lib/controller\"\n\nimport { generator as KEY_MUNCHER } from \"@src/content/controller_content\"\n\n/**\n * Used to store the types of the parameters for each excmd for\n * self-documenting functionality.\n *\n * @hidden\n */\nexport const cmd_params = new Map<string, Map<string, string>>()\n\n/** @hidden */\nconst logger = new Logging.Logger(\"excmd\")\n\n/** @hidden **/\nconst TRI_VERSION = getTriVersion()\n\n// {\nimport \"@src/lib/number.clamp\"\nimport * as CTSELF from \"@src/.excmds_content.generated\"\nimport { CmdlineCmds as CtCmdlineCmds } from \"@src/background/commandline_cmds\"\nimport { EditorCmds as CtEditorCmds } from \"@src/background/editor\"\nimport * as DOM from \"@src/lib/dom\"\nimport * as CommandLineContent from \"@src/content/commandline_content\"\nimport * as scrolling from \"@src/content/scrolling\"\nimport { ownTab } from \"@src/lib/webext\"\nimport { rot13_helper, jumble_helper } from \"@src/lib/editor_utils\"\nimport * as finding from \"@src/content/finding\"\nimport * as toys from \"./content/toys\"\nimport * as hinting from \"@src/content/hinting\"\nimport * as gobbleMode from \"@src/parsers/gobblemode\"\nimport * as nMode from \"@src/parsers/nmode\"\n\nALL_EXCMDS = {\n    \"\": CTSELF,\n    ex: CtCmdlineCmds,\n    text: CtEditorCmds,\n}\n// }\n\nimport { mapstrToKeyseq, mozMapToMinimalKey, minimalKeyToMozMap } from \"@src/lib/keyseq\"\n\n\n// }}}\n\n// {{{ Native messenger stuff\n\n/** @hidden **/\ncmd_params.set('getNativeVersion', new Map([]))\nexport async function getNativeVersion(): Promise<string> {\n    logger.debug(\"shimming excmd getNativeVersion from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"getNativeVersion\",\n\n    )\n}\n\n/** @hidden\n * This function is used by rssexec and rssexec completions.\n */\ncmd_params.set('getRssLinks', new Map([]))\nexport async function getRssLinks(): Promise<Array<{ type: string; url: string; title: string }>> {\n    const seen = new Set<string>()\n    return Array.from(document.querySelectorAll<HTMLAnchorElement | HTMLLinkElement>(\"a, link[rel='alternate']\"))\n        .filter(e => typeof e.href === \"string\")\n        .reduce((acc, e) => {\n            let type = \"\"\n            // Start by detecting type because url doesn't necessarily contain the words \"rss\" or \"atom\"\n            if (e.type) {\n                // if type doesn't match either rss or atom, don't include link\n                if (e.type.indexOf(\"rss\") < 0 && e.type.indexOf(\"atom\") < 0) return acc\n                type = e.type\n            } else {\n                // Making sure that we match either a dot or \"xml\" because \"urss\" and \"atom\" are actual words\n                if (/(\\.rss)|(rss\\.xml)/i.test(e.href)) type = \"application/rss+xml\"\n                else if (/(\\.atom)|(atom\\.xml)/i.test(e.href)) type = \"application/atom+xml\"\n                else return acc\n            }\n            if (seen.has(e.href)) return acc\n            seen.add(e.href)\n            return acc.concat({ type, url: e.href, title: e.title || e.innerText } as { type: string; url: string; title: string })\n        }, [])\n}\n\n/**\n * Execute [[rsscmd]] for an rss link.\n *\n * If `url` is undefined, Tridactyl will look for rss links in the current\n * page. If it doesn't find any, it will display an error message. If it finds\n * multiple urls, it will offer completions in order for you to select the link\n * you're interested in. If a single rss feed is found, it will automatically\n * be selected.\n */\ncmd_params.set('rssexec', new Map([['url', 'string'], ['type', 'string'], ['...title', 'string[]']]))\nexport async function rssexec(url: string, type?: string, ...title: string[]) {\n    if (!url || url === \"\") {\n        const links = await getRssLinks()\n        switch (links.length) {\n            case 0:\n                throw new Error(\"No rss link found on this page.\")\n                break\n            case 1:\n                url = links[0].url\n                title = [links[0].title]\n                type = links[0].type\n                break\n            default:\n                return fillcmdline(\"rssexec\")\n        }\n    }\n    let rsscmd = config.get(\"rsscmd\")\n    if (rsscmd.match(\"%[uty]\")) {\n        rsscmd = rsscmd\n            .replace(\"%u\", url)\n            .replace(\"%t\", title.join(\" \"))\n            .replace(\"%y\", type || \"\")\n    } else {\n        rsscmd += \" \" + url\n    }\n    // Need actual excmd parsing here.\n    return controller.acceptExCmd(rsscmd)\n}\n\n/**\n * Fills the element matched by `selector` with content and falls back to the last used input if the element can't be found. You probably don't want this; it used to be used internally for [[editor]].\n *\n * That said, `bind gs fillinput null [Tridactyl](https://addons.mozilla.org/en-US/firefox/addon/tridactyl-vim/) is my favourite add-on` could probably come in handy.\n */\ncmd_params.set('fillinput', new Map([['selector', 'string'], ['...content', 'string[]']]))\nexport function fillinput(selector: string, ...content: string[]) {\n    let inputToFill = document.querySelector(selector)\n    if (!inputToFill) inputToFill = DOM.getLastUsedInput()\n\n    // CodeMirror support (I think only versions prior to CodeMirror 6)\n    if (inputToFill?.parentNode?.parentElement?.className?.match(/CodeMirror/gi)) {\n        ;(inputToFill.parentNode.parentElement as any).wrappedJSObject.CodeMirror.setValue(content.join(\" \"))\n        return\n    }\n\n    if (\"value\" in inputToFill) {\n        ;(inputToFill as HTMLInputElement).value = content.join(\" \")\n    } else {\n        inputToFill.textContent = content.join(\" \")\n    }\n}\n\n/** @hidden */\nexport function getInput(e: HTMLElement) {\n    // this should probably be subsumed by the focusinput code\n    if (\"value\" in e) {\n        return (e as HTMLInputElement).value\n    } else {\n        return e.textContent\n    }\n}\n\n/** @hidden */\ncmd_params.set('getinput', new Map([]))\nexport function getinput() {\n    return getInput(DOM.getLastUsedInput())\n}\n\n/** @hidden */\ncmd_params.set('getInputSelector', new Map([]))\nexport function getInputSelector() {\n    return DOM.getSelector(DOM.getLastUsedInput())\n}\n\n/** @hidden */\ncmd_params.set('addTridactylEditorClass', new Map([['selector', 'string']]))\nexport function addTridactylEditorClass(selector: string) {\n    document.querySelector(selector)?.classList.add(\"TridactylEditing\")\n}\n\n/** @hidden */\ncmd_params.set('removeTridactylEditorClass', new Map([['selector', 'string']]))\nexport function removeTridactylEditorClass(selector: string) {\n    document.querySelector(selector)?.classList.remove(\"TridactylEditing\")\n}\n\nimport { getEditor } from \"editor-adapter\"\n\n/**\n * Opens your favourite editor (which is currently gVim) and fills the last used input with whatever you write into that file.\n * **Requires that the native messenger is installed, see [[native]] and [[nativeinstall]]**.\n *\n * Uses the `editorcmd` config option, default = `auto` looks through a list defined in lib/native.ts try find a sensible combination. If it's a bit slow, or chooses the wrong editor, or gives up completely, set editorcmd to something you want. The command must stay in the foreground until the editor exits.\n *\n * The editorcmd needs to accept a filename, stay in the foreground while it's edited, save the file and exit. By default the filename is added to the end of editorcmd, if you require control over the position of that argument, the first occurrence of %f in editorcmd is replaced with the filename. %l, if it exists, is replaced with the line number of the cursor and %c with the column number. For example:\n * ```\n * set editorcmd terminator -u -e \"vim %f '+normal!%lGzv%c|'\"\n * ```\n *\n * You're probably better off using the default insert mode bind of `<C-i>` (Ctrl-i) to access this.\n *\n * This function returns a tuple containing the path to the file that was opened by the editor and its content. This enables creating commands such as the following one, which deletes the temporary file created by the editor:\n * ```\n * alias editor_rm composite editor | jsb -p tri.native.run(`rm -f '${JS_ARG[0]}'`)\n * bind --mode=insert <C-i> editor_rm\n * bind --mode=input <C-i> editor_rm\n * ```\n */\ncmd_params.set('editor', new Map([]))\nexport async function editor() {\n    const elem = DOM.getLastUsedInput()\n    const selector = DOM.getSelector(elem)\n    addTridactylEditorClass(selector)\n\n    if (!(await Native.nativegate())) {\n        removeTridactylEditorClass(selector)\n        return undefined\n    }\n\n    const beforeUnloadListener = (event: BeforeUnloadEvent) => {\n        event.preventDefault()\n        event.returnValue = true\n    }\n    window.addEventListener(\"beforeunload\", beforeUnloadListener)\n\n    let ans\n    try {\n        const editor = getEditor(elem, { preferHTML: true })\n        const text = await editor.getContent()\n        const pos = await editor.getCursor()\n\n        const file = (await Native.temp(text, document.location.hostname)).content\n        const exec = await Native.editor(file, ...pos)\n\n        if (exec.code == 0) {\n            await editor.setContent(exec.content)\n            // TODO: ask the editor nicely where its cursor was left and use that\n            //          for now just try to put it where it started at\n            await editor.setCursor(...pos)\n\n            // TODO: add annoying \"This message was written with [Tridactyl](https://addons.mozilla.org/en-US/firefox/addon/tridactyl-vim/)\" to everything written using editor\n            ans = [file, exec.content]\n        } else {\n            logger.debug(`Editor terminated with non-zero exit code: ${exec.code}`)\n        }\n    } catch (e) {\n        throw new Error(`:editor failed: ${e}`)\n    } finally {\n        removeTridactylEditorClass(selector)\n        window.removeEventListener(\"beforeunload\", beforeUnloadListener)\n        return ans\n    }\n}\n\n/**\n * Like [[guiset]] but quieter.\n */\ncmd_params.set('guiset_quiet', new Map([['rule', 'string'], ['option', 'string']]))\nexport async function guiset_quiet(rule: string, option: string) {\n    logger.debug(\"shimming excmd guiset_quiet from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"guiset_quiet\",\n        rule, option\n    )\n}\n\n/**\n * Change which parts of the Firefox user interface are shown. **NB: This feature is experimental and might break stuff.**\n *\n * Might mangle your userChrome. Requires native messenger, and you must restart Firefox each time to see any changes (this can be done using [[restart]]). <!-- (unless you enable addon debugging and refresh using the browser toolbox) -->\n *\n * Also flips the preference `toolkit.legacyUserProfileCustomizations.stylesheets` to true so that FF will read your userChrome.\n *\n * View available rules and options [here](/static/docs/modules/_src_lib_css_util_.html#potentialrules) and [here](/static/docs/modules/_src_lib_css_util_.html#metarules).\n *\n * Example usage: `guiset gui none`, `guiset gui full`, `guiset tabs autohide`.\n *\n * Some of the available options:\n *\n * - gui\n *      - full\n *      - none\n *\n * - tabs\n *      - always\n *      - autohide\n *\n * - navbar\n *      - always\n *      - autohide\n *      - none\n *\n * - hoverlink (the little link that appears when you hover over a link)\n *      - none\n *      - left\n *      - right\n *      - top-left\n *      - top-right\n *\n * - statuspanel (hoverlink + the indicator that appears when a website is loading)\n *      - none\n *      - left\n *      - right\n *      - top-left\n *      - top-right\n *\n * If you want to use guiset in your tridactylrc, you might want to use [[guiset_quiet]] instead.\n */\ncmd_params.set('guiset', new Map([['rule', 'string'], ['option', 'string']]))\nexport async function guiset(rule: string, option: string) {\n    logger.debug(\"shimming excmd guiset from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"guiset\",\n        rule, option\n    )\n}\n\n/** @hidden */\ncmd_params.set('cssparse', new Map([['...css', 'string[]']]))\nexport function cssparse(...css: string[]) {\n    logger.debug(\"shimming excmd cssparse from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"cssparse\",\n        ...css\n    )\n}\n\n/** @hidden */\ncmd_params.set('loadtheme', new Map([['themename', 'string']]))\nexport async function loadtheme(themename: string) {\n    logger.debug(\"shimming excmd loadtheme from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"loadtheme\",\n        themename\n    )\n}\n\n/** @hidden */\ncmd_params.set('unloadtheme', new Map([['themename', 'string']]))\nexport async function unloadtheme(themename: string) {\n    logger.debug(\"shimming excmd unloadtheme from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"unloadtheme\",\n        themename\n    )\n}\n\n/**\n * Changes the current theme.\n *\n * If THEMENAME is any of the themes that can be found in the [Tridactyl repo](https://github.com/tridactyl/tridactyl/tree/master/src/static/themes) (e.g. 'dark'), the theme will be loaded from Tridactyl's internal storage.\n *\n * If THEMENAME is set to any other value except `--url`, Tridactyl will attempt to use its native binary (see [[native]]) in order to load a CSS file named THEMENAME from disk. The CSS file has to be in a directory named \"themes\" and this directory has to be in the same directory as your tridactylrc. If this fails, Tridactyl will attempt to load the theme from its internal storage.\n *\n * Lastly, themes can be loaded from URLs with `:colourscheme --url [url] [themename]`. They are stored internally - if you want to update the theme run the whole command again.\n *\n * Note that the theme name should NOT contain any dot.\n *\n * Example: `:colourscheme mysupertheme`\n * On linux, this will load ~/.config/tridactyl/themes/mysupertheme.css\n *\n * __NB__: due to Tridactyl's architecture, the theme will take a small amount of time to apply as each page is loaded. If this annoys you, you may use [userContent.css](http://kb.mozillazine.org/index.php?title=UserContent.css&printable=yes) to make changes to Tridactyl earlier. For example, users using the dark theme may like to put\n *\n * ```\n * :root {\n *     --tridactyl-bg: black !important;\n *     --tridactyl-fg: white !important;\n * }\n * ```\n *\n * in their `userContent.css`. Follow [issue #2510](https://github.com/tridactyl/tridactyl/issues/2510) if you would like to find out when we have made a more user-friendly solution.\n */\ncmd_params.set('colourscheme', new Map([['...args', 'string[]']]))\nexport async function colourscheme(...args: string[]) {\n    logger.debug(\"shimming excmd colourscheme from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"colourscheme\",\n        ...args\n    )\n}\n\n/**\n * Write a setting to your user.js file. Requires a [[restart]] after running to take effect.\n *\n * @param key The key that should be set. Must not be quoted. Must not contain spaces.\n * @param value The value the key should take. Quoted if a string, unquoted otherwise.\n *\n * Note that not all of the keys Firefox uses are suggested by Tridactyl.\n *\n * e.g.: `setpref general.warnOnAboutConfig false`\n */\ncmd_params.set('setpref', new Map([['key', 'string'], ['...value', 'string[]']]))\nexport function setpref(key: string, ...value: string[]) {\n    logger.debug(\"shimming excmd setpref from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"setpref\",\n        key, ...value\n    )\n}\n\n/**\n * Remove a setting from your user.js file.\n *\n * @param key The key that should be set. Must not be quoted. Must not contain spaces.\n *\n */\ncmd_params.set('removepref', new Map([['key', 'string']]))\nexport function removepref(key: string) {\n    logger.debug(\"shimming excmd removepref from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"removepref\",\n        key\n    )\n}\n\n/**\n * Like [[fixamo]] but quieter.\n *\n * Now purely a placebo as [[fixamo]] has been removed.\n */\ncmd_params.set('fixamo_quiet', new Map([]))\nexport async function fixamo_quiet() {\n    logger.debug(\"shimming excmd fixamo_quiet from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"fixamo_quiet\",\n\n    )\n}\n\n/**\n *\n * Used to simply set\n * ```js\n *  \"privacy.resistFingerprinting.block_mozAddonManager\":true\n *  \"extensions.webextensions.restrictedDomains\":\"\"\n * ```\n * in about:config via user.js so that Tridactyl (and other extensions!) can be used on addons.mozilla.org and other sites.\n *\n * Removed at the request of the Firefox Security team. Replacements exist in our exemplar RC file.\n *\n * Requires `native` and a `restart`.\n */\ncmd_params.set('fixamo', new Map([]))\nexport async function fixamo() {\n    logger.debug(\"shimming excmd fixamo from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"fixamo\",\n\n    )\n}\n\n/**\n * Uses the native messenger to open URLs.\n *\n * **Be *seriously* careful with this:**\n *\n * 1. the implementation basically execs `firefox --new-tab <your shell escaped string here>`\n * 2. you can use it to open any URL you can open in the Firefox address bar,\n *    including ones that might cause side effects (firefox does not guarantee\n *    that about: pages ignore query strings).\n *\n * You've been warned.\n *\n * This uses the [[browser]] setting to know which binary to call. If you need to pass additional arguments to firefox (e.g. '--new-window'), make sure they appear before the url.\n */\ncmd_params.set('nativeopen', new Map([['...args', 'string[]']]))\nexport async function nativeopen(...args: string[]) {\n    logger.debug(\"shimming excmd nativeopen from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"nativeopen\",\n        ...args\n    )\n}\n\n/**\n * Run command in /bin/sh (unless you're on Windows), and print the output in the command line. Non-zero exit codes and stderr are ignored, currently.\n *\n * Requires the native messenger, obviously.\n *\n * If you're using `exclaim` with arguments coming from a pipe, consider using [[shellescape]] to properly escape arguments and to prevent unsafe commands.\n *\n * If you want to use a different shell, just prepend your command with whatever the invocation is and keep in mind that most shells require quotes around the command to be executed, e.g. `:exclaim xonsh -c \"1+2\"`.\n *\n * Aliased to `!` but the exclamation mark **must be followed with a space**.\n */\ncmd_params.set('exclaim', new Map([['...str', 'string[]']]))\nexport async function exclaim(...str: string[]) {\n    logger.debug(\"shimming excmd exclaim from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"exclaim\",\n        ...str\n    )\n}\n\n/**\n * Like exclaim, but without any output to the command line.\n */\ncmd_params.set('exclaim_quiet', new Map([['...str', 'string[]']]))\nexport async function exclaim_quiet(...str: string[]) {\n    logger.debug(\"shimming excmd exclaim_quiet from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"exclaim_quiet\",\n        ...str\n    )\n}\n\n/**\n * Tells you if the native messenger is installed and its version.\n *\n * For snap, flatpak, and other sandboxed installations, additional setup is required \u2013 see https://github.com/tridactyl/tridactyl#extra-features-through-native-messaging.\n */\ncmd_params.set('native', new Map([]))\nexport async function native() {\n    logger.debug(\"shimming excmd native from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"native\",\n\n    )\n}\n\n/**\n * Copies the installation command for the native messenger to the clipboard and asks the user to run it in their shell.\n *\n * The native messenger's source code may be found here: https://github.com/tridactyl/native_messenger/blob/master/src/native_main.nim\n *\n * If your corporate IT policy disallows execution of binaries which have not been whitelisted but allows Python scripts, you may instead use the old native messenger by running `install.sh` or `win_install.ps1` from https://github.com/tridactyl/tridactyl/tree/master/native - the main downside is that it is significantly slower.\n *\n * For snap, flatpak, and other sandboxed installations, additional setup is required \u2013 see https://github.com/tridactyl/tridactyl#extra-features-through-native-messaging.\n */\ncmd_params.set('nativeinstall', new Map([]))\nexport async function nativeinstall() {\n    logger.debug(\"shimming excmd nativeinstall from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"nativeinstall\",\n\n    )\n}\n\n/** Writes current config to a file.\n\n    NB: an RC file is not required for your settings to persist: all settings are stored in a local Firefox storage database by default as soon as you set them.\n\n    With no arguments supplied the excmd will try to find an appropriate\n    config path and write the rc file to there. Any argument given to the\n    excmd excluding the `-f` flag will be treated as a path to write the rc\n    file to relative to the native messenger's location (`~/.local/share/tridactyl/`). By default, it silently refuses to overwrite existing files.\n\n    The RC file will be split into sections that will be created if a config\n    property is discovered within one of them:\n    - General settings\n    - Binds\n    - Aliases\n    - Autocmds\n    - Autocontainers\n    - Logging\n\n    Note:\n    - Subconfig paths fall back to using `js tri.config.set(key: obj)` notation.\n    - This method is also used as a fallback mechanism for objects that didn't hit\n      any of the heuristics.\n\n    Available flags:\n    - `-f` will overwrite the config file if it exists.\n    - `--clipboard` write config to clipboard - no [[native]] required\n\n    @param args an optional string of arguments to be parsed.\n    @returns the parsed config.\n\n*/\ncmd_params.set('mktridactylrc', new Map([['...args', 'string[]']]))\nexport async function mktridactylrc(...args: string[]) {\n    logger.debug(\"shimming excmd mktridactylrc from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"mktridactylrc\",\n        ...args\n    )\n}\n\n/**\n * Runs an RC file from disk or a URL\n *\n * This function accepts a flag: `--url` to load a RC from a URL.\n *\n * If no argument given, it will try to open ~/.tridactylrc, ~/.config/tridactyl/tridactylrc or $XDG_CONFIG_HOME/tridactyl/tridactylrc in reverse order. You may use a `_` in place of a leading `.` if you wish, e.g, if you use Windows.\n *\n * If no url is specified with the `--url` flag, the current page's URL is used to locate the RC file. Ensure the URL you pass (or page you are on) is a \"raw\" RC file, e.g. https://raw.githubusercontent.com/tridactyl/tridactyl/master/.tridactylrc and not https://github.com/tridactyl/tridactyl/blob/master/.tridactylrc.\n *\n * Tridactyl won't run on many raw pages due to a Firefox bug with Content Security Policy, so you may need to use the `source --url [URL]` form.\n *\n * On Windows, the `~` expands to `%USERPROFILE%`.\n *\n * The RC file is just a bunch of Tridactyl excmds (i.e, the stuff on this help page). Settings persist in local storage. There's an [example file](https://raw.githubusercontent.com/tridactyl/tridactyl/master/.tridactylrc) if you want it.\n *\n * There is a [bug](https://github.com/tridactyl/tridactyl/issues/1409) where not all lines of the RC file are executed if you use `sanitise` at the top of it. We instead recommend you put `:bind ZZ composite sanitise tridactyllocal; qall` in your RC file and use `ZZ` to exit Firefox.\n *\n * @param args the file/URL to open. For files: must be an absolute path, but can contain environment variables and things like ~.\n */\ncmd_params.set('source', new Map([['...args', 'string[]']]))\nexport async function source(...args: string[]) {\n    logger.debug(\"shimming excmd source from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"source\",\n        ...args\n    )\n}\n\n/**\n * Same as [[source]] but suppresses all errors\n */\ncmd_params.set('source_quiet', new Map([['...args', 'string[]']]))\nexport async function source_quiet(...args: string[]) {\n    logger.debug(\"shimming excmd source_quiet from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"source_quiet\",\n        ...args\n    )\n}\n\n/**\n * Updates the native messenger if it is installed, using our GitHub repo. This is run every time Tridactyl is updated.\n *\n * If you want to disable this, or point it to your own native messenger, edit the `nativeinstallcmd` setting.\n */\ncmd_params.set('updatenative', new Map([['interactive', 'boolean']]))\nexport async function updatenative(interactive = true) {\n    logger.debug(\"shimming excmd updatenative from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"updatenative\",\n        interactive\n    )\n}\n\n/**\n *  Restarts firefox with the same commandline arguments.\n *\n *  Warning: This can kill your tabs, especially if you :restart several times\n *  in a row\n */\ncmd_params.set('restart', new Map([]))\nexport async function restart() {\n    logger.debug(\"shimming excmd restart from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"restart\",\n\n    )\n}\n\n/** Download the current document.\n *\n * If you have the native messenger v>=0.1.9 installed, the function accepts an optional argument, filename, which can be:\n * - An absolute path\n * - A path starting with ~, which will be expanded to your home directory\n * - A relative path, relative to the native messenger executable (e.g. ~/.local/share/tridactyl on linux).\n * If filename is not given, a download dialogue will be opened. If filename is a directory, the file will be saved inside of it, its name being inferred from the URL. If the directories mentioned in the path do not exist or if a file already exists at this path, the file will be kept in your downloads folder and an error message will be given.\n *\n * **NB**: if a non-default save location is chosen, Firefox's download manager will say the file is missing. It is not - it is where you asked it to be saved.\n *\n * Flags:\n * - `--overwrite`: overwrite the destination file.\n * - `--cleanup`: removes the downloaded source file e.g. `$HOME/Downlods/downloaded.doc` if moving it to the desired directory fails.\n */\ncmd_params.set('saveas', new Map([['...args', 'string[]']]))\nexport async function saveas(...args: string[]) {\n    let overwrite = false\n    let cleanup = false\n\n    const argParse = (args: string[]): string[] => {\n        if (args[0] === \"--overwrite\") {\n            overwrite = true\n            args.shift()\n            argParse(args)\n        }\n        if (args[0] === \"--cleanup\") {\n            cleanup = true\n            args.shift()\n            argParse(args)\n        }\n        return args\n    }\n\n    const file = argParse(args).join(\" \") || undefined\n\n    const requiredNativeMessengerVersion = \"0.3.2\"\n    if ((overwrite || cleanup) && !(await Native.nativegate(requiredNativeMessengerVersion, false))) {\n        throw new Error(`\":saveas --{overwrite, cleanup}\" requires native ${requiredNativeMessengerVersion} or later`)\n    }\n\n    if (args.length > 0) {\n        const filename = await Messaging.message(\"download_background\", \"downloadUrlAs\", window.location.href, file, overwrite, cleanup)\n        return fillcmdline_tmp(10000, `Download completed: ${filename} stored in ${file}`)\n    } else {\n        return Messaging.message(\"download_background\", \"downloadUrl\", window.location.href, true)\n    }\n}\n\n// }}}\n\n/** @hidden */\n\n// }}}\n\n// {{{ PAGE CONTEXT\n\n/** @hidden */\nlet JUMPED: boolean\n\n/** @hidden */\nlet JUMP_TIMEOUTID: number | undefined\n\n/** This is used as an ID for the current page in the jumplist.\n    It has a potentially confusing behavior: if you visit site A, then site B, then visit site A again, the jumplist that was created for your first visit on A will be re-used for your second visit.\n    An ideal solution would be to have a counter that is incremented every time a new page is visited within the tab and use that as the return value for getJumpPageId but this doesn't seem to be trivial to implement.\n    @hidden\n */\nexport function getJumpPageId() {\n    return document.location.href\n}\n\n/** @hidden */\nexport async function saveJumps(jumps) {\n    return browserBg.sessions.setTabValue(await activeTabId(), \"jumps\", jumps)\n}\n\n/** @hidden */\nexport async function saveTabHistory(history) {\n    return browserBg.sessions.setTabValue(await activeTabId(), \"history\", history)\n}\n\n/** Returns a promise for an object with history list, index of a current, previous and next pages */\n/** @hidden */\nexport async function curTabHistory() {\n    const tabid = await activeTabId()\n    return await browserBg.sessions.getTabValue(tabid, \"history\")\n}\n\n/** Returns a promise for an object containing the jumplist of all pages accessed in the current tab.\n    The keys of the object currently are the page's URL, however this might change some day. Use [[getJumpPageId]] to access the jumplist of a specific page.\n    @hidden\n */\nexport async function curJumps() {\n    const tabid = await activeTabId()\n    let jumps = await browserBg.sessions.getTabValue(tabid, \"jumps\")\n    if (!jumps) jumps = {}\n    // This makes sure that `key` exists in `obj`, setting it to `def` if it doesn't\n    const ensure = (obj, key, def) => {\n        if (obj[key] === null || obj[key] === undefined) obj[key] = def\n    }\n    const page = getJumpPageId()\n    ensure(jumps, page, {})\n    ensure(jumps[page], \"list\", [{ x: window.scrollX, y: window.scrollY }])\n    ensure(jumps[page], \"cur\", 0)\n    saveJumps(jumps)\n    return jumps\n}\n\n/** Calls [[jumpprev]](-n) */\ncmd_params.set('jumpnext', new Map([['n', 'number']]))\nexport function jumpnext(n = 1) {\n    return jumpprev(-n)\n}\n\n/** Similar to Pentadactyl or vim's jump list.\n *\n * When you scroll on a page, either by using the mouse or Tridactyl's key bindings, your position in the page will be saved after jumpdelay milliseconds (`:get jumpdelay` to know how many milliseconds that is). If you scroll again, you'll be able to go back to your previous position by using `:jumpprev 1`. If you need to go forward in the jumplist, use `:jumpprev -1`.\n *\n * Known bug: Tridactyl will use the same jumplist for multiple visits to a same website in the same tab, see [github issue 834](https://github.com/tridactyl/tridactyl/issues/834).\n */\ncmd_params.set('jumpprev', new Map([['n', 'number']]))\nexport function jumpprev(n = 1) {\n    return curJumps().then(alljumps => {\n        const jumps = alljumps[getJumpPageId()]\n        const current = jumps.cur - n\n        if (current < 0) {\n            jumps.cur = 0\n            saveJumps(alljumps)\n            return back(-current + \"\")\n        } else if (current >= jumps.list.length) {\n            jumps.cur = jumps.list.length - 1\n            saveJumps(alljumps)\n            return forward(current - jumps.list.length + 1 + \"\")\n        }\n        jumps.cur = current\n        const p = jumps.list[jumps.cur]\n        saveJumps(alljumps)\n        JUMPED = true\n        window.scrollTo(p.x, p.y)\n    })\n}\n\n/**\n * Jumps to a local mark, a global mark, or the location before the last mark jump.\n * [a-z] are local marks, [A-Z] are global marks and '`' is the location before the last mark jump.\n * @param key the key associated with the mark\n */\ncmd_params.set('markjump', new Map([['key', 'string']]))\nexport async function markjump(key: string) {\n    if (key.length !== 1) {\n        throw new Error(\"markjump accepts only a single letter or '`'\")\n    }\n    if (key === \"`\") {\n        return markjumpbefore()\n    }\n    if (!/[a-z]/i.exec(key)) {\n        throw new Error(\"markjump accepts only a single letter or '`'\")\n    }\n    if (key === key.toUpperCase()) {\n        return markjumpglobal(key)\n    }\n    return markjumplocal(key)\n}\n\n/**\n * Jumps to a local mark.\n * @param key the key associated with the mark\n */\ncmd_params.set('markjumplocal', new Map([['key', 'string']]))\nexport async function markjumplocal(key: string) {\n    const urlWithoutAnchor = window.location.href.split(\"#\")[0]\n    const localMarks = await State.getAsync(\"localMarks\")\n    const mark = localMarks.get(urlWithoutAnchor)?.get(key)\n    if (mark) {\n        const currentTabId = await activeTabId()\n        state.beforeJumpMark = { url: urlWithoutAnchor, scrollX: window.scrollX, scrollY: window.scrollY, tabId: currentTabId }\n        scrolltab(currentTabId, mark.scrollX, mark.scrollY, `# marks: jumped to mark '${key}'`)\n    }\n    return fillcmdline_tmp(3000, `# marks: warning - local mark '${key}' is not set in this tab`)\n}\n\n/**\n * Jumps to a global mark. If the tab with the mark no longer exists or its url differs from the mark's url,\n * jumps to another tab with the mark's url or creates it first if such tab does not exist.\n * @param key the key associated with the mark\n */\ncmd_params.set('markjumpglobal', new Map([['key', 'string']]))\nexport async function markjumpglobal(key: string) {\n    const globalMarks = await State.getAsync(\"globalMarks\")\n    const mark = globalMarks.get(key)\n    if (!mark) {\n        return fillcmdline_tmp(3000, `# marks: warning - global mark '${key}' is not set`)\n    }\n    const currentTabId = await activeTabId()\n    state.beforeJumpMark = {\n        url: window.location.href.split(\"#\")[0],\n        scrollX: window.scrollX,\n        scrollY: window.scrollY,\n        tabId: currentTabId,\n    }\n    try {\n        const tab = await browserBg.tabs.get(mark.tabId)\n        return onTabExists(tab)\n    } catch (e) {\n        return onTabNoLongerValid()\n    }\n\n    async function onTabExists(tab) {\n        const tabUrl = tab.url.split(\"#\")[0]\n        if (mark.url !== tabUrl) {\n            return onTabNoLongerValid()\n        }\n        return goToTab(tab.id).then(() => {\n            scrolltab(tab.id, mark.scrollX, mark.scrollY, `# marks: jumped to mark '${key}'`)\n        })\n    }\n\n    // the tab with mark's tabId doesn't exist or it has a different url than the mark's url\n    async function onTabNoLongerValid() {\n        const matchingTabs = await browserBg.tabs.query({ url: mark.url })\n        // If there are no matching tabs, open a new one and update the mark's tabId for future use in this session\n        if (!matchingTabs.length) {\n            // This (and only this) needs to run in the background\n            return tabopenwait(mark.url).then(updateMarkAndScroll)\n        }\n        // If there are multiple tabs open with the same url, just pick the first one and update the mark's tabId\n        // for future use in this session\n        return goToTab(matchingTabs[0].id).then(updateMarkAndScroll)\n    }\n\n    function updateMarkAndScroll(tab) {\n        mark.tabId = tab.id\n        state.globalMarks = globalMarks\n        scrolltab(tab.id, mark.scrollX, mark.scrollY, `# marks: jumped to mark '${key}'`)\n    }\n}\n\n/**\n * Jumps to a location saved before the last mark jump as long as the tab it's located in exists and its url didn't change.\n * Overwrites the location before the last mark jump - repeating this method will jump back and forth between two locations.\n */\ncmd_params.set('markjumpbefore', new Map([]))\nexport async function markjumpbefore() {\n    const beforeJumpMark = await State.getAsync(\"beforeJumpMark\")\n    if (!beforeJumpMark) {\n        return\n    }\n    try {\n        const tab = await browserBg.tabs.get(beforeJumpMark.tabId)\n        const tabUrl = tab.url.split(\"#\")[0]\n        const { url, scrollX, scrollY, tabId } = beforeJumpMark\n        if (url !== tabUrl) {\n            return\n        }\n        const currentTabId = await activeTabId()\n        state.beforeJumpMark = { url: window.location.href.split(\"#\")[0], scrollX: window.scrollX, scrollY: window.scrollY, tabId: currentTabId }\n        goToTab(tabId).then(() => scrolltab(tabId, scrollX, scrollY, \"# marks: jumped back\"))\n    } catch (e) {\n        // the mark's tab is no longer valid\n    }\n}\n\n/**\n * Scrolls to a given position in a tab identified by tabId and prints a message in it.\n */\ncmd_params.set('scrolltab', new Map([['tabId', 'number'], ['scrollX', 'number'], ['scrollY', 'number'], ['message', 'string']]))\nexport async function scrolltab(tabId: number, scrollX: number, scrollY: number, message: string) {\n    await Messaging.messageTab(tabId, \"controller_content\", \"acceptExCmd\", [`scrollto ${scrollX} ${scrollY}`])\n    Messaging.messageTab(tabId, \"controller_content\", \"acceptExCmd\", [`fillcmdline_tmp 3000 ${message}`])\n}\n\n/**\n * Adds a global or a local mark. In case of a local mark, it will be assigned to the current page url.\n * If a mark is already assigned, it is overwritten.\n * @param key the key associated with the mark\n */\ncmd_params.set('markadd', new Map([['key', 'string']]))\nexport async function markadd(key: string) {\n    logger.debug(\"shimming excmd markadd from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"markadd\",\n        key\n    )\n}\n\n/**\n * Assigns a local mark to the current url and the given key. If a mark is already assigned, it is overwritten.\n * Two urls are considered the same if they're identical ignoring anchors.\n * Local marks are not persisted between browser restarts.\n */\ncmd_params.set('markaddlocal', new Map([['key', 'string']]))\nexport async function markaddlocal(key: string) {\n    const urlWithoutAnchor = window.location.href.split(\"#\")[0]\n    const localMarks = await State.getAsync(\"localMarks\")\n    const localUrlMarks = localMarks.get(urlWithoutAnchor) ? localMarks.get(urlWithoutAnchor) : new Map()\n    const newLocalMark = { scrollX: window.scrollX, scrollY: window.scrollY }\n    localUrlMarks.set(key, newLocalMark)\n    localMarks.set(urlWithoutAnchor, localUrlMarks)\n    state.localMarks = localMarks\n    fillcmdline_tmp(3000, `# marks: local mark '${key}' set`)\n}\n\n/**\n * Assigns a global mark to the given key. If a mark is already assigned, it is overwritten.\n * Global marks are persisted between browser restarts.\n */\ncmd_params.set('markaddglobal', new Map([['key', 'string']]))\nexport async function markaddglobal(key: string) {\n    const urlWithoutAnchor = window.location.href.split(\"#\")[0]\n    const globalMarks = await State.getAsync(\"globalMarks\")\n    const tabId = await activeTabId()\n    const newGlobalMark = { url: urlWithoutAnchor, scrollX: window.scrollX, scrollY: window.scrollY, tabId }\n    globalMarks.set(key, newGlobalMark)\n    state.globalMarks = globalMarks\n    fillcmdline_tmp(3000, `# marks: global mark '${key}' set`)\n}\n\n/** Called on 'scroll' events.\n    If you want to have a function that moves within the page but doesn't add a\n    location to the jumplist, make sure to set JUMPED to true before moving\n    around.\n    The setTimeout call is required because sometimes a user wants to move\n    somewhere by pressing 'j' multiple times and we don't want to add the\n    in-between locations to the jump list\n    @hidden\n*/\nexport function addJump() {\n    if (JUMPED) {\n        JUMPED = false\n        return\n    }\n    const { scrollX, scrollY } = window\n    // Prevent pending jump from being registered\n    clearTimeout(JUMP_TIMEOUTID)\n    // Schedule the registering of the current jump\n    const localTimeoutID = window.setTimeout(async () => {\n        // Get config for current page\n        const alljumps = await curJumps()\n        // if this handler was cancelled after the call to curJumps(), bail out\n        if (localTimeoutID !== JUMP_TIMEOUTID) return\n\n        const jumps = alljumps[getJumpPageId()]\n        const list = jumps.list\n        // if the page hasn't moved, stop\n        if (list[jumps.cur].x === scrollX && list[jumps.cur].y === scrollY) return\n        // Store the new jump\n        // Could removing all jumps from list[cur] to list[list.length] be\n        // a better/more intuitive behavior?\n        list.push({ x: scrollX, y: scrollY })\n        jumps.cur = jumps.list.length - 1\n        saveJumps(alljumps)\n    }, config.get(\"jumpdelay\"))\n    JUMP_TIMEOUTID = localTimeoutID\n}\n\ndocument.addEventListener(\"scroll\", addJump, { passive: true })\n\n// Try to restore the previous jump position every time a page is loaded\ndocument.addEventListener(\"load\", () => curJumps().then(() => jumpprev(0)))\n\n// Adds a new entry to history tree or updates it if already visited\n/** @hidden */\nexport async function addTabHistory() {\n    let pages = await curTabHistory()\n    if (!pages)\n        pages = {\n            current: null,\n            list: [],\n        }\n    const link = getJumpPageId()\n    const current = pages[\"list\"].findIndex(item => item.href === link)\n    if (current !== -1) {\n        pages[\"current\"] = current\n        pages[\"list\"][current].time = Date.now()\n    } else {\n        pages[\"list\"].push({\n            parent: pages[\"current\"],\n            href: link,\n            title: document.title,\n            id: pages[\"list\"].length,\n            time: Date.now(),\n        })\n        pages[\"current\"] = pages[\"list\"].length - 1\n    }\n    saveTabHistory(pages)\n}\n\n// Calls addTabHistory on page load\n/** @hidden */\naddTabHistory()\nwindow.addEventListener(\"HistoryState\", addTabHistory)\n\n/** Blur (unfocus) the active element and enter normal mode */\ncmd_params.set('unfocus', new Map([]))\nexport function unfocus() {\n    ;((document.activeElement.shadowRoot ? DOM.deepestShadowRoot(document.activeElement.shadowRoot) : document).activeElement as HTMLInputElement).blur()\n    contentState.mode = \"normal\"\n}\n\n/** Scrolls the window or any scrollable child element by a pixels on the horizontal axis and b pixels on the vertical axis.\n */\ncmd_params.set('scrollpx', new Map([['a', 'number'], ['b', 'number']]))\nexport async function scrollpx(a: number, b: number) {\n    let done = Promise.resolve(undefined as any)\n    if (!(await scrolling.scroll(a, b, document.documentElement))) {\n        done = scrolling.recursiveScroll(a, b)\n    }\n    return done.then(() => undefined)\n}\n\n/** If two numbers are given, treat as x and y values to give to window.scrollTo\n    If one number is given, scroll to that percentage along a chosen axis, defaulting to the y-axis. If the number has 'c' appended to it, it will be interpreted in radians.\n\n    Note that if `a` is 0 or 100 and if the document is not scrollable in the given direction, Tridactyl will attempt to scroll the first scrollable element until it reaches the very bottom of that element.\n\n    Examples:\n\n    - `scrollto 50` -> scroll halfway down the page.\n    - `scrollto 3.14c` -> scroll approximately 49.97465213% of the way down the page.\n*/\ncmd_params.set('scrollto', new Map([['a', 'number | string'], ['b', 'number | \"x\" | \"y\" = \"y\"']]))\nexport function scrollto(a: number | string, b: number | \"x\" | \"y\" = \"y\") {\n    if (typeof a === \"string\" && /c$/i.exec(a)) {\n        a = (Number(a.replace(/c$/, \"\")) * 100) / (2 * Math.PI)\n    }\n    a = Number(a)\n    const elem = window.document.scrollingElement || window.document.documentElement\n    const percentage = a.clamp(0, 100)\n    let done = Promise.resolve(undefined as any)\n    if (b === \"y\") {\n        const top = elem.getClientRects()[0].top\n        window.scrollTo(window.scrollX, (percentage * elem.scrollHeight) / 100)\n        if (top === elem.getClientRects()[0].top && (percentage === 0 || percentage === 100)) {\n            // scrollTo failed, if the user wants to go to the top/bottom of\n            // the page try scrolling.recursiveScroll instead\n            done = scrolling.recursiveScroll(window.scrollX, 1073741824 * (percentage === 0 ? -1 : 1), document.documentElement)\n        }\n    } else if (b === \"x\") {\n        const left = elem.getClientRects()[0].left\n        window.scrollTo((percentage * elem.scrollWidth) / 100, window.scrollY)\n        if (left === elem.getClientRects()[0].left && (percentage === 0 || percentage === 100)) {\n            done = scrolling.recursiveScroll(1073741824 * (percentage === 0 ? -1 : 1), window.scrollX, document.documentElement)\n        }\n    } else {\n        window.scrollTo(a, Number(b)) // a,b numbers\n    }\n    return done.then(() => undefined)\n}\n\n/** @hidden */\nlet lineHeight = null\n/** Scrolls the document of its first scrollable child element by n lines.\n *\n *  The height of a line is defined by the site's CSS. If Tridactyl can't get it, it'll default to 22 pixels.\n */\ncmd_params.set('scrollline', new Map([['n', 'number'], ['mult', 'number']]))\nexport function scrollline(n = 1, mult = 1) {\n    n = mult * n\n    if (lineHeight === null) {\n        const getLineHeight = elem => {\n            // Get line height\n            const cssHeight = window.getComputedStyle(elem).getPropertyValue(\"line-height\")\n            // Remove the \"px\" at the end\n            return parseInt(cssHeight.substr(0, cssHeight.length - 2), 10)\n        }\n        lineHeight = getLineHeight(document.documentElement)\n        if (!lineHeight) lineHeight = getLineHeight(document.body)\n        // Is there a better way to compute a fallback? Maybe fetch from about:preferences?\n        if (!lineHeight) lineHeight = 22\n    }\n    return scrolling.recursiveScroll(0, lineHeight * n)\n}\n\n/** Scrolls the document by n pages.\n * The height of a page is the current height of the window.\n *\n * @param count How many times to scroll. Used to facilitate key\n * binds with counts for `<C-F>` etc., not really useful otherwise.\n */\ncmd_params.set('scrollpage', new Map([['n', 'number'], ['count', 'number']]))\nexport function scrollpage(n = 1, count = 1) {\n    return scrollpx(0, window.innerHeight * n * count)\n}\n\n/**\n *  Rudimentary find mode, left unbound by default as we don't currently support `incsearch`. Suggested binds:\n *\n *      bind / fillcmdline find\n *      bind ? fillcmdline find --reverse\n *      bind n findnext --search-from-view\n *      bind N findnext --search-from-view --reverse\n *      bind gn findselect\n *      bind gN composite findnext --search-from-view --reverse; findselect\n *      bind ,<Space> nohlsearch\n *\n *  Argument: A string you want to search for.\n *\n *  This function accepts two flags: `-?` or `--reverse` to search from the bottom rather than the top and `-: n` or `--jump-to n` to jump directly to the nth match.\n *\n *  The behavior of this function is affected by the following setting:\n *\n *  `findcase`: either \"smart\", \"sensitive\" or \"insensitive\". If \"smart\", find will be case-sensitive if the pattern contains uppercase letters.\n *\n *  Known bugs: find will currently happily jump to a non-visible element, and pressing n or N without having searched for anything will cause an error.\n */\ncmd_params.set('find', new Map([['...args', 'string[]']]))\nexport function find(...args: string[]) {\n    const argOpt = arg.lib(\n        {\n            \"--jump-to\": Number,\n            \"-:\": \"--jump-to\",\n\n            \"--reverse\": Boolean,\n            \"-?\": \"--reverse\",\n        },\n        {\n            argv: args,\n            permissive: true,\n            splitUnknownArguments: false,\n        },\n    )\n    const option = {}\n    option[\"reverse\"] = Boolean(argOpt[\"--reverse\"])\n    if (\"--jump-to\" in argOpt) option[\"jumpTo\"] = argOpt[\"--jump-to\"]\n    const searchQuery = argOpt._.join(\" \")\n    return finding.jumpToMatch(searchQuery, option)\n}\n\n/** Jump to the next nth searched pattern.\n *\n * Available flags:\n * - `-f` or `--search-from-view` to search from the current view instead of the previous match\n * - `-?` or `--reverse` to reverse the sign of the number\n *\n * @param number - number of words to advance down the page (use 1 for next word, -1 for previous), default to 1\n *\n */\ncmd_params.set('findnext', new Map([['...args', 'string[]']]))\nexport function findnext(...args: string[]) {\n    let n = 1\n    const option = arg.lib(\n        {\n            \"--search-from-view\": Boolean,\n            \"-f\": \"--search-from-view\",\n\n            \"--reverse\": Boolean,\n            \"-?\": \"--reverse\",\n        },\n        {\n            argv: args,\n            allowNegativePositional: true,\n        },\n    )\n    if (option._.length > 0) n = Number(option._[0])\n    if (option[\"--reverse\"]) n = -n\n    return finding.jumpToNextMatch(n, Boolean(option[\"--search-from-view\"]))\n}\n\ncmd_params.set('clearsearchhighlight', new Map([]))\nexport function clearsearchhighlight() {\n    return finding.removeHighlighting()\n}\n\n/**\n * Highlight the current find-mode match result and enter the visual mode.\n */\ncmd_params.set('findselect', new Map([]))\nexport function findselect() {\n    const range = finding.currentMatchRange()\n    const selection = document.getSelection()\n    selection.removeAllRanges()\n    selection.addRange(range)\n}\n\n/** @hidden */\nfunction history(url_or_num: string, direction: number) {\n    url_or_num = url_or_num == \"\" ? \"1\" : url_or_num\n    isNaN(url_or_num as unknown as number) ? open(url_or_num) : window.history.go(parseInt(url_or_num, 10) * direction)\n}\n\n/** Navigate forward one page in history. */\ncmd_params.set('forward', new Map([['...args', 'string[]']]))\nexport function forward(...args: string[]) {\n    return history(args.join(\" \"), 1)\n}\n\n/** Navigate back one page in history. */\ncmd_params.set('back', new Map([['...args', 'string[]']]))\nexport function back(...args: string[]) {\n    return history(args.join(\" \"), -1)\n}\n\n/** Reload the next n tabs, starting with activeTab, possibly bypassingCache */\ncmd_params.set('reload', new Map([['n', 'number'], ['hard', 'boolean']]))\nexport async function reload(n = 1, hard = false) {\n    logger.debug(\"shimming excmd reload from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"reload\",\n        n, hard\n    )\n}\n\n/** Reloads all tabs, bypassing the cache if hard is set to true */\ncmd_params.set('reloadall', new Map([['hard', 'boolean']]))\nexport async function reloadall(hard = false) {\n    logger.debug(\"shimming excmd reloadall from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"reloadall\",\n        hard\n    )\n}\n\n/** Reloads all tabs except the current one, bypassing the cache if hard is set to true\n *  You probably want to use [[reloaddead]] instead if you just want to be able to ensure Tridactyl is loaded in all tabs where it can be\n * */\ncmd_params.set('reloadallbut', new Map([['hard', 'boolean']]))\nexport async function reloadallbut(hard = false) {\n    logger.debug(\"shimming excmd reloadallbut from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"reloadallbut\",\n        hard\n    )\n}\n\n/** Reloads all tabs which Tridactyl isn't loaded in */\ncmd_params.set('reloaddead', new Map([['hard', 'boolean']]))\nexport async function reloaddead(hard = false) {\n    logger.debug(\"shimming excmd reloaddead from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"reloaddead\",\n        hard\n    )\n}\n\n/** Reload the next n tabs, starting with activeTab. bypass cache for all */\ncmd_params.set('reloadhard', new Map([['n', 'number']]))\nexport async function reloadhard(n = 1) {\n    logger.debug(\"shimming excmd reloadhard from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"reloadhard\",\n        n\n    )\n}\n\n// I went through the whole list https://developer.mozilla.org/en-US/Firefox/The_about_protocol\n// about:blank is even more special\n/** @hidden */\nexport const ABOUT_WHITELIST = [\"about:license\", \"about:logo\", \"about:rights\", \"about:blank\"]\n\n/**\n * Open a new page in the current tab.\n *\n * @param urlarr\n *\n * - if first word looks like it has a schema, treat as a URI\n * - else if the first word contains a dot, treat as a domain name\n * - else if the first word is a key of [[SEARCH_URLS]], treat all following terms as search parameters for that provider\n * - else treat as search parameters for [[searchengine]]\n *\n * Related settings: [[searchengine]], [[historyresults]]\n *\n * Can only open about:* or file:* URLs if you have the native messenger installed, and on OSX you must set `browser` to something that will open Firefox from a terminal pass it commmand line options.\n *\n */\ncmd_params.set('open', new Map([['...urlarr', 'string[]']]))\nexport async function open(...urlarr: string[]) {\n    const url = urlarr.join(\" \")\n\n    // Setting window.location to about:blank results in a page we can't access, tabs.update works.\n    if (!ABOUT_WHITELIST.includes(url) && /^(about|file):.*/.exec(url)) {\n        // Open URLs that firefox won't let us by running `firefox <URL>` on the command line\n        return nativeopen(url)\n    } else if (/^javascript:/.exec(url)) {\n        const escapeUrl = url.replace(/[\\\\\"]/g, \"\\\\$&\")\n        window.eval(`window.location.href = \"${escapeUrl}\"`)\n    } else {\n        const tab = await ownTab()\n        return openInTab(tab, {}, urlarr)\n    }\n}\n\n/**\n * Works exactly like [[open]], but only suggests bookmarks.\n *\n * If you want to use optional flags, you should run `:set completions.Bmark.autoselect false` to prevent the spacebar from inserting the URL of the top bookmark.\n *\n * @param opt Optional. Has to be `-t` in order to make bmarks open your bookmarks in a new tab.\n * @param urlarr any argument accepted by [[open]], or [[tabopen]] if opt is \"-t\" (e.g. `-c [container]` to open a bookmark in a container)\n */\ncmd_params.set('bmarks', new Map([['opt', 'string'], ['...urlarr', 'string[]']]))\nexport async function bmarks(opt: string, ...urlarr: string[]) {\n    logger.debug(\"shimming excmd bmarks from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"bmarks\",\n        opt, ...urlarr\n    )\n}\n\n/**\n * Like [[open]] but doesn't make a new entry in history.\n */\ncmd_params.set('open_quiet', new Map([['...urlarr', 'string[]']]))\nexport async function open_quiet(...urlarr: string[]) {\n    const url = urlarr.join(\" \")\n\n    if (!ABOUT_WHITELIST.includes(url) && /^(about|file):.*/.exec(url)) {\n        return nativeopen(url)\n    }\n\n    return ownTab().then(tab => openInTab(tab, { loadReplace: true }, urlarr))\n}\n\n/**\n *  If the url of the current document matches one of your search engines, will convert it to a list of arguments that open/tabopen will understand. If the url doesn't match any search engine, returns the url without modifications.\n *\n *  For example, if you have searchurls.gi set to \"https://www.google.com/search?q=%s&tbm=isch\", using this function on a page you opened using \"gi butterflies\" will return \"gi butterflies\".\n *\n *  This is useful when combined with fillcmdline, for example like this: `bind O composite url2args | fillcmdline open`.\n *\n *  Note that this might break with search engines that redirect you to other pages/add GET parameters that do not exist in your searchurl.\n */\ncmd_params.set('url2args', new Map([]))\nexport async function url2args() {\n    const url = document.location.href\n    const searchurls = await config.getAsync(\"searchurls\")\n    let result = url\n\n    for (const engine of Object.keys(searchurls)) {\n        const [beginning, end] = [...searchurls[engine].split(\"%s\"), \"\"]\n        if (url.startsWith(beginning) && url.endsWith(end)) {\n            // Get the string matching %s\n            let encodedArgs = url.substring(beginning.length)\n            encodedArgs = encodedArgs.substring(0, encodedArgs.length - end.length)\n            // Remove any get parameters that might have been added by the search engine\n            // This works because if the user's query contains an \"&\", it will be encoded as %26\n            const amperpos = encodedArgs.search(\"&\")\n            if (amperpos > 0) encodedArgs = encodedArgs.substring(0, amperpos)\n\n            // Do transformations depending on the search engine\n            if (beginning.search(\"duckduckgo\") > 0) encodedArgs = encodedArgs.replace(/\\+/g, \" \")\n            else if (beginning.search(\"wikipedia\") > 0) encodedArgs = encodedArgs.replace(/_/g, \" \")\n\n            const args = engine + \" \" + decodeURIComponent(encodedArgs)\n            if (args.length < result.length) result = args\n        }\n    }\n    return result\n}\n\n/** @hidden */\nlet sourceElement: Element\n/** @hidden */\nfunction removeSource() {\n    if (sourceElement) {\n        sourceElement.remove()\n        sourceElement = undefined\n    }\n}\n\n/** Display the (HTML) source of the current page.\n\n    Behaviour can be changed by the 'viewsource' setting.\n\n    If the 'viewsource' setting is set to 'default' rather than 'tridactyl',\n    the url the source of which should be displayed can be given as argument.\n    Otherwise, the source of the current document will be displayed.\n*/\ncmd_params.set('viewsource', new Map([['url', 'string']]))\nexport function viewsource(url = \"\") {\n    if (url === \"\") url = window.location.href\n    if (config.get(\"viewsource\") === \"default\") {\n        window.location.href = \"view-source:\" + url\n        return\n    }\n    if (!sourceElement) {\n        sourceElement = CommandLineContent.executeWithoutCommandLine(() => {\n            const pre = document.createElement(\"pre\")\n            pre.id = \"TridactylViewsourceElement\"\n            pre.className = \"cleanslate \" + config.get(\"theme\")\n            pre.innerText = document.documentElement.innerHTML\n            document.documentElement.appendChild(pre)\n            window.addEventListener(\"popstate\", removeSource)\n            return pre\n        })\n    } else {\n        sourceElement.parentNode.removeChild(sourceElement)\n        sourceElement = undefined\n        window.removeEventListener(\"popstate\", removeSource)\n    }\n}\n\n/**\n * Go to the homepages you have set with `set homepages [\"url1\", \"url2\"]`.\n *\n *  @param all\n *  - if \"true\", opens all homepages in new tabs\n *  - if \"false\" or not given, opens the last homepage in the current tab\n *\n */\ncmd_params.set('home', new Map([['all', '\"false\" | \"true\" = \"false\"']]))\nexport function home(all: \"false\" | \"true\" = \"false\") {\n    logger.debug(\"shimming excmd home from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"home\",\n        all\n    )\n}\n\n/** Show this page.\n\n    `:help something` jumps to the entry for something. Something can be an excmd, an alias for an excmd, a binding or a setting.\n\n    On the ex command page, the \"nmaps\" list is a list of all the bindings for the command you're seeing and the \"exaliases\" list lists all its aliases.\n\n    If there's a conflict (e.g. you have a \"go\" binding that does something, a \"go\" excmd that does something else and a \"go\" setting that does a third thing), the binding is chosen first, then the setting, then the excmd. In such situations, if you want to let Tridactyl know you're looking for something specfic, you can specify the following flags as first arguments:\n\n    `-a`: look for an alias\n    `-b`: look for a binding\n    `-e`: look for an ex command\n    `-s`: look for a setting\n\n    If the keyword you gave to `:help` is actually an alias for a composite command (see [[composite]]) , you will be taken to the help section for the first command of the pipeline. You will be able to see the whole pipeline by hovering your mouse over the alias in the \"exaliases\" list. Unfortunately there currently is no way to display these HTML tooltips from the keyboard.\n\n    e.g. `:help bind`\n*/\ncmd_params.set('help', new Map([['...helpItems', 'string[]']]))\nexport async function help(...helpItems: string[]) {\n    logger.debug(\"shimming excmd help from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"help\",\n        ...helpItems\n    )\n}\n\n/**\n * Search through the help pages. Accepts the same flags as [[help]]. Only useful in interactive usage with completions; the command itself is just a wrapper for [[help]].\n */\ncmd_params.set('apropos', new Map([['...helpItems', 'string[]']]))\nexport async function apropos(...helpItems: string[]) {\n    logger.debug(\"shimming excmd apropos from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"apropos\",\n        ...helpItems\n    )\n}\n\n/** Start the tutorial\n * @param newtab - whether to start the tutorial in a newtab. Defaults to current tab.\n */\ncmd_params.set('tutor', new Map([['newtab', 'string']]))\nexport async function tutor(newtab?: string) {\n    logger.debug(\"shimming excmd tutor from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tutor\",\n        newtab\n    )\n}\n\n/**\n * Display Tridactyl's contributors in order of commits in a user-friendly fashion\n */\ncmd_params.set('credits', new Map([]))\nexport async function credits() {\n    logger.debug(\"shimming excmd credits from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"credits\",\n\n    )\n}\n\n/**\n * Hides the cursor and covers the current page in an overlay to prevent clicking on links with the mouse to force yourself to use hint mode.\n *\n * To bring back mouse control, use [[mouse_mode]] or refresh the page.\n *\n * Suggested usage: `autocmd DocLoad .* no_mouse_mode`\n *\n * \"There is no mouse\".\n */\ncmd_params.set('no_mouse_mode', new Map([]))\nexport function no_mouse_mode() {\n    toys.no_mouse()\n}\n\n/**\n * Matrix variant of [[no_mouse_mode]]\n *\n * \"There is no mouse\".\n *\n * Coincidentally added to Tridactyl at the same time as we reached 1337 stars on GitHub.\n */\ncmd_params.set('neo_mouse_mode', new Map([]))\nexport function neo_mouse_mode() {\n    toys.jack_in()\n}\n\n/**\n * Christmas variant of [[no_mouse_mode]] (if you live in $DEFAULT hemisphere).\n */\ncmd_params.set('snow_mouse_mode', new Map([]))\nexport function snow_mouse_mode() {\n    toys.snow()\n}\n\n/**\n * Music variant of [[no_mouse_mode]].\n */\ncmd_params.set('pied_piper_mouse_mode', new Map([]))\nexport function pied_piper_mouse_mode() {\n    toys.music()\n}\n/**\n * Drawable variant of [[no_mouse_mode]]\n * In this mode, you can use the mouse or a digital stylus to draw. To switch to an eraser, use [[drawingerasertoggle]]\n * Use [[mouse_mode]] to return, or refresh page.\n * Suggested usage: `autocmd DocLoad .* drawingstart\n *\n * **Warning**: Windows Ink enabled input devices don't work, disable it for your browser, or use a mouse.\n */\ncmd_params.set('drawingstart', new Map([]))\nexport function drawingstart() {\n    toys.drawable()\n}\n/**\n * Switch between pen and eraser for [[drawingstart]]\n * Suggested usage: `bind e drawingerasertoggle`. If you have a digital pen, map the button to `e` to switch easily.\n */\ncmd_params.set('drawingerasertoggle', new Map([]))\nexport function drawingerasertoggle() {\n    toys.eraser_toggle()\n}\n/**\n * Revert any variant of the [[no_mouse_mode]]\n *\n * Suggested usage: `bind <C-\\> mouse_mode` with the autocmd mentioned in [[no_mouse_mode]] or [[drawingstart]].\n */\ncmd_params.set('mouse_mode', new Map([]))\nexport function mouse_mode() {\n    toys.removeBlock()\n}\n\n/** @hidden */\n// Find clickable next-page/previous-page links whose text matches the supplied pattern,\n// and return the last such link.\n//\n// If no matching link is found, return undefined.\n//\n// We return the last link that matches because next/prev buttons tend to be at the end of the page\n// whereas lots of blogs have \"VIEW MORE\" etc. plastered all over their pages.\nfunction findRelLink(pattern: RegExp): HTMLAnchorElement | null {\n    // querySelectorAll returns a \"non-live NodeList\" which is just a shit array without working reverse() or find() calls, so convert it.\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    const links = Array.from(document.querySelectorAll(\"a[href]\") as NodeListOf<HTMLAnchorElement>)\n\n    // Find the last link that matches the test\n    return links.reverse().find(link => pattern.test(link.innerText))\n\n    // Note:\n    // `innerText` gives better (i.e. less surprising) results than `textContent`\n    // at the expense of being much slower, but that shouldn't be an issue here\n    // as it's a one-off operation that's only performed when we're leaving a page\n}\n\n/** @hidden */\n// Return the last element in the document matching the supplied selector,\n// or null if there are no matches.\nfunction selectLast(selector: string): HTMLElement | null {\n    // eslint-disable-next-line @typescript-eslint/no-unnecessary-type-assertion\n    const nodes = document.querySelectorAll(selector) as NodeListOf<HTMLElement>\n    return nodes.length ? nodes[nodes.length - 1] : null\n}\n\n/** Find a likely next/previous link and follow it\n\n    If a link or anchor element with rel=rel exists, use that, otherwise fall back to:\n\n        1) find the last anchor on the page with innerText matching the appropriate `followpagepattern`.\n        2) call [[urlincrement]] with 1 or -1\n\n    If you want to support e.g. French:\n\n    ```\n    set followpagepatterns.next ^(next|newer|prochain)\\b|\u00BB|>>\n    set followpagepatterns.prev ^(prev(ious)?|older|pr\u00E9c\u00E9dent)\\b|\u00AB|<<\n    ```\n\n    @param rel   the relation of the target page to the current page: \"next\" or \"prev\"\n*/\ncmd_params.set('followpage', new Map([['rel', '\"next\" | \"prev\" = \"next\"']]))\nexport function followpage(rel: \"next\" | \"prev\" = \"next\") {\n    const link = selectLast(`link[rel~=${rel}][href]`) as HTMLLinkElement\n\n    if (link) {\n        window.location.href = link.href\n        return\n    }\n\n    const anchor = (selectLast(`a[rel~=${rel}][href]`) || findRelLink(new RegExp(config.get(\"followpagepatterns\", rel), \"i\"))) as HTMLAnchorElement\n\n    if (anchor) {\n        DOM.mouseEvent(anchor, \"click\")\n    } else {\n        urlincrement(rel === \"next\" ? 1 : -1)\n    }\n}\n\n/** Increment the current tab URL\n *\n * @param count   the increment step, can be positive or negative\n *\n * @param multiplier    multiplies the count so that e.g. `5<C-x>` works.\n */\ncmd_params.set('urlincrement', new Map([['count', 'number'], ['multiplier', 'number']]))\nexport function urlincrement(count = 1, multiplier = 1) {\n    const newUrl = UrlUtil.incrementUrl(window.location.href, count * multiplier)\n\n    if (newUrl !== null) {\n        // This might throw an error when using incrementurl on a moz-extension:// page if the page we're trying to access doesn't exist\n        try {\n            window.location.href = newUrl\n        } catch (e) {\n            logger.info(`urlincrement: Impossible to navigate to ${newUrl}`)\n        }\n    }\n}\n\n/** Go to the root domain of the current URL\n */\ncmd_params.set('urlroot', new Map([]))\nexport function urlroot() {\n    const rootUrl = UrlUtil.getUrlRoot(window.location)\n\n    if (rootUrl !== null) {\n        window.location.href = rootUrl.href\n    }\n}\n\n/** Go to the parent URL of the current tab's URL\n */\ncmd_params.set('urlparent', new Map([['count', 'number']]))\nexport function urlparent(count = 1) {\n    const trailingSlash = config.get(\"urlparenttrailingslash\") === \"true\"\n\n    const parentUrl = UrlUtil.getUrlParent(window.location, trailingSlash, count)\n\n    if (parentUrl !== null) {\n        window.location.href = parentUrl.href\n    }\n}\n\n/**\n * Open a URL made by modifying the current URL\n *\n * There are several modes:\n *\n * * Text replace mode:   `urlmodify -t <old> <new>`\n *\n *   Replaces the first instance of the text `old` with `new`.\n *      * `http://example.com` -> (`-t exa peta`) -> `http://petample.com`\n *\n * * Regex replacment mode: `urlmodify -r <regexp> <new> [flags]`\n *\n *   Replaces the first match of the `regexp` with `new`. You can use\n *   flags `i` and `g` to match case-insensitively and to match\n *   all instances respectively\n *      * `http://example.com` -> (`-r [ea] X g`) -> `http://XxXmplX.com`\n *\n * * Query set mode: `urlmodify -s <query> <value>`\n *\n *   Sets the value of a query to be a specific one. If the query already\n *   exists, it will be replaced.\n *      * `http://e.com?id=abc` -> (`-s foo bar`) -> `http://e.com?id=abc&foo=bar\n *\n * * Query replace mode: `urlmodify -q <query> <new_val>`\n *\n *   Replace the value of a query with a new one:\n *      * `http://e.com?id=foo` -> (`-q id bar`) -> `http://e.com?id=bar\n *\n * * Query delete mode: `urlmodify -Q <query>`\n *\n *   Deletes the given query (and the value if any):\n *      * `http://e.com?id=foo&page=1` -> (`-Q id`) -> `http://e.com?page=1`\n *\n * * Graft mode: `urlmodify -g <graft_point> <new_path_tail>`\n *\n *   \"Grafts\" a new tail on the URL path, possibly removing some of the old\n *   tail. Graft point indicates where the old URL is truncated before adding\n *   the new path.\n *\n *   * `graft_point` >= 0 counts path levels, starting from the left\n *   (beginning). 0 will append from the \"root\", and no existing path will\n *   remain, 1 will keep one path level, and so on.\n *   * `graft_point` < 0 counts from the right (i.e. the end of the current\n *   path). -1 will append to the existing path, -2 will remove the last path\n *   level, and so on.\n *\n *   ```plaintext\n *   http://website.com/this/is/the/path/component\n *   Graft point:       ^    ^  ^   ^    ^        ^\n *   From left:         0    1  2   3    4        5\n *   From right:       -6   -5 -4  -3   -2       -1\n *   ```\n *\n *   Examples:\n *\n *   * `http://e.com/issues/42` -> (`-g 0 foo`) -> `http://e.com/foo`\n *   * `http://e.com/issues/42` -> (`-g 1 foo`) -> `http://e.com/issues/foo`\n *   * `http://e.com/issues/42` -> (`-g -1 foo`) -> `http://e.com/issues/42/foo`\n *   * `http://e.com/issues/42` -> (`-g -2 foo`) -> `http://e.com/issues/foo`\n *\n *\n * * URL Input: `urlmodify -*u <arguments> <URL>`\n *\n *   Each mode can be augmented to accept a URL as the last argument instead of\n *   the current url.\n *\n *   Examples:\n *\n *   * `urlmodify -tu <old> <new> <URL>`\n *   * `urlmodify -su <query> <value> <URL>`\n *   * `urlmodify -gu <graft_point> <new_path_tail> <URL>`\n *\n * @param mode      The replace mode:\n *  * -t text replace\n *  * -r regexp replace\n *  * -s set the value of the given query\n *  * -q replace the value of the given query\n *  * -Q delete the given query\n *  * -g graft a new path onto URL or parent path of it\n *  * -*u Use last argument as URL input instead of current URL\n * @param replacement the replacement arguments (depends on mode):\n *  * -t <old> <new>\n *  * -r <regexp> <new> [flags]\n *  * -s <query> <value>\n *  * -q <query> <new_val>\n *  * -Q <query>\n *  * -g <graftPoint> <newPathTail>\n *  * -*u <arguments> <URL>\n */\ncmd_params.set('urlmodify', new Map([['mode', '\"-t\" | \"-r\" | \"-s\" | \"-q\" | \"-Q\" | \"-g\" | \"-tu\" | \"-ru\" | \"-su\" | \"-qu\" | \"-Qu\" | \"-gu\"'], ['...args', 'string[]']]))\nexport function urlmodify(mode: \"-t\" | \"-r\" | \"-s\" | \"-q\" | \"-Q\" | \"-g\" | \"-tu\" | \"-ru\" | \"-su\" | \"-qu\" | \"-Qu\" | \"-gu\", ...args: string[]) {\n    const newUrl = urlmodify_js(mode, ...args)\n    // TODO: once we have an arg parser, have a quiet flag that prevents the page from being added to history\n    if (newUrl && newUrl !== window.location.href) {\n        window.location.replace(newUrl)\n    }\n}\n\n/**\n * Like [[urlmodify]] but returns the modified URL for use with [[js]] and [[composite]]\n *\n * E.g.\n *\n * `:composite urlmodify_js -t www. old. | tabopen `\n */\ncmd_params.set('urlmodify_js', new Map([['mode', '\"-t\" | \"-r\" | \"-s\" | \"-q\" | \"-Q\" | \"-g\" | \"-tu\" | \"-ru\" | \"-su\" | \"-qu\" | \"-Qu\" | \"-gu\"'], ['...args', 'string[]']]))\nexport function urlmodify_js(mode: \"-t\" | \"-r\" | \"-s\" | \"-q\" | \"-Q\" | \"-g\" | \"-tu\" | \"-ru\" | \"-su\" | \"-qu\" | \"-Qu\" | \"-gu\", ...args: string[]) {\n    let oldUrl\n    let newmode\n    if (mode.slice(-1) == \"u\") {\n        oldUrl = new URL(args.pop())\n        newmode = mode.slice(0, -1)\n    } else {\n        oldUrl = new URL(window.location.href)\n        newmode = mode\n    }\n    let newUrl\n\n    switch (newmode) {\n        case \"-t\":\n            if (args.length !== 2) {\n                throw new Error(\"Text replacement needs 2 arguments:\" + \"<old> <new>\")\n            }\n\n            newUrl = oldUrl.href.replace(args[0], args[1])\n            break\n\n        case \"-r\":\n            if (args.length < 2 || args.length > 3) {\n                throw new Error(\"RegExp replacement takes 2 or 3 arguments: \" + \"<regexp> <new> [flags]\")\n            }\n\n            if (args[2] && args[2].search(/^[gi]+$/) === -1) {\n                throw new Error(\"RegExp replacement flags can only include 'g', 'i'\" + \", Got '\" + args[2] + \"'\")\n            }\n\n            const regexp = new RegExp(args[0], args[2])\n            newUrl = oldUrl.href.replace(regexp, args[1])\n            break\n\n        case \"-s\":\n            if (args.length !== 2) {\n                throw new Error(\"Query setting needs 2 arguments:\" + \"<query> <value>\")\n            }\n\n            newUrl = UrlUtil.setQueryValue(oldUrl, args[0], args[1])\n            break\n        case \"-q\":\n            if (args.length !== 2) {\n                throw new Error(\"Query replacement needs 2 arguments:\" + \"<query> <new_val>\")\n            }\n\n            newUrl = UrlUtil.replaceQueryValue(oldUrl, args[0], args[1])\n            break\n        case \"-Q\":\n            if (args.length !== 1) {\n                throw new Error(\"Query deletion needs 1 argument:\" + \"<query>\")\n            }\n\n            newUrl = UrlUtil.deleteQuery(oldUrl, args[0])\n            break\n\n        case \"-g\":\n            if (args.length !== 2) {\n                throw new Error(\"URL path grafting needs 2 arguments:\" + \"<graft point> <new path tail>\")\n            }\n\n            newUrl = UrlUtil.graftUrlPath(oldUrl, args[1], Number(args[0]))\n            break\n    }\n\n    return newUrl\n}\n\n/** Returns the url of links that have a matching rel.\n\n    Don't bind to this: it's an internal function.\n\n    @hidden\n */\ncmd_params.set('geturlsforlinks', new Map([['reltype', 'string'], ['rel', 'string']]))\nexport async function geturlsforlinks(reltype = \"rel\", rel: string) {\n    const elems = document.querySelectorAll(\"link[\" + reltype + \"='\" + rel + \"']\")\n    if (elems) return Array.prototype.map.call(elems, x => x.href)\n    return []\n}\n\n/** Sets the current page's zoom level anywhere between 30% and 300%.\n *\n * If you overshoot the level while using relative adjustments i.e. level > 300% or level < 30% the zoom level will be set to it's maximum or minimum position. Relative adjustments are made * in percentage points, i.e. `:zoom +10 true` increases the zoom level from 50% to 60% or from * 200% to 210%.\n *\n * @param level - The zoom level to set. Treated as percentage value if larger than 3 or smaller than -3.\n * @param rel - Set the zoom adjustment to be relative to current zoom level.\n * @param tabId - The tabId to apply zoom level too.\n * If set to 'auto' it will default to the current active tab.\n * This uses mozilla's internal tabId and not tridactyl's tabId.\n */\ncmd_params.set('zoom', new Map([['level', 'number'], ['rel', 'string'], ['tabId', 'string']]))\nexport async function zoom(level = 0, rel = \"false\", tabId = \"auto\") {\n    logger.debug(\"shimming excmd zoom from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"zoom\",\n        level, rel, tabId\n    )\n}\n\n/**\n * @hidden\n * Old version of the reader command. Opens the current page in Firefox's reader mode.\n * You cannot use Tridactyl while in this reader mode.\n *\n * Use [[reader]] instead\n */\ncmd_params.set('readerold', new Map([]))\nexport async function readerold() {\n    logger.debug(\"shimming excmd readerold from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"readerold\",\n\n    )\n}\n\n/** @hidden **/\n// {\nloadaucmds(\"DocStart\")\nconst autocmd_logger = new Logging.Logger(\"autocmds\")\nwindow.addEventListener(\"pagehide\", () => loadaucmds(\"DocEnd\"))\nwindow.addEventListener(\"DOMContentLoaded\", () => {\n    loadaucmds(\"DocLoad\")\n})\nwindow.addEventListener(\"HistoryState\", () => loadaucmds(\"HistoryState\"))\n\n// Unsupported edge-case: a SPA that doesn't have a UriChange autocmd changes URL to one that does.\nconfig.getAsync(\"autocmds\", \"UriChange\").then(ausites => {\n    if (!ausites) return\n    const aukeyarr = Object.keys(ausites).filter(e => window.document.location.href.search(e) >= 0)\n    if (aukeyarr.length > 0) {\n        let currUri = window.document.location.href\n        function maybeLoad() {\n            const nowUri = window.document.location.href\n            if (nowUri != currUri) {\n                currUri = nowUri\n                loadaucmds(\"UriChange\")\n            }\n        }\n        setInterval(maybeLoad, 100)\n    }\n})\n/** @hidden */\nconst fullscreenhandler = () => {\n    loadaucmds(\"FullscreenChange\")\n    if (document.fullscreenElement || (document as any).mozFullScreenElement) {\n        loadaucmds(\"FullscreenEnter\")\n    } else {\n        loadaucmds(\"FullscreenLeft\")\n    }\n}\n\n/** @hidden **/\nconst fullscreenApiIsPrefixed = \"mozFullScreenEnabled\" in document\n\n// Until firefox removes vendor prefix for this api (in FF64), we must also use mozfullscreenchange\nif (fullscreenApiIsPrefixed) {\n    document.addEventListener(\"mozfullscreenchange\", fullscreenhandler)\n} else if (\"fullscreenEnabled\" in document) {\n    document.addEventListener(\"fullscreenchange\", fullscreenhandler)\n}\n// }\n\n/** @hidden */\ncmd_params.set('loadaucmds', new Map([['cmdType', '\"DocStart\" | \"DocLoad\" | \"DocEnd\" | \"TabEnter\" | \"TabLeft\" | \"FullscreenEnter\" | \"FullscreenLeft\" | \"FullscreenChange\" | \"UriChange\" | \"HistoryState\"']]))\nexport async function loadaucmds(cmdType: \"DocStart\" | \"DocLoad\" | \"DocEnd\" | \"TabEnter\" | \"TabLeft\" | \"FullscreenEnter\" | \"FullscreenLeft\" | \"FullscreenChange\" | \"UriChange\" | \"HistoryState\") {\n    const aucmds = await config.getAsync(\"autocmds\", cmdType)\n    if (!aucmds) return\n    const ausites = Object.keys(aucmds)\n    const aukeyarr = ausites.filter(e => window.document.location.href.search(e) >= 0)\n    const owntab = await ownTab()\n    const replacements = {\n        TRI_FIRED_MOZ_TABID: owntab.id,\n        TRI_FIRED_TRI_TABINDEX: owntab.index + 1,\n        TRI_FIRED_MOZ_WINID: owntab.windowId,\n        TRI_FIRED_TRI_WININDEX: await ownWinTriIndex(),\n        TRI_FIRED_MOZ_OPENERTABID: owntab.openerTabId,\n        TRI_FIRED_ACTIVE: owntab.active,\n        TRI_FIRED_AUDIBLE: owntab.audible,\n        TRI_FIRED_MUTED: owntab.mutedInfo.muted,\n        TRI_FIRED_DISCARDED: owntab.discarded,\n        TRI_FIRED_HEIGHT: owntab.height,\n        TRI_FIRED_WIDTH: owntab.width,\n        TRI_FIRED_HIDDEN: owntab.hidden,\n        TRI_FIRED_INCOGNITO: owntab.incognito,\n        TRI_FIRED_ISARTICLE: owntab.isArticle,\n        TRI_FIRED_LASTACCESSED: owntab.lastAccessed,\n        TRI_FIRED_PINNED: owntab.pinned,\n        TRI_FIRED_TITLE: owntab.title,\n        TRI_FIRED_URL: owntab.url,\n    }\n    for (const aukey of aukeyarr) {\n        for (const [k, v] of Object.entries(replacements)) {\n            aucmds[aukey] = aucmds[aukey].replace(k, v)\n        }\n        try {\n            autocmd_logger.debug(`${cmdType} matched ${aukey}: ${aucmds[aukey]}`)\n            await controller.acceptExCmd(aucmds[aukey])\n        } catch (e) {\n            autocmd_logger.error((e as Error).toString())\n        }\n    }\n}\n\n/** The kinds of input elements that we want to be included in the \"focusinput\"\n * command (gi)\n * @hidden\n */\nexport const INPUTTAGS_selectors = `\ninput:not([disabled]):not([readonly]):-moz-any(\n :not([type]),\n [type='text'],\n [type='search'],\n [type='password'],\n [type='datetime'],\n [type='datetime-local'],\n [type='date'],\n [type='month'],\n [type='time'],\n [type='week'],\n [type='number'],\n [type='range'],\n [type='email'],\n [type='url'],\n [type='tel'],\n [type='color']\n),\ntextarea:not([disabled]):not([readonly]),\nobject,\n[role='application'],\n[contenteditable='true'][role='textbox']\n`\n\n/** Password field selectors\n * @hidden\n */\nconst INPUTPASSWORD_selectors = `\ninput[type='password']\n`\n\n/** Focus the last used input on the page\n *\n * @param nth   focus the nth input on the page, or \"special\" inputs:\n *                  \"-l\": last focussed input\n *                  \"-n\": input after last focussed one\n *                  \"-N\": input before last focussed one\n *                  \"-p\": first password field\n *                  \"-b\": biggest input field\n */\ncmd_params.set('focusinput', new Map([['nth', 'number | string']]))\nexport function focusinput(nth: number | string) {\n    let inputToFocus: HTMLElement = null\n\n    // set to false to avoid falling back on the first available input\n    // if a special finder fails\n    let fallbackToNumeric = true\n\n    // nth = \"-l\" -> use the last used input for this page\n    if (nth === \"-l\") {\n        // try to recover the last used input stored as a\n        // DOM node, which should be exactly the one used before (or null)\n        if (DOM.getLastUsedInput()) {\n            inputToFocus = DOM.getLastUsedInput()\n        } else {\n            // Pick the first input in the DOM.\n            inputToFocus = DOM.getElemsBySelector(INPUTTAGS_selectors, [DOM.isSubstantial])[0] as HTMLElement\n\n            // We could try to save the last used element on page exit, but\n            // that seems like a lot of faff for little gain.\n        }\n    } else if (nth === \"-n\" || nth === \"-N\") {\n        // attempt to find next/previous input\n        const inputs = DOM.getElemsBySelector(INPUTTAGS_selectors, [DOM.isSubstantial]) as HTMLElement[]\n        if (inputs.length) {\n            let index = inputs.indexOf(DOM.getLastUsedInput())\n            if (DOM.getLastUsedInput()) {\n                if (nth === \"-n\") {\n                    index++\n                } else {\n                    index--\n                }\n                index = index.mod(inputs.length)\n            } else {\n                index = 0\n            }\n            inputToFocus = inputs[index]\n        }\n    } else if (nth === \"-p\") {\n        // attempt to find a password input\n        fallbackToNumeric = false\n\n        const inputs = DOM.getElemsBySelector(INPUTPASSWORD_selectors, [DOM.isSubstantial])\n\n        if (inputs.length) {\n            inputToFocus = inputs[0] as HTMLElement\n        }\n    } else if (nth === \"-b\") {\n        const inputs = DOM.getElemsBySelector(INPUTTAGS_selectors, [DOM.isSubstantial]) as HTMLElement[]\n        inputs.sort(DOM.compareElementArea)\n        inputToFocus = inputs[inputs.length - 1]\n    }\n\n    // either a number (not special) or we failed to find a special input when\n    // asked and falling back is acceptable\n    if ((!inputToFocus || !document.contains(inputToFocus)) && fallbackToNumeric) {\n        const index = isNaN(nth as number) ? 0 : (nth as number)\n        inputToFocus = DOM.getNthElement(INPUTTAGS_selectors, index, [DOM.isSubstantial])\n    }\n\n    if (inputToFocus) {\n        DOM.focus(inputToFocus)\n        if (config.get(\"gimode\") === \"nextinput\" && contentState.mode !== \"input\") {\n            contentState.mode = \"input\"\n        }\n    }\n}\n\n/**\n * Focus the tab which contains the last focussed input element. If you're lucky, it will focus the right input, too.\n *\n * Currently just goes to the last focussed input; being able to jump forwards and backwards is planned.\n */\ncmd_params.set('changelistjump', new Map([]))\nexport async function changelistjump() {\n    logger.debug(\"shimming excmd changelistjump from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"changelistjump\",\n\n    )\n}\n\n/** @hidden */\ncmd_params.set('focusbyid', new Map([['id', 'string']]))\nexport function focusbyid(id: string) {\n    document.getElementById(id).focus()\n}\n\n// }}}\n\n// {{{ TABS\n\n/** Switch to the tab by index (position on tab bar), wrapping round.\n\n    @param index\n        1-based index of the tab to target. Wraps such that 0 = last tab, -1 =\n        penultimate tab, etc.\n\n        if undefined, return activeTabId()\n*/\n/** @hidden */\n\n/** Switch to the next tab, wrapping round.\n\n    If increment is specified, move that many tabs forwards.\n */\ncmd_params.set('tabnext', new Map([['increment', 'number']]))\nexport async function tabnext(increment = 1) {\n    logger.debug(\"shimming excmd tabnext from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabnext\",\n        increment\n    )\n}\n\n/** Switch to the next tab, wrapping round.\n\n    If an index is specified, go to the tab with that number (this mimics the\n    behaviour of `{count}gt` in vim, except that this command will accept a\n    count that is out of bounds (and will mod it so that it is within bounds as\n    per [[tabmove]], etc)).\n */\ncmd_params.set('tabnext_gt', new Map([['index', 'number']]))\nexport async function tabnext_gt(index?: number) {\n    logger.debug(\"shimming excmd tabnext_gt from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabnext_gt\",\n        index\n    )\n}\n\n/** Switch to the previous tab, wrapping round.\n\n    If increment is specified, move that many tabs backwards.\n */\ncmd_params.set('tabprev', new Map([['increment', 'number']]))\nexport async function tabprev(increment = 1) {\n    logger.debug(\"shimming excmd tabprev from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabprev\",\n        increment\n    )\n}\n\n/**\n * Pushes the current tab to another window. Only works for windows of the same type\n * (can't push a non-private tab to a private window or a private tab to\n * a non-private window).\n * If *windowId* is not specified, pushes to the next newest window,\n * wrapping around.\n */\ncmd_params.set('tabpush', new Map([['windowId', 'number']]))\nexport async function tabpush(windowId?: number) {\n    logger.debug(\"shimming excmd tabpush from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabpush\",\n        windowId\n    )\n}\n\n/** Switch to the tab currently playing audio, if any. */\ncmd_params.set('tabaudio', new Map([]))\nexport async function tabaudio() {\n    logger.debug(\"shimming excmd tabaudio from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabaudio\",\n\n    )\n}\n\n/**\n * Moves all of the targetted window's tabs to the current window. Only works for windows of the same type\n * (can't merge a non-private tab with a private window).\n */\ncmd_params.set('winmerge', new Map([['...windowIds', 'string[]']]))\nexport async function winmerge(...windowIds: string[]) {\n    logger.debug(\"shimming excmd winmerge from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"winmerge\",\n        ...windowIds\n    )\n}\n\n/**\n * Given a string of the format windowIndex.tabIndex, returns a tuple of\n * numbers corresponding to the window index and tab index or the current\n * window and tab if the string doesn't have the right format.\n */\n\n/**\n * Moves a tab identified by a windowIndex.tabIndex id to the current window.\n * Only works for windows of the same type (can't grab a non-private tab from a\n * private window and can't grab a private tab from a non-private window).\n */\ncmd_params.set('tabgrab', new Map([['id', 'string']]))\nexport async function tabgrab(id: string) {\n    logger.debug(\"shimming excmd tabgrab from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabgrab\",\n        id\n    )\n}\n\n/** Like [[open]], but in a new tab. If no address is given, it will open the newtab page, which can be set with `set newtab [url]`\n\n    Use the `-c` flag followed by a container name to open a tab in said container. Tridactyl will try to fuzzy match a name if an exact match is not found (opening the tab in no container can be enforced with \"firefox-default\" or \"none\"). If any autocontainer directives are configured and -c is not set, Tridactyl will try to use the right container automatically using your configurations.\n\n    Use the `-b` flag to open the tab in the background.\n\n    Use the `-w` flag to wait for the web page to load before \"returning\". This only makes sense for use with [[composite]], which waits for each command to return before moving on to the next one, e.g. `composite tabopen -b -w news.bbc.co.uk ; tabnext`.\n\n    The special flag \"--focus-address-bar\" should focus the Firefox address bar after opening if no URL is provided.\n\n    These three can be combined in any order, but need to be placed as the first arguments.\n\n    Unlike Firefox's Ctrl-t shortcut, this opens tabs immediately after the\n    currently active tab rather than at the end of the tab list because that is\n    the authors' preference.\n\n    If you would rather the Firefox behaviour `set tabopenpos last`. This\n    preference also affects the clipboard, quickmarks, home, help, etc.\n\n    If you would rather the URL be opened as if you'd middle clicked it, `set\n    tabopenpos related`.\n\n    Hinting is controlled by `relatedopenpos`\n\n    Also see the [[searchengine]] and [[searchurls]] settings.\n*/\ncmd_params.set('tabopen', new Map([['...addressarr', 'string[]']]))\nexport async function tabopen(...addressarr: string[]): Promise<browser.tabs.Tab> {\n    logger.debug(\"shimming excmd tabopen from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabopen\",\n        ...addressarr\n    )\n}\n\n/**\n * Like [[tabopen]] but waits for the DOM to load before resolving its promise. Useful if you're hoping to execute ex-commands in that tab.\n */\ncmd_params.set('tabopenwait', new Map([['...addressarr', 'string[]']]))\nexport async function tabopenwait(...addressarr: string[]): Promise<browser.tabs.Tab> {\n    logger.debug(\"shimming excmd tabopenwait from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabopenwait\",\n        ...addressarr\n    )\n}\n\n/**\n * @hidden\n */\n\n/**\n  Passes its first argument to `tabopen -b`. Once the tab opened by `tabopen\n  -b` is activated/selected/focused, opens its second argument with `tabopen\n  -b`. Once the second tab is activated/selected/focused, opens its third\n  argument with `tabopen -b` and so on and so forth until all arguments have\n  been opened in a new tab or until a tab is closed without being\n  activated/selected/focused.\n\n  Example usage:\n    `tabqueue http://example.org http://example.com http://example.net`\n    `composite hint -qpipe a href | tabqueue`\n*/\ncmd_params.set('tabqueue', new Map([['...addresses', 'string[]']]))\nexport function tabqueue(...addresses: string[]) {\n    logger.debug(\"shimming excmd tabqueue from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabqueue\",\n        ...addresses\n    )\n}\n\n/** Resolve a tab index to the tab id of the corresponding tab in this window.\n\n    @param index\n        1-based index of the tab to target. Wraps such that 0 = last tab, -1 =\n        penultimate tab, etc.\n\n        also supports # for previous tab, % for current tab.\n\n        if undefined, return activeTabId()\n\n    @hidden\n*/\n\n/**\n * Like [[idFromIndex]] but returns the whole tab object\n *\n * @hidden\n */\n\n/** Close all other tabs in this window */\ncmd_params.set('tabonly', new Map([]))\nexport async function tabonly() {\n    logger.debug(\"shimming excmd tabonly from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabonly\",\n\n    )\n}\n\n/** Duplicate a tab.\n\n    @param index\n        The 1-based index of the tab to target. index < 1 wraps. If omitted, this tab.\n*/\ncmd_params.set('tabduplicate', new Map([['index', 'number']]))\nexport async function tabduplicate(index?: number) {\n    logger.debug(\"shimming excmd tabduplicate from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabduplicate\",\n        index\n    )\n}\n\n/** Detach a tab, opening it in a new window.\n\n    @param index\n        The 1-based index of the tab to target. index < 1 wraps. If omitted, this tab.\n*/\ncmd_params.set('tabdetach', new Map([['index', 'number']]))\nexport async function tabdetach(index?: number) {\n    logger.debug(\"shimming excmd tabdetach from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabdetach\",\n        index\n    )\n}\n\n/** Toggle fullscreen state\n\n*/\ncmd_params.set('fullscreen', new Map([]))\nexport async function fullscreen() {\n    logger.debug(\"shimming excmd fullscreen from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"fullscreen\",\n\n    )\n}\n\n/** Close a tab.\n\n    Known bug: autocompletion will make it impossible to close more than one tab at once if the list of numbers looks enough like an open tab's title or URL.\n\n    @param indexes\n        The 1-based indexes of the tabs to target. indexes < 1 wrap. If omitted, this tab.\n*/\ncmd_params.set('tabclose', new Map([['...indexes', 'string[]']]))\nexport async function tabclose(...indexes: string[]) {\n    logger.debug(\"shimming excmd tabclose from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabclose\",\n        ...indexes\n    )\n}\n\n/** Close all tabs to the side specified\n *\n */\ncmd_params.set('tabcloseallto', new Map([['side', 'string']]))\nexport async function tabcloseallto(side: string) {\n    logger.debug(\"shimming excmd tabcloseallto from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabcloseallto\",\n        side\n    )\n}\n\n/** Restore the most recently closed item.\n    The default behaviour is to restore the most recently closed tab in the\n    current window unless the most recently closed item is a window.\n\n    Supplying either \"tab\" or \"window\" as an argument will specifically only\n    restore an item of the specified type. Supplying \"tab_strict\" only restores\n    tabs that were open in the current window.\n\n    @param item\n        The type of item to restore. Valid inputs are \"recent\", \"tab\", \"tab_strict\" and \"window\".\n    @return\n        The tab or window id of the restored item. Returns -1 if no items are found.\n */\ncmd_params.set('undo', new Map([['item', 'string']]))\nexport async function undo(item = \"recent\"): Promise<number> {\n    logger.debug(\"shimming excmd undo from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"undo\",\n        item\n    )\n}\n\n/** Move the current tab to be just in front of the index specified.\n\n    Known bug: This supports relative movement with `tabmove +pos` and `tabmove -pos`, but autocomplete doesn't know that yet and will override positive and negative indexes.\n\n    Put a space in front of tabmove if you want to disable completion and have the relative indexes at the command line.\n\n    Binds are unaffected.\n\n    @param index\n        New index for the current tab.\n\n        1,start,^ are aliases for the first index. 0,end,$ are aliases for the last index.\n*/\ncmd_params.set('tabmove', new Map([['index', 'string']]))\nexport async function tabmove(index = \"$\") {\n    logger.debug(\"shimming excmd tabmove from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabmove\",\n        index\n    )\n}\n\n/**\n * Move tabs in current window according to various criteria:\n *\n * - `--containers` groups tabs by containers\n * - `--title` sorts tabs by title\n * - `--url` sorts tabs by url (the default)\n * - `(tab1, tab2) => true|false`\n *      - sort by arbitrary comparison function. `tab{1,2}` are objects with properties described here: https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/tabs/Tab\n */\ncmd_params.set('tabsort', new Map([['...callbackchunks', 'string[]']]))\nexport async function tabsort(...callbackchunks: string[]) {\n    logger.debug(\"shimming excmd tabsort from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabsort\",\n        ...callbackchunks\n    )\n}\n\n/** Pin the current tab */\ncmd_params.set('pin', new Map([]))\nexport async function pin() {\n    logger.debug(\"shimming excmd pin from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"pin\",\n\n    )\n}\n\n/**  Mute current tab or all tabs.\n\n Passing \"all\" to the excmd will operate on  the mute state of all tabs.\n Passing \"unmute\" to the excmd will unmute.\n Passing \"toggle\" to the excmd will toggle the state of `browser.tabs.tab.MutedInfo`\n @param string[] muteArgs\n */\ncmd_params.set('mute', new Map([['...muteArgs', 'string[]']]))\nexport async function mute(...muteArgs: string[]): Promise<void> {\n    logger.debug(\"shimming excmd mute from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"mute\",\n        ...muteArgs\n    )\n}\n// }}}\n\n// {{{ WINDOWS\n/**\n * Like [[tabopen]], but in a new window.\n *\n * `winopen -private [...]` will open the result in a private window (and won't store the command in your ex-history ;) ).\n *\n * `winopen -popup [...]` will open it in a popup window. You can combine the two for a private popup.\n *\n * `winopen -c containername [...]` will open the result in a container while ignoring other options given. See [[tabopen]] for more details on containers.\n *\n * Example: `winopen -popup -private ddg.gg`\n */\ncmd_params.set('winopen', new Map([['...args', 'string[]']]))\nexport async function winopen(...args: string[]) {\n    logger.debug(\"shimming excmd winopen from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"winopen\",\n        ...args\n    )\n}\n\n/**\n * Close a window.\n *\n * @param id - The window id. Defaults to the id of the current window.\n *\n * Example: `winclose`\n */\ncmd_params.set('winclose', new Map([['...ids', 'string[]']]))\nexport async function winclose(...ids: string[]) {\n    logger.debug(\"shimming excmd winclose from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"winclose\",\n        ...ids\n    )\n}\n\n/**\n * Add/change a prefix to the current window title\n *\n * Example: `wintitle [Hovercraft research]`\n *\n * Protip: unicode emojis work :)\n */\ncmd_params.set('wintitle', new Map([['...title', 'string[]']]))\nexport async function wintitle(...title: string[]) {\n    logger.debug(\"shimming excmd wintitle from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"wintitle\",\n        ...title\n    )\n}\n\n/** Close all windows */\n// It's unclear if this will leave a session that can be restored.\n// We might have to do it ourselves.\ncmd_params.set('qall', new Map([]))\nexport async function qall() {\n    logger.debug(\"shimming excmd qall from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"qall\",\n\n    )\n}\n\n// }}}\n\n/**\n * EXPERIMENTAL: like [[open]] but loads queries in the sidebar. Doesn't actually open the sidebar - see [[sidebartoggle]].\n *\n * Not all schemas are supported, such as `about:*` and Firefox's built-in search engines. Tridactyl's searchurls and jsurls work fine - `:set searchengine google` will be sufficient for most users.\n *\n * If you try to open the command line in the sidebar things will break.\n */\ncmd_params.set('sidebaropen', new Map([['...urllike', 'string[]']]))\nexport async function sidebaropen(...urllike: string[]) {\n    logger.debug(\"shimming excmd sidebaropen from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"sidebaropen\",\n        ...urllike\n    )\n}\n\n/**\n * Like [[jsb]] but preserves \"user action\" intent for use with certain web extension APIs. Can only be called with browser mode binds, e.g.\n *\n * `:bind --mode=browser <C-.> jsua browser.sidebarAction.open(); tri.excmds.sidebaropen(\"https://mail.google.com/mail/mu\")`\n */\ncmd_params.set('jsua', new Map([]))\nexport async function jsua(){\n    logger.debug(\"shimming excmd jsua from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"jsua\",\n\n    )\n}\n\n/**\n * Toggle the side bar. Can only be called through browser mode binds, e.g.\n *\n * `:bind --mode=browser <C-.> sidebartoggle`\n */\ncmd_params.set('sidebartoggle', new Map([]))\nexport async function sidebartoggle(){\n    logger.debug(\"shimming excmd sidebartoggle from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"sidebartoggle\",\n\n    )\n}\n\n// {{{ CONTAINERS\n\n/** Closes all tabs open in the same container across all windows.\n  @param name The container name.\n */\ncmd_params.set('containerclose', new Map([['name', 'string']]))\nexport async function containerclose(name: string) {\n    logger.debug(\"shimming excmd containerclose from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"containerclose\",\n        name\n    )\n}\n/** Creates a new container. Note that container names must be unique and that the checks are case-insensitive.\n\n    Further reading https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/contextualIdentities/ContextualIdentity\n\n    Example usage:\n        - `:containercreate tridactyl green dollar`\n\n    @param name The container name. Must be unique.\n    @param color The container color. Valid colors are: \"blue\", \"turquoise\", \"green\", \"yellow\", \"orange\", \"red\", \"pink\", \"purple\". If no color is chosen a random one will be selected from the list of valid colors.\n    @param icon The container icon. Valid icons are: \"fingerprint\", \"briefcase\", \"dollar\", \"cart\", \"circle\", \"gift\", \"vacation\", \"food\", \"fruit\", \"pet\", \"tree\", \"chill\". If no icon is chosen, it defaults to \"fingerprint\".\n */\ncmd_params.set('containercreate', new Map([['name', 'string'], ['color', 'string'], ['icon', 'string']]))\nexport async function containercreate(name: string, color?: string, icon?: string) {\n    logger.debug(\"shimming excmd containercreate from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"containercreate\",\n        name, color, icon\n    )\n}\n\n/** Delete a container. Closes all tabs associated with that container beforehand. Note: container names are case-insensitive.\n  @param name The container name.\n */\ncmd_params.set('containerdelete', new Map([['name', 'string']]))\nexport async function containerdelete(name: string) {\n    logger.debug(\"shimming excmd containerdelete from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"containerdelete\",\n        name\n    )\n}\n\n/** Update a container's information. Note that none of the parameters are optional and that container names are case-insensitive.\n\n  Example usage:\n\n  - Changing the container name: `:containerupdate banking blockchain green dollar`\n\n  - Changing the container icon: `:containerupdate banking banking green briefcase`\n\n  - Changing the container color: `:containerupdate banking banking purple dollar`\n\n  @param name The container name.\n  @param uname The new container name. Must be unique.\n  @param ucolor The new container color. Valid colors are: \"blue\", \"turquoise\", \"green\", \"yellow\", \"orange\", \"red\", \"pink\", \"purple\". If no color is chosen a random one will be selected from the list of valid colors.\n  @param uicon The new container icon. Valid icons are: \"fingerprint\", \"briefcase\", \"dollar\", \"cart\", \"circle\", \"gift\", \"vacation\", \"food\", \"fruit\", \"pet\", \"tree\", \"chill\".\n */\ncmd_params.set('containerupdate', new Map([['name', 'string'], ['uname', 'string'], ['ucolor', 'string'], ['uicon', 'string']]))\nexport async function containerupdate(name: string, uname: string, ucolor: string, uicon: string) {\n    logger.debug(\"shimming excmd containerupdate from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"containerupdate\",\n        name, uname, ucolor, uicon\n    )\n}\n\n/** Shows a list of the current containers in Firefox's native JSON viewer in the current tab.\n\n NB: Tridactyl cannot run on this page!\n\n */\ncmd_params.set('viewcontainers', new Map([]))\nexport async function viewcontainers() {\n    // # and white space don't agree with FF's JSON viewer.\n    // Probably other symbols too.\n    const containers = await browserBg.contextualIdentities.query({}) // Can't access src/lib/containers.ts from a content script.\n    jsonview(JSON.stringify(containers))\n}\n\n/** Opens the current tab in another container.\n\n    This is probably not a good idea if you care about tracking protection!\n    Transfering URLs from one container to another allows websites to track\n    you across those containers.\n\n    Read more here:\n    https://github.com/mozilla/multi-account-containers/wiki/Moving-between-containers\n\n    @param containerName The container name, fuzzy matched like `-c` on [[tabopen]]. Leave empty to uncontain.\n */\ncmd_params.set('recontain', new Map([['containerName', 'string']]))\nexport async function recontain(containerName: string) {\n    logger.debug(\"shimming excmd recontain from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"recontain\",\n        containerName\n    )\n}\n\n// }}}\n\n// {{{ TAB GROUPS\n/** @hidden */\n\n/** @hidden */\ncmd_params.set('setContentStateGroup', new Map([['name', 'string']]))\nexport function setContentStateGroup(name: string) {\n    contentState.group = name\n}\n\n/**\n * Create a new tab group in the current window. NB: use [[tgroupswitch]] instead\n * in most cases, since it will create non-existent tab groups before switching\n * to them.\n *\n * Tab groups are a way of organizing different groups of related tabs within a\n * single window. Groups allow you to have different named contexts and show\n * only the tabs for a single group at a time.\n *\n * @param name The name of the tab group to create.\n *\n * If no tab groups exist, set the tab group name for all existing tabs in the\n * window. Otherwise open a new tab and hide all tabs in the old tab group.\n *\n * Tab groups exist only for a single window.\n *\n */\ncmd_params.set('tgroupcreate', new Map([['name', 'string']]))\nexport async function tgroupcreate(name: string) {\n    logger.debug(\"shimming excmd tgroupcreate from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tgroupcreate\",\n        name\n    )\n}\n\n/**\n * Switch to a different tab group, hiding all other tabs.\n *\n * \"%\" denotes the current tab group and \"#\" denotes the tab group that was\n * last active. \"A\" indates a tab group that contains an audible tab. Use\n * `:set completions.Tab.statusstylepretty true` to display a unicode character\n * instead.\n *\n * @param name The name of the tab group to switch to.\n *\n * If the tab group does not exist, act like [[tgroupcreate]].\n *\n */\ncmd_params.set('tgroupswitch', new Map([['name', 'string']]))\nexport async function tgroupswitch(name: string) {\n    logger.debug(\"shimming excmd tgroupswitch from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tgroupswitch\",\n        name\n    )\n}\n\n/**\n * Switch to the previously active tab group.\n */\ncmd_params.set('tgrouplast', new Map([]))\nexport async function tgrouplast() {\n    logger.debug(\"shimming excmd tgrouplast from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tgrouplast\",\n\n    )\n}\n\n/**\n * Rename the current tab group.\n *\n * @param name The new name of the tab group.\n *\n */\ncmd_params.set('tgrouprename', new Map([['name', 'string']]))\nexport async function tgrouprename(name: string) {\n    logger.debug(\"shimming excmd tgrouprename from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tgrouprename\",\n        name\n    )\n}\n\n/**\n * Close all tabs in a tab group and delete the group.\n *\n * @param name The name of the tab group to close. If not specified, close the\n * current tab group and switch to the previously active tab group.\n *\n * Do nothing if there is only one tab group - to discard all tab group\n * information, use [[tgroupabort]].\n *\n */\ncmd_params.set('tgroupclose', new Map([['name', 'string']]))\nexport async function tgroupclose(name?: string) {\n    logger.debug(\"shimming excmd tgroupclose from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tgroupclose\",\n        name\n    )\n}\n\n/**\n * Move the current tab to another tab group, creating it if it does not exist.\n *\n * @param name The name of the tab group to move the tab to.\n *\n * If this is the last tab in the tab group, also switch to tab group, keeping\n * the current tab active.\n *\n */\ncmd_params.set('tgroupmove', new Map([['name', 'string']]))\nexport async function tgroupmove(name: string) {\n    logger.debug(\"shimming excmd tgroupmove from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tgroupmove\",\n        name\n    )\n}\n\n/**\n * Delete all tab group information for the current window and show all tabs.\n *\n */\ncmd_params.set('tgroupabort', new Map([]))\nexport async function tgroupabort() {\n    logger.debug(\"shimming excmd tgroupabort from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tgroupabort\",\n\n    )\n}\n\n// }}}\n\n// {{{ MISC\n\ncmd_params.set('version', new Map([]))\nexport function version() {\n    logger.debug(\"shimming excmd version from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"version\",\n\n    )\n}\n\n/**\n *  Switch mode.\n *\n *  For now you probably shouldn't manually switch to other modes than `normal` and `ignore`. Make sure you're aware of the key bindings (ignoremaps) that will allow you to go come back to normal mode from ignore mode before you run `:mode ignore` otherwise you're going to have a hard time re-enabling Tridactyl.\n *\n *  Example:\n *      - `mode ignore` to ignore almost all keys.\n *\n *  If you're looking for a way to temporarily disable Tridactyl, `mode ignore` might be what you're looking for.\n *\n *  Note that when in ignore mode, Tridactyl will not switch to insert mode when focusing text areas/inputs. This is by design.\n *\n *  **New feature:** you can add modes as simply as adding binds with `bind --mode=[newmodename]` and then enter the mode with `mode [newmodename]`.\n */\ncmd_params.set('mode', new Map([['mode', 'ModeName']]))\nexport function mode(mode: ModeName) {\n    // TODO: event emition on mode change.\n    if (mode === \"hint\") {\n        hint()\n    } else {\n        contentState.mode = mode\n    }\n}\n\n/** @hidden */\n\n// Moderately slow; should load in results as they arrive, perhaps\n// Todo: allow jumping to buffers once they are found\n// Consider adding to buffers with incremental search\n//      maybe only if no other results in URL etc?\n// Find out how to return context of each result\n// //#background\n/* export async function findintabs(query: string) { */\n/*     const tabs = await browser.tabs.query({currentWindow: true}) */\n/*     console.log(query) */\n/*     const findintab = async tab => */\n/*         await browser.find.find(query, {tabId: tab.id}) */\n/*     let results = [] */\n/*     for (let tab of tabs) { */\n/*         let result = await findintab(tab) */\n/*         if (result.count > 0) { */\n/*             results.push({tab, result}) */\n/*         } */\n/*     } */\n/*     results.sort(r => r.result.count) */\n/*     console.log(results) */\n/*     return results */\n/* } */\n\n// }}}\n\n// {{{ CMDLINE\n\n/** Repeats a `cmd` `n` times.\n    If `cmd` doesn't exist, re-executes the last exstr that was executed in the tab.\n    Executes the command once if `n` isn't defined either.\n\n    This re-executes the last *exstr*, not the last *excmd*. Some excmds operate internally by constructing and evaluating exstrs, others by directly invoking excmds without going through the exstr parser. For example, aucmds and keybindings evaluate exstrs and are repeatable, while commands like `:bmarks` directly invoke `:tabopen` and you'll repeat the `:bmarks` rather than the internal `:tabopen`.\n\n    It's difficult to execute this in the background script (`:jsb`, `:run_excmd`, `:autocmd TriStart`, `:source`), but if you you do, it will re-execute the last exstr that was executed in the background script. What this may have been is unpredictable and not precisely encouraged.\n\n*/\ncmd_params.set('repeat', new Map([['n', 'number'], ['...exstr', 'string[]']]))\nexport async function repeat(n = 1, ...exstr: string[]) {\n    logger.debug(\"shimming excmd repeat from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"repeat\",\n        n, ...exstr\n    )\n}\n\n/**\n * Split `cmds` on pipes (|) and treat each as its own command. Return values are passed as the last argument of the next ex command, e.g,\n *\n * `composite echo yes | fillcmdline` becomes `fillcmdline yes`. A more complicated example is the ex alias, `command current_url composite get_current_url | fillcmdline_notrail `, which is used in, e.g. `bind T current_url tabopen`.\n *\n * Workaround: this should clearly be in the parser, but we haven't come up with a good way to deal with |s in URLs, search terms, etc. yet.\n *\n * `cmds` are also split with semicolons (;) and don't pass things along to each other.\n *\n * If you wish to have a command that has semi-colons in it (e.g. some JavaScript or `hint -;`), first bind a [[command]] to it. For example, `command hint_focus -;`, and then `composite hint_focus; !s xdotool key Menu`.\n *\n * The behaviour of combining ; and | in the same composite command is left as an exercise for the reader.\n */\ncmd_params.set('composite', new Map([['...cmds', 'string[]']]))\nexport async function composite(...cmds: string[]) {\n    try {\n        return (\n            cmds\n                .join(\" \")\n                // Semicolons delimit pipelines\n                .split(\";\")\n                // For each pipeline, wait for previous pipeline to finish, then\n                // execute each cmd in pipeline in order, passing the result of the\n                // previous cmd as the last argument to the next command.\n                .reduce(async (prev_pipeline, cmd) => {\n                    await prev_pipeline\n                    const cmds = cmd.split(\"|\")\n\n                    // Compute the first piped value.\n                    //\n                    // We could invoke controller.acceptExCmd, but\n                    // that would cause our pipeline section to be\n                    // stored as the last executed command for the\n                    // purposes of :repeat, which would be\n                    // nonsense. So we copy-paste the important\n                    // parts of the body of that function instead.\n                    const [fn, args] = excmd_parser.parser(cmds[0], ALL_EXCMDS)\n                    const first_value = fn.call({}, ...args)\n\n                    // Exec the rest of the pipe in sequence.\n                    return cmds.slice(1).reduce(async (pipedValue, cmd) => {\n                        const [fn, args] = excmd_parser.parser(cmd, ALL_EXCMDS)\n                        return fn.call({}, ...args, await pipedValue)\n                    }, first_value)\n                }, null as any)\n        )\n    } catch (e) {\n        logger.error(e)\n    }\n}\n\n/**\n * Escape command for safe use in shell with composite. E.g: `composite js MALICIOUS_WEBSITE_FUNCTION() | shellescape | exclaim ls`\n */\nexport async function shellescape(...quoteme: string[]) {\n    const str = quoteme.join(\" \")\n    const os = (await browserBg.runtime.getPlatformInfo()).os\n    if (os === \"win\") {\n        return escape.windows_cmd(str)\n    } else {\n        return escape.sh(str)\n    }\n}\n\n\n/**\n *  Magic escape hatch: if Tridactyl can't run in the current tab, return to a tab in the current window where Tridactyl can run, making such a tab if it doesn't currently exist. If Tridactyl can run in the current tab, return focus to the document body from e.g. the URL bar or a video player.\n *\n *  Only useful if called from a background context, e.g. at the end of an RC file to ensure that when you start the browser you don't get trapped on an about: page, or via `bind --mode=browser escapehatch` (bound to `<C-,>` by default).\n *\n *  NB: when called via `bind --mode=browser`, we return focus from the address bar by opening and closing the \"sidebar\" (which is used exclusively for this purpose). If escapehatch is called in any other way, we cannot do this as Mozilla thinks it might [spook](https://extensionworkshop.com/documentation/publish/add-on-policies/#no-surprises) [you](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/User_actions) : ).\n *\n *  This sidebar hack will close other sidebars such a TreestyleTabs. You can disable it with `:set escapehatchsidebarhack false`, but Tridactyl will no longer be able to get focus back from certain places such as the address bar.\n *\n */\ncmd_params.set('escapehatch', new Map([]))\nexport async function escapehatch() {\n    logger.debug(\"shimming excmd escapehatch from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"escapehatch\",\n\n    )\n}\n\n/** Sleep time_ms milliseconds.\n *  This is probably only useful for composite commands that need to wait until the previous asynchronous command has finished running.\n */\ncmd_params.set('sleep', new Map([['time_ms', 'number']]))\nexport function sleep(time_ms: number) {\n    return new Promise(resolve => setTimeout(resolve, time_ms))\n}\n\n/** @hidden */\ncmd_params.set('showcmdline', new Map([['focus', 'boolean']]))\nexport function showcmdline(focus = true) {\n    const hidehover = true\n    CommandLineContent.show(hidehover)\n    let done = Promise.resolve()\n    if (focus) {\n        CommandLineContent.focus()\n        done = Messaging.messageOwnTab(\"commandline_frame\", \"focus\")\n    }\n    return done\n}\n\n/** @hidden */\ncmd_params.set('hidecmdline', new Map([]))\nexport function hidecmdline() {\n    CommandLineContent.hide_and_blur()\n}\n\n/** Set the current value of the commandline to string *with* a trailing space */\ncmd_params.set('fillcmdline', new Map([['...strarr', 'string[]']]))\nexport function fillcmdline(...strarr: string[]) {\n    const str = strarr.join(\" \")\n    showcmdline()\n    return Messaging.messageOwnTab(\"commandline_frame\", \"fillcmdline\", [str])\n}\n\n/** Set the current value of the commandline to string *without* a trailing space */\ncmd_params.set('fillcmdline_notrail', new Map([['...strarr', 'string[]']]))\nexport function fillcmdline_notrail(...strarr: string[]) {\n    const str = strarr.join(\" \")\n    showcmdline()\n    return Messaging.messageOwnTab(\"commandline_frame\", \"fillcmdline\", [str, false])\n}\n\n/** Show and fill the command line without focusing it */\ncmd_params.set('fillcmdline_nofocus', new Map([['...strarr', 'string[]']]))\nexport function fillcmdline_nofocus(...strarr: string[]) {\n    showcmdline(false)\n    return Messaging.messageOwnTab(\"commandline_frame\", \"fillcmdline\", [strarr.join(\" \"), false, false])\n}\n\n/** Shows str in the command line for ms milliseconds. Recommended duration: 3000ms. */\ncmd_params.set('fillcmdline_tmp', new Map([['ms', 'number'], ['...strarr', 'string[]']]))\nexport async function fillcmdline_tmp(ms: number, ...strarr: string[]) {\n    const str = strarr.join(\" \")\n    showcmdline(false)\n    Messaging.messageOwnTab(\"commandline_frame\", \"fillcmdline\", [strarr.join(\" \"), false, false])\n    return new Promise<void>(resolve =>\n        setTimeout(async () => {\n            if ((await Messaging.messageOwnTab(\"commandline_frame\", \"getContent\", [])) === str) {\n                CommandLineContent.hide_and_blur()\n                resolve(Messaging.messageOwnTab(\"commandline_frame\", \"clear\", [true]))\n            }\n            resolve()\n        }, ms),\n    )\n}\n\n/**\n * Copy `content` to clipboard without feedback. Use `clipboard yank` for interactive use.\n *\n * e.g. `yank bob` puts \"bob\" in the clipboard; `composite js document.title | yank` puts the document title in the clipboard.\n */\ncmd_params.set('yank', new Map([['...content', 'string[]']]))\nexport function yank(...content: string[]) {\n    logger.debug(\"shimming excmd yank from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"yank\",\n        ...content\n    )\n}\n\n/**\n * Copies a string to the clipboard/selection buffer depending on the user's preferences.\n *\n * @hidden\n */\n\n/**\n * Copies a string to the clipboard using the Clipboard API.\n * @hidden\n *\n * Has to be a background helper as it's only available on HTTPS and background pages. We want to be able to copy stuff to the clipboard from HTTP pages too.\n */\n\n/**\n * Fetches the content of the clipboard/selection buffer depending on user's preferences\n *\n * Exposed for use with [[composite]], e.g. `composite getclip | fillcmdline`\n */\ncmd_params.set('getclip', new Map([['from', '\"clipboard\" | \"selection\"']]))\nexport async function getclip(from?: \"clipboard\" | \"selection\") {\n    logger.debug(\"shimming excmd getclip from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"getclip\",\n        from\n    )\n}\n\n/**\n * Gets the clipboard content using the Clipboard API.\n * @hidden\n */\n\n/** Use the system clipboard.\n\n    If `excmd === \"open\"`, call [[open]] with the contents of the clipboard. Similarly for [[tabopen]].\n\n    If `excmd === \"yank\"`, copy the current URL, or if given, the value of toYank, into the system clipboard.\n\n    If `excmd === \"yankcanon\"`, copy the canonical URL of the current page if it exists, otherwise copy the current URL.\n\n    If `excmd === \"yankshort\"`, copy the shortlink version of the current URL, and fall back to the canonical then actual URL. Known to work on https://yankshort.neocities.org/.\n\n    If `excmd === \"yanktitle\"`, copy the title of the open page.\n\n    If `excmd === \"yankmd\"`, copy the title and url of the open page formatted in Markdown for easy use on sites such as reddit. `yankorg` is similar but for Emacs orgmode.\n\n    If you're on Linux and the native messenger is installed, Tridactyl will call an external binary (either xclip or xsel) to read or write to your X selection buffer. If you want another program to be used, set \"externalclipboardcmd\" to its name and make sure it has the same interface as xsel/xclip (\"-i\"/\"-o\" and reading from stdin).\n\n    When doing a read operation (i.e. open or tabopen), if \"putfrom\" is set to \"selection\", the X selection buffer will be read instead of the clipboard. Set \"putfrom\" to \"clipboard\" to use the clipboard.\n\n    When doing a write operation, if \"yankto\" is set to \"selection\", only the X selection buffer will be written to. If \"yankto\" is set to \"both\", both the X selection and the clipboard will be written to. If \"yankto\" is set to \"clipboard\", only the clipboard will be written to.\n\n*/\ncmd_params.set('clipboard', new Map([['excmd', '\"open\" | \"yank\" | \"yankshort\" | \"yankcanon\" | \"yanktitle\" | \"yankmd\" | \"yankorg\" | \"xselpaste\" | \"tabopen\" = \"open\"'], ['...toYank', 'string[]']]))\nexport async function clipboard(excmd: \"open\" | \"yank\" | \"yankshort\" | \"yankcanon\" | \"yanktitle\" | \"yankmd\" | \"yankorg\" | \"xselpaste\" | \"tabopen\" = \"open\", ...toYank: string[]) {\n    logger.debug(\"shimming excmd clipboard from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"clipboard\",\n        excmd, ...toYank\n    )\n}\n\n/** Copy an image to the clipboard.\n\n    @param url\n        Absolute URL to the image to be copied. You can obtain an absolute URL from a relative one using [tri.urlutils.getAbsoluteURL](_src_lib_url_util_.html#getabsoluteurl).\n*/\ncmd_params.set('yankimage', new Map([['url', 'string']]))\nexport async function yankimage(url: string): Promise<void> {\n    logger.debug(\"shimming excmd yankimage from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"yankimage\",\n        url\n    )\n}\n\n/** Change active tab.\n\n    @param id\n        A bare number means the current window is used. Starts at 1. 0 refers to last tab of the current window, -1 to penultimate tab, etc.\n\n        A string following the following format: \"[0-9]+.[0-9]+\" means the first number being the index of the window that should be selected and the second one being the index of the tab within that window. [[taball]] has completions for this format.\n\n        \"%\" denotes the current tab and \"#\" denotes the tab that was last accessed in this window.  \"P\", \"A\", \"M\" and \"D\" indicate tab status (i.e. a pinned, audible, muted or discarded tab).  Use `:set completions.Tab.statusstylepretty true` to display unicode characters instead.  \"P\",\"A\",\"M\",\"D\" can be used to filter by tab status in either setting.\n\n        A non integer string means to search the URL and title for matches, in this window if called from tab, all windows if called from taball. Title matches can contain '*' as a wildcard.\n */\ncmd_params.set('tab', new Map([['...id', 'string[]']]))\nexport async function tab(...id: string[]) {\n    logger.debug(\"shimming excmd tab from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tab\",\n        ...id\n    )\n}\n\n/** Wrapper for [[tab]] with multi-window completions\n */\ncmd_params.set('taball', new Map([['...id', 'string[]']]))\nexport async function taball(...id: string[]) {\n    logger.debug(\"shimming excmd taball from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"taball\",\n        ...id\n    )\n}\n\n/** Rename current tab.\n    @hidden\n\n    @param name\n        Tab name.\n*/\nexport function tabcurrentrename(...name: string[]) {\n    document.title = name.join(\" \")\n}\n\n/** Rename a tab.\n\n    @param index\n        Index of the target tab.\n\n    @param name\n        Tab name.\n*/\ncmd_params.set('tabrename', new Map([['index', 'string'], ['...name', 'string[]']]))\nexport async function tabrename(index: string, ...name: string[]) {\n    logger.debug(\"shimming excmd tabrename from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tabrename\",\n        index, ...name\n    )\n}\n\n/** Helper to change active tab. Used by [[tab]] and [[taball]].\n\n    @param interactive\n        Controls if we should prompt if multiple matches are found, or just pick the first match\n\n    @param anyWindow\n        True if we should search in all windows, or just the current one.\n\n    @param key\n        String or int tab search key, see [[tab]] for usage.\n */\ncmd_params.set('tab_helper', new Map([['interactive', 'boolean'], ['anyWindow', 'boolean'], ['...key', 'string[]']]))\nexport async function tab_helper(interactive: boolean, anyWindow: boolean, ...key: string[]) {\n    logger.debug(\"shimming excmd tab_helper from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"tab_helper\",\n        interactive, anyWindow, ...key\n    )\n}\n\n// }}}\n\n// }}}\n\n// {{{ SETTINGS\n\n/**\n * Similar to vim's `:command`. Maps one ex-mode command to another.\n * If command already exists, this will override it, and any new commands\n * added in a future release will be SILENTLY overridden. Aliases are\n * expanded recursively.\n *\n * Examples:\n *  - `command t tabopen`\n *  - `command tn tabnext_gt`\n *  - `command hello t` This will expand recursively into 'hello'->'tabopen'\n *\n * Commands/aliases are expanded as in a shell, so, given the commands above,\n * entering `:tn 43` will expand to `:tabnext_gt 43`. You can use this to create\n * your own ex-commands in conjunction with [[js]], specifically `js -p` and `js -d`.\n *\n * Note that this is only for excmd -> excmd mappings. To map a normal-mode\n * command to an excommand, see [[bind]].\n *\n * See also:\n *  - [[comclear]]\n */\ncmd_params.set('command', new Map([['name', 'string'], ['...definition', 'string[]']]))\nexport function command(name: string, ...definition: string[]) {\n    logger.debug(\"shimming excmd command from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"command\",\n        name, ...definition\n    )\n}\n\n/**\n * Similar to vim's `comclear` command. Clears an excmd alias defined by\n * `command`.\n *\n * For example: `comclear helloworld` will reverse any changes caused\n * by `command helloworld xxx`\n *\n * See also:\n *  - [[command]]\n */\ncmd_params.set('comclear', new Map([['name', 'string']]))\nexport function comclear(name: string) {\n    logger.debug(\"shimming excmd comclear from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"comclear\",\n        name\n    )\n}\n\n/** Bind a sequence of keys to an excmd or view bound sequence.\n\n    This is an easier-to-implement bodge while we work on vim-style maps.\n\n    Examples:\n\n        - `bind G fillcmdline tabopen google`\n        - `bind D composite tabclose | tab #` -> close current tab and switch to most recent previous tab\n        - `bind j scrollline 20`\n        - `bind F hint -b`\n\n    You can view binds by omitting the command line:\n\n        - `bind j`\n        - `bind k`\n\n    You can bind to modifiers and special keys by enclosing them with angle brackets, for example `bind <C-\\>z fullscreen`, `unbind <F1>` (a favourite of people who use TreeStyleTabs :) ), or `bind <Backspace> forward`.\n\n    Modifiers are truncated to a single character, so Ctrl -> C, Alt -> A, and Shift -> S. Shift is a bit special as it is only required if Shift does not change the key inputted, e.g. `<S-ArrowDown>` is OK, but `<S-a>` should just be `A`.\n\n    You can view all special key names here: https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/key/Key_Values\n\n    Use [[composite]] if you want to execute multiple excmds. Use\n    [[fillcmdline]] to put a string in the cmdline and focus the cmdline\n    (otherwise the string is executed immediately).\n\n    You can bind to other modes with `bind --mode={insert|ignore|normal|input|ex|hint} ...`, e.g, `bind --mode=insert emacs qall` (NB: unlike vim, all preceeding characters will not be input), or `bind --mode=hint <C-[> hint.reset`.\n\n    `bind --mode=browser [key sequence] [ex command]` binds to a special mode which can be accessed all the time in all browser tabs - even tabs in which Tridactyl cannot run. It comes with a few caveats:\n\n    - you may only have a few browser-mode binds at once. At the time of writing, this is 20, with 3 initially taken by Tridactyl. If you desperately need more, file an [[issue]].\n    - the key sequence must consist of a single, simple key with at least one and no more than two modifiers. An error will be thrown if you try to bind to an invalid key sequence.\n    - the `ex command` you bind to may not work fully unless you are on a tab which Tridactyl has access to. Generally, browser-wide actions like making or closing tabs will work but tab-specific actions like scrolling down or entering hint mode will not.\n\n    A list of editor functions can be found\n    [here](/static/docs/modules/_src_lib_editor_.html).\n\n    See also:\n\n        - [[unbind]]\n        - [[reset]]\n*/\ncmd_params.set('bind', new Map([['...args', 'string[]']]))\nexport async function bind(...args: string[]) {\n    logger.debug(\"shimming excmd bind from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"bind\",\n        ...args\n    )\n}\n\n/*\n * Show what ex-command a key sequence is currently bound to\n */\ncmd_params.set('bindshow', new Map([['...args', 'string[]']]))\nexport function bindshow(...args: string[]) {\n    logger.debug(\"shimming excmd bindshow from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"bindshow\",\n        ...args\n    )\n}\n\n/**\n     Generate a key sequence from keypresses. Once Enter is pressed, the command line is filled with a [[bind]]\n     command with the key sequence and provided arguments, which you can choose to modify and execute.\n\n     If you have `:set keyboardlayoutforce true`, it will bind commands to physical keys regardless of layout.\n\n     Accepts the same arguments as [[bind]] (except for the key sequence which will be generated):\n\n         - `bindwizard [command]`, then press the keys you want to bind, then hit Enter.\n         - `bindwizard --mode=[mode] [command]` also works.\n\n     You can execute it without arguments to see what is bound to the keys you type.\n*/\nexport async function bindwizard(...args: string[]) {\n    // TODO: this should use parse_bind_args in case we ever support e.g. --url=\n    let mode = \"normal\"\n    if (args.length && args[0].startsWith(\"--mode=\")) {\n        mode = args.shift().replace(\"--mode=\", \"\")\n    }\n    return gobble(\"<CR>\", `fillcmdline_notrail bind --mode=${mode}`, ...args)\n}\n\n/**\n * Like [[bind]] but for a specific url pattern (also see [[seturl]]).\n *\n * @param pattern Mandatory. The regex pattern on which the binding should take effect.\n * @param mode Optional. The mode the binding should be in (e.g. normal, insert, ignore, input). Defaults to normal.\n * @param keys Mandatory. The keys that should be bound.\n * @param excmd Optional. Without it, will display what `keys` are bound to in `mode`.\n *\n */\ncmd_params.set('bindurl', new Map([['pattern', 'string'], ['mode', 'string'], ['keys', 'string'], ['...excmd', 'string[]']]))\nexport function bindurl(pattern: string, mode: string, keys: string, ...excmd: string[]) {\n    logger.debug(\"shimming excmd bindurl from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"bindurl\",\n        pattern, mode, keys, ...excmd\n    )\n}\n\n/**\n *  Deprecated: use `:set keyboardlayoutforce true` instead.\n *\n *  Makes one key equivalent to another for the purposes of most of our parsers. Useful for international keyboard layouts. See user-provided examples for various layouts on our wiki: https://github.com/tridactyl/tridactyl/wiki/Internationalisation\n *\n *  e.g,\n *      keymap \u0119 e\n *\n */\ncmd_params.set('keymap', new Map([['source', 'string'], ['target', 'string']]))\nexport function keymap(source: string, target: string) {\n    logger.debug(\"shimming excmd keymap from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"keymap\",\n        source, target\n    )\n}\n\n/**\n * @hidden\n */\ncmd_params.set('searchsetkeyword', new Map([]))\nexport function searchsetkeyword() {\n    logger.debug(\"shimming excmd searchsetkeyword from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"searchsetkeyword\",\n\n    )\n}\n\n/**\n * Validates arguments for set/seturl\n * @hidden\n */\nfunction validateSetArgs(key: string, values: string[]) {\n    const target: any[] = key.split(\".\")\n\n    let value\n    const file = Metadata.everything.getFile(\"src/lib/config.ts\")\n    const default_config = file.getClass(\"default_config\")\n    const md = default_config.getMember(target[0])\n    if (md !== undefined) {\n        const strval = values.join(\" \")\n        // Note: the conversion will throw if strval can't be converted to the right type\n        if (md.type.kind === \"object\" && target.length > 1) {\n            value = (md.type as ObjectType).convertMember(target.slice(1), strval)\n        } else {\n            value = md.type.convert(strval)\n        }\n    } else {\n        // If we don't have metadata, fall back to the old way\n        logger.warning(\"Could not fetch setting metadata. Falling back to type of current value.\")\n        const currentValue = config.get(...target)\n        if (Array.isArray(currentValue)) {\n            // Do nothing\n        } else if (currentValue === undefined || typeof currentValue === \"string\") {\n            value = values.join(\" \")\n        } else {\n            throw new Error(\"Unsupported setting type!\")\n        }\n    }\n\n    target.push(value)\n    return target\n}\n\n/**\n * Usage: `seturl [pattern] key values`\n *\n * @param pattern The URL regex pattern the setting should be set for, e.g. `^https://en.wikipedia.org` or `/index.html`. Defaults to the current url if `values` is a single word.\n * @param key The name of the setting you want to set, e.g. `followpagepatterns.next`\n * @param values The value you wish for, e.g. `next`\n *\n * Example:\n * - `seturl .*\\.fr followpagepatterns.next suivant`\n * - `seturl website.fr followpagepatterns.next next`\n *\n * When multiple patterns can apply to a same URL, the pattern that has the highest priority is used. You can set the priority of a pattern by using `:seturl pattern priority 10`. By default every pattern has a priority of 10.\n *\n * Note that the patterns a regex-like, not glob-like. This means that if you want to match everything, you need to use `.*` instead of `*`.\n *\n * If you'd like to run an ex-command every time a page loads, see [[autocmd]] instead.\n */\ncmd_params.set('seturl', new Map([['pattern', 'string'], ['key', 'string'], ['...values', 'string[]']]))\nexport function seturl(pattern: string, key: string, ...values: string[]) {\n    if (values.length === 0 && key) {\n        values = [key]\n        key = pattern\n        pattern = window.location.href\n    }\n\n    if (!pattern || !key || !values.length) {\n        throw new Error(\"seturl syntax: [pattern] key value\")\n    }\n\n    return config.setURL(pattern, ...validateSetArgs(key, values))\n}\n\n/**\n * Usage: `setmode mode key values`\n *\n * @param mode The Mode the setting should be set for, e.g. `insert` or `ignore`.\n * @param key The name of the setting you want to set, e.g. `allowautofocus`\n * @param values The value you wish for, e.g. `true`\n *\n * Currently this command is only supported for the following settings:\n * - [[allowautofocus]]\n *\n * Example:\n * - `setmode ignore allowautofocus true`\n */\ncmd_params.set('setmode', new Map([['mode', 'string'], ['key', 'string'], ['...values', 'string[]']]))\nexport function setmode(mode: string, key: string, ...values: string[]) {\n    if (!mode || !key || !values.length) {\n        throw new Error(\"seturl syntax: mode key value\")\n    }\n    if (key !== \"allowautofocus\") throw new Error(\"Setting '\" + key + \"' not supported with setmode\")\n\n    return config.set(\"modesubconfigs\", mode, ...validateSetArgs(key, values))\n}\n\n/** Set a key value pair in config.\n\n    Use to set any values found [here](/static/docs/classes/_src_lib_config_.default_config.html).\n\n    Arrays should be set using JS syntax, e.g. `:set blacklistkeys [\"/\",\",\"]`.\n\n    e.g.\n        set searchurls.google https://www.google.com/search?q=\n        set logging.messaging info\n\n    If no value is given, the value of the of the key will be displayed.\n\n    See also: [[unset]]\n*/\ncmd_params.set('set', new Map([['key', 'string'], ['...values', 'string[]']]))\nexport function set(key: string, ...values: string[]) {\n    logger.debug(\"shimming excmd set from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"set\",\n        key, ...values\n    )\n}\n\n/**\n * Replaces your local configuration with that stored in the Firefox Sync area.\n *\n * It does not merge your configurations: it overwrites.\n *\n * Also see [[firefoxsyncpush]].\n */\ncmd_params.set('firefoxsyncpull', new Map([]))\nexport function firefoxsyncpull() {\n    logger.debug(\"shimming excmd firefoxsyncpull from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"firefoxsyncpull\",\n\n    )\n}\n\n/**\n * Pushes your local configuration to the Firefox Sync area.\n *\n * It does not merge your configurations: it overwrites.\n *\n * Also see [[firefoxsyncpull]].\n */\ncmd_params.set('firefoxsyncpush', new Map([]))\nexport function firefoxsyncpush() {\n    logger.debug(\"shimming excmd firefoxsyncpush from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"firefoxsyncpush\",\n\n    )\n}\n\n/** @hidden */\n/** @hidden */\n/** Set autocmds to run when certain events happen.\n *\n * @param event Currently, 'TriStart', 'DocStart', 'DocLoad', 'DocEnd', 'TabEnter', 'TabLeft', 'FullscreenChange', 'FullscreenEnter', 'FullscreenLeft', 'HistoryState', 'HistoryPushState', 'HistoryReplace', 'UriChange', 'AuthRequired', 'BeforeRedirect', 'BeforeRequest', 'BeforeSendHeaders', 'Completed', 'ErrorOccured', 'HeadersReceived', 'ResponseStarted', and 'SendHeaders' are supported\n *\n        - DocStart: When a webpage loading. Exactly, when tridactyl is loading in a page.\n        - DocLoad: When the whole html parsed, not including image/css loaded. (Just like jquery $(fn) or the [DOMContentLoaded event](https://developer.mozilla.org/en-US/docs/Web/API/Document/DOMContentLoaded_event).)\n        - DocEnd: When a webpage unloaded/closed or backward/forward in history. Exactly, the [pagehide event](https://developer.mozilla.org/en-US/docs/Web/API/Window/pagehide_event).\n        - TabEnter: When a tab get focus.\n        - TabLeft: When a tab lost focus or closed.\n *\n * The 'HistoryState' event is triggered when a page uses the web history API to change the page location / URI. It should be used in preference to 'UriChange' below since it will use almost no resources. The 'UriChange' event may work on websites where 'HistoryState' does not.\n *\n * The 'HistoryPushState' is triggered only when a page call 'history.pushState' to change URI, and 'HistoryReplace' is for 'history.replace'. By the way, the HistoryPopState is not implemented.\n *\n * The 'UriChange' event is for \"single page applications\" which change their URIs without triggering DocStart or DocLoad events. It uses a timer to check whether the URI has changed, which has a small impact on battery life on pages matching the `url` parameter. We suggest using it sparingly.\n *\n * @param url For DocStart, DocEnd, TabEnter, and TabLeft: a JavaScript regex (e.g. `www\\.amazon\\.co.*`)\n *\n * We just use [URL.search](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/search).\n *\n * For TriStart: A regular expression that matches the hostname of the computer\n * the autocmd should be run on. This requires the native messenger to be\n * installed, except for the \".*\" regular expression which will always be\n * triggered, even without the native messenger.\n *\n * For AuthRequired, BeforeRedirect, BeforeRequest, BeforeSendHeaders, Completed, ErrorOccured, HeadersReceived, ResponseStarted and SendHeaders, a [URL match pattern](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/Match_patterns)\n *\n * @param excmd The excmd to run (use [[composite]] to run multiple commands), __except__ for AuthRequired, BeforeRedirect, BeforeRequest, BeforeSendHeaders, Completed, ErrorOccured, HeadersReceived, ResponseStarted and SendHeaders, events where it must be an inline JavaScript function which maps [details objects specific to the event](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest#Events) to [blocking responses](https://developer.mozilla.org/en-US/docs/Mozilla/Add-ons/WebExtensions/API/webRequest/BlockingResponse). This JavaScript function will run in the background context.\n *\n * For example: `autocmd BeforeRequest https://www.bbc.co.uk/* () => ({redirectUrl: \"https://old.reddit.com\"})`. Note the brackets which ensure JavaScript returns a blocking response object rather than interpreting it as a block statement.\n *\n * For DocStart, DocLoad, DocEnd, TabEnter, TabLeft, FullscreenEnter, FullscreenLeft, FullscreenChange and UriChange: magic variables are available which are replaced with the relevant string at runtime:\n        - `TRI_FIRED_MOZ_TABID`: Provides Mozilla's `tabID` associated with the fired event.\n        - `TRI_FIRED_TRI_TABINDEX`: Provides tridactyls internal tab index associated with the fired event.\n        - `TRI_FIRED_MOZ_WINID`: Provides Mozilla's `windowId` associated with the fired event.\n        - `TRI_FIRED_MOZ_OPENERTABID`: The ID of the tab that opened this tab.\n        - `TRI_FIRED_ACTIVE`: Whether the tab is active in its window. This may be true even if the tab's window is not currently focused.\n        - `TRI_FIRED_AUDIBLE`: Indicates whether the tab is producing sound (even if muted).\n        - `TRI_FIRED_MUTED`: Indicates whether the tab is muted.\n        - `TRI_FIRED_DISCARDED`: Whether the tab is discarded. A discarded tab is one whose content has been unloaded from memory.\n        - `TRI_FIRED_HEIGHT`: The height of the tab in pixels.\n        - `TRI_FIRED_WIDTH`: The width of the tab in pixels.\n        - `TRI_FIRED_HIDDEN`: Whether the tab is hidden.\n        - `TRI_FIRED_INCOGNITO`: Whether the tab is in a private browsing window.\n        - `TRI_FIRED_ISARTICLE`: True if the tab can be rendered in Reader Mode, false otherwise.\n        - `TRI_FIRED_LASTACCESSED`: Time at which the tab was last accessed, in milliseconds since the epoch.\n        - `TRI_FIRED_PINNED`: Whether the tab is pinned.\n        - `TRI_FIRED_TITLE`: The title of the tab.\n        - `TRI_FIRED_URL`: The URL of the document that the tab is displaying.\n *\n * For example: `autocmd DocStart .*example\\.com.* zoom 150 false TRI_FIRED_MOZ_TABID`.\n *\n * For debugging, use `:set logging.autocmds debug` and check the Firefox web console. `WebRequest` events have no logging.\n *\n */\ncmd_params.set('autocmd', new Map([['event', 'string'], ['url', 'string'], ['...excmd', 'string[]']]))\nexport function autocmd(event: string, url: string, ...excmd: string[]) {\n    logger.debug(\"shimming excmd autocmd from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"autocmd\",\n        event, url, ...excmd\n    )\n}\n\n/**\n * Automatically open a domain and all its subdomains in a specified container.\n *\n * __NB:__ You should use this command with an -s (sane mode) or -u (URL mode) flag. Usage without a flag uses an incorrect regular expression which may cause weird behaviour and has been left in for compatibility reasons.\n *\n * This function accepts a `-u` flag to treat the pattern as a URL rather than a domain.\n * For example: `autocontain -u ^https?://([^/]*\\.|)youtube\\.com/ google` is equivalent to `autocontain -s youtube\\.com google`\n *\n * For declaring containers that do not yet exist, consider using `auconcreatecontainer true` in your tridactylrc.\n * This allows Tridactyl to automatically create containers from your autocontain directives. Note that they will be random icons and colors.\n *\n * The domain is passed through as a regular expression so there are a few gotchas to be aware of:\n * * Unescaped periods will match *anything*. `autocontain -s google.co.uk work` will match `google!co$uk`. Escape your periods  (i.e. `\\.`) or accept that you might get some false positives.\n * * You can use regex in your pattern. `autocontain -s google\\.(co\\.uk|com) work` will match either `google.co.uk` or `google.com`. If multiple rules match a certain URL, the one with the longest regex will be picked.\n *\n * This *should* now peacefully coexist with the Temporary Containers and Multi-Account Containers addons. Do not trust this claim. If a fight starts the participants will try to open infinite tabs. It is *strongly* recommended that you use a tridactylrc so that you can abort a sorceror's-apprentice scenario by killing firefox, commenting out all of autocontainer directives in your rc file, and restarting firefox to clean up the mess. There are a number of strange behaviors resulting from limited coordination between extensions. Redirects can be particularly surprising; for example, with `:autocontain -s will-redirect.example.org example` set and `will-redirect.example.org` redirecting to `redirected.example.org`, navigating to `will-redirect.example.org` will result in the new tab being in the `example` container under some conditions and in the `firefox-default` container under others.\n *\n * Pass an optional space-separated list of proxy names to assign a proxy (followed by failover proxies) to a URL and open in a specified container.\n * For example: `autocontain [-{u,s}] pattern container proxy1 proxy2`\n *\n * To assign a proxy and open in no container, use \"firefox-default\" or \"none\" as a container name.\n * See also:\n *  - [[proxyadd]]\n *  - [[proxyremove]]\n *\n * @param args a regex pattern to match URLs followed by the container to open the URL in followed by an optional space-separated list of proxy names.\n */\ncmd_params.set('autocontain', new Map([['...args', 'string[]']]))\nexport function autocontain(...args: string[]) {\n    logger.debug(\"shimming excmd autocontain from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"autocontain\",\n        ...args\n    )\n}\n\n/** Add a proxy for use with [[autocontain]] or `:set proxy`\n\n @param name The name of the proxy you want to set\n\n @param url The proxy URL. List of supported protcols are \"http\", \"https\" or equivalently \"ssl\", \"socks5\" or equivalently \"socks\" and \"socks4\".\n\n    Examples:\n    - `proxyadd work https://admin:hunter2@bigcorp.example:1337`\n    - `proxyadd kyoto socks://10.0.100.10:1080?proxyDNS=false`\n    - `proxyadd alice socks4://10.0.100.10:3128`\n\n These proxy settings are used by autocontainers. See [[autocontain]]\n*/\ncmd_params.set('proxyadd', new Map([['name', 'string'], ['url', 'string']]))\nexport function proxyadd(name: string, url: string) {\n    logger.debug(\"shimming excmd proxyadd from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"proxyadd\",\n        name, url\n    )\n}\n\n/** Remove proxies.\n    @param name The proxy name that should be removed.\n */\ncmd_params.set('proxyremove', new Map([['name', 'string']]))\nexport function proxyremove(name: string) {\n    logger.debug(\"shimming excmd proxyremove from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"proxyremove\",\n        name\n    )\n}\n\n/** Remove autocmds\n @param event An event from [[autocmd]]\n\n @param url Exactly the \"url\" you entered when you made the [[autocmd]] you wish to delete. See `:viewconfig autocmds` if you have forgotten.\n*/\ncmd_params.set('autocmddelete', new Map([['event', 'string'], ['url', 'string']]))\nexport function autocmddelete(event: string, url: string) {\n    logger.debug(\"shimming excmd autocmddelete from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"autocmddelete\",\n        event, url\n    )\n}\n\n/**\n *  Helper function to put Tridactyl into ignore mode on the provided URL.\n *\n *  Simply creates a DocStart [[autocmd]] that runs `mode ignore`. NB: ignore mode does have a few keybinds by default - see `:viewconfig ignoremaps`. These can be unbound with, e.g. `:unbind --mode=ignore <C-o>`, or `:unbindurl [url] --mode=ignore <C-o>`.\n *\n *  Remove sites from the blacklist with `blacklistremove [url]` or `autocmddelete DocStart [url]`.\n *\n *  If you're looking for a way to temporarily disable Tridactyl, this might be what you're looking for. If you need to disable Tridactyl more thoroughly on a page look at `:help superignore` instead.\n *\n *  <!-- this should probably be moved to an ex alias once configuration has better help --!>\n *\n */\ncmd_params.set('blacklistadd', new Map([['url', 'string']]))\nexport function blacklistadd(url: string) {\n    logger.debug(\"shimming excmd blacklistadd from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"blacklistadd\",\n        url\n    )\n}\n\n/** Unbind a sequence of keys so that they do nothing at all.\n\n    See also:\n\n        - [[bind]]\n        - [[reset]]\n*/\ncmd_params.set('unbind', new Map([['...args', 'string[]']]))\nexport async function unbind(...args: string[]) {\n    logger.debug(\"shimming excmd unbind from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"unbind\",\n        ...args\n    )\n}\n\n/**\n * Unbind a sequence of keys you have set with [[bindurl]]. Note that this **kills** a bind, which means Tridactyl will pass it to the page on `pattern`. If instead you want to use the default setting again, use [[reseturl]].\n *\n * @param pattern a regex to match URLs on which the key should be unbound\n * @param mode Optional. The mode in which the key should be unbound. Defaults to normal.\n * @param keys The keybinding that should be unbound\n *\n * example: `unbindurl jupyter --mode=ignore I`\n *\n * This unbinds `I` in ignore mode on every website the URL of which contains `jupyter`, while keeping the binding active everywhere else.\n *\n * Also see [[bind]], [[bindurl]], [[seturl]], [[unbind]], [[unseturl]], [[setmode]], [[unsetmode]]\n */\ncmd_params.set('unbindurl', new Map([['pattern', 'string'], ['mode', 'string'], ['keys', 'string']]))\nexport async function unbindurl(pattern: string, mode: string, keys: string) {\n    logger.debug(\"shimming excmd unbindurl from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"unbindurl\",\n        pattern, mode, keys\n    )\n}\n\n/**\n * Restores a sequence of keys to their default value.\n *\n * @param mode Optional. The mode the key should be reset in. Defaults to normal.\n * @param key The key that should be reset.\n *\n * See also:\n *  - [[bind]]\n *  - [[unbind]]\n */\ncmd_params.set('reset', new Map([['mode', 'string'], ['key', 'string']]))\nexport async function reset(mode: string, key: string) {\n    logger.debug(\"shimming excmd reset from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"reset\",\n        mode, key\n    )\n}\n\n/**\n * Restores a sequence of keys to their value in the global config for a specific URL pattern.\n *\n * See also:\n *  - [[bind]]\n *  - [[unbind]]\n *  - [[reset]]\n *  - [[bindurl]]\n *  - [[unbindurl]]\n *  - [[seturl]]\n *  - [[unseturl]]\n *  - [[setmode]]\n *  - [[unsetmode]]\n */\ncmd_params.set('reseturl', new Map([['pattern', 'string'], ['mode', 'string'], ['key', 'string']]))\nexport async function reseturl(pattern: string, mode: string, key: string) {\n    logger.debug(\"shimming excmd reseturl from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"reseturl\",\n        pattern, mode, key\n    )\n}\n\n/** Deletes various bits of Firefox or Tridactyl data\n\n    The list of possible arguments can be found here:\n    https://developer.mozilla.org/en-US/Add-ons/WebExtensions/API/browsingData/DataTypeSet\n\n    Additional Tridactyl-specific arguments are:\n    - `commandline`: Removes the in-memory commandline history.\n    - `tridactyllocal`: Removes all tridactyl storage local to this machine. Use it with\n        commandline if you want to delete your commandline history.\n    - `tridactylsync`: Removes all tridactyl storage associated with your Firefox Account (i.e, all user configuration, by default).\n    These arguments aren't affected by the timespan parameter.\n\n    Timespan parameter:\n    -t [0-9]+(m|h|d|w)\n\n    Examples:\n\n    - `sanitise all` -> Deletes __everything__, including any saved usernames / passwords(!)\n    - `sanitise history` -> Deletes all history\n    - `sanitise commandline tridactyllocal tridactylsync` -> Deletes every bit of data Tridactyl holds\n    - `sanitise cookies -t 3d` -> Deletes cookies that were set during the last three days.\n\n*/\ncmd_params.set('sanitise', new Map([['...args', 'string[]']]))\nexport async function sanitise(...args: string[]) {\n    logger.debug(\"shimming excmd sanitise from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"sanitise\",\n        ...args\n    )\n}\n\n/** Bind a quickmark for the current URL or space-separated list of URLs to a key on the keyboard.\n\n    Afterwards use go[key], gn[key], or gw[key] to [[open]], [[tabopen]], or\n    [[winopen]] the URL respectively.\n\n    Example:\n    - `quickmark m https://mail.google.com/mail/u/0/#inbox`\n\n*/\ncmd_params.set('quickmark', new Map([['key', 'string'], ['...addressarr', 'string[]']]))\nexport async function quickmark(key: string, ...addressarr: string[]) {\n    logger.debug(\"shimming excmd quickmark from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"quickmark\",\n        key, ...addressarr\n    )\n}\n\n/** Puts the contents of config value with keys `keys` into the commandline and the background page console\n\n    It's a bit rubbish, but we don't have a good way to provide feedback to the commandline yet.\n\n    You can view the log entry in the browser console (Ctrl-Shift-j).\n\n    For example, you might try `get nmaps` to see all of your current binds.\n*/\ncmd_params.set('get', new Map([['...keys', 'string[]']]))\nexport function get(...keys: string[]) {\n    logger.debug(\"shimming excmd get from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"get\",\n        ...keys\n    )\n}\n\n/**\n * Opens the current configuration in Firefox's native JSON viewer in a new tab.\n *\n * @param key - The specific key you wish to view (e.g, nmaps, autocmds.DocLoad). Also accepts the arguments `--default` or `--user` to view the default configuration, or your changes.\n *\n * NB: the configuration won't update if you refresh the page - you need to run `:viewconfig` again.\n *\n */\ncmd_params.set('viewconfig', new Map([['...key', 'string[]']]))\nexport function viewconfig(...key: string[]) {\n    logger.debug(\"shimming excmd viewconfig from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"viewconfig\",\n        ...key\n    )\n}\n\n/**\n * View a JSON object in Firefox's JSON viewer.\n */\ncmd_params.set('jsonview', new Map([['...json', 'string[]']]))\nexport async function jsonview(...json: string[]) {\n    logger.debug(\"shimming excmd jsonview from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"jsonview\",\n        ...json\n    )\n}\n\n/**\n * Reset a site-specific setting.\n *\n * usage: `unseturl [pattern] key`\n *\n * @param pattern The pattern the setting should be unset on, e.g. `.*wiki.*`. Defaults to the current url.\n * @param key The key that should be unset.\n *\n * Example: `unseturl youtube.com gimode`\n *\n * Note that this removes a setting from the site-specific config, it doesn't \"invert\" it. This means that if you have a setting set to `false` in your global config and the same setting set to `false` in a site-specific setting, using `unseturl` will result in the setting still being set to `false`.\n *\n * Also note that `pattern` should match exactly the one that was used when using `seturl`.\n */\ncmd_params.set('unseturl', new Map([['pattern', 'string'], ['key', 'string']]))\nexport function unseturl(pattern: string, key: string) {\n    if (!key) {\n        key = pattern\n        pattern = window.location.href\n    }\n    return config.unsetURL(pattern, key.split(\".\"))\n}\n\n/**\n * Reset a mode-specific setting.\n *\n * usage: `unsetmode mode key`\n *\n * @param mode The mode the setting should be unset on, e.g. `insert`.\n * @param key The key that should be unset.\n *\n * Example: `unsetmode ignore allowautofocus`\n *\n * Note that this removes a setting from the mode-specific config, it doesn't \"invert\" it. This means that if you have a setting set to `false` in your global config and the same setting set to `false` in a mode-specific setting, using `unseturl` will result in the setting still being set to `false`.\n */\ncmd_params.set('unsetmode', new Map([['mode', 'string'], ['key', 'string']]))\nexport function unsetmode(mode: string, key: string) {\n    return config.unset(\"modesubconfigs\", mode, ...key.split(\".\"))\n}\n\n/**\n * Reset a config setting to default\n */\ncmd_params.set('unset', new Map([['...keys', 'string[]']]))\nexport function unset(...keys: string[]) {\n    logger.debug(\"shimming excmd unset from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"unset\",\n        ...keys\n    )\n}\n\n/**\n * \"Delete\" a default setting. E.g. `setnull searchurls.github` means `open github test` would search your default search engine for \"github test\".\n */\ncmd_params.set('setnull', new Map([['...keys', 'string[]']]))\nexport function setnull(...keys: string[]) {\n    logger.debug(\"shimming excmd setnull from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"setnull\",\n        ...keys\n    )\n}\n\n// }}}\n\n/**\n * @hidden\n */\nconst KILL_STACK: Element[] = []\n// {{{ HINTMODE\n\n/** Hint a page.\n\n    @param args Arguments to the `:hint` command. Multiple flags can be combined as long as they don't conflict.\n    Selectors can be specified either standalone (without a flag preceding them) or with the `-c` option. Arguments that\n    take callbacks (`-F` or `-W`) should be specified last, as they consume the rest of the command line.\n\n    Hinting action flags (only one can be specified):\n        - -t open in a new foreground tab\n        - -b open in background\n        - -y copy (yank) link's target to clipboard\n        - -p copy an element's text to the clipboard\n        - -h select an element (as if you click-n-dragged over it)\n        - -P copy an element's title/alt text to the clipboard\n        - -r read an element's text with text-to-speech\n        - -i view an image\n        - -I view an image in a new tab\n        - -k irreversibly deletes an element from the page (until reload)\n        - -K hides an element on the page; hidden elements can be restored using [[elementunhide]].\n        - -s save (download) the linked resource\n        - -S save the linked image\n        - -a save-as the linked resource\n        - -A save-as the linked image\n        - -; focus an element and set it as the element or the child of the element to scroll\n        - -# yank an element's anchor URL to clipboard\n        - -w open in new window\n        - -wp open in new private window\n        - -z scroll an element to the top of the viewport\n        - `-pipe selector key` e.g, `-pipe a href` returns the URL of the chosen link on a page. Only makes sense with `composite`, e.g, `composite hint -pipe .some-class>a textContent | yank`. If you don't select a hint (i.e. press <Esc>), will return an empty string. Most useful when used like `-c` to do things other than opening links. NB: the query selector cannot contain any spaces.\n        - `-W excmd...` append hint href to excmd and execute, e.g, `hint -W mpvsafe` to open YouTube videos. NB: appending to bare [[exclaim]] is dangerous - see `get exaliases.mpvsafe` for an example of how to to it safely. If you need to use a query selector, use `-pipe` instead.\n        - -F [callback] - run a custom callback on the selected hint, e.g. `hint -JF e => {tri.excmds.tabopen(\"-b\",e.href); e.remove()}`.\n\n    Element selection flags:\n        - -c [selector] hint links that match the css selector\n          - `bind ;c hint -c [class*=\"expand\"],[class=\"togg\"]` works particularly well on reddit and HN\n          - this works with most other hint modes, with the caveat that if other hint mode takes arguments your selector must contain no spaces, i.e. `hint -c[yourOtherFlag] [selector] [your other flag's arguments, which may contain spaces]`\n        - -x [selector] exclude the matched elements from hinting\n        - -f [text] hint links and inputs that display the given text\n          - `bind <c-e> hint -f Edit`\n          - Backslashes can escape spaces: `bind <c-s> hint -f Save\\ as`\n        - -fr [text] use RegExp to hint the links and inputs\n        - -J* disable javascript hints. Don't generate hints related to javascript events. This is particularly useful when used with the `-c` option when you want to generate only hints for the specified css selectors. Also useful on sites with plenty of useless javascript elements such as google.com\n        - -V create hints for invisible elements. By default, elements outside the viewport when calling :hint are not hinted, this includes them anyways.\n\n    Hinting mode selection:\n        - -q* quick (or rapid) hints mode. Stay in hint mode until you press <Esc>, e.g. `:hint -qb` to open multiple hints in the background or `:hint -qW excmd` to execute excmd once for each hint. This will return an array containing all elements or the result of executed functions (e.g. `hint -qpipe a href` will return an array of links).\n          - For example, use `bind ;jg hint -Jc .rc > .r > a` on google.com to generate hints only for clickable search results of a given query\n        - -! execute all hints without waiting for a selection\n          - For example, `hint -!bf Comments` opens in background tabs all visible links whose text matches `Comments`\n\n    Deprecated options:\n        - -br deprecated, use `-qb` instead\n\n    Excepting the custom selector mode, background hint mode and the \"immediate\" modifier, each of these hint modes is available by default as `;<option character>`, so e.g. `;y` to yank a link's target; `;g<option character>` starts rapid hint mode for all modes where it makes sense, and some others.\n\n    To open a hint in the background, the default bind is `F`.\n\n    Ex-commands available exclusively in hint mode are listed [here](/static/docs/modules/_src_content_hinting_.html)\n\n    Related settings:\n        - \"hintchars\": \"hjklasdfgyuiopqwertnmzxcvb\"\n        - \"hintfiltermode\": \"simple\" | \"vimperator\" | \"vimperator-reflow\"\n        - \"relatedopenpos\": \"related\" | \"next\" | \"last\"\n        - \"hintuppercase\": \"true\" | \"false\"\n        - \"hintnames\": \"short\" | \"uniform\" | \"numeric\"\n        - \"hintdelay\": 300\n        - \"hintshift\": \"true\" | \"false\"\n        - \"hintautoselect\": \"true\" | \"false\"\n\n          With \"short\" names, Tridactyl will generate short hints that\n          are never prefixes of each other. With \"uniform\", Tridactyl\n          will generate hints of uniform length. In either case, the\n          hints are generated from the set in \"hintchars\".\n\n          With \"numeric\" names, hints are always assigned using\n          sequential integers, and \"hintchars\" is ignored. This has the\n          disadvantage that some hints are prefixes of others (and you\n          need to hit space or enter to select such a hint). But it has\n          the advantage that the hints tend to be more predictable\n          (e.g., a news site will have the same hints for its\n          boilerplate each time you visit it, even if the number of\n          links in the main body changes).\n\n    There are some extra hint \"modes\" that are actually just normal-mode binds. We'll list them here:\n\n    - `;gv` - \"open link in MPV\" - only available if you have [[native]] installed and `mpv` on your PATH\n    - `;m` and `;M` - do a reverse image search using Google in the current tab and a new tab\n    - `;x` and `;X` - move cursor to element and perform a real click or ctrl-shift-click (to open in a new foreground tab). Only available on Linux, if you have [[native]] installed and `xdotool` on your PATH\n    - `;d` and `;gd` - open links in discarded background tabs (defer loading until tab is switched to)\n\n    NB: by default, hinting respects whether links say they should be opened in new tabs (i.e. `target=_blank`). If you wish to override this you can use `:hint -JW open` to force the hints to open in the current tab. JavaScript hints (grey ones) will always open wherever they want, but if you want to include these anyway you can use `:hint -W open`.\n\n*/\ncmd_params.set('hint', new Map([['...args', 'string[]']]))\nexport async function hint(...args: string[]): Promise<any> {\n    // Parse configuration and print parsing warnings\n    const config = hint_util.HintConfig.parse(args)\n    config.printWarnings(logger)\n\n    const hintTabOpen = async (href, active = !config.rapid) => {\n        const containerId = await activeTabContainerId()\n        if (containerId) {\n            return openInNewTab(href, {\n                active,\n                related: true,\n                cookieStoreId: containerId,\n            })\n        } else {\n            return openInNewTab(href, {\n                active,\n                related: true,\n            })\n        }\n    }\n\n    return new Promise((resolve, reject) => {\n        const hintables = config.hintables()\n\n        // If the user specified a callback, eval it, else use the default\n        // action which performs the action matching the open mode\n        const action = config.callback\n            ? eval(config.callback)\n            : (elem: any) => {\n                  if (config.pipeAttribute !== null) {\n                      // We have an attribute to pipe\n                      return elem[config.pipeAttribute]\n                  }\n\n                  if (config.excmd) {\n                      // We have an excmd to run. By spec, we append the element's href\n                      if (elem.href) {\n                          // /!\\ RACY RACY RACY!\n                          run_exstr(config.excmd + \" \" + elem.href)\n                          return elem\n                      }\n\n                      // Otherwise, no href so nothing to do\n                      return\n                  }\n\n                  switch (config.openMode) {\n                      case OpenMode.Highlight:\n                          const r = document.createRange()\n                          r.setStart(elem, 0)\n                          r.setEnd(elem, 1)\n                          const s = document.getSelection()\n                          s.addRange(r)\n                          return elem\n\n                      case OpenMode.Images:\n                      case OpenMode.ImagesTab:\n                          const src = elem.getAttribute(\"src\")\n                          if (src) {\n                              if (config.openMode === OpenMode.ImagesTab) {\n                                  // TODO: await? Other hintTabOpen calls don't seem to use one\n                                  hintTabOpen(new URL(src, window.location.href).href)\n                              } else {\n                                  open(new URL(src, window.location.href).href)\n                              }\n                              return elem\n                          }\n\n                          return\n\n                      case OpenMode.Kill:\n                          elem.remove()\n                          return elem\n\n                      case OpenMode.KillTridactyl:\n                          elem.classList.add(\"TridactylKilledElem\")\n                          KILL_STACK.push(elem)\n                          return elem\n\n                      case OpenMode.SaveResource:\n                      case OpenMode.SaveImage:\n                      case OpenMode.SaveAsResource:\n                      case OpenMode.SaveAsImage:\n                          const saveAs = config.openMode === OpenMode.SaveAsResource || config.openMode === OpenMode.SaveAsImage\n                          const attr = config.openMode === OpenMode.SaveImage || config.openMode === OpenMode.SaveAsImage ? \"src\" : \"href\"\n                          Messaging.message(\"download_background\", \"downloadUrl\", new URL(elem[attr], window.location.href).href, saveAs)\n                          return elem\n\n                      case OpenMode.Scroll:\n                          elem.scrollIntoView(true)\n                          return elem\n\n                      case OpenMode.ScrollFocus:\n                          let tabindexAdded = false\n                          // img can only be focused when they have the tabindex attribute\n                          if (elem instanceof HTMLImageElement && !elem.getAttribute(\"tabindex\")) {\n                              elem.setAttribute(\"tabindex\", \"-1\")\n                              tabindexAdded = true\n                          }\n                          elem.focus()\n                          scrolling.setCurrentFocus(elem)\n                          // img doesn't get unfocused when its tabindex is removed, so no need to keep it around\n                          if (tabindexAdded) elem.removeAttribute(\"tabindex\")\n                          return elem\n\n                      case OpenMode.TTSRead:\n                          TTS.readText(elem.textContent)\n                          return elem\n\n                      case OpenMode.YankAlt:\n                          // Yank link alt text\n                          // ???: Neither anchors nor links posses an \"alt\" attribute. I'm assuming that the person who wrote this code also wanted to select the alt text of images\n                          return elem.title ? elem.title : elem.alt\n\n                      case OpenMode.YankAnchor:\n                          const anchorUrl = new URL(window.location.href)\n                          // ???: What purpose does selecting elements with a name attribute have? Selecting values that only have meaning in forms doesn't seem very useful.\n                          // https://developer.mozilla.org/en-US/docs/Web/HTML/Attributes\n                          anchorUrl.hash = elem.id || elem.name\n                          return anchorUrl.href\n\n                      case OpenMode.YankLink:\n                          if (elem.href) {\n                              return elem.href\n                          }\n\n                          return\n\n                      case OpenMode.YankText:\n                          return elem.textContent\n                  }\n\n                  if (elem.href) {\n                      elem.focus()\n\n                      switch (config.openMode) {\n                          case OpenMode.Default:\n                              DOM.simulateClick(elem)\n                              break\n                          case OpenMode.Tab:\n                              hintTabOpen(elem.href, true).catch(() => DOM.simulateClick(elem, DOM.TabTarget.NewTab))\n                              break\n                          case OpenMode.BackgroundTab:\n                              hintTabOpen(elem.href, false).catch(() => DOM.simulateClick(elem, DOM.TabTarget.NewBackgroundTab))\n                              break\n                          case OpenMode.Window:\n                              openInNewWindow({ url: new URL(elem.href, window.location.href).href })\n                              break\n                          case OpenMode.WindowPrivate:\n                              openInNewWindow({ url: elem.href, incognito: true })\n                              break\n                      }\n                  } else {\n                      if (config.openMode === OpenMode.WindowPrivate) {\n                          // We want a private window, but the element doesn't have an href, so\n                          // we avoid opening the target by accident\n                          return\n                      } else {\n                          elem.focus()\n                          DOM.simulateClick(elem)\n                      }\n                  }\n\n                  return elem\n              }\n\n        if (config.immediate) {\n            // Immediate mode, perform the target action on all matching nodes\n            const results = []\n\n            for (const elements of hintables) {\n                for (const hintable of elements.elements) {\n                    try {\n                        results.push(action(hintable))\n                    } catch (error) {\n                        logger.error(error)\n                    }\n                }\n            }\n\n            resolve(results)\n        } else {\n            // Perform hinting\n            hinting.hintPage(hintables, action, resolve, reject, config.rapid)\n        }\n    }).then(value => {\n        // Fix #1374 for all types of yanks: join returned results\n        if (config.isYank) {\n            if (Array.isArray(value)) {\n                yank(value.join(\"\\n\"))\n            } else {\n                yank(value as string)\n            }\n        }\n\n        return value\n    })\n}\n\n// how 2 crash pc\n////#content\n//export async function rapid(...commands: string[]){\n//    while(true){\n//        await run_exstr(...commands)\n//    }\n//}\n\n/**\n * Perform rot13.\n *\n * Transforms all text nodes in the current tab via rot13. Only characters in\n * the ASCII range are considered.\n *\n * @param n number of characters to shift.\n */\ncmd_params.set('rot13', new Map([['n', 'number']]))\nexport function rot13(n: number) {\n    if (n === undefined) n = 13\n    const body = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, { acceptNode: () => NodeFilter.FILTER_ACCEPT })\n\n    while (body.nextNode()) {\n        const t = body.currentNode.textContent\n        body.currentNode.textContent = rot13_helper(t, n)\n    }\n}\n/**\n * Perform text jumbling (reibadailty).\n *\n * Shuffles letters except for first and last in all words in text nodes in the current tab. Only characters in\n * the ASCII range are considered.\n *\n * Inspired by: https://www.newscientist.com/letter/mg16221887-600-reibadailty/\n */\ncmd_params.set('jumble', new Map([]))\nexport function jumble() {\n    const body = document.createTreeWalker(document.body, NodeFilter.SHOW_TEXT, { acceptNode: () => NodeFilter.FILTER_ACCEPT })\n\n    while (body.nextNode()) {\n        const t = body.currentNode.textContent\n        body.currentNode.textContent = jumble_helper(t)\n    }\n}\n\n/**\n * Hacky ex string parser.\n *\n * Use it for fire-and-forget running of background commands in content.\n */\ncmd_params.set('run_exstr', new Map([['...commands', 'string[]']]))\nexport function run_exstr(...commands: string[]) {\n    return Messaging.message(\"controller_background\", \"acceptExCmd\", commands.join(\"\"))\n}\n\n// }}}\n\n// {{{ GOBBLE mode\n\n/** Initialize gobble mode.\n\n    If numKeysOrTerminator is a number, it will read the provided amount of keys;\n    If numKeysOrTerminator is a key or key combination like 'k', '<CR>' or '<C-j>';\n    it will read keys until the provided key is pressed.\n    Then it will append the keypresses to `endCmd` and execute that string,\n    also appending arguments if provided.\n*/\ncmd_params.set('gobble', new Map([['numKeysOrTerminator', 'string'], ['endCmd', 'string'], ['...args', 'string[]']]))\nexport async function gobble(numKeysOrTerminator: string, endCmd: string, ...args: string[]) {\n    return gobbleMode.init(numKeysOrTerminator, endCmd, ...args)\n}\n\n// }}}\n\n/** @hidden\n * This function is used by goto completions.\n */\ncmd_params.set('getGotoSelectors', new Map([]))\nexport async function getGotoSelectors(): Promise<Array<{ level: number; y: number; title: string; selector: string }>> {\n    const result = []\n    let level = 1\n    for (const selector of config.get(\"gotoselector\").split(\",\")) {\n        result.push(\n            ...(Array.from(document.querySelectorAll(selector)) as HTMLElement[])\n                .filter(e => e.innerText)\n                .map(e => ({ level, y: e.getClientRects()[0]?.y, title: e.innerText, selector: DOM.getSelector(e) }))\n                .filter(e => e.y !== undefined),\n        )\n        level += 1\n    }\n    return result\n}\n\n/**\n * Jump to selector.\n */\ncmd_params.set('goto', new Map([['...selector', 'string[]']]))\nexport async function goto(...selector: string[]) {\n    const element = document.querySelector(selector.join(\" \"))\n    if (element) {\n        element.scrollIntoView()\n    }\n}\n\n/**\n * Initialize n [mode] mode.\n *\n * In this special mode, a series of key sequences are executed as bindings from a different mode, as specified by the\n * `mode` argument. After the count of accepted sequences is `n`, the finalizing ex command given as the `endexArr`\n * argument is executed, which defaults to `mode ignore`.\n *\n * Example: `:nmode normal 1 mode ignore`\n * This looks up the next key sequence in the normal mode bindings, executes it, and switches the mode to `ignore`.\n * If the key sequence does not match a binding, it will be silently passed through to Firefox, but it will be counted\n * for the termination condition.\n */\ncmd_params.set('nmode', new Map([['mode', 'string'], ['n', 'number'], ['...endexArr', 'string[]']]))\nexport async function nmode(mode: string, n: number, ...endexArr: string[]) {\n    const endex = endexArr.join(\" \") || \"mode ignore\"\n    return nMode.init(endex, mode, n)\n}\n\n// {{{TEXT TO SPEECH\n\n/**\n * Read text content of elements matching the given selector\n *\n * @param selector the selector to match elements\n */\nfunction tssReadFromCss(selector: string): void {\n    const elems = DOM.getElemsBySelector(selector, [])\n\n    elems.forEach(e => {\n        TTS.readText(e.textContent)\n    })\n}\n\n/**\n * Read the given text using the browser's text to speech functionality and\n * the settings currently set\n *\n * @param mode      the command mode\n *                      -t read the following args as text\n *                      -c read the content of elements matching the selector\n */\ncmd_params.set('ttsread', new Map([['mode', '\"-t\" | \"-c\"'], ['...args', 'string[]']]))\nexport async function ttsread(mode: \"-t\" | \"-c\", ...args: string[]) {\n    if (mode === \"-t\") {\n        // really should quote args, but for now, join\n        TTS.readText(args.join(\" \"))\n    } else if (mode === \"-c\") {\n        if (args.length > 0) {\n            tssReadFromCss(args[0])\n        } else {\n            throw new Error(\"Error: no CSS selector supplied\")\n        }\n    } else {\n        throw new Error(\"Unknown mode for ttsread command: \" + mode)\n    }\n}\n\n/**\n * Show a list of the voices available to the TTS system. These can be\n * set in the config using `ttsvoice`\n */\ncmd_params.set('ttsvoices', new Map([]))\nexport async function ttsvoices() {\n    logger.debug(\"shimming excmd ttsvoices from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"ttsvoices\",\n\n    )\n}\n\n/**\n * Cancel current reading and clear pending queue\n *\n * Arguments:\n *   - stop:    cancel current and pending utterances\n */\ncmd_params.set('ttscontrol', new Map([['action', 'string']]))\nexport async function ttscontrol(action: string) {\n    // only pause seems to be working, so only provide access to that\n    // to avoid exposing users to things that won't work\n    if (action !== \"stop\") {\n        throw new Error(\"Unknown text-to-speech action: \" + action)\n    }\n\n    return TTS.doAction(action as TTS.Action)\n}\n\n//}}}\n\n// {{{ PERFORMANCE LOGGING\n\n/**\n * Build a set of FilterConfigs from a list of human-input filter\n * specs.\n *\n * @hidden\n */\n\n/**\n * Dump the raw json for our performance counters. Filters with\n * trailing slashes are class names, :start | :end | :measure specify\n * what type of sample to pass through, and all others are function\n * names. All filters must match for a sample to be dumped.\n *\n * Tridactyl does not collect performance information by default. To\n * get this data you'll have to set the configuration option\n * `perfcounters` to `\"true\"`. You may also want to examine the value\n * of `perfsamples`.\n */\ncmd_params.set('perfdump', new Map([['...filters', 'string[]']]))\nexport async function perfdump(...filters: string[]) {\n    logger.debug(\"shimming excmd perfdump from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"perfdump\",\n        ...filters\n    )\n}\n\n/**\n * Pretty-print a histogram of execution durations for you. Arguments\n * are as above, with the addition that this automatically filters to\n * counter samples of type :measure.\n *\n * Note that this will display its output by opening a data: url with\n * text in the place of your current tab.\n */\ncmd_params.set('perfhistogram', new Map([['...filters', 'string[]']]))\nexport async function perfhistogram(...filters: string[]) {\n    logger.debug(\"shimming excmd perfhistogram from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"perfhistogram\",\n        ...filters\n    )\n}\n\n// }}}\n\n// unsupported on android\n/**\n * Add or remove a bookmark.\n *\n * Optionally, you may give the bookmark a title. If no URL is given, a bookmark is added for the current page.\n *\n * If a bookmark already exists for the URL, it is removed, even if a title is given.\n *\n * Does not support creation of folders: you'll need to use the Firefox menus for that.\n *\n * @param titlearr Title for the bookmark (can include spaces but not forward slashes, as these are interpreted as folders). If you want to put the bookmark in a folder, you can:\n *  - Specify it exactly: `/Bookmarks Menu/Mozilla Firefox/My New Bookmark Title`\n *  - Specify it by a subset: `Firefox/My New Bookmark Title`\n *  - and leave out the title if you want: `Firefox/`\n */\ncmd_params.set('bmark', new Map([['url', 'string'], ['...titlearr', 'string[]']]))\nexport async function bmark(url?: string, ...titlearr: string[]) {\n    logger.debug(\"shimming excmd bmark from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"bmark\",\n        url, ...titlearr\n    )\n}\n\ncmd_params.set('echo', new Map([['...str', 'string[]']]))\nexport function echo(...str: string[]) {\n    logger.debug(\"shimming excmd echo from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"echo\",\n        ...str\n    )\n}\n\n/** helper function for js and jsb\n *\n * -p to take a single extra argument located at the end of str[]\n * -d[delimiter character] to take a space-separated array of arguments after the delimiter\n * -s to load js script of a source file from the config path\n *\n * @hidden\n */\nasync function js_helper(str: string[]) {\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\n    let JS_ARG = null\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars-experimental\n    let JS_ARGS = []\n    let jsContent: string = null\n\n    let doSource = false\n    let fromRC = false\n    let separator = null\n\n    while (true) {\n        const flag = str[0]\n\n        if (flag == \"-p\") {\n            // arg of -p comes from the end of str[]\n            // and we don't know if the user will use it or not\n            // eslint-disable-next-line @typescript-eslint/no-unused-vars\n            JS_ARG = str.pop()\n            str.shift()\n            continue\n        }\n\n        if (flag == \"-s\") {\n            doSource = true\n            str.shift()\n            continue\n        }\n\n        if (flag == \"-r\") {\n            doSource = true\n            fromRC = true\n            str.shift()\n            continue\n        }\n\n        // d for delimiter innit\n        const match = /-d(.)/.exec(flag)\n        if (match !== null) {\n            separator = match[1]\n            str.shift()\n            continue\n        }\n\n        break\n    }\n\n    if (separator !== null) {\n        // user may or may not use JS_ARGS\n        // eslint-disable-next-line @typescript-eslint/no-unused-vars\n        JS_ARGS = str.join(\" \").split(separator)[1].split(\" \")\n        jsContent = str.join(\" \").split(separator)[0]\n    } else {\n        jsContent = str.join(\" \")\n    }\n\n    if (doSource) {\n        let sourcePath = jsContent\n        if (fromRC) {\n            const sep = \"/\"\n            const rcPath = (await Native.getrcpath(\"unix\")).split(sep).slice(0, -1)\n            sourcePath = [...rcPath, sourcePath].join(sep)\n        }\n        const file = await Native.read(sourcePath)\n        if (file.code !== 0) throw new Error(\"Couldn't read js file \" + sourcePath)\n        jsContent = file.content\n    }\n\n    return eval(jsContent)\n}\n\n/**\n * Lets you execute JavaScript in the page context. If you want to get the result back, use\n *\n *     `composite js ... | fillcmdline`\n *\n *  @returns Last value of the JavaScript statement\n *\n * Usage:\n *\n *        `js [-p] javascript code ... [arg]`\n *\n *        `js [-s|-r|-p] javascript_filename [arg]`\n *\n *   - options\n *     - -p pass an argument to js for use with `composite`. The argument is passed as the last space-separated argument of `js`, i.e. `str[str.length-1]` and stored in the magic variable JS_ARG - see below for example usage.\n *    -d[delimiter character] to take a space-separated array of arguments after the delimiter, stored in the magic variable `JS_ARGS` (which is an array).\n *     - -s load the js source from a Javascript file.\n *     - -r load the js source from a Javascript file relative to your RC file. (NB: will throw an error if no RC file exists)\n *\n * Some of Tridactyl's functions are accessible here via the `tri` object. Just do `console.log(tri)` in the web console on the new tab page to see what's available.\n *\n * If you want to pipe an argument to `js`, you need to use the \"-p\" flag or \"-d\" flag with an argument and then use the JS_ARG global variable, e.g:\n *\n *     `composite get_current_url | js -p alert(JS_ARG)`\n *\n * To run JavaScript from a source file:\n *\n *     `js -s ~/JSLib/my_script.js`\n *\n * To run a JavaScript file relative to your RC file, e.g. `~/.config/tridactyl/sample.js`\n *\n *     `js -r sample.js`\n *\n * `js` executes JavaScript in local scope. If you want to reuse the code in other :js calls, you can add your functions or variables into a global namespace, like `window.` or `tri.`, e.g.:\n *\n *     `js tri.hello = function (){ alert(\"hello world!\") };`\n *     `js tri.hello()`\n *\n *  You can use `-d` to make your own ex-commands:\n *\n *      `command loudecho js -d\u20AC window.alert(JS_ARGS.join(\" \"))\u20AC`\n *\n */\n/* tslint:disable:no-identical-functions */\ncmd_params.set('js', new Map([['...str', 'string[]']]))\nexport async function js(...str: string[]) {\n    return js_helper(str)\n}\n\n/**\n * Lets you execute JavaScript in the background context. All the help from [[js]] applies. Gives you a different `tri` object which has access to more excmds and web-extension APIs.\n */\n/* tslint:disable:no-identical-functions */\ncmd_params.set('jsb', new Map([['...str', 'string[]']]))\nexport async function jsb(...str: string[]) {\n    logger.debug(\"shimming excmd jsb from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"jsb\",\n        ...str\n    )\n}\n\n/**\n * Opens a new tab the url of which is \"https://github.com/tridactyl/tridactyl/issues/new\" and automatically fill add tridactyl, firefox and os version to the issue.\n */\ncmd_params.set('issue', new Map([]))\nexport async function issue() {\n    const newIssueUrl = \"https://github.com/tridactyl/tridactyl/issues/new\"\n    if (window.location.href !== newIssueUrl) {\n        return tabopen(newIssueUrl)\n    }\n    const textarea = document.getElementById(\"issue_body\")\n    if (!(textarea instanceof HTMLTextAreaElement)) {\n        logger.warning(\"issue(): Couldn't find textarea element in github issue page.\")\n        return\n    }\n    let template = await fetch(browser.runtime.getURL(\"issue_template.md\"))\n        .then(resp => resp.body.getReader())\n        .then(reader => reader.read())\n        .then(r => new TextDecoder(\"utf-8\").decode(r.value))\n    if (textarea.value !== template) {\n        logger.debug(\"issue(): Textarea value differs from template, exiting early.\")\n        return\n    }\n    const platform = await browserBg.runtime.getPlatformInfo()\n    // Remove the bit asking the user\n    template = template.replace(\"-   Operating system:\\n\", \"\")\n    // Add this piece of information to the top of the template\n    template = `Operating system: ${platform.os}\\n` + template\n\n    const info = await browserBg.runtime.getBrowserInfo()\n    template = template.replace(\"-   Firefox version (Top right menu > Help > About Firefox):\\n\\n\", \"\")\n    template = `Firefox version: ${info.vendor} ${info.name} ${info.version}\\n` + template\n\n    template = template.replace(\"-   Tridactyl version (`:version`):\\n\\n\", \"\")\n    template = `Tridactyl version: ${TRI_VERSION}\\n` + template\n\n    textarea.value = template\n}\n\n/**\n * Generates a QR code for the given text. By default opens in new tab. Default binds close the new tab after 5 seconds.\n * If no text is passed as an argument then it checks if any text is selected and creates a QR code for that.\n * If no selection is found then it creates QR code for the current tab's URL\n *\n * `text2qr --popup [...]` will open the QR code in a new popup window\n *\n * `text2qr --window [...]`  will open the QR code in a new window\n *\n * `text2qr --current [...]` will open in the current tab\n *\n * `text2qr --timeout <timeout in seconds> [...]` closes the tab/window/popup after specified number of seconds\n *\n * Example: text2qr --timeout 5 --popup hello world\n */\ncmd_params.set('text2qr', new Map([['...args', 'string[]']]))\nexport async function text2qr(...args: string[]) {\n    let text: string = null\n    let isParsed = false\n    let openMode = null\n    let timeout = \"-1\"\n    while (!isParsed) {\n        switch (args[0]) {\n            case \"--window\":\n                openMode = winopen\n                args.shift()\n                break\n            case \"--popup\":\n                openMode = (...args) => winopen(\"-popup\", ...args)\n                args.shift()\n                break\n            case \"--current\":\n                openMode = open\n                args.shift()\n                break\n            case \"--timeout\":\n                args.shift()\n                timeout = args[0]\n                args.shift()\n                break\n            default:\n                isParsed = true\n                break\n        }\n    }\n\n    if (!openMode) openMode = tabopen // default to new tab if no option provided\n\n    text = args.join(\" \").trim()\n    if (!text || text.length == 0) {\n        text = window.location.href\n    }\n    const urlEncodedText = encodeURIComponent(text)\n    const url = new URL(browser.runtime.getURL(\"static/qrcode.html\"))\n    url.searchParams.append(\"data\", btoa(urlEncodedText))\n    url.searchParams.append(\"timeout\", timeout)\n    openMode(url.href)\n}\n\n/**\n * Checks if there are any stable updates available for Tridactyl.\n *\n * Related settings:\n *\n * - `update.nag = true | false` - checks for updates on Tridactyl start.\n * - `update.nagwait = 7` - waits 7 days before nagging you to update.\n * - `update.checkintervalsecs = 86400` - waits 24 hours between checking for an update.\n *\n */\ncmd_params.set('updatecheck', new Map([['source', '\"manual\" | \"auto_polite\" | \"auto_impolite\" = \"manual\"']]))\nexport async function updatecheck(source: \"manual\" | \"auto_polite\" | \"auto_impolite\" = \"manual\") {\n    logger.debug(\"shimming excmd updatecheck from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"updatecheck\",\n        source\n    )\n}\n\n/**\n * Feed some keys to Tridactyl's parser. E.g. `keyfeed jkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjkjjkj`.\n *\n * NB:\n *\n * - Does _not_ function like Vim's noremap - `bind j keyfeed j` will cause an infinite loop.\n * - Doesn't work in exmode - i.e. `keyfeed t<CR>` won't work.\n *\n */\ncmd_params.set('keyfeed', new Map([['mapstr', 'string']]))\nexport async function keyfeed(mapstr: string) {\n    const keyseq = mapstrToKeyseq(mapstr)\n    for (const k of keyseq) {\n        KEY_MUNCHER.next(k)\n        await sleep(10)\n    }\n}\n\n/**  Open a welcome page on first install.\n *\n * @hidden\n */\n\n/** Opens optionsUrl for the selected extension in a popup window.\n *\n * NB: Tridactyl cannot run on this page!\n */\ncmd_params.set('extoptions', new Map([['...optionNameArgs', 'string[]']]))\nexport async function extoptions(...optionNameArgs: string[]) {\n    logger.debug(\"shimming excmd extoptions from content to background\")\n    return Messaging.message(\n        \"excmd_background\",\n        \"extoptions\",\n        ...optionNameArgs\n    )\n}\n\nimport { Readability } from \"@mozilla/readability\"\n\n/**\n * @hidden\n */\nexport async function readerurl() {\n    document.querySelectorAll(\".TridactylStatusIndicator\").forEach(ind => ind.parentNode.removeChild(ind))\n    const article = new Readability(document.cloneNode(true) as any as Document).parse()\n    article[\"link\"] = window.location.href\n    return browser.runtime.getURL(\"static/reader.html#\" + btoa(encodeURIComponent(JSON.stringify(article))))\n}\n\n/**\n * Open the current page as an article in reader view for easier reading. Flags `--tab` and `--window` open the article in new tabs and windows respectively.\n *\n * Use `:reader --old` to use Firefox's built-in reader mode, which Tridactyl can't run on.\n *\n * __NB:__ the reader page is a privileged environment which has access to all Tridactyl functions, notably the native messenger if you have it installed. We are parsing untrusted web-content to run in this environment. Mozilla's readability library will strip out most of these, then we use a sanitation library, `js-xss`, to strip out any remaining unsafe tags, but if there was a serious bug in this library, and a targeted attack against Tridactyl, an attacker could get remote code execution. If you're worried about this, use `:reader --old` instead or only use `:reader` on pages you trust.\n *\n * You may use [userContent.css](http://kb.mozillazine.org/index.php?title=UserContent.css&printable=yes) to enhance or override default styling of the new reader view. The `body` of the page has id `tridactyl-reader` and the article content follows in a `main` tag. Therefore to alter default styling, you can do something like this in your `userContent.css`:\n *\n * ```css\n * #tridactyl-reader > main {\n *   width: 80vw !important;\n *   text-align: left;\n * }\n * ```\n *\n * Follow [issue #4657](https://github.com/tridactyl/tridactyl/issues/4657) if you would like to find out when we have made a more user-friendly solution.\n */\ncmd_params.set('reader', new Map([['...args', 'string[]']]))\nexport async function reader(...args: string[]) {\n    switch(args[0]) {\n        case \"--old\":\n            readerold()\n            break\n        case \"--tab\":\n            tabopen(await readerurl())\n            break\n        case \"--window\":\n            winopen(await readerurl())\n            break\n        default:\n            open(await readerurl())\n            break\n    }\n}\n\n/**\n * Restore the most recently hidden element. Repeated invocations restore the next-most-recently-hidden element.\n *\n * (Elements can be hidden with `;K` and `:hint -K`.)\n */\ncmd_params.set('elementunhide', new Map([]))\nexport async function elementunhide() {\n    const elem = KILL_STACK.pop()\n    elem.className = elem.className.replace(\"TridactylKilledElem\", \"\")\n}\n// vim: tabstop=4 shiftwidth=4 expandtab\n", "/**\n * Library used for measuring performance. The basic steps are as follows:\n *\n * 1. Set up a persistent StatsLogger object to store samples.\n * 2. Invoke listenForCounters with the StatsLogger to start logging\n *    performance counters to the stats logger.\n * 3. If you have other scripts (content, iframes, web workers, etc),\n *    set up to receive stats from those other sources:\n *    * Set the stats logger up with an attributeCaller receiving messages as\n *      \"performance_background\".\n *    * For each other context, invoke listenForCounters without arguments and\n *      hold on to the resulting object.\n * 4. Instrument methods using the @measured or @measuredAsync\n *    decorators (for class methods) or by using Marker objects in\n *    your functions.\n * 5. Collect data!\n * 6. Use getEntries to retrieve data from the statsLogger.\n */\n\nimport * as messaging from \"@src/lib/messaging\"\nimport * as config from \"@src/lib/config\"\nimport * as math from \"@src/lib/math\"\nimport * as logging from \"@src/lib/logging\"\n\nconst logger = new logging.Logger(\"performance\")\n\n/**\n * Decorator for performance measuring. If performance is enabled,\n * wraps the function call with performance marks and a measure that\n * can be used for profiling. The mark's ownerName will be the name of\n * the containing class and the functionName will be the name of the\n * function. For example:\n *\n * class Foo {\n *   @Perf.measured\n *   function doFoos() { stuff() }\n * }\n *\n * These counters can be obtained using listenForCounters and a\n * StatsLogger.\n *\n */\nexport function measured(\n    cls: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n): PropertyDescriptor {\n    if (!performanceApiAvailable()) return\n\n    const originalMethod = descriptor.value\n    descriptor.value = function (this, ...args) {\n        const marker = new Marker(cls.constructor.name, propertyKey).start()\n        const result = originalMethod.apply(this, args)\n        marker.end()\n        return result\n    }\n    return descriptor\n}\n\n/**\n * Like the @measured decorator, but properly handles async functions\n * by chaining a resolution onto the promise that marks completion\n * when the function resolves its promise.\n */\nexport function measuredAsync(\n    cls: any,\n    propertyKey: string,\n    descriptor: PropertyDescriptor,\n): PropertyDescriptor {\n    if (!performanceApiAvailable()) return\n\n    const originalMethod = descriptor.value\n    descriptor.value = async function (this, ...args) {\n        const marker = new Marker(cls.constructor.name, propertyKey).start()\n        const result = await originalMethod.apply(this, args)\n        marker.end()\n        return result\n    }\n    return descriptor\n}\n\n/**\n * Convenience object for collecting timing information. Create it and\n * call start() to create a mark entry for the start of the duration\n * to measure. Later, call end() to create a mark entry for the end of\n * the duration and a measure entry for the duration from the start\n * mark to the end mark. Marks are given a unique identifier to ensure\n * that async, multi-threaded, or reentrant code doesn't have collisions.\n *\n * WARNING! Will SILENTLY DEACTIVATE ITSELF if the \"perfcounters\"\n * config option is not set to \"true\"! This is done to minimize the\n * performance overhead of instrumentation when performance counters\n * are turned off.\n *\n * The ownerName and functionName are encoded into the name of the\n * performance entry in a way that allows entries to be retrieved\n * using StatsFilters.\n *\n */\nexport class Marker {\n    constructor(\n        ownerName: string,\n        functionName: string,\n        private readonly active: boolean = performanceApiAvailable() &&\n            config.get(\"perfcounters\") === \"true\",\n        private readonly metricName: MetricName = new MetricName(\n            ownerName,\n            functionName,\n        ),\n    ) {}\n\n    public start() {\n        if (!this.active) return this\n        logger.debug(\n            \"Marking startpoint of performance counter for %o\",\n            this.metricName,\n        )\n        performance.mark(this.metricName.startName)\n        return this\n    }\n\n    public end() {\n        if (!this.active) return this\n        logger.debug(\n            \"Marking endpoint of performance counter for %o\",\n            this.metricName,\n        )\n        performance.mark(this.metricName.endName)\n        performance.measure(\n            this.metricName.fullName,\n            this.metricName.startName,\n            this.metricName.endName,\n        )\n        return this\n    }\n}\n\n/**\n * Start listening for performance counters. Note that you _must_\n * attach the returned PerformanceObserver to some long-lived object\n * like the window; there's some kind of bug that causes\n * PerformanceObservers to be incorrectly garbage-collected even if\n * they're still attached and observing.\n *\n * @param statsLogger If given, stats will be logged directly to the\n * given stats logger. If absent, stats will be sent to the\n * performance_background receiver using messaging.\n */\nexport function listenForCounters(\n    statsLogger?: StatsLogger,\n): PerformanceObserver {\n    let callback: (\n        list: PerformanceObserverEntryList,\n        observer: PerformanceObserver,\n    ) => void\n    if (statsLogger === undefined) {\n        callback = (list) => {\n            sendStats(list.getEntries())\n        }\n    } else {\n        callback = (list) => {\n            statsLogger.pushList(list.getEntries())\n        }\n    }\n\n    const perfObserver = new PerformanceObserver(callback)\n    perfObserver.observe({ entryTypes: [\"mark\", \"measure\"] })\n    return perfObserver\n}\n\n/**\n * Configuration for filtering performance samples.\n */\nexport type StatsFilterConfig =\n    // a filter with kind functionName permits only samples with\n    // functionName equal to the given functionName.\n    | { kind: \"functionName\"; functionName: string }\n    // a filter with kind ownerName permits only samples with\n    // ownerName equal to the given ownerName.\n    | { kind: \"ownerName\"; ownerName: string }\n    // a filter with kind eventType permits only samples of the given\n    // eventType.\n    | { kind: \"eventType\"; eventType: \"start\" | \"end\" | \"measure\" }\n\n/**\n * Stores a bounded-size buffer of performance entries and provides\n * convenience functions for accessing subsets of the buffer. Very\n * simple circular buffer.\n */\nexport class StatsLogger {\n    // TODO: Consider mapping each name to a symbol and storing the\n    // mapped symbol instead of the name so we're storing more like 50\n    // bytes per sample instead of 130 @_@\n    public buffer: PerformanceEntry[] = []\n    private idx = 0\n    private buffersize = 10000\n    private lastError = 0\n\n    /**\n     * Target for receiving stats entries from other threads - there\n     * was some issue with encoding that I couldn't figure out so I\n     * just kludged it.\n     */\n    public receiveStatsJson(entriesJson: string) {\n        this.pushList(JSON.parse(entriesJson) as PerformanceEntry[])\n    }\n\n    /**\n     * Ingests the given performance entries into the buffer.\n     */\n    public pushList(entries: PerformanceEntry[]) {\n        for (const entry of entries) {\n            this.pushEntry(entry)\n        }\n    }\n\n    /**\n     * Returns only entries that match _all_ of the given filter\n     * configs.\n     */\n    public getEntries(...filterConfigs: StatsFilterConfig[]) {\n        // Explicit stream fusion, wheeeee.\n        //\n        // Well, sort of. We're not fusing all the way up to the regex\n        // match, so that's a ton of duplicated work. Not that it\n        // matters, since this should only ever be invoked when a\n        // developer asks for data.\n        const filters: StatsFilter[] = filterConfigs.map(\n            fc => new StatsFilter(fc),\n        )\n        const filterFun: (input: PerformanceEntry) => boolean = e =>\n            filters.every(f => f.matches(e))\n        return this.buffer.filter(filterFun)\n    }\n\n    public updateBuffersize() {\n        // Changing the buffer length while this is running will\n        // probably result in weirdness, but that shouldn't be a major\n        // issue - it's not like we need these to be in order or\n        // otherwise coherent, we're just trying to store a big pile\n        // of recent-ish samples.\n        const perfsamples = Number(config.get(\"perfsamples\"))\n        // Check for NaN or non-integer\n        if (Number.isInteger(perfsamples)) {\n            this.buffersize = perfsamples\n        } else {\n            // This function could be called a hundred times a second\n            // and would error out every single time if someone has\n            // given an invalid config, so rate-limit the error log -\n            // one every five seconds.\n            if (performance.now() - this.lastError > 5000) {\n                this.lastError = performance.now()\n                logger.error(\n                    \"perfsamples must be an integer, is %O\",\n                    perfsamples,\n                )\n            }\n        }\n    }\n\n    private pushEntry(entry: PerformanceEntry) {\n        logger.debug(\n            \"Pushing performance entry %o into performance counters\",\n            entry,\n        )\n\n        // Drop samples that aren't for tridactyl, since performance\n        // events are global and there are some badly-behaved\n        // libraries spamming them all over our own data.\n        if (!entry.name.startsWith(TRI_PERFORMANCE_NAME_PREFIX)) return\n\n        // We depend on arrays auto-vivifying when elements past the\n        // end are set to make this easy.\n        this.buffer[this.idx] = entry\n        this.incrementIdx()\n    }\n\n    private incrementIdx() {\n        this.idx = (this.idx + 1) % this.buffersize\n    }\n}\n\n/**\n * Pretty-prints a pile of performance samples of type measure (others\n * won't work because they have duration zero or undefined) as a\n * horizontal ASCII histogram. Useful if you just want basic\n * statistics about performance and don't want to spend a bunch of\n * time mucking about in python or julia.\n *\n * A very small example of what you'll get:\n *\n *   0     ####\n *   125   ##########\n *   250   ###############\n *   375   ######\n *   500   ##\n *\n * @param samples A set of samples to plot.\n * @param buckets The number of bins to divide the samples into.\n * @param width The width of the chart.\n */\nexport function renderStatsHistogram(\n    samples: PerformanceEntry[],\n    buckets = 15,\n    width = 80,\n): string {\n    const durs: number[] = samples.map(sample => sample.duration)\n\n    const min = durs.reduce((a, b) => Math.min(a, b))\n    const max = durs.reduce((a, b) => Math.max(a, b))\n\n    const bucketvals: number[] = math.linspace(min, max, buckets)\n\n    const bucketed: Map<number, number> = math.bucketize(durs, bucketvals)\n    const maxcount: number = Array.from(bucketed.values()).reduce(\n        (a, b) => Math.max(a, b),\n        0,\n    )\n\n    const labelwidth = 20\n    const barwidth = width - labelwidth\n    const tobarwidth = n => (barwidth * n) / maxcount\n\n    const result = []\n    for (const [bucketval, bucketcount] of bucketed.entries()) {\n        const bar = \"#\".repeat(tobarwidth(bucketcount))\n        const label = bucketval.toString().padEnd(labelwidth)\n        result.push(label + bar)\n    }\n    return result.join(\"\\n\")\n}\n\n/**\n * Implements filtering of performance entries using the\n * StatsFilterConfig. Exposed so users of the library can do more\n * filtering themselves if they want to.\n */\nexport class StatsFilter {\n    constructor(private readonly config: StatsFilterConfig) {}\n\n    matches(entry: PerformanceEntry): boolean {\n        const metricNameInfo = extractMetricName(entry.name)\n        return !(\n            (this.config.kind === \"functionName\" && this.config.functionName !== metricNameInfo.functionName) ||\n            (this.config.kind === \"ownerName\" && this.config.ownerName !== metricNameInfo.ownerName) ||\n            (this.config.kind === \"eventType\" && this.config.eventType !== entry.entryType)\n        )\n    }\n}\n\nconst TRI_PERFORMANCE_NAME_PREFIX = \"tri\"\n\nfunction performanceApiAvailable(): boolean {\n    return performance.mark !== undefined\n}\n\ninterface MetricNameInfo {\n    ownerName: string\n    functionName: string\n    uniqueSuffix: string\n}\n\nconst extractRegExp = new RegExp(\n    `^${TRI_PERFORMANCE_NAME_PREFIX}` +\n        // owner name\n        `/([^/]+)` +\n        // function name\n        `/([^:]+)` +\n        // unique suffix\n        `:([^:]+)`,\n    // No need to handle :start/:end\n    // because we can get that from the\n    // sample itself.\n)\nfunction extractMetricName(counterName: string): MetricNameInfo {\n    const matchresult = extractRegExp.exec(counterName)\n    if (!matchresult) return\n    const [ownerName, functionName, uniqueSuffix] = matchresult.slice(1)\n\n    return {\n        ownerName,\n        functionName,\n        uniqueSuffix,\n    }\n}\n\nclass MetricName {\n    public readonly fullName: string\n    public readonly startName: string\n    public readonly endName: string\n\n    constructor(ownerName: string, functionName: string) {\n        const uniqueSuffix = Math.floor(\n            Math.random() * Math.floor(1e6),\n        ).toString()\n\n        this.fullName = `${TRI_PERFORMANCE_NAME_PREFIX}/${ownerName}/${functionName}:${uniqueSuffix}`\n        this.startName = `${this.fullName}:start`\n        this.endName = `${this.fullName}:end`\n    }\n}\n\nfunction sendStats(list: PerformanceEntryList) {\n    messaging.message(\n        \"performance_background\",\n        \"receiveStatsJson\",\n        JSON.stringify(list),\n    )\n}\n", "/** Updates\n\n Tools for updating tridactyl. Get the running version, check the\n highest known available beta, nag the user to update at reasonable\n intervals, etcetera.\n\n */\n\nimport SemverCompare from \"semver-compare\"\nimport * as Config from \"@src/lib/config\"\nimport * as Logging from \"@src/lib/logging\"\nimport { getTriVersion } from \"@src/lib/webext\"\n\nconst logger = new Logging.Logger(\"updates\")\n\nconst TRI_VERSION = getTriVersion()\n\ninterface TriVersionFeedItem {\n    releaseDate: Date\n    version: string\n}\n\nexport function secondsSinceLastCheck() {\n    const lastCheck = Config.get(\"update\", \"lastchecktime\")\n    return (Date.now() - lastCheck) / 1000\n}\n\n// Ask GitHub what the latest version is\n// Uncached so don't run this often\nexport async function getLatestVersion() {\n    try {\n        // If any monster any makes a novelty tag this will break.\n        // So let's just ignore any errors.\n        const feed = new DOMParser().parseFromString(\n            await (\n                await fetch(\"https://github.com/tridactyl/tridactyl/tags.atom\")\n            ).text(),\n            \"application/xml\",\n        )\n        const mostRecent = feed.querySelectorAll(\"entry\")[0]\n\n        // Update our last update check timestamp and the version itself.\n        Config.set(\"update\", \"lastchecktime\", Date.now())\n        const highestKnownVersion = {\n            version: mostRecent.querySelector(\"title\").textContent,\n            releaseDate: new Date(\n                mostRecent.querySelector(\"updated\").textContent,\n            ), // e.g. 2018-12-04T15:24:43.000Z\n        }\n        logger.debug(\n            \"Checked for new version of Tridactyl, found \",\n            highestKnownVersion,\n        )\n\n        return highestKnownVersion\n    } catch (e) {\n        logger.error(\"Error while checking for updates: \", e)\n    }\n}\n\nexport function shouldNagForVersion(version: TriVersionFeedItem) {\n    const timeSinceRelease = (Date.now() - version.releaseDate.getTime()) / 1000\n    const updateNagWaitSeconds = Config.get(\"update\", \"nagwait\") * 24 * 60 * 60\n    const newerThanInstalled =\n        SemverCompare(version.version, getInstalledPatchVersion()) > 0\n\n    return newerThanInstalled && timeSinceRelease > updateNagWaitSeconds\n}\n\nexport function naggedForVersion(version: TriVersionFeedItem) {\n    const lastNaggedVersion = Config.get(\"update\", \"lastnaggedversion\")\n    if (lastNaggedVersion) {\n        // If the version is <= the last nagged version, we've already\n        // nagged for it.\n        return SemverCompare(version.version, lastNaggedVersion) <= 0\n    } else {\n        return false\n    }\n}\n\nexport function updateLatestNaggedVersion(version: TriVersionFeedItem) {\n    Config.set(\"update\", \"lastnaggedversion\", version.version)\n}\n\nexport function getInstalledPatchVersion() {\n    // We're currently numbering our releases as\n    // maj.min.patch-numcommits-githash,\n    // e.g. 1.14.9-138-gaab4355. Even more problematically, our\n    // prereleases have maj.min.patch the same as the _preceding\n    // release_, not the _next_ release - 1.14.9-138 actually\n    // _follows_ 1.14.9. As a result, if we used TRI_VERSION directly,\n    // all of our beta users would be incorrectly notified for stable\n    // releases of code that they're well past.\n    //\n    // To address this, we ignore our git version, depend on firefox\n    // to automatically update us if we're on the beta channel, and\n    // disregard the pre-release information entirely when doing our\n    // own update check.\n    return TRI_VERSION.replace(/pre.*/, \"\")\n}\n\nexport function getInstalledVersion() {\n    return TRI_VERSION\n}\n", "// Taken from Lydell's Link Hints addon:\n// https://github.com/lydell/LinkHints/blob/4e7ec695b15e1cda474ed4271b8c7c054aacf207/src/worker/Program.js#L1005-L1039\nexport function reverseSelection(selection: Selection) {\n    const direction = getSelectionDirection(selection)\n\n    if (direction == null) {\n        return\n    }\n\n    const range = selection.getRangeAt(0)\n    const [edgeNode, edgeOffset] = direction\n        ? [range.startContainer, range.startOffset]\n        : [range.endContainer, range.endOffset]\n\n    range.collapse(!direction)\n    selection.removeAllRanges()\n    selection.addRange(range)\n    selection.extend(edgeNode, edgeOffset)\n}\n\n// true \u2192 forward, false \u2192 backward, undefined \u2192 unknown\nfunction getSelectionDirection(selection: Selection): boolean {\n    if (selection.isCollapsed) {\n        return undefined\n    }\n\n    const { anchorNode, focusNode } = selection\n\n    if (anchorNode == null || focusNode == null) {\n        return undefined\n    }\n\n    const range = document.createRange()\n    range.setStart(anchorNode, selection.anchorOffset)\n    range.setEnd(focusNode, selection.focusOffset)\n    return !range.collapsed\n}\n", "import {\n    activeTabId,\n    activeWindowId,\n    browserBg,\n    removeActiveWindowValue,\n} from \"./webext\"\n\n/**\n * Return a set of the current window's tab groups (empty if there are none).\n *\n */\nexport async function tgroups() {\n    const groups = await browserBg.sessions.getWindowValue(\n        await activeWindowId(),\n        \"tridactyl-tgroups\",\n    )\n    return new Set<string>(groups as string[])\n}\n\n/**\n * Set the current window's tab groups.\n *\n * @param groups The set of groups.\n *\n */\nexport async function setTgroups(groups: Set<string>) {\n    return browserBg.sessions.setWindowValue(\n        await activeWindowId(),\n        \"tridactyl-tgroups\",\n        [...groups],\n    )\n}\n\n/**\n * Clear the current window's tab groups.\n *\n */\nexport function clearTgroups() {\n    return removeActiveWindowValue(\"tridactyl-tgroups\")\n}\n\n/**\n * Return the active tab group for the a window or undefined.\n *\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function windowTgroup(id?: number) {\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n    return browserBg.sessions.getWindowValue(\n        id,\n        \"tridactyl-active-tgroup\",\n    ) as unknown as string\n}\n\n/**\n * Set the active tab group for a window.\n *\n * @param name The name of the new active tab group.\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function setWindowTgroup(name: string, id?: number) {\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n    return browserBg.sessions.setWindowValue(\n        id,\n        \"tridactyl-active-tgroup\",\n        name,\n    )\n}\n\n/*\n * Return the last active tab group for a window or undefined.\n *\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function windowLastTgroup(id?: number) {\n    const otherGroupsTabs = await tgroupTabs(await windowTgroup(id), true)\n    if (otherGroupsTabs.length === 0) {\n        return undefined\n    }\n    otherGroupsTabs.sort((a, b) => b.lastAccessed - a.lastAccessed)\n    const lastTabId = otherGroupsTabs[0].id\n    return tabTgroup(lastTabId)\n}\n\n/**\n * Clear the active tab group for the current window.\n *\n */\nexport function clearWindowTgroup() {\n    return removeActiveWindowValue(\"tridactyl-active-tgroup\")\n}\n\n/**\n * Return a tab's tab group.\n *\n * @param id The id of the tab. Use the current tab if not specified.\n *\n */\nexport async function tabTgroup(id?: number) {\n    if (id === undefined) {\n        id = await activeTabId()\n    }\n    return browserBg.sessions.getTabValue(\n        id,\n        \"tridactyl-tgroup\",\n    ) as unknown as string\n}\n\n/**\n * Return a list of tab ids.\n *\n * @param id An id, a list of ids, or undefined.\n *\n * If id is undefined, return a list of the current tab id.\n *\n */\nasync function tabIdsOrCurrent(ids?: number | number[]): Promise<number[]> {\n    if (!ids) {\n        ids = [await activeTabId()]\n    } else if (!Array.isArray(ids)) {\n        ids = [ids]\n    }\n    return ids\n}\n\n/**\n * Set the a tab's tab group.\n *\n * @param name The name of the tab group.\n * @param id The id(s) of the tab(s). Use the current tab if not specified.\n *\n */\nexport async function setTabTgroup(name: string, id?: number | number[]) {\n    const ids = await tabIdsOrCurrent(id)\n    return Promise.all(\n        ids.map(id => {\n            browserBg.sessions.setTabValue(id, \"tridactyl-tgroup\", name)\n        }),\n    )\n}\n\n/**\n * Clear all the tab groups.\n *\n * @param id The id(s) of the tab(s). Use the current tab if not specified.\n *\n */\nexport async function clearTabTgroup(id?: number | number[]) {\n    const ids = await tabIdsOrCurrent(id)\n    return Promise.all(\n        ids.map(id => {\n            browserBg.sessions.removeTabValue(id, \"tridactyl-tgroup\")\n        }),\n    )\n}\n\n/**\n * Return a list of all tabs in a tab group.\n *\n * @param name The name of the tab group.\n * @param other Whether to return the tabs not in the tab group instead.\n * @param id The id of the window. Use the current window if not specified.\n *\n */\nexport async function tgroupTabs(\n    name: string,\n    other = false,\n    id?: number,\n): Promise<browser.tabs.Tab[]> {\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n    return browserBg.tabs.query({ windowId: id }).then(async tabs => {\n        const sameGroupIndices = await Promise.all(\n            tabs.map(async ({ id }) => {\n                const groupMatched = (await tabTgroup(id)) == name\n                return other ? !groupMatched : groupMatched\n            }),\n        )\n        tabs = tabs.filter((_, index) => sameGroupIndices[index])\n        return tabs\n    })\n}\n\n/**\n * Return the id of the last selected tab in a tab group.\n *\n * @param name The name of the tab group.\n * @param previous Whether to return the tab selected before the last tab.\n *\n */\nexport async function tgroupLastTabId(name: string, previous = false) {\n    const tabs = await tgroupTabs(name)\n    tabs.sort((a, b) => b.lastAccessed - a.lastAccessed)\n    if (previous) {\n        return tabs[1].id\n    } else {\n        return tabs[0].id\n    }\n}\n\n/**\n * Clear stored information for a tab group.\n *\n * @param name The name of the tab group.\n * @param newName A name to rename the group to.\n * @param id The id of the window. Use the current window if not specified.\n *\n * If newName is specified, add it as a stored group (if it doesn't already\n * exist), set the current window group to it, and set the group for all tabs in\n * the old group to it.\n *\n */\nexport async function tgroupClearOldInfo(\n    oldName: string,\n    newName?: string,\n    id?: number,\n) {\n    const promises = []\n    const groups = await tgroups()\n    groups.delete(oldName)\n    if (newName) {\n        groups.add(newName)\n    }\n    promises.push(setTgroups(groups))\n\n    if (id === undefined) {\n        id = await activeWindowId()\n    }\n\n    if (newName) {\n        promises.push(setWindowTgroup(newName, id))\n        promises.push(\n            tgroupTabs(oldName, false, id).then(tabs => {\n                setTabTgroup(\n                    newName,\n                    tabs.map(tab => tab.id),\n                )\n            }),\n        )\n    }\n    return Promise.all(promises)\n}\n\n/**\n * Activate the previously active tab in a tab group.\n *\n * @param name The name of the tab group to switch to.\n *\n */\nexport async function tgroupActivate(name: string) {\n    const lastActiveTabId = await tgroupLastTabId(name)\n    // this will trigger tgroupHandleTabActivated\n    return browserBg.tabs.update(lastActiveTabId, { active: true })\n}\n\n/**\n * Activate the last active tab in the last active tab group.\n *\n * Return the name of activated tab group.\n *\n */\nexport async function tgroupActivateLast() {\n    const lastTabGroup = await windowLastTgroup()\n    return tgroupActivate(lastTabGroup).then(() => lastTabGroup)\n}\n\n/**\n * Clear all stored tab group information.\n *\n */\nexport async function clearAllTgroupInfo() {\n    return Promise.all([\n        clearTgroups(),\n        clearWindowTgroup(),\n        browser.tabs.query({ currentWindow: true }).then(async tabs => {\n            const ids = tabs.map(tab => tab.id)\n            await browser.tabs.show(ids)\n            return clearTabTgroup(ids)\n        }),\n    ])\n}\n\n/**\n * Set the tab's tab group to its window's active tab group if there is one.\n *\n * Do nothing if the tab is already associated with a tab group.\n *\n * @param tab The tab that was just created.\n *\n */\nexport async function tgroupHandleTabCreated(tab: browser.tabs.Tab) {\n    const windowGroup = await windowTgroup(tab.windowId)\n\n    if (windowGroup) {\n        const tabGroup = await tabTgroup(tab.id)\n        if (!tabGroup) {\n            return setTabTgroup(windowGroup, tab.id)\n        }\n    }\n}\n\n/**\n * Set the tab's tab group to its window's active tab group if there is one.\n *\n * @param tabId The id of the tab that was just attached to this window.\n *\n */\nexport async function tgroupHandleTabAttached(tabId: number, attachInfo) {\n    // NOTE this doesn't need to worry about a tab on another window previously\n    // being pinned because tabs become unpinned when you move them between\n    // windows\n    const windowGroup = await windowTgroup(attachInfo.newWindowId)\n    if (windowGroup) {\n        return setTabTgroup(windowGroup, tabId)\n    }\n}\n\n/**\n * Handle tab activation, possibly switching tab groups.\n *\n * If the new tab is from a different tab group, set it as the new tab group,\n * show all its tabs, and hide all tabs from the old tab group.\n */\nexport async function tgroupHandleTabActivated(activeInfo) {\n    const windowGroup = await windowTgroup(activeInfo.windowId)\n    const tabGroup = await tabTgroup(activeInfo.tab)\n    const promises = []\n    if (windowGroup && tabGroup && windowGroup != tabGroup) {\n        await setWindowTgroup(tabGroup, activeInfo.windowId)\n\n        promises.push(\n            tgroupTabs(tabGroup, false, activeInfo.windowId).then(tabs =>\n                browserBg.tabs.show(tabs.map(tab => tab.id)),\n            ),\n        )\n        promises.push(\n            tgroupTabs(tabGroup, true, activeInfo.windowId).then(tabs =>\n                browserBg.tabs.hide(tabs.map(tab => tab.id)),\n            ),\n        )\n    }\n    return Promise.all(promises)\n}\n\n/**\n * Set or clear a tab's group if it was pinned or unpinned respectively.\n *\n * @param tabId The id of the tab that was just updated.\n *\n */\nexport async function tgroupHandleTabUpdated(\n    tabId: number,\n    changeInfo,\n    tab: browser.tabs.Tab,\n) {\n    if (changeInfo.pinned !== undefined) {\n        const windowGroup = await windowTgroup(tab.windowId)\n        if (windowGroup) {\n            if (changeInfo.pinned) {\n                return clearTabTgroup(tabId)\n            } else {\n                return setTabTgroup(windowGroup, tabId)\n            }\n        }\n    }\n}\n\n/**\n * Handle the last tab in a tab group being closed.\n *\n * Clear its information.\n *\n */\nexport async function tgroupHandleTabRemoved(_tabId: number, removeInfo) {\n    if (!removeInfo.isWindowClosing) {\n        const windowGroup = await windowTgroup(removeInfo.windowId)\n        const tabCount = await tgroupTabs(\n            windowGroup,\n            false,\n            removeInfo.windowId,\n        ).then(tabs => tabs.length)\n        if (tabCount == 0) {\n            return tgroupClearOldInfo(\n                windowGroup,\n                undefined,\n                removeInfo.windowId,\n            )\n        }\n    }\n}\n\n/**\n * Handle the last tab in a tab group being moved to another window.\n *\n * Clear its information.\n *\n */\nexport async function tgroupHandleTabDetached(tabId: number, detachInfo) {\n    // clear tab's stored group; will automatically be changed if there are\n    // groups on the other window but otherwise it will still show up in the\n    // mode indicator\n    clearTabTgroup(tabId)\n\n    const windowGroup = await windowTgroup(detachInfo.oldWindowId)\n    const tabCount = await tgroupTabs(\n        windowGroup,\n        false,\n        detachInfo.oldWindowId,\n    ).then(tabs => tabs.length)\n    if (tabCount == 0) {\n        return tgroupClearOldInfo(\n            windowGroup,\n            undefined,\n            detachInfo.oldWindowId,\n        )\n    }\n}\n", "import * as config from \"@src/lib/config\"\nimport { browserBg } from \"@src/lib/webext\"\n\nexport function newtaburl() {\n    // In the nonewtab version, this will return `null` and upset getURL.\n    // Ternary op below prevents the runtime error.\n    const newtab = browser.runtime.getManifest().chrome_url_overrides.newtab\n    return newtab !== null ? browser.runtime.getURL(newtab) : null\n}\n\nexport async function getBookmarks(query: string) {\n    // Search bookmarks, dedupe and sort by most recent.\n    let bookmarks = await browserBg.bookmarks.search({ query })\n\n    // Remove folder nodes and bad URLs\n    bookmarks = bookmarks.filter(b => {\n        try {\n            return new URL(b.url)\n        } catch (e) {\n            return false\n        }\n    })\n\n    bookmarks.sort((a, b) => b.dateAdded - a.dateAdded)\n\n    // Remove duplicate bookmarks\n    const seen = new Map<string, string>()\n    bookmarks = bookmarks.filter(b => {\n        if (seen.get(b.title) === b.url) return false\n        else {\n            seen.set(b.title, b.url)\n            return true\n        }\n    })\n\n    return bookmarks\n}\n\nexport async function getSearchUrls(query: string) {\n    const suconf = config.get(\"searchurls\")\n\n    const searchUrls = []\n    for (const prop in suconf) {\n        if (\n            Object.prototype.hasOwnProperty.call(suconf, prop) &&\n            prop.startsWith(query)\n        ) {\n            searchUrls.push({ title: prop, url: suconf[prop] })\n        }\n    }\n    return searchUrls\n}\n\nfunction frecency(item: browser.history.HistoryItem) {\n    // Doesn't actually care about recency yet.\n    return item.visitCount * -1\n}\n\nexport async function getHistory(\n    query: string,\n): Promise<browser.history.HistoryItem[]> {\n    // Search history, dedupe and sort by frecency\n    let history = await browserBg.history.search({\n        text: query,\n        maxResults: config.get(\"historyresults\"),\n        startTime: 0,\n    })\n\n    // Remove entries with duplicate URLs\n    const dedupe = new Map()\n    for (const page of history) {\n        if (page.url !== newtaburl()) {\n            if (dedupe.has(page.url)) {\n                if (dedupe.get(page.url).title.length < page.title.length) {\n                    dedupe.set(page.url, page)\n                }\n            } else {\n                dedupe.set(page.url, page)\n            }\n        }\n    }\n    history = [...dedupe.values()]\n\n    history.sort((a, b) => frecency(a) - frecency(b))\n\n    return history\n}\n\nexport async function getTopSites() {\n    return (await browserBg.topSites.get()).filter(\n        page => page.url !== newtaburl(),\n    )\n}\n\nexport async function getCombinedHistoryBmarks(\n    query: string,\n): Promise<Array<{ title: string; url: string }>> {\n    const [history, bookmarks, searchUrls] = await Promise.all([\n        getHistory(query),\n        getBookmarks(query),\n        getSearchUrls(query),\n    ])\n\n    // Join records by URL, using the title from bookmarks by preference.\n    const combinedMap = new Map<string, any>(\n        bookmarks.map(bmark => [\n            bmark.url,\n            { title: bmark.title, url: bmark.url, bmark },\n        ]),\n    )\n    history.forEach(page => {\n        if (combinedMap.has(page.url)) combinedMap.get(page.url).history = page\n        else\n            combinedMap.set(page.url, {\n                title: page.title,\n                url: page.url,\n                history: page,\n            })\n    })\n    searchUrls.forEach(su => {\n        combinedMap.set(su.url, {\n            title: su.title,\n            url: su.url,\n            search: true,\n        })\n    })\n\n    const score = x =>\n        (x.history ? frecency(x.history) : 0) -\n        (x.bmark ? config.get(\"bmarkweight\") : 0) -\n        (x.search ? config.get(\"searchurlweight\") : 0)\n\n    return Array.from(combinedMap.values()).sort((a, b) => score(a) - score(b))\n}\n", "(function(window) {\n    \"use strict\"\n\n    // test for es6 support of needed functionality\n    try {\n        // spread operator and template strings support\n        (function testSpreadOpAndTemplate() {\n            const tag = function tag() {\n                return\n            }\n            // We don't need this value - we're just checking if its attempted creation causes any errors\n            // eslint-disable-next-line @typescript-eslint/no-unused-expressions\n            tag`test`\n        })()\n\n        // template tag and Array.from support\n        if (\n            !(\n                \"content\" in document.createElement(\"template\") &&\n                \"from\" in Array\n            )\n        ) {\n            throw new Error()\n        }\n    } catch (e) {\n        // missing support;\n        console.log(\n            \"Your browser does not support the needed functionality to use the html tagged template\",\n        )\n        return\n    }\n\n    if (typeof window.html === \"undefined\") {\n        // --------------------------------------------------\n        // constants\n        // --------------------------------------------------\n\n        const SUBSTITUTION_INDEX = \"substitutionindex:\" // tag names are always all lowercase\n        const SUBSTITUTION_REGEX = new RegExp(\n            SUBSTITUTION_INDEX + \"([0-9]+):\",\n            \"g\",\n        )\n\n        // rejection string is used to replace xss attacks that cannot be escaped either\n        // because the escaped string is still executable\n        // (e.g. setTimeout(/* escaped string */)) or because it produces invalid results\n        // (e.g. <h${xss}> where xss='><script>alert(1337)</script')\n        // @see https://developers.google.com/closure/templates/docs/security#in_tags_and_attrs\n        const REJECTION_STRING = \"zXssPreventedz\"\n\n        // which characters should be encoded in which contexts\n        const ENCODINGS = {\n            attribute: {\n                \"&\": \"&amp;\",\n                \"<\": \"&lt;\",\n                \">\": \"&gt;\",\n            },\n            uri: {\n                \"&\": \"&amp;\",\n            },\n        }\n\n        // which attributes are DOM Level 0 events\n        // taken from https://en.wikipedia.org/wiki/DOM_events#DOM_Level_0\n        const DOM_EVENTS = [\n            \"onclick\",\n            \"ondblclick\",\n            \"onmousedown\",\n            \"onmouseup\",\n            \"onmouseover\",\n            \"onmousemove\",\n            \"onmouseout\",\n            \"ondragstart\",\n            \"ondrag\",\n            \"ondragenter\",\n            \"ondragleave\",\n            \"ondragover\",\n            \"ondrop\",\n            \"ondragend\",\n            \"onkeydown\",\n            \"onkeypress\",\n            \"onkeyup\",\n            \"onload\",\n            \"onunload\",\n            \"onabort\",\n            \"onerror\",\n            \"onresize\",\n            \"onscroll\",\n            \"onselect\",\n            \"onchange\",\n            \"onsubmit\",\n            \"onreset\",\n            \"onfocus\",\n            \"onblur\",\n            \"onpointerdown\",\n            \"onpointerup\",\n            \"onpointercancel\",\n            \"onpointermove\",\n            \"onpointerover\",\n            \"onpointerout\",\n            \"onpointerenter\",\n            \"onpointerleave\",\n            \"ongotpointercapture\",\n            \"onlostpointercapture\",\n            \"oncut\",\n            \"oncopy\",\n            \"onpaste\",\n            \"onbeforecut\",\n            \"onbeforecopy\",\n            \"onbeforepaste\",\n            \"onafterupdate\",\n            \"onbeforeupdate\",\n            \"oncellchange\",\n            \"ondataavailable\",\n            \"ondatasetchanged\",\n            \"ondatasetcomplete\",\n            \"onerrorupdate\",\n            \"onrowenter\",\n            \"onrowexit\",\n            \"onrowsdelete\",\n            \"onrowinserted\",\n            \"oncontextmenu\",\n            \"ondrag\",\n            \"ondragstart\",\n            \"ondragenter\",\n            \"ondragover\",\n            \"ondragleave\",\n            \"ondragend\",\n            \"ondrop\",\n            \"onselectstart\",\n            \"help\",\n            \"onbeforeunload\",\n            \"onstop\",\n            \"beforeeditfocus\",\n            \"onstart\",\n            \"onfinish\",\n            \"onbounce\",\n            \"onbeforeprint\",\n            \"onafterprint\",\n            \"onpropertychange\",\n            \"onfilterchange\",\n            \"onreadystatechange\",\n            \"onlosecapture\",\n            \"DOMMouseScroll\",\n            \"ondragdrop\",\n            \"ondragenter\",\n            \"ondragexit\",\n            \"ondraggesture\",\n            \"ondragover\",\n            \"onclose\",\n            \"oncommand\",\n            \"oninput\",\n            \"DOMMenuItemActive\",\n            \"DOMMenuItemInactive\",\n            \"oncontextmenu\",\n            \"onoverflow\",\n            \"onoverflowchanged\",\n            \"onunderflow\",\n            \"onpopuphidden\",\n            \"onpopuphiding\",\n            \"onpopupshowing\",\n            \"onpopupshown\",\n            \"onbroadcast\",\n            \"oncommandupdate\",\n        ]\n\n        // which attributes take URIs\n        // taken from https://www.w3.org/TR/html4/index/attributes.html\n        const URI_ATTRIBUTES = [\n            \"action\",\n            \"background\",\n            \"cite\",\n            \"classid\",\n            \"codebase\",\n            \"data\",\n            \"href\",\n            \"longdesc\",\n            \"profile\",\n            \"src\",\n            \"usemap\",\n        ]\n\n        const ENCODINGS_REGEX = {\n            attribute: new RegExp(\n                \"[\" + Object.keys(ENCODINGS.attribute).join(\"\") + \"]\",\n                \"g\",\n            ),\n            uri: new RegExp(\n                \"[\" + Object.keys(ENCODINGS.uri).join(\"\") + \"]\",\n                \"g\",\n            ),\n        }\n\n        // find all attributes after the first whitespace (which would follow the tag\n        // name. Only used when the DOM has been clobbered to still parse attributes\n        const ATTRIBUTE_PARSER_REGEX = /\\s([^\">=\\s]+)(?:=\"[^\"]+\")?/g\n\n        // test if a javascript substitution is wrapped with quotes\n        const WRAPPED_WITH_QUOTES_REGEX = /^('|\")[\\s\\S]*\\1$/\n\n        // allow custom attribute names that start or end with url or ui to do uri escaping\n        // @see https://developers.google.com/closure/templates/docs/security#in_urls\n        const CUSTOM_URI_ATTRIBUTES_REGEX = /\\bur[il]|ur[il]s?$/i\n\n        // --------------------------------------------------\n        // private functions\n        // --------------------------------------------------\n\n        /**\n         * Escape HTML entities in an attribute.\n         * @private\n         *\n         * @param {string} str - String to escape.\n         *\n         * @returns {string}\n         */\n        function encodeAttributeHTMLEntities(str) {\n            return str.replace(ENCODINGS_REGEX.attribute, function(match) {\n                return ENCODINGS.attribute[match]\n            })\n        }\n\n        /**\n         * Escape entities in a URI.\n         * @private\n         *\n         * @param {string} str - URI to escape.\n         *\n         * @returns {string}\n         */\n        function encodeURIEntities(str) {\n            return str.replace(ENCODINGS_REGEX.uri, function(match) {\n                return ENCODINGS.uri[match]\n            })\n        }\n\n        // --------------------------------------------------\n        // html tagged template function\n        // --------------------------------------------------\n\n        /**\n         * Safely convert a DOM string into DOM nodes using by using E4H and contextual\n         * auto-escaping techniques to prevent xss attacks.\n         *\n         * @param {string[]} strings - Safe string literals.\n         * @param {*} values - Unsafe substitution expressions.\n         *\n         * @returns {HTMLElement|DocumentFragment}\n         */\n        window.html = function(strings, ...values) {\n            // break early if called with empty content\n            if (!strings[0] && values.length === 0) {\n                return\n            }\n\n            /**\n             * Replace a string with substitution placeholders with its substitution values.\n             * @private\n             *\n             * @param {string} match - Matched substitution placeholder.\n             * @param {string} index - Substitution placeholder index.\n             */\n            function replaceSubstitution(match, index) {\n                return values[parseInt(index, 10)]\n            }\n\n            // insert placeholders into the generated string so we can run it through the\n            // HTML parser without any malicious content.\n            // (this particular placeholder will even work when used to create a DOM element)\n            let str = strings[0]\n            for (let i = 0; i < values.length; i++) {\n                str += SUBSTITUTION_INDEX + i + \":\" + strings[i + 1]\n            }\n\n            // template tags allow any HTML (even <tr> elements out of context)\n            // @see https://developer.mozilla.org/en-US/docs/Web/HTML/Element/template\n            const template = document.createElement(\"template\")\n            template.innerHTML = str\n\n            // find all substitution values and safely encode them using DOM APIs and\n            // contextual auto-escaping\n            const walker = document.createNodeIterator(\n                template.content,\n                NodeFilter.SHOW_ALL,\n            )\n            let node\n            while ((node = walker.nextNode())) {\n                let tag = null\n                const attributesToRemove = []\n\n                // --------------------------------------------------\n                // node name substitution\n                // --------------------------------------------------\n\n                let nodeName = node.nodeName.toLowerCase()\n                if (nodeName.indexOf(SUBSTITUTION_INDEX) !== -1) {\n                    nodeName = nodeName.replace(\n                        SUBSTITUTION_REGEX,\n                        replaceSubstitution,\n                    )\n\n                    // createElement() should not need to be escaped to prevent XSS?\n\n                    // this will throw an error if the tag name is invalid (e.g. xss tried\n                    // to escape out of the tag using '><script>alert(1337)</script><')\n                    // instead of replacing the tag name we'll just let the error be thrown\n                    tag = document.createElement(nodeName)\n\n                    // mark that this node needs to be cleaned up later with the newly\n                    // created node\n                    node._replacedWith = tag\n\n                    // use insertBefore() instead of replaceChild() so that the node Iterator\n                    // doesn't think the new tag should be the next node\n                    node.parentNode.insertBefore(tag, node)\n\n                // special case for script tags:\n                // using innerHTML with a string that contains a script tag causes the script\n                // tag to not be executed when added to the DOM. We'll need to create a script\n                // tag and append its contents which will make it execute correctly.\n                // @see http://stackoverflow.com/questions/1197575/can-scripts-be-inserted-with-innerhtml\n                } else if (node.nodeName === \"SCRIPT\") {\n                    const script = document.createElement(\"script\")\n                    tag = script\n\n                    node._replacedWith = script\n                    node.parentNode.insertBefore(script, node)\n                }\n\n                // --------------------------------------------------\n                // attribute substitution\n                // --------------------------------------------------\n\n                let attributes\n                if (node.attributes) {\n                    // if the attributes property is not of type NamedNodeMap then the DOM\n                    // has been clobbered. E.g. <form><input name=\"attributes\"></form>.\n                    // We'll manually build up an array of objects that mimic the Attr\n                    // object so the loop will still work as expected.\n                    if (!(node.attributes instanceof NamedNodeMap)) {\n                        // first clone the node so we can isolate it from any children\n                        const temp = node.cloneNode()\n\n                        // parse the node string for all attributes\n                        const attributeMatches = temp.outerHTML.match(\n                            ATTRIBUTE_PARSER_REGEX,\n                        )\n\n                        // get all attribute names and their value\n                        attributes = []\n                        for (const attribute of attributeMatches.length) {\n                            const attributeName = attribute\n                                .trim()\n                                .split(\"=\")[0]\n                            const attributeValue = node.getAttribute(\n                                attributeName,\n                            )\n\n                            attributes.push({\n                                name: attributeName,\n                                value: attributeValue,\n                            })\n                        }\n                    } else {\n                        // Windows 10 Firefox 44 will shift the attributes NamedNodeMap and\n                        // push the attribute to the end when using setAttribute(). We'll have\n                        // to clone the NamedNodeMap so the order isn't changed for setAttribute()\n                        attributes = Array.from(node.attributes)\n                    }\n\n                    for (const attribute of attributes) {\n                        let name = attribute.name\n                        let value = attribute.value\n                        let hasSubstitution = false\n\n                        // name has substitution\n                        if (name.indexOf(SUBSTITUTION_INDEX) !== -1) {\n                            name = name.replace(\n                                SUBSTITUTION_REGEX,\n                                replaceSubstitution,\n                            )\n\n                            // ensure substitution was with a non-empty string\n                            if (name && typeof name === \"string\") {\n                                hasSubstitution = true\n                            }\n\n                            // remove old attribute\n                            attributesToRemove.push(attribute.name)\n                        }\n\n                        // value has substitution - only check if name exists (only happens\n                        // when name is a substitution with an empty value)\n                        if (name && value.indexOf(SUBSTITUTION_INDEX) !== -1) {\n                            hasSubstitution = true\n\n                            // if an uri attribute has been rejected\n                            let isRejected = false\n\n                            value = value.replace(SUBSTITUTION_REGEX, function(\n                                match,\n                                index,\n                                offset,\n                            ) {\n                                if (isRejected) {\n                                    return \"\"\n                                }\n\n                                let substitutionValue =\n                                    values[parseInt(index, 10)]\n\n                                // contextual auto-escaping:\n                                // if attribute is a DOM Level 0 event then we need to ensure it\n                                // is quoted\n                                if (\n                                    DOM_EVENTS.indexOf(name) !== -1 &&\n                                    typeof substitutionValue === \"string\" &&\n                                    !WRAPPED_WITH_QUOTES_REGEX.test(\n                                        substitutionValue,\n                                    )\n                                ) {\n                                    substitutionValue =\n                                        '\"' + substitutionValue + '\"'\n\n                                // contextual auto-escaping:\n                                // if the attribute is a uri attribute then we need to uri encode it and\n                                // remove bad protocols\n                                } else if (\n                                    URI_ATTRIBUTES.indexOf(name) !== -1 ||\n                                    CUSTOM_URI_ATTRIBUTES_REGEX.test(name)\n                                ) {\n                                    // percent encode if the value is inside of a query parameter\n                                    const queryParamIndex = value.indexOf(\"=\")\n                                    if (\n                                        queryParamIndex !== -1 &&\n                                        offset > queryParamIndex\n                                    ) {\n                                        substitutionValue = encodeURIComponent(\n                                            substitutionValue,\n                                        )\n\n                                    // entity encode if value is part of the URL\n                                    } else {\n                                        substitutionValue = encodeURI(\n                                            encodeURIEntities(\n                                                substitutionValue,\n                                            ),\n                                        )\n\n                                        // only allow the : when used after http or https otherwise reject\n                                        // the entire url (will not allow any 'javascript:' or filter\n                                        // evasion techniques)\n                                        if (\n                                            offset === 0 &&\n                                            substitutionValue.indexOf(\":\") !==\n                                                -1\n                                        ) {\n                                            const authorized_protocols = [\n                                                \"http://\",\n                                                \"https://\",\n                                                \"moz-extension://\",\n                                                \"about://\",\n                                                \"data:image/png;base64\",\n                                                \"data:image/gif;base64\",\n                                                \"data:image/jpg;base64\",\n                                                \"data:image/jpeg;base64\",\n                                                \"data:image/x-icon;base64\",\n                                            ]\n                                            // If substitutionValue doesn't start with any of the authorized protocols\n                                            if (\n                                                !authorized_protocols.find(p =>\n                                                    substitutionValue.startsWith(\n                                                        p,\n                                                    ),\n                                                )\n                                            ) {\n                                                isRejected = true\n                                            }\n                                        }\n                                    }\n\n                                // contextual auto-escaping:\n                                // HTML encode attribute value if it is not a URL or URI to prevent\n                                // DOM Level 0 event handlers from executing xss code\n                                } else if (\n                                    typeof substitutionValue === \"string\"\n                                ) {\n                                    substitutionValue = encodeAttributeHTMLEntities(\n                                        substitutionValue,\n                                    )\n                                }\n\n                                return substitutionValue\n                            })\n\n                            if (isRejected) {\n                                value = \"#\" + REJECTION_STRING\n                            }\n                        }\n\n                        // add the attribute to the new tag or replace it on the current node\n                        // setAttribute() does not need to be escaped to prevent XSS since it does\n                        // all of that for us\n                        // @see https://www.mediawiki.org/wiki/DOM-based_XSS\n                        if (tag || hasSubstitution) {\n                            const el = tag || node\n\n                            // optional attribute\n                            if (name.substr(-1) === \"?\") {\n                                el.removeAttribute(name)\n\n                                if (value === \"true\") {\n                                    name = name.slice(0, -1)\n                                    el.setAttribute(name, \"\")\n                                }\n                            } else {\n                                el.setAttribute(name, value)\n                            }\n                        }\n                    }\n                }\n\n                // remove placeholder attributes outside of the attribute loop since it\n                // will modify the attributes NamedNodeMap indices.\n                // @see https://github.com/straker/html-tagged-template/issues/13\n                attributesToRemove.forEach(function(attribute) {\n                    node.removeAttribute(attribute)\n                })\n\n                // append the current node to a replaced parent\n                let parentNode\n                if (node.parentNode && node.parentNode._replacedWith) {\n                    parentNode = node.parentNode\n                    node.parentNode._replacedWith.appendChild(node)\n                }\n\n                // remove the old node from the DOM\n                if (\n                    (node._replacedWith && node.childNodes.length === 0) ||\n                    (parentNode && parentNode.childNodes.length === 0)\n                ) {\n                    (parentNode || node).remove()\n                }\n\n                // --------------------------------------------------\n                // text content substitution\n                // --------------------------------------------------\n\n                if (\n                    node.nodeType === 3 &&\n                    node.nodeValue.indexOf(SUBSTITUTION_INDEX) !== -1\n                ) {\n                    const nodeValue = node.nodeValue.replace(\n                        SUBSTITUTION_REGEX,\n                        replaceSubstitution,\n                    )\n\n                    // createTextNode() should not need to be escaped to prevent XSS?\n                    const text = document.createTextNode(nodeValue)\n\n                    // since the parent node has already gone through the iterator, we can use\n                    // replaceChild() here\n                    node.parentNode.replaceChild(text, node)\n                }\n            }\n\n            // return the documentFragment for multiple nodes\n            if (template.content.childNodes.length > 1) {\n                return template.content\n            }\n\n            return template.content.firstChild\n        }\n    }\n})(window)\n", "/** Content script entry point */\n\n// We need to grab a lock because sometimes Firefox will decide to insert the content script in the page multiple times\nif ((window as any).tridactyl_content_lock !== undefined) {\n    throw Error(\"Trying to load Tridactyl, but it's already loaded.\")\n}\n;(window as any).tridactyl_content_lock = \"locked\"\n\n// Be careful: typescript elides imports that appear not to be used if they're\n// assigned to a name.  If you want an import just for its side effects, make\n// sure you import it like this:\nimport \"@src/lib/html-tagged-template\"\n/* import \"@src/content/commandline_content\" */\n/* import \"@src/excmds_content\" */\n/* import \"@src/content/hinting\" */\nimport * as config from \"@src/lib/config\"\nimport * as Logging from \"@src/lib/logging\"\nconst logger = new Logging.Logger(\"content\")\nlogger.debug(\"Tridactyl content script loaded, boss!\")\n\n// Our local state\nimport {\n    contentState,\n    addContentStateChangedListener,\n} from \"@src/content/state_content\"\n\nimport { CmdlineCmds } from \"@src/content/commandline_cmds\"\nimport { EditorCmds } from \"@src/content/editor\"\n\nimport { getAllDocumentFrames } from \"@src/lib/dom\"\n\nimport state from \"@src/state\"\nimport { EditorCmds as editor } from \"@src/content/editor\"\n/* tslint:disable:import-spacing */\n\nconfig.getAsync(\"superignore\").then(async TRI_DISABLE => {\n// Set up our controller to execute content-mode excmds. All code\n// running from this entry point, which is to say, everything in the\n// content script, will use the excmds that we give to the module\n// here.\n\nif (TRI_DISABLE === \"true\") return\n\ntry {\n\n    // Add cheap location change event\n    // Adapted from: https://stackoverflow.com/questions/6390341/how-to-detect-if-url-has-changed-after-hash-in-javascript\n    //\n    // Broken atm - on https://github.com/tridactyl/tridactyl/pull/3938 clicking onto issues doesn't do anything and we get \"permission denied to access object\"\n\n    const realwindow = (window as any).wrappedJSObject ?? window // wrappedJSObject not defined on extension pages\n\n    const triPushState = (hist => (\n        (...args) => {\n            const ret = hist(...args)\n            realwindow.dispatchEvent(new Event(\"HistoryPushState\"))\n            realwindow.dispatchEvent(new Event(\"HistoryState\"))\n            return ret\n        })\n    )(realwindow.history.pushState.bind(realwindow.history))\n\n    const triReplaceState = (hist => (\n        (...args) => {\n            const ret = hist(...args)\n            realwindow.dispatchEvent(new Event(\"HistoryReplaceState\"))\n            realwindow.dispatchEvent(new Event(\"HistoryState\"))\n            return ret\n        })\n    )(realwindow.history.replaceState.bind(realwindow.history))\n\n    realwindow.addEventListener(\"popstate\", () => {\n        realwindow.dispatchEvent(new Event(\"HistoryState\"))\n    })\n\n    history.replaceState = triReplaceState\n    history.pushState = triPushState\n\n    typeof(exportFunction) == \"function\" && exportFunction(triReplaceState, history, {defineAs: \"replaceState\"})\n    typeof(exportFunction) == \"function\" && exportFunction(triPushState, history, {defineAs: \"pushState\"})\n\n} catch (e) {\n    console.error(e)\n}\n\nconst controller = await import(\"@src/lib/controller\")\nconst excmds_content = await import(\"@src/.excmds_content.generated\")\nconst hinting_content = await import(\"@src/content/hinting\")\n// Hook the keyboard up to the controller\nconst ContentController = await import(\"@src/content/controller_content\")\n// Add various useful modules to the window for debugging\nconst commandline_content = await import(\"@src/content/commandline_content\")\nconst convert = await import(\"@src/lib/convert\")\nconst dom = await import(\"@src/lib/dom\")\nconst excmds = await import(\"@src/.excmds_content.generated\")\nconst finding_content = await import(\"@src/content/finding\")\nconst itertools = await import(\"@src/lib/itertools\")\nconst messaging = await import(\"@src/lib/messaging\")\nconst State = await import(\"@src/state\")\nconst webext = await import(\"@src/lib/webext\")\nconst perf = await import(\"@src/perf\")\nconst keyseq = await import(\"@src/lib/keyseq\")\nconst native = await import(\"@src/lib/native\")\nconst styling = await import(\"@src/content/styling\")\nconst updates = await import(\"@src/lib/updates\")\nconst urlutils = await import(\"@src/lib/url_util\")\nconst scrolling = await import(\"@src/content/scrolling\")\nconst R = await import(\"ramda\")\nconst visual = await import(\"@src/lib/visual\")\nconst metadata = await import(\"@src/.metadata.generated\")\nconst { tabTgroup } = await import(\"@src/lib/tab_groups\")\nconst completion_providers = await import(\"@src/completions/providers\")\n\ncontroller.setExCmds({\n    \"\": excmds_content,\n    ex: CmdlineCmds,\n    text: EditorCmds,\n    hint: hinting_content.getHintCommands(),\n})\nmessaging.addListener(\n    \"excmd_content\",\n    messaging.attributeCaller(excmds_content),\n)\nmessaging.addListener(\n    \"controller_content\",\n    messaging.attributeCaller(controller),\n)\n\n// eslint-disable-next-line @typescript-eslint/require-await\nmessaging.addListener(\"alive\", async () => true)\n\nconst guardedAcceptKey = (keyevent: KeyboardEvent) => {\n    if (!keyevent.isTrusted) return\n    ContentController.acceptKey(keyevent)\n}\nfunction listen(elem) {\n    elem.removeEventListener(\"keydown\", guardedAcceptKey, true)\n    elem.removeEventListener(\n        \"keypress\",\n        ContentController.canceller.cancelKeyPress,\n        true,\n    )\n    elem.removeEventListener(\n        \"keyup\",\n        ContentController.canceller.cancelKeyUp,\n        true,\n    )\n    elem.addEventListener(\"keydown\", guardedAcceptKey, true)\n    elem.addEventListener(\n        \"keypress\",\n        ContentController.canceller.cancelKeyPress,\n        true,\n    )\n    elem.addEventListener(\n        \"keyup\",\n        ContentController.canceller.cancelKeyUp,\n        true,\n    )\n}\nlisten(window)\ndocument.addEventListener(\"readystatechange\", _ =>\n    getAllDocumentFrames().forEach(f => listen(f)),\n)\n\n// Prevent pages from automatically focusing elements on load\nconfig.getAsync(\"preventautofocusjackhammer\").then(allowautofocus => {\n    if (allowautofocus === \"false\") {\n        return\n    }\n    const preventAutoFocus = () => {\n        // First, blur whatever element is active. This will make sure\n        // activeElement is the \"default\" active element\n        ;(document.activeElement as any).blur()\n        const elem = document.activeElement as any\n        // ???: We need to set tabIndex, otherwise we won't get focus/blur events!\n        elem.tabIndex = 0\n        const focusElem = () => elem.focus()\n        elem.addEventListener(\"blur\", focusElem)\n        elem.addEventListener(\"focusout\", focusElem)\n        // On top of blur/focusout events, we need to periodically check the\n        // activeElement is the one we want because blur/focusout events aren't\n        // always triggered when document.activeElement changes\n        const interval = setInterval(() => {\n            if (document.activeElement != elem) focusElem()\n        }, 200)\n        // When the user starts interacting with the page, stop resetting focus\n        function stopResettingFocus(event: Event) {\n            if (!event.isTrusted) return\n            elem.removeEventListener(\"blur\", focusElem)\n            elem.removeEventListener(\"focusout\", focusElem)\n            clearInterval(interval)\n            window.removeEventListener(\"keydown\", stopResettingFocus)\n            window.removeEventListener(\"mousedown\", stopResettingFocus)\n        }\n        window.addEventListener(\"keydown\", stopResettingFocus)\n        window.addEventListener(\"mousedown\", stopResettingFocus)\n    }\n    const tryPreventAutoFocus = () => {\n        document.removeEventListener(\"readystatechange\", tryPreventAutoFocus)\n        try {\n            preventAutoFocus()\n        } catch (e) {\n            document.addEventListener(\"readystatechange\", tryPreventAutoFocus)\n        }\n    }\n    tryPreventAutoFocus()\n})\n;(window as any).tri = Object.assign(Object.create(null), {\n    browserBg: webext.browserBg,\n    commandline_content,\n    convert,\n    config,\n    completion_providers,\n    controller,\n    dom,\n    editor,\n    excmds,\n    finding_content,\n    hinting_content,\n    itertools,\n    logger,\n    metadata,\n    keyseq,\n    messaging,\n    state,\n    State,\n    scrolling,\n    visual,\n    webext,\n    l: prom => prom.then(console.log).catch(console.error),\n    native,\n    styling,\n    contentLocation: window.location,\n    perf,\n    R,\n    updates,\n    urlutils,\n})\n\nlogger.info(\"Loaded commandline content?\", commandline_content)\n\ntry {\n    dom.setupFocusHandler()\n    dom.hijackPageListenerFunctions()\n} catch (e) {\n    logger.warning(\"Could not hijack due to CSP:\", e)\n}\n\nif (\n    window.location.protocol === \"moz-extension:\" &&\n    window.location.pathname === \"/static/newtab.html\"\n) {\n    config.getAsync(\"newtab\").then(newtab => {\n        if (![\"about:blank\", \"about:newtab\"].includes(newtab)) {\n            if (newtab) {\n                excmds.open_quiet(newtab)\n            } else {\n                const content = document.getElementById(\"trinewtab\")\n                content.style.display = \"block\"\n                document.title = \"Tridactyl Top Tips & New Tab Page\"\n            }\n        }\n    })\n}\n\n// Really bad status indicator\nconfig.getAsync(\"modeindicator\").then(mode => {\n    if (mode !== \"true\") return\n\n    // Do we want container indicators?\n    const containerIndicator = config.get(\"containerindicator\")\n\n    // Hide indicator in print mode\n    // CSS not explicitly added to the dom doesn't make it to print mode:\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=1448507\n    const style = document.createElement(\"style\")\n    style.type = \"text/css\"\n    style.innerHTML = `@media print {\n        .TridactylStatusIndicator {\n            display: none !important;\n        }\n    }`\n\n    const statusIndicator = document.createElement(\"span\")\n    const privateMode = browser.extension.inIncognitoContext\n        ? \"TridactylPrivate\"\n        : \"\"\n    statusIndicator.className =\n        \"cleanslate TridactylStatusIndicator \" +\n        privateMode +\n        \" TridactylModenormal \"\n\n    // Dynamically sets the border container color.\n    if (containerIndicator === \"true\") {\n        webext\n            .ownTabContainer()\n            .then(ownTab =>\n                webext.browserBg.contextualIdentities.get(ownTab.cookieStoreId),\n            )\n            .then(container => {\n                statusIndicator.setAttribute(\n                    \"style\",\n                    `border: ${\n                        (container as any).colorCode\n                    } var(--tridactyl-indicator-border-style, solid) var(--tridactyl-indicator-border-width, 1.5px) !important`,\n                )\n            })\n            .catch(error => {\n                logger.debug(error)\n            })\n    }\n\n    // This listener makes the modeindicator disappear when the mouse goes over it\n    statusIndicator.addEventListener(\"mouseenter\", ev => {\n        const target = ev.target as any\n        const rect = target.getBoundingClientRect()\n        target.classList.add(\"TridactylInvisible\")\n        const onMouseOut = ev => {\n            // If the mouse event happened out of the mode indicator boundaries\n            if (\n                ev.clientX < rect.x ||\n                ev.clientX > rect.x + rect.with ||\n                ev.clientY < rect.y ||\n                ev.clientY > rect.y + rect.height\n            ) {\n                target.classList.remove(\"TridactylInvisible\")\n                window.removeEventListener(\"mousemove\", onMouseOut)\n            }\n        }\n        window.addEventListener(\"mousemove\", onMouseOut)\n    })\n\n    try {\n        // On quick loading pages, the document is already loaded\n        statusIndicator.textContent = contentState.mode || \"normal\"\n        document.body.appendChild(statusIndicator)\n        document.head.appendChild(style)\n    } catch (e) {\n        // But on slower pages we wait for the document to load\n        window.addEventListener(\"DOMContentLoaded\", () => {\n            statusIndicator.textContent = contentState.mode || \"normal\"\n            document.body.appendChild(statusIndicator)\n            document.head.appendChild(style)\n        })\n    }\n\n    addContentStateChangedListener(async (property, oldMode, oldValue, newValue) => {\n        let mode = newValue\n        let suffix = \"\"\n        let result = \"\"\n        if (property !== \"mode\") {\n            if (property === \"suffix\") {\n                mode = oldMode\n                suffix = newValue\n            } else if (property === \"group\") {\n                mode = oldMode\n            }\n        }\n\n        const privateMode = browser.extension.inIncognitoContext\n            ? \"TridactylPrivate\"\n            : \"\"\n        statusIndicator.className =\n            \"cleanslate TridactylStatusIndicator \" + privateMode\n        if (\n            dom.isTextEditable(document.activeElement) &&\n            ![\"input\", \"ignore\"].includes(mode)\n        ) {\n            result = \"insert\"\n            // this doesn't work; statusIndicator.style is full of empty string\n            // statusIndicator.style.borderColor = \"green !important\"\n            // need to fix loss of focus by click: doesn't do anything here.\n        } else if (\n            mode === \"insert\" &&\n            !dom.isTextEditable(document.activeElement)\n        ) {\n            result = \"normal\"\n            // statusIndicator.style.borderColor = \"lightgray !important\"\n        } else {\n            result = mode\n        }\n        const modeindicatorshowkeys = config.get(\"modeindicatorshowkeys\")\n        if (modeindicatorshowkeys === \"true\" && suffix !== \"\") {\n            result = mode + \" \" + suffix\n        }\n\n        const tabGroup = await tabTgroup()\n        if (tabGroup) {\n            result = result + \" | \" + tabGroup\n        }\n\n        logger.debug(\n            \"statusindicator: \",\n            result,\n            \";\",\n            \"config\",\n            modeindicatorshowkeys,\n        )\n        statusIndicator.textContent = result\n        statusIndicator.className +=\n            \" TridactylMode\" + statusIndicator.textContent\n\n        if (\n            config.get(\"modeindicator\") !== \"true\" ||\n            config.get(\"modeindicatormodes\", mode) === \"false\"\n        ) {\n            statusIndicator.classList.add(\"TridactylInvisible\")\n        } else {\n            statusIndicator.classList.remove(\"TridactylInvisble\")\n        }\n    })\n})\n\nfunction protectSlash(e) {\n    if (!e.isTrusted) return\n    config.get(\"blacklistkeys\").map(protkey => {\n        if (protkey.indexOf(e.key) !== -1 && contentState.mode === \"normal\") {\n            e.cancelBubble = true\n            e.stopImmediatePropagation()\n        }\n    })\n}\n\n// Some sites like to prevent firefox's `/` from working so we need to protect\n// ourselves against that\n// This was originally a github-specific fix\nconfig.getAsync(\"leavegithubalone\").then(v => {\n    if (v === \"true\") return\n    try {\n        // On quick loading pages, the document is already loaded\n        document.body.addEventListener(\"keydown\", protectSlash)\n    } catch (e) {\n        // But on slower pages we wait for the document to load\n        window.addEventListener(\"DOMContentLoaded\", () => {\n            document.body.addEventListener(\"keydown\", protectSlash)\n        })\n    }\n})\n\n// I still don't get lib/messaging.ts\nconst phoneHome = () => browser.runtime.sendMessage(\"dom_loaded_background\")\n\ndocument.readyState === \"complete\" && phoneHome()\nwindow.addEventListener(\"load\", () => {\n    phoneHome()\n})\n\ndocument.addEventListener(\"selectionchange\", () => {\n    const selection = document.getSelection()\n    if (\n        contentState.mode == \"visual\" &&\n        config.get(\"visualexitauto\") == \"true\" &&\n        selection.isCollapsed\n    ) {\n        contentState.mode = \"normal\"\n        return\n    }\n    if (\n        contentState.mode !== \"normal\" ||\n        config.get(\"visualenterauto\") == \"false\"\n    )\n        return\n    if (!selection.isCollapsed) {\n        contentState.mode = \"visual\"\n    }\n})\n\n// Listen for statistics from each content script and send them to the\n// background for collection. Attach the observer to the window object\n// since there's apparently a bug that causes performance observers to\n// be GC'd even if they're still the target of a callback.\n;(window as any).tri = Object.assign(window.tri, {\n    perfObserver: perf.listenForCounters(),\n})\n\n}) // End of maybe-disable-tridactyl-a-bit wrapper\n", "import { getCommandlineFns } from \"@src/lib/commandline_cmds\"\nimport { messageOwnTab } from \"@src/lib/messaging\"\n\nconst functions = getCommandlineFns({} as any)\ntype ft = typeof functions\ntype ArgumentsType<T> = T extends (...args: infer U) => any ? U : never\n\nexport const CmdlineCmds = new Proxy(functions as any, {\n    get(target, property) {\n        if (target[property]) {\n            return (...args) =>\n                messageOwnTab(\"commandline_cmd\", property as string, args)\n        }\n        return target[property]\n    },\n}) as {\n    [k in keyof ft]: (\n        ...args: ArgumentsType<ft[k]>\n    ) => Promise<ReturnType<ft[k]>>\n}\n", "import {\n    messageOwnTab,\n    addListener,\n    attributeCaller,\n} from \"@src/lib/messaging\"\nimport * as DOM from \"@src/lib/dom\"\nimport * as _EditorCmds from \"@src/lib/editor\"\n\nexport const EditorCmds = new Proxy(_EditorCmds, {\n    get(target, property) {\n        if (target[property]) {\n            return (...args) => {\n                if (\n                    (document.activeElement as any).src ===\n                    browser.runtime.getURL(\"static/commandline.html\")\n                ) {\n                    return messageOwnTab(\n                        \"commandline_frame\",\n                        \"editor_function\",\n                        [property].concat(args),\n                    )\n                }\n                return _EditorCmds[property](DOM.getLastUsedInput(), ...args)\n            }\n        }\n        return target[property]\n    },\n})\n\naddListener(\"editorfn_content\", attributeCaller(EditorCmds))\n"],
  "mappings": "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AA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA,MAAAC;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA,MAAAC;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA,MAAAC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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",
  "names": ["add", "set2", "n", "length", "init_curryN", "curryN", "length", "init_curryN", "addIndex", "args", "adjust", "XAll", "_xall", "all", "max", "XWrap", "bind", "XMap", "_xmap", "prop", "_isArguments", "contains", "keys", "prop", "init_map", "init_curryN", "map", "n", "nth", "prop", "init_map", "pluck", "init_reduce", "init_curryN", "init_reduce", "allPass", "always", "and", "XAny", "_xany", "any", "init_curryN", "init_reduce", "anyPass", "init_map", "ap", "n", "XAperture", "n", "_xaperture", "init_aperture", "append", "apply", "args", "values", "props", "init_curryN", "init_reduce", "applySpec", "args", "applyTo", "ascend", "prop", "isNil", "assocPath", "path", "init_assoc", "assoc", "prop", "nAry", "n", "binary", "type", "init_curryN", "init_map", "liftN", "lift", "both", "call", "init_map", "_xchain", "init_map", "chain", "clamp", "min", "max", "type", "copy", "init_clone", "clone", "collectBy", "o", "tag", "comparator", "not", "length", "slice", "init_pipe", "init_reduce", "reverse", "init_pipe", "init_identity", "init_identity", "pipeWith", "composeWith", "match", "b", "init_equals", "equals", "init_equals", "pad", "n", "_toISOString", "init_complement", "XFilter", "_xfilter", "init_filter", "reject", "init_complement", "init_filter", "recur", "keys", "toString", "init_toString", "init_concat", "init_toString", "concat", "init_map", "init_reduce", "cond", "pair", "init_curryN", "curry", "constructN", "n", "construct", "init_curryN", "init_reduce", "converge", "args", "e", "XReduceBy", "_xreduceBy", "reduceBy", "defaultTo", "descend", "set", "type", "_Set", "difference", "i", "differenceWith", "remove", "count", "prop", "prop", "init_assoc", "dissocPath", "path", "head", "tail", "init_dissoc", "dissoc", "prop", "divide", "XDrop", "n", "_xdrop", "drop", "n", "XTake", "n", "_xtake", "take", "n", "n", "XDropLast", "n", "_xdropLast", "dropLast", "init_dropLast", "XDropLastWhile", "_xdropLastWhile", "dropLastWhile", "init_dropLastWhile", "XDropRepeatsWith", "_xdropRepeatsWith", "dropRepeatsWith", "init_equals", "XDropWhile", "_xdropWhile", "dropWhile", "or", "either", "type", "empty", "takeLast", "n", "init_equals", "init_equals", "eqBy", "init_equals", "eqProps", "prop", "evolve", "type", "XFind", "_xfind", "find", "XFindIndex", "_xfindIndex", "findIndex", "XFindLast", "_xfindLast", "findLast", "XFindLastIndex", "_xfindLastIndex", "findLastIndex", "init_curryN", "flip", "args", "forEach", "forEachObjIndexed", "fromPairs", "gt", "gte", "hasPath", "init_has", "has", "prop", "hasIn", "prop", "init_curryN", "ifElse", "init_includes", "init_indexOf", "indexOf", "innerJoin", "insert", "insertAll", "XUniqBy", "_xuniqBy", "set", "init_identity", "intersection", "intersperse", "separator", "length", "length", "source", "objOf", "into", "invert", "props", "invertObj", "props", "init_curryN", "init_toString", "invoker", "is", "init_equals", "isEmpty", "juxt", "keysIn", "prop", "init_equals", "lastIndexOf", "length", "init_map", "lens", "focus", "update", "lensIndex", "n", "paths", "path", "lensPath", "init_assoc", "lensProp", "lt", "lte", "mapAccum", "mapAccumRight", "mapObjIndexed", "match", "str", "mathMod", "maxBy", "init_reduce", "mean", "median", "memoizeWith", "mergeAll", "mergeWithKey", "l", "mergeDeepWithKey", "mergeDeepLeft", "mergeDeepRight", "mergeDeepWith", "mergeLeft", "l", "mergeRight", "l", "mergeWith", "l", "min", "minBy", "prop", "modifyPath", "path", "init_modify", "modify", "prop", "modulo", "length", "multiply", "o", "props", "negate", "n", "init_complement", "none", "init_curryN", "nthArg", "n", "o", "init_of", "omit", "index", "prop", "on", "once", "otherwise", "over", "lens", "pair", "concat", "args", "init_filter", "init_equals", "pathEq", "pathOr", "pathSatisfies", "pick", "pickAll", "pickBy", "test", "prop", "prepend", "init_reduce", "init_curryN", "useWith", "args", "init_identity", "XPromap", "_xpromap", "init_promap", "init_equals", "propEq", "propIs", "type", "propOr", "propSatisfies", "props", "range", "n", "reduceRight", "init_reduced", "times", "n", "repeat", "n", "replace", "str", "scan", "init_map", "sequence", "of", "set", "lens", "sort", "comparator", "sortBy", "sortWith", "i", "splitAt", "index", "splitEvery", "n", "splitWhen", "splitWhenever", "i", "init_equals", "subtract", "init_concat", "symmetricDifference", "init_concat", "symmetricDifferenceWith", "takeLastWhile", "XTakeWhile", "_xtakeWhile", "takeWhile", "XTap", "_xtap", "tap", "init_toString", "test", "str", "andThen", "toPairs", "prop", "toPairsIn", "prop", "init_curryN", "transduce", "transpose", "i", "init_map", "traverse", "of", "trim", "str", "e", "unapply", "unary", "init_curryN", "uncurryN", "unfold", "pair", "XUniqWith", "_xuniqWith", "unionWith", "unless", "until", "init", "valuesIn", "prop", "view", "lens", "when", "where", "prop", "whereAny", "prop", "init_equals", "init_map", "whereEq", "xor", "xprod", "zip", "zipObj", "keys", "values", "zipWith", "init_curryN", "thunkify", "init_aperture", "init_assoc", "init_clone", "init_concat", "init_curryN", "init_dissoc", "init_dropLast", "init_dropLastWhile", "init_equals", "init_filter", "init_has", "init_identity", "init_includes", "init_indexOf", "init_map", "init_modify", "init_of", "init_pipe", "init_promap", "init_reduce", "init_reduced", "init_toString", "n", "chain", "filter", "find", "head", "map", "range", "tail", "zip", "last", "i", "length", "index", "e", "n", "State", "state", "Parser", "grammar", "index", "i", "Grammar", "message", "pad", "n", "length", "e", "t", "type", "Parser", "grammar", "reject", "rest", "map", "find", "e", "filter", "modifiers", "key", "Parser", "str", "o", "set", "update", "o2", "url", "target", "resolve", "args", "l", "autocontain", "init", "i", "e", "mode", "triggerChangeListeners", "message", "mode", "n", "args", "count", "parent", "trailingSlash", "paths", "query", "index", "match", "l", "slice", "index", "options", "tab", "resolve", "message", "e", "engine", "opts", "message", "logger", "e", "type", "command", "args", "tab", "getAsync", "logger", "args", "message", "sleep", "getAsync", "command", "args", "resolve", "type", "hint", "query", "i", "length", "doc", "e", "index", "filter", "nth", "add", "logger", "tab", "getAsync", "TabTarget", "e", "t", "n", "range", "arg", "i", "firstWord", "arg", "args", "n", "n", "type", "e", "args", "e", "e", "i", "t", "e", "type", "n", "functions", "n", "n", "command", "args", "e", "logger", "args", "getAsync", "e", "logger", "i", "move", "opts", "logger", "e", "separator", "version", "semverCompare", "command", "action", "str", "match", "path", "profile", "action", "n", "i", "values", "hintables", "parser", "resolve", "reject", "wrap", "hint", "map", "e", "n", "source", "i", "logger", "query", "run", "index", "match", "keys", "distance", "pad", "rect", "hide", "focus", "str", "args", "State", "state", "arg", "i", "filter", "logger", "hintables", "arg", "opts", "type", "i", "n", "arg", "init", "args", "modeState", "reset", "parser", "keys", "parser", "keys", "init", "mode", "modeState", "parser", "keys", "keys", "parser", "logger", "e", "index", "functions", "CmdlineCmds", "init_commandline_cmds", "args", "EditorCmds", "init_editor", "args", "str", "theme", "logger", "e", "focus", "init", "e", "logger", "e", "distance", "isElement", "canOverflow", "isScrollable", "alignNearest", "getParentElement", "compute", "el", "nodeType", "overflow", "skipOverflowHiddenElements", "clientHeight", "scrollHeight", "clientWidth", "scrollWidth", "style", "getComputedStyle", "overflowY", "overflowX", "frame", "ownerDocument", "defaultView", "frameElement", "e", "scrollingEdgeStart", "scrollingEdgeEnd", "scrollingSize", "scrollingBorderStart", "scrollingBorderEnd", "elementEdgeStart", "elementEdgeEnd", "elementSize", "element", "parent", "parentElement", "getRootNode", "host", "target", "options", "_a", "_b", "_c", "_d", "document", "scrollMode", "block", "inline", "boundary", "checkBoundary", "node", "TypeError", "scrollingElement", "documentElement", "frames", "cursor", "push", "body", "viewportWidth", "window", "visualViewport", "width", "innerWidth", "viewportHeight", "height", "innerHeight", "scrollX", "scrollY", "targetHeight", "targetWidth", "top", "targetTop", "right", "targetRight", "bottom", "targetBottom", "left", "targetLeft", "getBoundingClientRect", "targetBlock", "targetInline", "computations", "index", "length", "frameStyle", "borderLeft", "parseInt", "borderLeftWidth", "borderTop", "borderTopWidth", "borderRight", "borderRightWidth", "borderBottom", "borderBottomWidth", "blockScroll", "inlineScroll", "scrollbarWidth", "offsetWidth", "scrollbarHeight", "offsetHeight", "scaleX", "scaleY", "Math", "max", "scrollLeft", "scrollTop", "min", "host", "i", "range", "index", "n", "getAsync", "length", "reverse", "o", "music", "i", "e", "e", "id", "index", "resolve", "reject", "editor", "prop", "args", "wrap", "unwrap", "i", "length", "Readability", "args", "arg", "i", "slice", "e", "str", "match", "ancestors", "t", "append", "values", "filter", "set", "Readability", "bind", "clipboard", "editor", "find", "get", "js", "jumble", "repeat", "reset", "rot13", "set", "sleep", "unset", "logger", "e", "type", "args", "str", "history", "n", "getAsync", "tab", "message", "count", "range", "searchurls", "engine", "all", "mode", "nth", "index", "id", "cmds", "cmd", "fn", "resolve", "focus", "keys", "source", "values", "default_config", "t", "init", "action", "match", "template", "reader", "init_commandline_cmds", "init_editor", "CmdlineCmds", "EditorCmds", "maybeLoad", "args", "min", "max", "n", "logger", "e", "config", "set", "logger", "e", "version", "SemverCompare", "TRI_VERSION", "import_semver_compare", "range", "id", "index", "tab", "query", "e", "prop", "history", "bmark", "window", "tag", "e", "str", "match", "values", "index", "i", "template", "temp", "args", "args", "logger", "args", "e", "State", "native", "tabTgroup", "mode", "ownTab", "ev", "privateMode"]
}
